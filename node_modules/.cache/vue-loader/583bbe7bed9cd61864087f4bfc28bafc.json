{"remainingRequest":"E:\\Project\\chowder\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\chowder\\src\\views\\Reception\\Receptionindex.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"E:\\Project\\chowder\\src\\views\\Reception\\Receptionindex.vue","mtime":1578293116132},{"path":"E:\\Project\\chowder\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbmZvIHsKICAgIHdpZHRoOiA3MjBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgLm9wZXItZHYgewogICAgICAgIGhlaWdodDoyMHB4OwogICAgICAgIHRleHQtYWxpZ246cmlnaHQ7CiAgICAgICAgbWFyZ2luLXJpZ2h0OjEwMHB4OwogICAgICAgIGEgewogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAmOmxhc3QtY2hpbGQgewogICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAuaW5mby1pdGVtIHsKICAgICAgICBtYXJnaW4tdG9wOiAxNXB4OwogICAgICAgIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICB3aWR0aDogMTAwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIH0KICAgICAgICAuc2VsLWltZy1kdiB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgLnNlbC1maWxlIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIHdpZHRoOiA5MHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnNlbC1idG4gewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKLmNyb3BwZXItY29udGVudHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgLmNyb3BwZXJ7CiAgICAgICAgd2lkdGg6IDI2MHB4OwogICAgICAgIGhlaWdodDogMjYwcHg7CiAgICB9CiAgICAuc2hvdy1wcmV2aWV3ewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgLXdlYmtpdC1mbGV4OiAxOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgLnByZXZpZXd7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCAjY2NjY2NjOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjY2NjY2NjOwogICAgICAgICAgICBtYXJnaW4tbGVmdDogNDBweDsKICAgICAgICB9CiAgICB9Cn0KLmNyb3BwZXItY29udGVudCAuc2hvdy1wcmV2aWV3IC5wcmV2aWV3IHttYXJnaW4tbGVmdDogMDt9Cgo="},{"version":3,"sources":["Receptionindex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Receptionindex.vue","sourceRoot":"src/views/Reception","sourcesContent":["<template>\r\n    <div style=\"display:flex;\">\r\n        <div class=\"info-item\" style=\"flex:1;\">\r\n            <div style=\"width:120px;height:120px;border-radius:50%;overflow:hidden;margin-left:123px;border:1px solid #ddd\">\r\n                <img style=\"width:120px;height:120px;\" :src=\"headImg\" alt=\"头像\">\r\n            </div>\r\n        </div>\r\n        <div class=\"info-item\" style=\"flex:1;margin-left:-160px;margin-top:30px;\">\r\n            <label class=\"btn btn-orange\" for=\"uploads\" style=\"display:inline-block;width: 70px;padding: 0;text-align: center;line-height: 28px;\">选择图片</label>\r\n            <input type=\"file\" id=\"uploads\" :value=\"imgFile\" style=\"position:absolute; clip:rect(0 0 0 0);\" accept=\"image/png, image/jpeg, image/gif, image/jpg\" @change=\"uploadImg($event, 1)\">\r\n            <input type=\"button\" class=\"oper\" style=\"height:20px;width:23px;font-size:20px;margin:3px 5px;\" value=\"+\" title=\"放大\" @click=\"changeScale(1)\">\r\n            <input type=\"button\" class=\"oper\" style=\"height:20px;width:23px;font-size:20px;margin:3px 5px;\" value=\"-\" title=\"缩小\" @click=\"changeScale(-1)\">\r\n            <input type=\"button\" class=\"oper\" style=\"height:20px;width:23px;font-size:20px;margin:3px 5px;\" value=\"↺\" title=\"左旋转\" @click=\"rotateLeft\">\r\n            <input type=\"button\" class=\"oper\" style=\"height:20px;width:23px;font-size:20px;margin:3px 5px;\" value=\"↻\" title=\"右旋转\" @click=\"rotateRight\">\r\n            <input type=\"button\" class=\"oper\" style=\"height:20px;width:23px;font-size:20px;margin:3px 5px;\" value=\"↓\" title=\"下载\" @click=\"down('blob')\">\r\n            <input type=\"button\" class=\"btn btn-blue\" value=\"上传头像\" @click=\"finish('blob')\">\r\n            <div class=\"line\" style=\"margin-left: -280px;margin-top: 85px;\">\r\n                <div class=\"cropper-content\" style=\"margin-top:-60px;margin-left:260px;\">\r\n                    <div class=\"cropper\">\r\n                        <vueCropper\r\n                                ref=\"cropper\"\r\n                                :img=\"option.img\"\r\n                                :outputSize=\"option.size\"\r\n                                :outputType=\"option.outputType\"\r\n                                :info=\"true\"\r\n                                :full=\"option.full\"\r\n                                :canMove=\"option.canMove\"\r\n                                :canMoveBox=\"option.canMoveBox\"\r\n                                :original=\"option.original\"\r\n                                :autoCrop=\"option.autoCrop\"\r\n                                :autoCropWidth=\"option.autoCropWidth\"\r\n                                :autoCropHeight=\"option.autoCropHeight\"\r\n                                :fixedBox=\"option.fixedBox\"\r\n                                @realTime=\"realTime\"\r\n                                @imgLoad=\"imgLoad\"\r\n                        ></vueCropper>\r\n                    </div>\r\n                    <div style=\"margin-left:20px;\">\r\n                        <div class=\"show-preview\" :style=\"{'width': '150px', 'height':'155px',  'overflow': 'hidden', 'margin': '5px'}\">\r\n                            <div :style=\"previews.div\" class=\"preview\">\r\n                                <img :src=\"previews.url\" :style=\"previews.img\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import VueCropper from 'vue-cropper'\r\n    // import Api from '@/js/api.js' //接口url配置文件\r\n\r\n    export default {\r\n        name:'Receptionindex',\r\n        data() {\r\n            return {\r\n                headImg:'',\r\n                //剪切图片上传\r\n                crap: false,\r\n                previews: {},\r\n                option: {\r\n                    img: '',\r\n                    outputSize:1, //剪切后的图片质量（0.1-1）\r\n                    full: false,//输出原图比例截图 props名full\r\n                    outputType: 'png',\r\n                    canMove: true,\r\n                    original: false,\r\n                    canMoveBox: true,\r\n                    autoCrop: true,\r\n                    autoCropWidth: 150,\r\n                    autoCropHeight: 150,\r\n                    fixedBox: true\r\n                },\r\n                fileName:'',  //本机文件地址\r\n                downImg: '#',\r\n                imgFile:'',\r\n                uploadImgRelaPath:'', //上传后的图片的地址（不带服务器域名）\r\n            }\r\n        },\r\n        components: {\r\n            VueCropper\r\n        },\r\n        methods: {\r\n            //放大/缩小\r\n            changeScale(num) {\r\n                console.log('changeScale')\r\n                num = num || 1;\r\n                this.$refs.cropper.changeScale(num);\r\n            },\r\n            //坐旋转\r\n            rotateLeft() {\r\n                console.log('rotateLeft')\r\n                this.$refs.cropper.rotateLeft();\r\n            },\r\n            //右旋转\r\n            rotateRight() {\r\n                console.log('rotateRight')\r\n                this.$refs.cropper.rotateRight();\r\n            },\r\n            //上传图片（点击上传按钮）\r\n            finish(type) {\r\n                console.log('finish')\r\n                let _this = this;\r\n                let formData = new FormData();\r\n                // 输出\r\n                if (type === 'blob') {\r\n                    this.$refs.cropper.getCropBlob((data) => {\r\n                        let img = window.URL.createObjectURL(data)\r\n                        this.model = true;\r\n                        this.modelSrc = img;\r\n                        formData.append(\"file\", data, this.fileName);\r\n                        this.$http.post(Api.uploadSysHeadImg.url, formData, {contentType: false, processData: false, headers:{'Content-Type': 'application/x-www-form-urlencoded'}})\r\n                            .then((response)=>{\r\n                                var res = response.data;\r\n                                if(res.success == 1){\r\n                                    $('#btn1').val('');\r\n                                    _this.imgFile = '';\r\n                                    _this.headImg = res.realPathList[0];  //完整路径\r\n                                    _this.uploadImgRelaPath = res.relaPathList[0];  //非完整路径\r\n                                    _this.$message({　　//element-ui的消息Message消息提示组件\r\n                                        type: 'success',\r\n                                        message: '上传成功'\r\n                                    });\r\n                                }\r\n                            })\r\n                    })\r\n                } else {\r\n                    this.$refs.cropper.getCropData((data) => {\r\n                        this.model = true;\r\n                        this.modelSrc = data;\r\n                    })\r\n                }\r\n            },\r\n            // 实时预览函数\r\n            realTime(data) {\r\n                console.log('realTime')\r\n                this.previews = data\r\n            },\r\n            //下载图片\r\n            down(type) {\r\n                console.log('down')\r\n                var aLink = document.createElement('a')\r\n                aLink.download = 'author-img'\r\n                if (type === 'blob') {\r\n                    this.$refs.cropper.getCropBlob((data) => {\r\n                        this.downImg = window.URL.createObjectURL(data)\r\n                        aLink.href = window.URL.createObjectURL(data)\r\n                        aLink.click()\r\n                    })\r\n                } else {\r\n                    this.$refs.cropper.getCropData((data) => {\r\n                        this.downImg = data;\r\n                        aLink.href = data;\r\n                        aLink.click()\r\n                    })\r\n                }\r\n            },\r\n            //选择本地图片\r\n            uploadImg(e, num) {\r\n                console.log('uploadImg');\r\n                var _this = this;\r\n                //上传图片\r\n                var file = e.target.files[0]\r\n                _this.fileName = file.name;\r\n                if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\r\n                    alert('图片类型必须是.gif,jpeg,jpg,png,bmp中的一种')\r\n                    return false\r\n                }\r\n                var reader = new FileReader();\r\n                reader.onload =(e) => {\r\n                    let data;\r\n                    if (typeof e.target.result === 'object') {\r\n                        // 把Array Buffer转化为blob 如果是base64不需要\r\n                        data = window.URL.createObjectURL(new Blob([e.target.result]))\r\n                    }\r\n                    else {\r\n                        data = e.target.result\r\n                    }\r\n                    if (num === 1) {\r\n                        _this.option.img = data\r\n                    } else if (num === 2) {\r\n                        _this.example2.img = data\r\n                    }\r\n                }\r\n                // 转化为base64\r\n                // reader.readAsDataURL(file)\r\n                // 转化为blob\r\n                reader.readAsArrayBuffer(file);\r\n\r\n            },\r\n            imgLoad (msg) {\r\n                console.log('imgLoad')\r\n                console.log(msg)\r\n            }\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .info {\r\n        width: 720px;\r\n        margin: 0 auto;\r\n        .oper-dv {\r\n            height:20px;\r\n            text-align:right;\r\n            margin-right:100px;\r\n            a {\r\n                font-weight: 500;\r\n                &:last-child {\r\n                    margin-left: 30px;\r\n                }\r\n            }\r\n        }\r\n        .info-item {\r\n            margin-top: 15px;\r\n            label {\r\n                display: inline-block;\r\n                width: 100px;\r\n                text-align: right;\r\n            }\r\n            .sel-img-dv {\r\n                position: relative;\r\n                .sel-file {\r\n                    position: absolute;\r\n                    width: 90px;\r\n                    height: 30px;\r\n                    opacity: 0;\r\n                    cursor: pointer;\r\n                    z-index: 2;\r\n                }\r\n                .sel-btn {\r\n                    position: absolute;\r\n                    cursor: pointer;\r\n                    z-index: 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .cropper-content{\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: flex-end;\r\n        -webkit-justify-content: flex-end;\r\n        .cropper{\r\n            width: 260px;\r\n            height: 260px;\r\n        }\r\n        .show-preview{\r\n            flex: 1;\r\n            -webkit-flex: 1;\r\n            display: flex;\r\n            display: -webkit-flex;\r\n            justify-content: center;\r\n            -webkit-justify-content: center;\r\n            .preview{\r\n                overflow: hidden;\r\n                border-radius: 50%;\r\n                border:1px solid #cccccc;\r\n                background: #cccccc;\r\n                margin-left: 40px;\r\n            }\r\n        }\r\n    }\r\n    .cropper-content .show-preview .preview {margin-left: 0;}\r\n\r\n</style>"]}]}