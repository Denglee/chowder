{"remainingRequest":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Project\\chowder\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\chowder\\src\\components\\cropper\\cropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Project\\chowder\\src\\components\\cropper\\cropper.vue","mtime":1578296424483},{"path":"E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8q5Zu+54mH6KOB5YmqKi8KaW1wb3J0IHsgVnVlQ3JvcHBlciB9IGZyb20gJ3Z1ZS1jcm9wcGVyJzsgLy8gY29uc29sZS5sb2coVnVlQ3JvcHBlcik7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByZXZpZXdzOiB7fSwKICAgICAgLy8g6aKE6KeI5pWw5o2uCiAgICAgIG9wdGlvbjogewogICAgICAgIGltZzogJycsCiAgICAgICAgLy8g6KOB5Ymq5Zu+54mH55qE5Zyw5Z2AICAo6buY6K6k77ya56m6KQogICAgICAgIG91dHB1dFNpemU6IDEsCiAgICAgICAgLy8g6KOB5Ymq55Sf5oiQ5Zu+54mH55qE6LSo6YePICAo6buY6K6kOjEpCiAgICAgICAgZnVsbDogZmFsc2UsCiAgICAgICAgLy8g5piv5ZCm6L6T5Ye65Y6f5Zu+5q+U5L6L55qE5oiq5Zu+IOmAiXRydWXnlJ/miJDnmoTlm77niYfkvJrpnZ7luLjlpKcgICjpu5jorqQ6ZmFsc2UpCiAgICAgICAgb3V0cHV0VHlwZTogJ3BuZycsCiAgICAgICAgLy8g6KOB5Ymq55Sf5oiQ5Zu+54mH55qE5qC85byPICAo6buY6K6kOmpwZykKICAgICAgICBjYW5Nb3ZlOiB0cnVlLAogICAgICAgIC8vIOS4iuS8oOWbvueJh+aYr+WQpuWPr+S7peenu+WKqCAgKOm7mOiupDp0cnVlKQogICAgICAgIG9yaWdpbmFsOiBmYWxzZSwKICAgICAgICAvLyDkuIrkvKDlm77niYfmjInnhafljp/lp4vmr5TkvovmuLLmn5MgICjpu5jorqQ6ZmFsc2UpCiAgICAgICAgY2FuTW92ZUJveDogdHJ1ZSwKICAgICAgICAvLyDmiKrlm77moYbog73lkKbmi5bliqggICjpu5jorqQ6dHJ1ZSkKICAgICAgICBhdXRvQ3JvcDogdHJ1ZSwKICAgICAgICAvLyDmmK/lkKbpu5jorqTnlJ/miJDmiKrlm77moYYgICjpu5jorqQ6ZmFsc2UpCiAgICAgICAgYXV0b0Nyb3BXaWR0aDogNDgwLAogICAgICAgIC8vIOm7mOiupOeUn+aIkOaIquWbvuahhuWuveW6piAgKOm7mOiupDo4MCUpCiAgICAgICAgYXV0b0Nyb3BIZWlnaHQ6IDMyMCwKICAgICAgICAvLyDpu5jorqTnlJ/miJDmiKrlm77moYbpq5jluqYgICjpu5jorqQ6ODAlKQogICAgICAgIGZpeGVkQm94OiBmYWxzZSwKICAgICAgICAvLyDlm7rlrprmiKrlm77moYblpKflsI8g5LiN5YWB6K645pS55Y+YICAo6buY6K6kOmZhbHNlKQogICAgICAgIGZpeGVkOiB0cnVlLAogICAgICAgIC8vIOaYr+WQpuW8gOWQr+aIquWbvuahhuWuvemrmOWbuuWumuavlOS+iyAgKOm7mOiupDp0cnVlKQogICAgICAgIGZpeGVkTnVtYmVyOiBbMS41LCAxXSwKICAgICAgICAvLyDmiKrlm77moYbmr5TkvosgICjpu5jorqQ6WzE6MV0pCiAgICAgICAgZW5sYXJnZTogMQogICAgICB9LAogICAgICBpc0Rpc2FibGVkOiBmYWxzZSwKICAgICAgZG93bkltZzogJyMnCiAgICB9OwogIH0sCiAgcHJvcHM6IFsnaW1nRmlsZScsICdmaXhlZE51bWJlciddLAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVNjYWxlOiBmdW5jdGlvbiBjaGFuZ2VTY2FsZShudW0pIHsKICAgICAgLy8g5Zu+54mH57yp5pS+CiAgICAgIG51bSA9IG51bSB8fCAxOwogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIuY2hhbmdlU2NhbGUobnVtKTsKICAgIH0sCiAgICByb3RhdGVMZWZ0OiBmdW5jdGlvbiByb3RhdGVMZWZ0KCkgewogICAgICAvLyDlkJHlt6bml4vovawKICAgICAgdGhpcy4kcmVmcy5jcm9wcGVyLnJvdGF0ZUxlZnQoKTsKICAgIH0sCiAgICByb3RhdGVSaWdodDogZnVuY3Rpb24gcm90YXRlUmlnaHQoKSB7CiAgICAgIC8vIOWQkeWPs+aXi+i9rAogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIucm90YXRlUmlnaHQoKTsKICAgIH0sCiAgICBVcGRhdGU6IGZ1bmN0aW9uIFVwZGF0ZSgpIHsKICAgICAgLy8gdGhpcy5maWxlID0gdGhpcy5pbWdGaWxlCiAgICAgIHRoaXMub3B0aW9uLmltZyA9IHRoaXMuaW1nRmlsZS51cmw7CiAgICB9LAogICAgcmVhbFRpbWU6IGZ1bmN0aW9uIHJlYWxUaW1lKGRhdGEpIHsKICAgICAgLy8g5a6e5pe26aKE6KeICiAgICAgIHRoaXMucHJldmlld3MgPSBkYXRhOwogICAgfSwKICAgIHVwbG9hZEltZzogZnVuY3Rpb24gdXBsb2FkSW1nKHR5cGUpIHsKICAgICAgLy8g5bCG5Ymq6KOB5aW955qE5Zu+54mH5Zue5Lyg57uZ54i257uE5Lu2CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IHRydWU7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICh0eXBlID09PSAnYmxvYicpIHsKICAgICAgICB0aGlzLiRyZWZzLmNyb3BwZXIuZ2V0Q3JvcEJsb2IoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHRoYXQuJGVtaXQoJ3VwbG9hZCcsIGRhdGEpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5nZXRDcm9wRGF0YShmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgdGhhdC4kZW1pdCgndXBsb2FkJywgZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZUNyb3BwZXI6IFZ1ZUNyb3BwZXIKICB9Cn07"},{"version":3,"sources":["cropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA,SAAA,UAAA,QAAA,aAAA,C,CACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AACA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,GAAA,EAAA,EADA;AACA;AACA,QAAA,UAAA,EAAA,CAFA;AAEA;AACA,QAAA,IAAA,EAAA,KAHA;AAGA;AACA,QAAA,UAAA,EAAA,KAJA;AAIA;AACA,QAAA,OAAA,EAAA,IALA;AAKA;AACA,QAAA,QAAA,EAAA,KANA;AAMA;AACA,QAAA,UAAA,EAAA,IAPA;AAOA;AACA,QAAA,QAAA,EAAA,IARA;AAQA;AACA,QAAA,aAAA,EAAA,GATA;AASA;AACA,QAAA,cAAA,EAAA,GAVA;AAUA;AACA,QAAA,QAAA,EAAA,KAXA;AAWA;AACA,QAAA,KAAA,EAAA,IAZA;AAYA;AACA,QAAA,WAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAbA;AAaA;AACA,QAAA,OAAA,EAAA;AAdA,OAFA;AAkBA,MAAA,UAAA,EAAA,KAlBA;AAmBA,MAAA,OAAA,EAAA;AAnBA,KAAA;AAqBA,GAvBA;AAwBA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,aAAA,CAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA;AACA,MAAA,GAAA,GAAA,GAAA,IAAA,CAAA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,GAAA;AACA,KALA;AAMA,IAAA,UANA,wBAMA;AACA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA;AACA,KATA;AAUA,IAAA,WAVA,yBAUA;AACA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,WAAA;AACA,KAbA;AAcA,IAAA,MAdA,oBAcA;AACA;AACA,WAAA,MAAA,CAAA,GAAA,GAAA,KAAA,OAAA,CAAA,GAAA;AACA,KAjBA;AAkBA,IAAA,QAlBA,oBAkBA,IAlBA,EAkBA;AACA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KArBA;AAsBA,IAAA,SAtBA,qBAsBA,IAtBA,EAsBA;AACA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,UAAA,IAAA,KAAA,MAAA,EAAA;AACA,aAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA;AACA,SAFA;AAGA,OAJA,MAIA;AACA,aAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA;AACA,SAFA;AAGA;AACA;AApCA,GAzBA;AA+DA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA;AAAA;AA/DA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"cropper-content\">\r\n            <!-- 剪裁框 -->\r\n            <div class=\"cropper\">\r\n                <vueCropper ref=\"cropper\" :img=\"option.img\" :outputSize=\"option.size\"\r\n                            :outputType=\"option.outputType\" :info=\"true\" :full=\"option.full\" :canMove=\"option.canMove\"\r\n                            :canMoveBox=\"option.canMoveBox\" :original=\"option.original\" :autoCrop=\"option.autoCrop\"\r\n                            :autoCropWidth=\"option.autoCropWidth\" :autoCropHeight=\"option.autoCropHeight\" :fixedBox=\"option.fixedBox\"\r\n                            @realTime=\"realTime\" :fixed=\"option.fixed\" :fixedNumber=\"fixedNumber\"></vueCropper>\r\n                <!-- <vueCropper ref=\"cropper\" :img=\"option.img\" :outputSize=\"option.size\" :outputType=\"option.outputType\"></vueCropper> -->\r\n            </div>\r\n            <!-- 预览框 -->\r\n            <div class=\"show-preview\" :style=\"{'width': '500px', 'height': '400px',\r\n            'overflow': 'hidden', 'margin': '0 25px', 'display':'flex', 'align-items' : 'center'}\">\r\n                <div :style=\"previews.div\" class=\"preview\">\r\n                    <img :src=\"previews.url\" :style=\"previews.img\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"footer-btn\">\r\n            <!-- 缩放旋转按钮 -->\r\n            <div class=\"scope-btn\">\r\n                <el-button type=\"primary\" icon=\"el-icon-zoom-in\" @click=\"changeScale(1)\"></el-button>\r\n                <el-button type=\"primary\" icon=\"el-icon-zoom-out\" @click=\"changeScale(-1)\"></el-button>\r\n                <el-button type=\"primary\" @click=\"rotateLeft\">逆时针旋转</el-button>\r\n                <el-button type=\"primary\" @click=\"rotateRight\">顺时针旋转</el-button>\r\n            </div>\r\n            <!-- 确认上传按钮 -->\r\n            <div class=\"upload-btn\">\r\n                <!-- <el-button type=\"primary\" @click=\"uploadImg('blob')\">上传</el-button> -->\r\n                <el-button type=\"primary\" :disabled=\"isDisabled\" @click=\"uploadImg('base64')\">上传</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    /*图片裁剪*/\r\n    import { VueCropper } from 'vue-cropper';\r\n    // console.log(VueCropper);\r\n    export default {\r\n        data () {\r\n            return {\r\n                previews: {}, // 预览数据\r\n                option: {\r\n                    img: '', // 裁剪图片的地址  (默认：空)\r\n                    outputSize: 1, // 裁剪生成图片的质量  (默认:1)\r\n                    full: false, // 是否输出原图比例的截图 选true生成的图片会非常大  (默认:false)\r\n                    outputType: 'png', // 裁剪生成图片的格式  (默认:jpg)\r\n                    canMove: true, // 上传图片是否可以移动  (默认:true)\r\n                    original: false, // 上传图片按照原始比例渲染  (默认:false)\r\n                    canMoveBox: true, // 截图框能否拖动  (默认:true)\r\n                    autoCrop: true, // 是否默认生成截图框  (默认:false)\r\n                    autoCropWidth: 480, // 默认生成截图框宽度  (默认:80%)\r\n                    autoCropHeight: 320, // 默认生成截图框高度  (默认:80%)\r\n                    fixedBox: false, // 固定截图框大小 不允许改变  (默认:false)\r\n                    fixed: true, // 是否开启截图框宽高固定比例  (默认:true)\r\n                    fixedNumber: [1.5, 1], // 截图框比例  (默认:[1:1])\r\n                    enlarge: 1\r\n                },\r\n                isDisabled: false,\r\n                downImg: '#'\r\n            };\r\n        },\r\n        props: ['imgFile', 'fixedNumber'],\r\n        methods: {\r\n            changeScale (num) {\r\n                // 图片缩放\r\n                num = num || 1;\r\n                this.$refs.cropper.changeScale(num);\r\n            },\r\n            rotateLeft () {\r\n                // 向左旋转\r\n                this.$refs.cropper.rotateLeft();\r\n            },\r\n            rotateRight () {\r\n                // 向右旋转\r\n                this.$refs.cropper.rotateRight();\r\n            },\r\n            Update () {\r\n                // this.file = this.imgFile\r\n                this.option.img = this.imgFile.url;\r\n            },\r\n            realTime (data) {\r\n                // 实时预览\r\n                this.previews = data;\r\n            },\r\n            uploadImg (type) {\r\n                // 将剪裁好的图片回传给父组件\r\n                event.preventDefault();\r\n                this.isDisabled = true;\r\n                let that = this;\r\n                if (type === 'blob') {\r\n                    this.$refs.cropper.getCropBlob(data => {\r\n                        that.$emit('upload', data);\r\n                    });\r\n                } else {\r\n                    this.$refs.cropper.getCropData(data => {\r\n                        that.$emit('upload', data);\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        components: { VueCropper }\r\n    };\r\n</script>\r\n<style>\r\n    .cropper-content {\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: flex-end;\r\n        -webkit-justify-content: flex-end;\r\n    }\r\n    .cropper-content .cropper {\r\n        width: 500px;\r\n        height: 400px;\r\n    }\r\n    .cropper-content .show-preview {\r\n        flex: 1;\r\n        -webkit-flex: 1;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: center;\r\n        -webkit-justify-content: center;\r\n        overflow: hidden;\r\n        border: 1px solid #cccccc;\r\n        background: #cccccc;\r\n        margin-left: 40px;\r\n    }\r\n    .preview {\r\n        overflow: hidden;\r\n        border: 1px solid #cccccc;\r\n        background: #cccccc;\r\n    }\r\n    .footer-btn {\r\n        margin-top: 30px;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: flex-end;\r\n        -webkit-justify-content: flex-end;\r\n    }\r\n    .footer-btn .scope-btn {\r\n        width: 250px;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: space-between;\r\n        -webkit-justify-content: space-between;\r\n    }\r\n    .footer-btn .upload-btn {\r\n        flex: 1;\r\n        -webkit-flex: 1;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: center;\r\n        -webkit-justify-content: center;\r\n    }\r\n    .footer-btn .btn {\r\n        outline: none;\r\n        display: inline-block;\r\n        line-height: 1;\r\n        white-space: nowrap;\r\n        cursor: pointer;\r\n        -webkit-appearance: none;\r\n        text-align: center;\r\n        -webkit-box-sizing: border-box;\r\n        box-sizing: border-box;\r\n        outline: 0;\r\n        margin: 0;\r\n        -webkit-transition: 0.1s;\r\n        transition: 0.1s;\r\n        font-weight: 500;\r\n        padding: 8px 15px;\r\n        font-size: 12px;\r\n        border-radius: 3px;\r\n        color: #fff;\r\n        background-color: #67c23a;\r\n        border-color: #67c23a;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/cropper"}]}