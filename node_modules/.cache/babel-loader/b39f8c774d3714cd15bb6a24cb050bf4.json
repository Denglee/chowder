{"remainingRequest":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\Chowder\\src\\router.js","dependencies":[{"path":"E:\\Project\\Chowder\\src\\router.js","mtime":1578030013223},{"path":"E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJzsKaW1wb3J0IHN0YXRpY1JvdXRlIGZyb20gJ0Avcm91dGVyL3N0YXRpY1JvdXRlJzsKaW1wb3J0IExvZ2luIGZyb20gJ0AvYXNzZXRzL2pzL2xvZ2luJzsKaW1wb3J0IHdoaXRlTGlzdCBmcm9tICdAL3JvdXRlci93aGl0ZUxpc3QnOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CnZhciBwZXJtaXNzaW9uTGlzdCA9IFtdOwoKZnVuY3Rpb24gaW5pdFJvdXRlKHJvdXRlcikgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgY29uc29sZS5sb2cocmVzb2x2ZSk7CgogICAgaWYgKHBlcm1pc3Npb25MaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgIGNvbnNvbGUubG9nKCLmsqHmnInmnYPpmZDmlbDmja7vvIzmraPlnKjojrflj5YiKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1N0b3JlVGFnTmF2L2dldE5hdkxpc3QnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHBlcm1pc3Npb25MaXN0ID0gcmVzOyAvLyDlsIboj5zljZXliJfooajmiYHlubPljJblvaLmiJDmnYPpmZDliJfooagKCiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1N0b3JlVGFnTmF2L2dldFBlcm1pc3Npb25MaXN0JykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5p2D6ZmQ5YiX6KGo55Sf5oiQ5a6M5q+VIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgcGVybWlzc2lvbkxpc3QgPSByZXM7CiAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgICAgICB2YXIgcm91dGVJdGVtID0gcm91dGVyLm1hdGNoKHYucGF0aCk7CgogICAgICAgICAgICBpZiAocm91dGVJdGVtKSB7CiAgICAgICAgICAgICAgcm91dGVJdGVtLm1ldGEucGVybWlzc2lvbiA9IHYucGVybWlzc2lvbiA/IHYucGVybWlzc2lvbiA6IFtdOwogICAgICAgICAgICAgIHJvdXRlSXRlbS5tZXRhLm5hbWUgPSB2Lm5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCLlt7LmnInmnYPpmZDmlbDmja4iKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfQogIH0pOwp9CgpOUHJvZ3Jlc3MuY29uZmlndXJlKHsKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7ClZ1ZS51c2UoUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICdoYXNoJywKICAvL2hpc3RvcnkKICByb3V0ZXM6IHN0YXRpY1JvdXRlCn0pOyAvLyDot6/nlLHot7PovazliY3pqozor4EKCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUubG9nKHBlcm1pc3Npb25MaXN0KTsgLy8g5byA5ZCv6L+b5bqm5p2hCgogIE5Qcm9ncmVzcy5zdGFydCgpOwogIG5leHQoKTsgLy8gY29uc29sZS5sb2coQXV0aC5sb2dpbik7CiAgLy8g5Yik5pat55So5oi35piv5ZCm5aSE5LqO55m75b2V54q25oCBCiAgLy8gZGVidWdnZXIKCiAgLyppZiAoTG9naW4uaXNMb2dpbigpKSB7DQogICAgICAvLyDlpoLmnpzlvZPliY3lpITkuo7nmbvlvZXnirbmgIHvvIzlubbkuJTot7PovazlnLDlnYDkuLpsb2dpbu+8jOWImeiHquWKqOi3s+Wbnuezu+e7n+mmlumhtQ0KICAgICAgLy8g6L+Z56eN5oOF5Ya15Ye6546w5Zyo5omL5Yqo5L+u5pS55Zyw5Z2A5qCP5Zyw5Z2A5pe2DQogICAgICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicpIHsNCiAgICAgICAgICBuZXh0KHtwYXRoOiAiL2hvbWUiLCByZXBsYWNlOiB0cnVlfSkNCiAgICAgIH0gZWxzZSBpZiAodG8ucGF0aC5pbmRleE9mKCIvZXJyb3IiKSA+PSAwKSB7DQogICAgICAgICAgLy8g6Ziy5q2i5Zug6YeN5a6a5ZCR5YiwZXJyb3LpobXpnaLpgKDmiJBiZWZvcmVFYWNo5q275b6q546vDQogICAgICAgICAgbmV4dCgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICAgIGluaXRSb3V0ZShyb3V0ZXIpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICBsZXQgaXNQZXJtaXNzaW9uID0gZmFsc2UNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIui/m+WFpeadg+mZkOWIpOaWrSIpDQogICAgICAgICAgICAgIHBlcm1pc3Npb25MaXN0LmZvckVhY2goKHYpID0+IHsNCiAgICAgICAgICAgICAgICAgIC8vIOWIpOaWrei3s+i9rOeahOmhtemdouaYr+WQpuWcqOadg+mZkOWIl+ihqOS4rQ0KICAgICAgICAgICAgICAgICAgaWYgKHYucGF0aCA9PSB0by5mdWxsUGF0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIGlzUGVybWlzc2lvbiA9IHRydWUNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSkNCiAgICAgICAgICAgIC8vIOayoeacieadg+mZkOaXtui3s+i9rOWIsDQwMemhtemdog0KICAgICAgICAgIGlmICghaXNQZXJtaXNzaW9uKSB7DQogICAgICAgICAgICAgIG5leHQoe3BhdGg6ICIvZXJyb3IvNDAxIiwgcmVwbGFjZTogdHJ1ZX0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgbmV4dCgpDQogICAgICAgICAgfQ0KICAgICAgfQ0KICB9DQogIGVsc2Ugew0KICAgICAgLy8g5aaC5p6c5piv5YWN55m76ZmG55qE6aG16Z2i5YiZ55u05o6l6L+b5YWl77yM5ZCm5YiZ6Lez6L2s5Yiw55m75b2V6aG16Z2iDQogICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgPj0gMCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivpemhtemdouaXoOmcgOeZu+W9leWNs+WPr+iuv+mXricpDQogICAgICAgICAgbmV4dCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLndhcm4oJ+W9k+WJjeacquWkhOS6jueZu+W9leeKtuaAge+8jOivt+eZu+W9lScpDQogICAgICAgICAgbmV4dCh7cGF0aDogIi9sb2dpbiIsIHJlcGxhY2U6IHRydWV9KQ0KICAgICAgICAgIC8vIOWmguaenHN0b3Jl5Lit5pyJdG9rZW7vvIzlkIzml7ZDb29raWXkuK3msqHmnInnmbvlvZXnirbmgIENCiAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUudXNlci50b2tlbikgew0KICAgICAgICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXotoXml7bvvIzor7fph43mlrDnmbvlvZUnDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivpemhtemdouaXoOmcgOeZu+W9leWNs+WPr+iuv+mXricpOw0KICAgICAgICAgIG5leHQoKQ0KICAgICAgfQ0KICAgICAgLyEqZWxzZXsNCiAgICAgICAgICBjb25zb2xlLndhcm4oJ+W9k+WJjeacquWkhOS6jueZu+W9leeKtuaAge+8jOivt+eZu+W9lScpOw0KICAgICAgICAgIG5leHQoe3BhdGg6ICIvbG9naW4iLCByZXBsYWNlOiB0cnVlfSkNCiAgICAgICAgICAvLyDlpoLmnpxzdG9yZeS4reaciXRva2Vu77yM5ZCM5pe2Q29va2ll5Lit5rKh5pyJ55m75b2V54q25oCBDQogICAgICAgICAgLy8gaWYoc3Rvcil7DQogICAgICAgICAgLy8gICBNZXNzYWdlKHsNCiAgICAgICAgICAvLyAgICAgbWVzc2FnZTogJ+eZu+W9lei2heaXtu+8jOivt+mHjeaWsOeZu+W9lSc7DQogICAgICAgICAgLy8gICB9KQ0KICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIC8vIE5Qcm9ncmVzcy5kb25lKCkNCiAgICAgIH0qIS8NCiAgfSovCn0pOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSkgewogIE5Qcm9ncmVzcy5kb25lKCk7IC8vIOe7k+adn1Byb2dyZXNzCn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7Ci8qZXhwb3J0IGRlZmF1bHQgbmV3IFJvdXRlcih7DQogIG1vZGU6ICdoYXNoJywNCiAgLy8gYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsDQogIHJvdXRlczogc3RhdGljUm91dGUNCiAgLyEqcm91dGVzOiBbDQogICAgew0KICAgICAgcGF0aDogJy8nLA0KICAgICAgLy8gbmFtZTogJ2hvbWUnLA0KICAgICAgcmVkaXJlY3Q6Jy9pbmRleCcgICAvL+mHjeWumuWQkQ0KICAgIH0sDQogICAgew0KICAgICAgcGF0aDogJy9pbmRleCcsDQogICAgICBuYW1lOiAnaW5kZXgnLA0KDQogICAgICAvLyB2dWXlvILmraXnu4Tku7blrp7njrDot6/nlLHmh5LliqDovb0NCiAgICAgIC8vIGNvbXBvbmVudO+8mnJlc29sdmU9PihbJ+mcgOimgeWKoOi9veeahOi3r+eUseeahOWcsOWdgCfvvIxyZXNvbHZlXSkNCiAgICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL2luZGV4L2luZGV4JyksDQogICAgfSwNCg0KICAgIC8vIHJlY2VwdGlvbjog5YmN5Y+wDQogICAgew0KICAgICAgcGF0aDogIi9yZWNlcHRpb24vcmVnaXN0ZXIiLA0KICAgICAgbmFtZTogJ3JlZ2lzdGVyJywNCiAgICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL3JlY2VwdGlvbi9yZWdpc3RlcicpLA0KICAgIH0sDQogICAgew0KICAgICAgcGF0aDogIi9yZWNlcHRpb24vcXVlcnkiLA0KICAgICAgbmFtZTogJ3F1ZXJ5JywNCiAgICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL3JlY2VwdGlvbi9xdWVyeScpLA0KICAgIH0sDQoNCiAgICAvL2NvbnRyYWN0IOWQiOWQjA0KICAgIHsNCiAgICAgIHBhdGg6ICcvaG9tZScsDQogICAgICBuYW1lOiAnaG9tZScsDQogICAgICBjb21wb25lbnQ6IGZpcnN0SXRlbQ0KICAgIH0sDQoNCiAgICB7DQogICAgICBwYXRoOiAnL2ZpcnN0SXRlbScsDQogICAgICBuYW1lOiAnZmlyc3RJdGVtJywNCiAgICAgIGNvbXBvbmVudDogZmlyc3RJdGVtDQogICAgfSwNCiAgICB7DQogICAgICBwYXRoOiAnL3NlY29uZE1haW4nLA0KICAgICAgbmFtZTogJ3NlY29uZE1haW4nLA0KICAgICAgY29tcG9uZW50OiBzZWNvbmRNYWluDQogICAgfSwNCiAgICB7DQogICAgICBwYXRoOiAnL3RoaXJkSW5kZXgnLA0KICAgICAgbmFtZTogJ3RoaXJkSW5kZXgnLA0KICAgICAgY29tcG9uZW50OiB0aGlyZEluZGV4DQogICAgfQ0KDQogICAgLy8gew0KICAgIC8vIHBhdGg6ICcvYWJvdXQnLA0KICAgIC8vIG5hbWU6ICdhYm91dCcsDQogICAgLy8gLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcNCiAgICAvLyAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlDQogICAgLy8gLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4NCiAgICAvLyBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgvISogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqIS8gJy4vdmlld3MvQWJvdXQudnVlJykNCiAgICAvLyB9DQogIF0qIS8NCn0pKi8="},{"version":3,"sources":["E:/Project/Chowder/src/router.js"],"names":["Vue","Router","store","staticRoute","Login","whiteList","NProgress","Message","permissionList","initRoute","router","Promise","resolve","console","log","length","dispatch","then","res","forEach","v","routeItem","match","path","meta","permission","name","configure","showSpinner","use","mode","routes","beforeEach","to","from","next","start","afterEach","done"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AAEA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAGA,IAAIC,cAAc,GAAG,EAArB;;AAEA,SAASC,SAAT,CAAmBC,MAAnB,EAA2B;AACvB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,QAAIJ,cAAc,CAACO,MAAf,IAAyB,CAA7B,EAAgC;AAC5BF,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAZ,MAAAA,KAAK,CAACc,QAAN,CAAe,wBAAf,EAAyCC,IAAzC,CAA8C,UAACC,GAAD,EAAS;AACnDL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAV,QAAAA,cAAc,GAAGU,GAAjB,CAFmD,CAGnD;;AACAhB,QAAAA,KAAK,CAACc,QAAN,CAAe,+BAAf,EAAgDC,IAAhD,CAAqD,UAACC,GAAD,EAAS;AAC1DL,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAV,UAAAA,cAAc,GAAGU,GAAjB;AACAA,UAAAA,GAAG,CAACC,OAAJ,CAAY,UAAUC,CAAV,EAAa;AACrB,gBAAIC,SAAS,GAAGX,MAAM,CAACY,KAAP,CAAaF,CAAC,CAACG,IAAf,CAAhB;;AACA,gBAAIF,SAAJ,EAAe;AACXA,cAAAA,SAAS,CAACG,IAAV,CAAeC,UAAf,GAA4BL,CAAC,CAACK,UAAF,GAAeL,CAAC,CAACK,UAAjB,GAA8B,EAA1D;AACAJ,cAAAA,SAAS,CAACG,IAAV,CAAeE,IAAf,GAAsBN,CAAC,CAACM,IAAxB;AACH;AACJ,WAND;AAOAd,UAAAA,OAAO,CAACM,GAAD,CAAP;AACH,SAZD;AAaH,OAjBD;AAkBH,KApBD,MAoBO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAF,MAAAA,OAAO;AACV;AACJ,GA1BM,CAAP;AA2BH;;AAGDN,SAAS,CAACqB,SAAV,CAAoB;AAAEC,EAAAA,WAAW,EAAE;AAAf,CAApB;AAEA5B,GAAG,CAAC6B,GAAJ,CAAQ5B,MAAR;AAEA,IAAMS,MAAM,GAAG,IAAIT,MAAJ,CAAW;AACtB6B,EAAAA,IAAI,EAAE,MADgB;AACR;AACdC,EAAAA,MAAM,EAAE5B;AAFc,CAAX,CAAf,C,CAOA;;AACAO,MAAM,CAACsB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCtB,EAAAA,OAAO,CAACC,GAAR,CAAYN,cAAZ,EADkC,CAElC;;AACAF,EAAAA,SAAS,CAAC8B,KAAV;AAEAD,EAAAA,IAAI,GAL8B,CAOlC;AACA;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DH,CAtED;AA2EAzB,MAAM,CAAC2B,SAAP,CAAiB,UAACJ,EAAD,EAAKC,IAAL,EAAc;AAE3B5B,EAAAA,SAAS,CAACgC,IAAV,GAF2B,CAET;AACrB,CAHD;AAKA,eAAe5B,MAAf;AAIA","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from './store'\r\nimport staticRoute from '@/router/staticRoute'\r\n\r\nimport Login from '@/assets/js/login'\r\n\r\nimport whiteList from '@/router/whiteList'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport {Message} from 'element-ui'\r\n\r\n\r\nvar permissionList = []\r\n\r\nfunction initRoute(router) {\r\n    return new Promise((resolve) => {\r\n        console.log(resolve);\r\n        if (permissionList.length == 0) {\r\n            console.log(\"没有权限数据，正在获取\")\r\n            store.dispatch('StoreTagNav/getNavList').then((res) => {\r\n                console.log(res);\r\n                permissionList = res;\r\n                // 将菜单列表扁平化形成权限列表\r\n                store.dispatch('StoreTagNav/getPermissionList').then((res) => {\r\n                    console.log(\"权限列表生成完毕\");\r\n                    console.log(res);\r\n                    permissionList = res;\r\n                    res.forEach(function (v) {\r\n                        let routeItem = router.match(v.path)\r\n                        if (routeItem) {\r\n                            routeItem.meta.permission = v.permission ? v.permission : []\r\n                            routeItem.meta.name = v.name\r\n                        }\r\n                    })\r\n                    resolve(res)\r\n                })\r\n            })\r\n        } else {\r\n            console.log(\"已有权限数据\")\r\n            resolve()\r\n        }\r\n    })\r\n}\r\n\r\n\r\nNProgress.configure({ showSpinner: false });\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n    mode: 'hash', //history\r\n    routes: staticRoute\r\n})\r\n\r\n\r\n\r\n// 路由跳转前验证\r\nrouter.beforeEach((to, from, next) => {\r\n    console.log(permissionList);\r\n    // 开启进度条\r\n    NProgress.start();\r\n\r\n    next();\r\n\r\n    // console.log(Auth.login);\r\n    // 判断用户是否处于登录状态\r\n    // debugger\r\n    /*if (Login.isLogin()) {\r\n        // 如果当前处于登录状态，并且跳转地址为login，则自动跳回系统首页\r\n        // 这种情况出现在手动修改地址栏地址时\r\n        if (to.path === '/login') {\r\n            next({path: \"/home\", replace: true})\r\n        } else if (to.path.indexOf(\"/error\") >= 0) {\r\n            // 防止因重定向到error页面造成beforeEach死循环\r\n            next()\r\n        } else {\r\n            initRoute(router).then(() => {\r\n                let isPermission = false\r\n                console.log(\"进入权限判断\")\r\n                permissionList.forEach((v) => {\r\n                    // 判断跳转的页面是否在权限列表中\r\n                    if (v.path == to.fullPath) {\r\n                        isPermission = true\r\n                    }\r\n                });\r\n            })\r\n\r\n            // 没有权限时跳转到401页面\r\n            if (!isPermission) {\r\n                next({path: \"/error/401\", replace: true})\r\n            } else {\r\n                next()\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // 如果是免登陆的页面则直接进入，否则跳转到登录页面\r\n        if (whiteList.indexOf(to.path) >= 0) {\r\n\r\n            console.log('该页面无需登录即可访问')\r\n            next();\r\n        } else {\r\n            console.warn('当前未处于登录状态，请登录')\r\n            next({path: \"/login\", replace: true})\r\n            // 如果store中有token，同时Cookie中没有登录状态\r\n            if (store.state.user.token) {\r\n                Message({\r\n                    message: '登录超时，请重新登录'\r\n                })\r\n            }\r\n\r\n            console.log('该页面无需登录即可访问');\r\n            next()\r\n        }\r\n        /!*else{\r\n            console.warn('当前未处于登录状态，请登录');\r\n            next({path: \"/login\", replace: true})\r\n            // 如果store中有token，同时Cookie中没有登录状态\r\n            // if(stor){\r\n            //   Message({\r\n            //     message: '登录超时，请重新登录';\r\n            //   })\r\n            // }\r\n\r\n            // NProgress.done()\r\n        }*!/\r\n    }*/\r\n})\r\n\r\n\r\n\r\n\r\nrouter.afterEach((to, from) => {\r\n\r\n    NProgress.done(); // 结束Progress\r\n})\r\n\r\nexport default router\r\n\r\n\r\n\r\n/*export default new Router({\r\n  mode: 'hash',\r\n  // base: process.env.BASE_URL,\r\n  routes: staticRoute\r\n  /!*routes: [\r\n    {\r\n      path: '/',\r\n      // name: 'home',\r\n      redirect:'/index'   //重定向\r\n    },\r\n    {\r\n      path: '/index',\r\n      name: 'index',\r\n\r\n      // vue异步组件实现路由懒加载\r\n      // component：resolve=>(['需要加载的路由的地址'，resolve])\r\n      component: () => import('@/views/index/index'),\r\n    },\r\n\r\n    // reception: 前台\r\n    {\r\n      path: \"/reception/register\",\r\n      name: 'register',\r\n      component: () => import('@/views/reception/register'),\r\n    },\r\n    {\r\n      path: \"/reception/query\",\r\n      name: 'query',\r\n      component: () => import('@/views/reception/query'),\r\n    },\r\n\r\n    //contract 合同\r\n    {\r\n      path: '/home',\r\n      name: 'home',\r\n      component: firstItem\r\n    },\r\n\r\n    {\r\n      path: '/firstItem',\r\n      name: 'firstItem',\r\n      component: firstItem\r\n    },\r\n    {\r\n      path: '/secondMain',\r\n      name: 'secondMain',\r\n      component: secondMain\r\n    },\r\n    {\r\n      path: '/thirdIndex',\r\n      name: 'thirdIndex',\r\n      component: thirdIndex\r\n    }\r\n\r\n    // {\r\n    // path: '/about',\r\n    // name: 'about',\r\n    // // route level code-splitting\r\n    // // this generates a separate chunk (about.[hash].js) for this route\r\n    // // which is lazy-loaded when the route is visited.\r\n    // component: () => import(/!* webpackChunkName: \"about\" *!/ './views/About.vue')\r\n    // }\r\n  ]*!/\r\n})*/\r\n\r\n"]}]}