{"remainingRequest":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\chowder\\public\\tinymce\\tinymce.js","dependencies":[{"path":"E:\\Project\\chowder\\public\\tinymce\\tinymce.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\chowder\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcmVlemUiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1mbG9hdCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYW5jaG9yIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5maXhlZCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheSIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeSIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXgiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbiIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0Iik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0Iik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydCIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheSIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIik7dmFyIF90eXBlb2Y9cmVxdWlyZSgiRTpcXFByb2plY3RcXGNob3dkZXJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7LyoqCiAqIENvcHlyaWdodCAoYykgVGlueSBUZWNobm9sb2dpZXMsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuCiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKiBGb3IgY29tbWVyY2lhbCBsaWNlbnNlcyBzZWUgaHR0cHM6Ly93d3cudGlueS5jbG91ZC8KICoKICogVmVyc2lvbjogNS4xLjUgKDIwMTktMTItMTkpCiAqLyhmdW5jdGlvbihkb21HbG9iYWxzKXsndXNlIHN0cmljdCc7dmFyIG5vb3A9ZnVuY3Rpb24gbm9vcCgpe307dmFyIGNvbXBvc2U9ZnVuY3Rpb24gY29tcG9zZShmYSxmYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7YXJnc1tfaV09YXJndW1lbnRzW19pXTt9cmV0dXJuIGZhKGZiLmFwcGx5KG51bGwsYXJncykpO307fTt2YXIgY29uc3RhbnQ9ZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZTt9O307dmFyIGlkZW50aXR5PWZ1bmN0aW9uIGlkZW50aXR5KHgpe3JldHVybiB4O307ZnVuY3Rpb24gY3VycnkoZm4pe3ZhciBpbml0aWFsQXJncz1bXTtmb3IodmFyIF9pPTE7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKXtpbml0aWFsQXJnc1tfaS0xXT1hcmd1bWVudHNbX2ldO31yZXR1cm4gZnVuY3Rpb24oKXt2YXIgcmVzdEFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7cmVzdEFyZ3NbX2ldPWFyZ3VtZW50c1tfaV07fXZhciBhbGw9aW5pdGlhbEFyZ3MuY29uY2F0KHJlc3RBcmdzKTtyZXR1cm4gZm4uYXBwbHkobnVsbCxhbGwpO307fXZhciBub3Q9ZnVuY3Rpb24gbm90KGYpe3JldHVybiBmdW5jdGlvbigpe3ZhciBhcmdzPVtdO2Zvcih2YXIgX2k9MDtfaTxhcmd1bWVudHMubGVuZ3RoO19pKyspe2FyZ3NbX2ldPWFyZ3VtZW50c1tfaV07fXJldHVybiFmLmFwcGx5KG51bGwsYXJncyk7fTt9O3ZhciBkaWU9ZnVuY3Rpb24gZGllKG1zZyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKG1zZyk7fTt9O3ZhciBuZXZlcj1jb25zdGFudChmYWxzZSk7dmFyIGFsd2F5cz1jb25zdGFudCh0cnVlKTt2YXIgbm9uZT1mdW5jdGlvbiBub25lKCl7cmV0dXJuIE5PTkU7fTt2YXIgTk9ORT1mdW5jdGlvbigpe3ZhciBlcT1mdW5jdGlvbiBlcShvKXtyZXR1cm4gby5pc05vbmUoKTt9O3ZhciBjYWxsPWZ1bmN0aW9uIGNhbGwodGh1bmspe3JldHVybiB0aHVuaygpO307dmFyIGlkPWZ1bmN0aW9uIGlkKG4pe3JldHVybiBuO307dmFyIG1lPXtmb2xkOmZ1bmN0aW9uIGZvbGQobixzKXtyZXR1cm4gbigpO30saXM6bmV2ZXIsaXNTb21lOm5ldmVyLGlzTm9uZTphbHdheXMsZ2V0T3I6aWQsZ2V0T3JUaHVuazpjYWxsLGdldE9yRGllOmZ1bmN0aW9uIGdldE9yRGllKG1zZyl7dGhyb3cgbmV3IEVycm9yKG1zZ3x8J2Vycm9yOiBnZXRPckRpZSBjYWxsZWQgb24gbm9uZS4nKTt9LGdldE9yTnVsbDpjb25zdGFudChudWxsKSxnZXRPclVuZGVmaW5lZDpjb25zdGFudCh1bmRlZmluZWQpLG9yOmlkLG9yVGh1bms6Y2FsbCxtYXA6bm9uZSxlYWNoOm5vb3AsYmluZDpub25lLGV4aXN0czpuZXZlcixmb3JhbGw6YWx3YXlzLGZpbHRlcjpub25lLGVxdWFsczplcSxlcXVhbHNfOmVxLHRvQXJyYXk6ZnVuY3Rpb24gdG9BcnJheSgpe3JldHVybltdO30sdG9TdHJpbmc6Y29uc3RhbnQoJ25vbmUoKScpfTtpZihPYmplY3QuZnJlZXplKXtPYmplY3QuZnJlZXplKG1lKTt9cmV0dXJuIG1lO30oKTt2YXIgc29tZT1mdW5jdGlvbiBzb21lKGEpe3ZhciBjb25zdGFudF9hPWNvbnN0YW50KGEpO3ZhciBzZWxmPWZ1bmN0aW9uIHNlbGYoKXtyZXR1cm4gbWU7fTt2YXIgYmluZD1mdW5jdGlvbiBiaW5kKGYpe3JldHVybiBmKGEpO307dmFyIG1lPXtmb2xkOmZ1bmN0aW9uIGZvbGQobixzKXtyZXR1cm4gcyhhKTt9LGlzOmZ1bmN0aW9uIGlzKHYpe3JldHVybiBhPT09djt9LGlzU29tZTphbHdheXMsaXNOb25lOm5ldmVyLGdldE9yOmNvbnN0YW50X2EsZ2V0T3JUaHVuazpjb25zdGFudF9hLGdldE9yRGllOmNvbnN0YW50X2EsZ2V0T3JOdWxsOmNvbnN0YW50X2EsZ2V0T3JVbmRlZmluZWQ6Y29uc3RhbnRfYSxvcjpzZWxmLG9yVGh1bms6c2VsZixtYXA6ZnVuY3Rpb24gbWFwKGYpe3JldHVybiBzb21lKGYoYSkpO30sZWFjaDpmdW5jdGlvbiBlYWNoKGYpe2YoYSk7fSxiaW5kOmJpbmQsZXhpc3RzOmJpbmQsZm9yYWxsOmJpbmQsZmlsdGVyOmZ1bmN0aW9uIGZpbHRlcihmKXtyZXR1cm4gZihhKT9tZTpOT05FO30sdG9BcnJheTpmdW5jdGlvbiB0b0FycmF5KCl7cmV0dXJuW2FdO30sdG9TdHJpbmc6ZnVuY3Rpb24gdG9TdHJpbmcoKXtyZXR1cm4nc29tZSgnK2ErJyknO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyhvKXtyZXR1cm4gby5pcyhhKTt9LGVxdWFsc186ZnVuY3Rpb24gZXF1YWxzXyhvLGVsZW1lbnRFcSl7cmV0dXJuIG8uZm9sZChuZXZlcixmdW5jdGlvbihiKXtyZXR1cm4gZWxlbWVudEVxKGEsYik7fSk7fX07cmV0dXJuIG1lO307dmFyIGZyb209ZnVuY3Rpb24gZnJvbSh2YWx1ZSl7cmV0dXJuIHZhbHVlPT09bnVsbHx8dmFsdWU9PT11bmRlZmluZWQ/Tk9ORTpzb21lKHZhbHVlKTt9O3ZhciBPcHRpb249e3NvbWU6c29tZSxub25lOm5vbmUsZnJvbTpmcm9tfTt2YXIgdHlwZU9mPWZ1bmN0aW9uIHR5cGVPZih4KXtpZih4PT09bnVsbCl7cmV0dXJuJ251bGwnO312YXIgdD1fdHlwZW9mKHgpO2lmKHQ9PT0nb2JqZWN0JyYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHgpfHx4LmNvbnN0cnVjdG9yJiZ4LmNvbnN0cnVjdG9yLm5hbWU9PT0nQXJyYXknKSl7cmV0dXJuJ2FycmF5Jzt9aWYodD09PSdvYmplY3QnJiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHgpfHx4LmNvbnN0cnVjdG9yJiZ4LmNvbnN0cnVjdG9yLm5hbWU9PT0nU3RyaW5nJykpe3JldHVybidzdHJpbmcnO31yZXR1cm4gdDt9O3ZhciBpc1R5cGU9ZnVuY3Rpb24gaXNUeXBlKHR5cGUpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHR5cGVPZih2YWx1ZSk9PT10eXBlO307fTt2YXIgaXNTdHJpbmc9aXNUeXBlKCdzdHJpbmcnKTt2YXIgaXNPYmplY3Q9aXNUeXBlKCdvYmplY3QnKTt2YXIgaXNBcnJheT1pc1R5cGUoJ2FycmF5Jyk7dmFyIGlzTnVsbD1pc1R5cGUoJ251bGwnKTt2YXIgaXNCb29sZWFuPWlzVHlwZSgnYm9vbGVhbicpO3ZhciBpc0Z1bmN0aW9uPWlzVHlwZSgnZnVuY3Rpb24nKTt2YXIgaXNOdW1iZXI9aXNUeXBlKCdudW1iZXInKTt2YXIgbmF0aXZlU2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlO3ZhciBuYXRpdmVJbmRleE9mPUFycmF5LnByb3RvdHlwZS5pbmRleE9mO3ZhciBuYXRpdmVQdXNoPUFycmF5LnByb3RvdHlwZS5wdXNoO3ZhciByYXdJbmRleE9mPWZ1bmN0aW9uIHJhd0luZGV4T2YodHMsdCl7cmV0dXJuIG5hdGl2ZUluZGV4T2YuY2FsbCh0cyx0KTt9O3ZhciBpbmRleE9mPWZ1bmN0aW9uIGluZGV4T2YoeHMseCl7dmFyIHI9cmF3SW5kZXhPZih4cyx4KTtyZXR1cm4gcj09PS0xP09wdGlvbi5ub25lKCk6T3B0aW9uLnNvbWUocik7fTt2YXIgY29udGFpbnM9ZnVuY3Rpb24gY29udGFpbnMoeHMseCl7cmV0dXJuIHJhd0luZGV4T2YoeHMseCk+LTE7fTt2YXIgZXhpc3RzPWZ1bmN0aW9uIGV4aXN0cyh4cyxwcmVkKXtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07aWYocHJlZCh4LGkpKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O3ZhciBtYXA9ZnVuY3Rpb24gbWFwKHhzLGYpe3ZhciBsZW49eHMubGVuZ3RoO3ZhciByPW5ldyBBcnJheShsZW4pO2Zvcih2YXIgaT0wO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07cltpXT1mKHgsaSk7fXJldHVybiByO307dmFyIGVhY2g9ZnVuY3Rpb24gZWFjaCh4cyxmKXtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07Zih4LGkpO319O3ZhciBlYWNocj1mdW5jdGlvbiBlYWNocih4cyxmKXtmb3IodmFyIGk9eHMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciB4PXhzW2ldO2YoeCxpKTt9fTt2YXIgcGFydGl0aW9uPWZ1bmN0aW9uIHBhcnRpdGlvbih4cyxwcmVkKXt2YXIgcGFzcz1bXTt2YXIgZmFpbD1bXTtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07dmFyIGFycj1wcmVkKHgsaSk/cGFzczpmYWlsO2Fyci5wdXNoKHgpO31yZXR1cm57cGFzczpwYXNzLGZhaWw6ZmFpbH07fTt2YXIgZmlsdGVyPWZ1bmN0aW9uIGZpbHRlcih4cyxwcmVkKXt2YXIgcj1bXTtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07aWYocHJlZCh4LGkpKXtyLnB1c2goeCk7fX1yZXR1cm4gcjt9O3ZhciBmb2xkcj1mdW5jdGlvbiBmb2xkcih4cyxmLGFjYyl7ZWFjaHIoeHMsZnVuY3Rpb24oeCl7YWNjPWYoYWNjLHgpO30pO3JldHVybiBhY2M7fTt2YXIgZm9sZGw9ZnVuY3Rpb24gZm9sZGwoeHMsZixhY2Mpe2VhY2goeHMsZnVuY3Rpb24oeCl7YWNjPWYoYWNjLHgpO30pO3JldHVybiBhY2M7fTt2YXIgZmluZD1mdW5jdGlvbiBmaW5kKHhzLHByZWQpe2Zvcih2YXIgaT0wLGxlbj14cy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgeD14c1tpXTtpZihwcmVkKHgsaSkpe3JldHVybiBPcHRpb24uc29tZSh4KTt9fXJldHVybiBPcHRpb24ubm9uZSgpO307dmFyIGZpbmRJbmRleD1mdW5jdGlvbiBmaW5kSW5kZXgoeHMscHJlZCl7Zm9yKHZhciBpPTAsbGVuPXhzLmxlbmd0aDtpPGxlbjtpKyspe3ZhciB4PXhzW2ldO2lmKHByZWQoeCxpKSl7cmV0dXJuIE9wdGlvbi5zb21lKGkpO319cmV0dXJuIE9wdGlvbi5ub25lKCk7fTt2YXIgZmxhdHRlbj1mdW5jdGlvbiBmbGF0dGVuKHhzKXt2YXIgcj1bXTtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuOysraSl7aWYoIWlzQXJyYXkoeHNbaV0pKXt0aHJvdyBuZXcgRXJyb3IoJ0Fyci5mbGF0dGVuIGl0ZW0gJytpKycgd2FzIG5vdCBhbiBhcnJheSwgaW5wdXQ6ICcreHMpO31uYXRpdmVQdXNoLmFwcGx5KHIseHNbaV0pO31yZXR1cm4gcjt9O3ZhciBiaW5kPWZ1bmN0aW9uIGJpbmQoeHMsZil7dmFyIG91dHB1dD1tYXAoeHMsZik7cmV0dXJuIGZsYXR0ZW4ob3V0cHV0KTt9O3ZhciBmb3JhbGw9ZnVuY3Rpb24gZm9yYWxsKHhzLHByZWQpe2Zvcih2YXIgaT0wLGxlbj14cy5sZW5ndGg7aTxsZW47KytpKXt2YXIgeD14c1tpXTtpZihwcmVkKHgsaSkhPT10cnVlKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9O3ZhciByZXZlcnNlPWZ1bmN0aW9uIHJldmVyc2UoeHMpe3ZhciByPW5hdGl2ZVNsaWNlLmNhbGwoeHMsMCk7ci5yZXZlcnNlKCk7cmV0dXJuIHI7fTt2YXIgZGlmZmVyZW5jZT1mdW5jdGlvbiBkaWZmZXJlbmNlKGExLGEyKXtyZXR1cm4gZmlsdGVyKGExLGZ1bmN0aW9uKHgpe3JldHVybiFjb250YWlucyhhMix4KTt9KTt9O3ZhciBtYXBUb09iamVjdD1mdW5jdGlvbiBtYXBUb09iamVjdCh4cyxmKXt2YXIgcj17fTtmb3IodmFyIGk9MCxsZW49eHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHg9eHNbaV07cltTdHJpbmcoeCldPWYoeCxpKTt9cmV0dXJuIHI7fTt2YXIgc29ydD1mdW5jdGlvbiBzb3J0KHhzLGNvbXBhcmF0b3Ipe3ZhciBjb3B5PW5hdGl2ZVNsaWNlLmNhbGwoeHMsMCk7Y29weS5zb3J0KGNvbXBhcmF0b3IpO3JldHVybiBjb3B5O307dmFyIGhlYWQ9ZnVuY3Rpb24gaGVhZCh4cyl7cmV0dXJuIHhzLmxlbmd0aD09PTA/T3B0aW9uLm5vbmUoKTpPcHRpb24uc29tZSh4c1swXSk7fTt2YXIgbGFzdD1mdW5jdGlvbiBsYXN0KHhzKXtyZXR1cm4geHMubGVuZ3RoPT09MD9PcHRpb24ubm9uZSgpOk9wdGlvbi5zb21lKHhzW3hzLmxlbmd0aC0xXSk7fTt2YXIgZnJvbSQxPWlzRnVuY3Rpb24oQXJyYXkuZnJvbSk/QXJyYXkuZnJvbTpmdW5jdGlvbih4KXtyZXR1cm4gbmF0aXZlU2xpY2UuY2FsbCh4KTt9O3ZhciBfYXNzaWduPWZ1bmN0aW9uIF9fYXNzaWduKCl7X2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbiBfX2Fzc2lnbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKXtzPWFyZ3VtZW50c1tpXTtmb3IodmFyIHAgaW4gcyl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkpdFtwXT1zW3BdO319cmV0dXJuIHQ7fTtyZXR1cm4gX2Fzc2lnbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fTtmdW5jdGlvbiBfX3Jlc3QocyxlKXt2YXIgdD17fTtmb3IodmFyIHAgaW4gcyl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJmUuaW5kZXhPZihwKTwwKXRbcF09c1twXTt9aWYocyE9bnVsbCYmdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM9PT0nZnVuY3Rpb24nKWZvcih2YXIgaT0wLHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTtpPHAubGVuZ3RoO2krKyl7aWYoZS5pbmRleE9mKHBbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLHBbaV0pKXRbcFtpXV09c1twW2ldXTt9cmV0dXJuIHQ7fXZhciBpc05vZGVUeXBlPWZ1bmN0aW9uIGlzTm9kZVR5cGUodHlwZSl7cmV0dXJuIGZ1bmN0aW9uKG5vZGUpe3JldHVybiEhbm9kZSYmbm9kZS5ub2RlVHlwZT09PXR5cGU7fTt9O3ZhciBpc1Jlc3RyaWN0ZWROb2RlPWZ1bmN0aW9uIGlzUmVzdHJpY3RlZE5vZGUobm9kZSl7cmV0dXJuISFub2RlJiYhT2JqZWN0LmdldFByb3RvdHlwZU9mKG5vZGUpO307dmFyIGlzRWxlbWVudD1pc05vZGVUeXBlKDEpO3ZhciBtYXRjaE5vZGVOYW1lcz1mdW5jdGlvbiBtYXRjaE5vZGVOYW1lcyhuYW1lcyl7dmFyIGxvd2VyY2FzZWROYW1lcz1uYW1lcy5tYXAoZnVuY3Rpb24ocyl7cmV0dXJuIHMudG9Mb3dlckNhc2UoKTt9KTtyZXR1cm4gZnVuY3Rpb24obm9kZSl7aWYobm9kZSYmbm9kZS5ub2RlTmFtZSl7dmFyIG5vZGVOYW1lPW5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gY29udGFpbnMobG93ZXJjYXNlZE5hbWVzLG5vZGVOYW1lKTt9cmV0dXJuIGZhbHNlO307fTt2YXIgbWF0Y2hTdHlsZVZhbHVlcz1mdW5jdGlvbiBtYXRjaFN0eWxlVmFsdWVzKG5hbWUsdmFsdWVzKXt2YXIgaXRlbXM9dmFsdWVzLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKTtyZXR1cm4gZnVuY3Rpb24obm9kZSl7dmFyIGksY3NzVmFsdWU7aWYoaXNFbGVtZW50KG5vZGUpKXtmb3IoaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7dmFyIGNvbXB1dGVkPW5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsbnVsbCk7Y3NzVmFsdWU9Y29tcHV0ZWQ/Y29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTpudWxsO2lmKGNzc1ZhbHVlPT09aXRlbXNbaV0pe3JldHVybiB0cnVlO319fXJldHVybiBmYWxzZTt9O307dmFyIGhhc1Byb3BWYWx1ZT1mdW5jdGlvbiBoYXNQcm9wVmFsdWUocHJvcE5hbWUscHJvcFZhbHVlKXtyZXR1cm4gZnVuY3Rpb24obm9kZSl7cmV0dXJuIGlzRWxlbWVudChub2RlKSYmbm9kZVtwcm9wTmFtZV09PT1wcm9wVmFsdWU7fTt9O3ZhciBoYXNBdHRyaWJ1dGU9ZnVuY3Rpb24gaGFzQXR0cmlidXRlKGF0dHJOYW1lLGF0dHJWYWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKG5vZGUpe3JldHVybiBpc0VsZW1lbnQobm9kZSkmJm5vZGUuaGFzQXR0cmlidXRlKGF0dHJOYW1lKTt9O307dmFyIGhhc0F0dHJpYnV0ZVZhbHVlPWZ1bmN0aW9uIGhhc0F0dHJpYnV0ZVZhbHVlKGF0dHJOYW1lLGF0dHJWYWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKG5vZGUpe3JldHVybiBpc0VsZW1lbnQobm9kZSkmJm5vZGUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKT09PWF0dHJWYWx1ZTt9O307dmFyIGlzQm9ndXM9ZnVuY3Rpb24gaXNCb2d1cyhub2RlKXtyZXR1cm4gaXNFbGVtZW50KG5vZGUpJiZub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS1tY2UtYm9ndXMnKTt9O3ZhciBpc0JvZ3VzQWxsPWZ1bmN0aW9uIGlzQm9ndXNBbGwobm9kZSl7cmV0dXJuIGlzRWxlbWVudChub2RlKSYmbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLWJvZ3VzJyk9PT0nYWxsJzt9O3ZhciBpc1RhYmxlPWZ1bmN0aW9uIGlzVGFibGUobm9kZSl7cmV0dXJuIGlzRWxlbWVudChub2RlKSYmbm9kZS50YWdOYW1lPT09J1RBQkxFJzt9O3ZhciBoYXNDb250ZW50RWRpdGFibGVTdGF0ZT1mdW5jdGlvbiBoYXNDb250ZW50RWRpdGFibGVTdGF0ZSh2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKG5vZGUpe2lmKGlzRWxlbWVudChub2RlKSl7aWYobm9kZS5jb250ZW50RWRpdGFibGU9PT12YWx1ZSl7cmV0dXJuIHRydWU7fWlmKG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUnKT09PXZhbHVlKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O307dmFyIGlzVGV4dGFyZWFPcklucHV0PW1hdGNoTm9kZU5hbWVzKFsndGV4dGFyZWEnLCdpbnB1dCddKTt2YXIgaXNUZXh0PWlzTm9kZVR5cGUoMyk7dmFyIGlzQ29tbWVudD1pc05vZGVUeXBlKDgpO3ZhciBpc0RvY3VtZW50PWlzTm9kZVR5cGUoOSk7dmFyIGlzRG9jdW1lbnRGcmFnbWVudD1pc05vZGVUeXBlKDExKTt2YXIgaXNCcj1tYXRjaE5vZGVOYW1lcyhbJ2JyJ10pO3ZhciBpc0NvbnRlbnRFZGl0YWJsZVRydWU9aGFzQ29udGVudEVkaXRhYmxlU3RhdGUoJ3RydWUnKTt2YXIgaXNDb250ZW50RWRpdGFibGVGYWxzZT1oYXNDb250ZW50RWRpdGFibGVTdGF0ZSgnZmFsc2UnKTt2YXIgTm9kZVR5cGU9e2lzVGV4dDppc1RleHQsaXNFbGVtZW50OmlzRWxlbWVudCxpc0NvbW1lbnQ6aXNDb21tZW50LGlzRG9jdW1lbnQ6aXNEb2N1bWVudCxpc0RvY3VtZW50RnJhZ21lbnQ6aXNEb2N1bWVudEZyYWdtZW50LGlzQnI6aXNCcixpc0NvbnRlbnRFZGl0YWJsZVRydWU6aXNDb250ZW50RWRpdGFibGVUcnVlLGlzQ29udGVudEVkaXRhYmxlRmFsc2U6aXNDb250ZW50RWRpdGFibGVGYWxzZSxpc1Jlc3RyaWN0ZWROb2RlOmlzUmVzdHJpY3RlZE5vZGUsbWF0Y2hOb2RlTmFtZXM6bWF0Y2hOb2RlTmFtZXMsaGFzUHJvcFZhbHVlOmhhc1Byb3BWYWx1ZSxoYXNBdHRyaWJ1dGU6aGFzQXR0cmlidXRlLGhhc0F0dHJpYnV0ZVZhbHVlOmhhc0F0dHJpYnV0ZVZhbHVlLG1hdGNoU3R5bGVWYWx1ZXM6bWF0Y2hTdHlsZVZhbHVlcyxpc0JvZ3VzOmlzQm9ndXMsaXNCb2d1c0FsbDppc0JvZ3VzQWxsLGlzVGFibGU6aXNUYWJsZSxpc1RleHRhcmVhT3JJbnB1dDppc1RleHRhcmVhT3JJbnB1dH07dmFyIENlbGw9ZnVuY3Rpb24gQ2VsbChpbml0aWFsKXt2YXIgdmFsdWU9aW5pdGlhbDt2YXIgZ2V0PWZ1bmN0aW9uIGdldCgpe3JldHVybiB2YWx1ZTt9O3ZhciBzZXQ9ZnVuY3Rpb24gc2V0KHYpe3ZhbHVlPXY7fTt2YXIgY2xvbmU9ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gQ2VsbChnZXQoKSk7fTtyZXR1cm57Z2V0OmdldCxzZXQ6c2V0LGNsb25lOmNsb25lfTt9O3ZhciBmaXJzdE1hdGNoPWZ1bmN0aW9uIGZpcnN0TWF0Y2gocmVnZXhlcyxzKXtmb3IodmFyIGk9MDtpPHJlZ2V4ZXMubGVuZ3RoO2krKyl7dmFyIHg9cmVnZXhlc1tpXTtpZih4LnRlc3Qocykpe3JldHVybiB4O319cmV0dXJuIHVuZGVmaW5lZDt9O3ZhciBmaW5kJDE9ZnVuY3Rpb24gZmluZCQxKHJlZ2V4ZXMsYWdlbnQpe3ZhciByPWZpcnN0TWF0Y2gocmVnZXhlcyxhZ2VudCk7aWYoIXIpe3JldHVybnttYWpvcjowLG1pbm9yOjB9O312YXIgZ3JvdXA9ZnVuY3Rpb24gZ3JvdXAoaSl7cmV0dXJuIE51bWJlcihhZ2VudC5yZXBsYWNlKHIsJyQnK2kpKTt9O3JldHVybiBudShncm91cCgxKSxncm91cCgyKSk7fTt2YXIgZGV0ZWN0PWZ1bmN0aW9uIGRldGVjdCh2ZXJzaW9uUmVnZXhlcyxhZ2VudCl7dmFyIGNsZWFuZWRBZ2VudD1TdHJpbmcoYWdlbnQpLnRvTG93ZXJDYXNlKCk7aWYodmVyc2lvblJlZ2V4ZXMubGVuZ3RoPT09MCl7cmV0dXJuIHVua25vd24oKTt9cmV0dXJuIGZpbmQkMSh2ZXJzaW9uUmVnZXhlcyxjbGVhbmVkQWdlbnQpO307dmFyIHVua25vd249ZnVuY3Rpb24gdW5rbm93bigpe3JldHVybiBudSgwLDApO307dmFyIG51PWZ1bmN0aW9uIG51KG1ham9yLG1pbm9yKXtyZXR1cm57bWFqb3I6bWFqb3IsbWlub3I6bWlub3J9O307dmFyIFZlcnNpb249e251Om51LGRldGVjdDpkZXRlY3QsdW5rbm93bjp1bmtub3dufTt2YXIgZWRnZT0nRWRnZSc7dmFyIGNocm9tZT0nQ2hyb21lJzt2YXIgaWU9J0lFJzt2YXIgb3BlcmE9J09wZXJhJzt2YXIgZmlyZWZveD0nRmlyZWZveCc7dmFyIHNhZmFyaT0nU2FmYXJpJzt2YXIgaXNCcm93c2VyPWZ1bmN0aW9uIGlzQnJvd3NlcihuYW1lLGN1cnJlbnQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjdXJyZW50PT09bmFtZTt9O307dmFyIHVua25vd24kMT1mdW5jdGlvbiB1bmtub3duJDEoKXtyZXR1cm4gbnUkMSh7Y3VycmVudDp1bmRlZmluZWQsdmVyc2lvbjpWZXJzaW9uLnVua25vd24oKX0pO307dmFyIG51JDE9ZnVuY3Rpb24gbnUkMShpbmZvKXt2YXIgY3VycmVudD1pbmZvLmN1cnJlbnQ7dmFyIHZlcnNpb249aW5mby52ZXJzaW9uO3JldHVybntjdXJyZW50OmN1cnJlbnQsdmVyc2lvbjp2ZXJzaW9uLGlzRWRnZTppc0Jyb3dzZXIoZWRnZSxjdXJyZW50KSxpc0Nocm9tZTppc0Jyb3dzZXIoY2hyb21lLGN1cnJlbnQpLGlzSUU6aXNCcm93c2VyKGllLGN1cnJlbnQpLGlzT3BlcmE6aXNCcm93c2VyKG9wZXJhLGN1cnJlbnQpLGlzRmlyZWZveDppc0Jyb3dzZXIoZmlyZWZveCxjdXJyZW50KSxpc1NhZmFyaTppc0Jyb3dzZXIoc2FmYXJpLGN1cnJlbnQpfTt9O3ZhciBCcm93c2VyPXt1bmtub3duOnVua25vd24kMSxudTpudSQxLGVkZ2U6Y29uc3RhbnQoZWRnZSksY2hyb21lOmNvbnN0YW50KGNocm9tZSksaWU6Y29uc3RhbnQoaWUpLG9wZXJhOmNvbnN0YW50KG9wZXJhKSxmaXJlZm94OmNvbnN0YW50KGZpcmVmb3gpLHNhZmFyaTpjb25zdGFudChzYWZhcmkpfTt2YXIgd2luZG93cz0nV2luZG93cyc7dmFyIGlvcz0naU9TJzt2YXIgYW5kcm9pZD0nQW5kcm9pZCc7dmFyIGxpbnV4PSdMaW51eCc7dmFyIG9zeD0nT1NYJzt2YXIgc29sYXJpcz0nU29sYXJpcyc7dmFyIGZyZWVic2Q9J0ZyZWVCU0QnO3ZhciBpc09TPWZ1bmN0aW9uIGlzT1MobmFtZSxjdXJyZW50KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY3VycmVudD09PW5hbWU7fTt9O3ZhciB1bmtub3duJDI9ZnVuY3Rpb24gdW5rbm93biQyKCl7cmV0dXJuIG51JDIoe2N1cnJlbnQ6dW5kZWZpbmVkLHZlcnNpb246VmVyc2lvbi51bmtub3duKCl9KTt9O3ZhciBudSQyPWZ1bmN0aW9uIG51JDIoaW5mbyl7dmFyIGN1cnJlbnQ9aW5mby5jdXJyZW50O3ZhciB2ZXJzaW9uPWluZm8udmVyc2lvbjtyZXR1cm57Y3VycmVudDpjdXJyZW50LHZlcnNpb246dmVyc2lvbixpc1dpbmRvd3M6aXNPUyh3aW5kb3dzLGN1cnJlbnQpLGlzaU9TOmlzT1MoaW9zLGN1cnJlbnQpLGlzQW5kcm9pZDppc09TKGFuZHJvaWQsY3VycmVudCksaXNPU1g6aXNPUyhvc3gsY3VycmVudCksaXNMaW51eDppc09TKGxpbnV4LGN1cnJlbnQpLGlzU29sYXJpczppc09TKHNvbGFyaXMsY3VycmVudCksaXNGcmVlQlNEOmlzT1MoZnJlZWJzZCxjdXJyZW50KX07fTt2YXIgT3BlcmF0aW5nU3lzdGVtPXt1bmtub3duOnVua25vd24kMixudTpudSQyLHdpbmRvd3M6Y29uc3RhbnQod2luZG93cyksaW9zOmNvbnN0YW50KGlvcyksYW5kcm9pZDpjb25zdGFudChhbmRyb2lkKSxsaW51eDpjb25zdGFudChsaW51eCksb3N4OmNvbnN0YW50KG9zeCksc29sYXJpczpjb25zdGFudChzb2xhcmlzKSxmcmVlYnNkOmNvbnN0YW50KGZyZWVic2QpfTt2YXIgRGV2aWNlVHlwZT1mdW5jdGlvbiBEZXZpY2VUeXBlKG9zLGJyb3dzZXIsdXNlckFnZW50LG1lZGlhTWF0Y2gpe3ZhciBpc2lQYWQ9b3MuaXNpT1MoKSYmL2lwYWQvaS50ZXN0KHVzZXJBZ2VudCk9PT10cnVlO3ZhciBpc2lQaG9uZT1vcy5pc2lPUygpJiYhaXNpUGFkO3ZhciBpc01vYmlsZT1vcy5pc2lPUygpfHxvcy5pc0FuZHJvaWQoKTt2YXIgaXNUb3VjaD1pc01vYmlsZXx8bWVkaWFNYXRjaCgnKHBvaW50ZXI6Y29hcnNlKScpO3ZhciBpc1RhYmxldD1pc2lQYWR8fCFpc2lQaG9uZSYmaXNNb2JpbGUmJm1lZGlhTWF0Y2goJyhtaW4tZGV2aWNlLXdpZHRoOjc2OHB4KScpO3ZhciBpc1Bob25lPWlzaVBob25lfHxpc01vYmlsZSYmIWlzVGFibGV0O3ZhciBpT1N3ZWJ2aWV3PWJyb3dzZXIuaXNTYWZhcmkoKSYmb3MuaXNpT1MoKSYmL3NhZmFyaS9pLnRlc3QodXNlckFnZW50KT09PWZhbHNlO3ZhciBpc0Rlc2t0b3A9IWlzUGhvbmUmJiFpc1RhYmxldCYmIWlPU3dlYnZpZXc7cmV0dXJue2lzaVBhZDpjb25zdGFudChpc2lQYWQpLGlzaVBob25lOmNvbnN0YW50KGlzaVBob25lKSxpc1RhYmxldDpjb25zdGFudChpc1RhYmxldCksaXNQaG9uZTpjb25zdGFudChpc1Bob25lKSxpc1RvdWNoOmNvbnN0YW50KGlzVG91Y2gpLGlzQW5kcm9pZDpvcy5pc0FuZHJvaWQsaXNpT1M6b3MuaXNpT1MsaXNXZWJWaWV3OmNvbnN0YW50KGlPU3dlYnZpZXcpLGlzRGVza3RvcDpjb25zdGFudChpc0Rlc2t0b3ApfTt9O3ZhciBkZXRlY3QkMT1mdW5jdGlvbiBkZXRlY3QkMShjYW5kaWRhdGVzLHVzZXJBZ2VudCl7dmFyIGFnZW50PVN0cmluZyh1c2VyQWdlbnQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGZpbmQoY2FuZGlkYXRlcyxmdW5jdGlvbihjYW5kaWRhdGUpe3JldHVybiBjYW5kaWRhdGUuc2VhcmNoKGFnZW50KTt9KTt9O3ZhciBkZXRlY3RCcm93c2VyPWZ1bmN0aW9uIGRldGVjdEJyb3dzZXIoYnJvd3NlcnMsdXNlckFnZW50KXtyZXR1cm4gZGV0ZWN0JDEoYnJvd3NlcnMsdXNlckFnZW50KS5tYXAoZnVuY3Rpb24oYnJvd3Nlcil7dmFyIHZlcnNpb249VmVyc2lvbi5kZXRlY3QoYnJvd3Nlci52ZXJzaW9uUmVnZXhlcyx1c2VyQWdlbnQpO3JldHVybntjdXJyZW50OmJyb3dzZXIubmFtZSx2ZXJzaW9uOnZlcnNpb259O30pO307dmFyIGRldGVjdE9zPWZ1bmN0aW9uIGRldGVjdE9zKG9zZXMsdXNlckFnZW50KXtyZXR1cm4gZGV0ZWN0JDEob3Nlcyx1c2VyQWdlbnQpLm1hcChmdW5jdGlvbihvcyl7dmFyIHZlcnNpb249VmVyc2lvbi5kZXRlY3Qob3MudmVyc2lvblJlZ2V4ZXMsdXNlckFnZW50KTtyZXR1cm57Y3VycmVudDpvcy5uYW1lLHZlcnNpb246dmVyc2lvbn07fSk7fTt2YXIgVWFTdHJpbmc9e2RldGVjdEJyb3dzZXI6ZGV0ZWN0QnJvd3NlcixkZXRlY3RPczpkZXRlY3RPc307dmFyIGNoZWNrUmFuZ2U9ZnVuY3Rpb24gY2hlY2tSYW5nZShzdHIsc3Vic3RyLHN0YXJ0KXtpZihzdWJzdHI9PT0nJyl7cmV0dXJuIHRydWU7fWlmKHN0ci5sZW5ndGg8c3Vic3RyLmxlbmd0aCl7cmV0dXJuIGZhbHNlO312YXIgeD1zdHIuc3Vic3RyKHN0YXJ0LHN0YXJ0K3N1YnN0ci5sZW5ndGgpO3JldHVybiB4PT09c3Vic3RyO307dmFyIGNvbnRhaW5zJDE9ZnVuY3Rpb24gY29udGFpbnMkMShzdHIsc3Vic3RyKXtyZXR1cm4gc3RyLmluZGV4T2Yoc3Vic3RyKSE9PS0xO307dmFyIHN0YXJ0c1dpdGg9ZnVuY3Rpb24gc3RhcnRzV2l0aChzdHIscHJlZml4KXtyZXR1cm4gY2hlY2tSYW5nZShzdHIscHJlZml4LDApO307dmFyIHRyaW09ZnVuY3Rpb24gdHJpbShzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvXlxzK3xccyskL2csJycpO307dmFyIGxUcmltPWZ1bmN0aW9uIGxUcmltKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9eXHMrL2csJycpO307dmFyIHJUcmltPWZ1bmN0aW9uIHJUcmltKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9ccyskL2csJycpO307dmFyIG5vcm1hbFZlcnNpb25SZWdleD0vLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovO3ZhciBjaGVja0NvbnRhaW5zPWZ1bmN0aW9uIGNoZWNrQ29udGFpbnModGFyZ2V0KXtyZXR1cm4gZnVuY3Rpb24odWFzdHJpbmcpe3JldHVybiBjb250YWlucyQxKHVhc3RyaW5nLHRhcmdldCk7fTt9O3ZhciBicm93c2Vycz1be25hbWU6J0VkZ2UnLHZlcnNpb25SZWdleGVzOlsvLio/ZWRnZVwvID8oWzAtOV0rKVwuKFswLTldKykkL10sc2VhcmNoOmZ1bmN0aW9uIHNlYXJjaCh1YXN0cmluZyl7cmV0dXJuIGNvbnRhaW5zJDEodWFzdHJpbmcsJ2VkZ2UvJykmJmNvbnRhaW5zJDEodWFzdHJpbmcsJ2Nocm9tZScpJiZjb250YWlucyQxKHVhc3RyaW5nLCdzYWZhcmknKSYmY29udGFpbnMkMSh1YXN0cmluZywnYXBwbGV3ZWJraXQnKTt9fSx7bmFtZTonQ2hyb21lJyx2ZXJzaW9uUmVnZXhlczpbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovLG5vcm1hbFZlcnNpb25SZWdleF0sc2VhcmNoOmZ1bmN0aW9uIHNlYXJjaCh1YXN0cmluZyl7cmV0dXJuIGNvbnRhaW5zJDEodWFzdHJpbmcsJ2Nocm9tZScpJiYhY29udGFpbnMkMSh1YXN0cmluZywnY2hyb21lZnJhbWUnKTt9fSx7bmFtZTonSUUnLHZlcnNpb25SZWdleGVzOlsvLio/bXNpZVwgPyhbMC05XSspXC4oWzAtOV0rKS4qLywvLio/cnY6KFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24gc2VhcmNoKHVhc3RyaW5nKXtyZXR1cm4gY29udGFpbnMkMSh1YXN0cmluZywnbXNpZScpfHxjb250YWlucyQxKHVhc3RyaW5nLCd0cmlkZW50Jyk7fX0se25hbWU6J09wZXJhJyx2ZXJzaW9uUmVnZXhlczpbbm9ybWFsVmVyc2lvblJlZ2V4LC8uKj9vcGVyYVwvKFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6Y2hlY2tDb250YWlucygnb3BlcmEnKX0se25hbWU6J0ZpcmVmb3gnLHZlcnNpb25SZWdleGVzOlsvLio/ZmlyZWZveFwvXCA/KFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6Y2hlY2tDb250YWlucygnZmlyZWZveCcpfSx7bmFtZTonU2FmYXJpJyx2ZXJzaW9uUmVnZXhlczpbbm9ybWFsVmVyc2lvblJlZ2V4LC8uKj9jcHUgb3MgKFswLTldKylfKFswLTldKykuKi9dLHNlYXJjaDpmdW5jdGlvbiBzZWFyY2godWFzdHJpbmcpe3JldHVybihjb250YWlucyQxKHVhc3RyaW5nLCdzYWZhcmknKXx8Y29udGFpbnMkMSh1YXN0cmluZywnbW9iaWxlLycpKSYmY29udGFpbnMkMSh1YXN0cmluZywnYXBwbGV3ZWJraXQnKTt9fV07dmFyIG9zZXM9W3tuYW1lOidXaW5kb3dzJyxzZWFyY2g6Y2hlY2tDb250YWlucygnd2luJyksdmVyc2lvblJlZ2V4ZXM6Wy8uKj93aW5kb3dzXCBudFwgPyhbMC05XSspXC4oWzAtOV0rKS4qL119LHtuYW1lOidpT1MnLHNlYXJjaDpmdW5jdGlvbiBzZWFyY2godWFzdHJpbmcpe3JldHVybiBjb250YWlucyQxKHVhc3RyaW5nLCdpcGhvbmUnKXx8Y29udGFpbnMkMSh1YXN0cmluZywnaXBhZCcpO30sdmVyc2lvblJlZ2V4ZXM6Wy8uKj92ZXJzaW9uXC9cID8oWzAtOV0rKVwuKFswLTldKykuKi8sLy4qY3B1IG9zIChbMC05XSspXyhbMC05XSspLiovLC8uKmNwdSBpcGhvbmUgb3MgKFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZTonQW5kcm9pZCcsc2VhcmNoOmNoZWNrQ29udGFpbnMoJ2FuZHJvaWQnKSx2ZXJzaW9uUmVnZXhlczpbLy4qP2FuZHJvaWRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZTonT1NYJyxzZWFyY2g6Y2hlY2tDb250YWlucygnb3MgeCcpLHZlcnNpb25SZWdleGVzOlsvLio/b3NcIHhcID8oWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOidMaW51eCcsc2VhcmNoOmNoZWNrQ29udGFpbnMoJ2xpbnV4JyksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOidTb2xhcmlzJyxzZWFyY2g6Y2hlY2tDb250YWlucygnc3Vub3MnKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6J0ZyZWVCU0QnLHNlYXJjaDpjaGVja0NvbnRhaW5zKCdmcmVlYnNkJyksdmVyc2lvblJlZ2V4ZXM6W119XTt2YXIgUGxhdGZvcm1JbmZvPXticm93c2Vyczpjb25zdGFudChicm93c2Vycyksb3Nlczpjb25zdGFudChvc2VzKX07dmFyIGRldGVjdCQyPWZ1bmN0aW9uIGRldGVjdCQyKHVzZXJBZ2VudCxtZWRpYU1hdGNoKXt2YXIgYnJvd3NlcnM9UGxhdGZvcm1JbmZvLmJyb3dzZXJzKCk7dmFyIG9zZXM9UGxhdGZvcm1JbmZvLm9zZXMoKTt2YXIgYnJvd3Nlcj1VYVN0cmluZy5kZXRlY3RCcm93c2VyKGJyb3dzZXJzLHVzZXJBZ2VudCkuZm9sZChCcm93c2VyLnVua25vd24sQnJvd3Nlci5udSk7dmFyIG9zPVVhU3RyaW5nLmRldGVjdE9zKG9zZXMsdXNlckFnZW50KS5mb2xkKE9wZXJhdGluZ1N5c3RlbS51bmtub3duLE9wZXJhdGluZ1N5c3RlbS5udSk7dmFyIGRldmljZVR5cGU9RGV2aWNlVHlwZShvcyxicm93c2VyLHVzZXJBZ2VudCxtZWRpYU1hdGNoKTtyZXR1cm57YnJvd3Nlcjpicm93c2VyLG9zOm9zLGRldmljZVR5cGU6ZGV2aWNlVHlwZX07fTt2YXIgUGxhdGZvcm1EZXRlY3Rpb249e2RldGVjdDpkZXRlY3QkMn07dmFyIG1lZGlhTWF0Y2g9ZnVuY3Rpb24gbWVkaWFNYXRjaChxdWVyeSl7cmV0dXJuIGRvbUdsb2JhbHMud2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7fTt2YXIgcGxhdGZvcm09Q2VsbChQbGF0Zm9ybURldGVjdGlvbi5kZXRlY3QoZG9tR2xvYmFscy5uYXZpZ2F0b3IudXNlckFnZW50LG1lZGlhTWF0Y2gpKTt2YXIgZGV0ZWN0JDM9ZnVuY3Rpb24gZGV0ZWN0JDMoKXtyZXR1cm4gcGxhdGZvcm0uZ2V0KCk7fTt2YXIgZnJvbUh0bWw9ZnVuY3Rpb24gZnJvbUh0bWwoaHRtbCxzY29wZSl7dmFyIGRvYz1zY29wZXx8ZG9tR2xvYmFscy5kb2N1bWVudDt2YXIgZGl2PWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtkaXYuaW5uZXJIVE1MPWh0bWw7aWYoIWRpdi5oYXNDaGlsZE5vZGVzKCl8fGRpdi5jaGlsZE5vZGVzLmxlbmd0aD4xKXtkb21HbG9iYWxzLmNvbnNvbGUuZXJyb3IoJ0hUTUwgZG9lcyBub3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUnLGh0bWwpO3Rocm93IG5ldyBFcnJvcignSFRNTCBtdXN0IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlJyk7fXJldHVybiBmcm9tRG9tKGRpdi5jaGlsZE5vZGVzWzBdKTt9O3ZhciBmcm9tVGFnPWZ1bmN0aW9uIGZyb21UYWcodGFnLHNjb3BlKXt2YXIgZG9jPXNjb3BlfHxkb21HbG9iYWxzLmRvY3VtZW50O3ZhciBub2RlPWRvYy5jcmVhdGVFbGVtZW50KHRhZyk7cmV0dXJuIGZyb21Eb20obm9kZSk7fTt2YXIgZnJvbVRleHQ9ZnVuY3Rpb24gZnJvbVRleHQodGV4dCxzY29wZSl7dmFyIGRvYz1zY29wZXx8ZG9tR2xvYmFscy5kb2N1bWVudDt2YXIgbm9kZT1kb2MuY3JlYXRlVGV4dE5vZGUodGV4dCk7cmV0dXJuIGZyb21Eb20obm9kZSk7fTt2YXIgZnJvbURvbT1mdW5jdGlvbiBmcm9tRG9tKG5vZGUpe2lmKG5vZGU9PT1udWxsfHxub2RlPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoJ05vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkJyk7fXJldHVybntkb206Y29uc3RhbnQobm9kZSl9O307dmFyIGZyb21Qb2ludD1mdW5jdGlvbiBmcm9tUG9pbnQoZG9jRWxtLHgseSl7dmFyIGRvYz1kb2NFbG0uZG9tKCk7cmV0dXJuIE9wdGlvbi5mcm9tKGRvYy5lbGVtZW50RnJvbVBvaW50KHgseSkpLm1hcChmcm9tRG9tKTt9O3ZhciBFbGVtZW50PXtmcm9tSHRtbDpmcm9tSHRtbCxmcm9tVGFnOmZyb21UYWcsZnJvbVRleHQ6ZnJvbVRleHQsZnJvbURvbTpmcm9tRG9tLGZyb21Qb2ludDpmcm9tUG9pbnR9O3ZhciBBVFRSSUJVVEU9ZG9tR2xvYmFscy5Ob2RlLkFUVFJJQlVURV9OT0RFO3ZhciBDREFUQV9TRUNUSU9OPWRvbUdsb2JhbHMuTm9kZS5DREFUQV9TRUNUSU9OX05PREU7dmFyIENPTU1FTlQ9ZG9tR2xvYmFscy5Ob2RlLkNPTU1FTlRfTk9ERTt2YXIgRE9DVU1FTlQ9ZG9tR2xvYmFscy5Ob2RlLkRPQ1VNRU5UX05PREU7dmFyIERPQ1VNRU5UX1RZUEU9ZG9tR2xvYmFscy5Ob2RlLkRPQ1VNRU5UX1RZUEVfTk9ERTt2YXIgRE9DVU1FTlRfRlJBR01FTlQ9ZG9tR2xvYmFscy5Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU7dmFyIEVMRU1FTlQ9ZG9tR2xvYmFscy5Ob2RlLkVMRU1FTlRfTk9ERTt2YXIgVEVYVD1kb21HbG9iYWxzLk5vZGUuVEVYVF9OT0RFO3ZhciBQUk9DRVNTSU5HX0lOU1RSVUNUSU9OPWRvbUdsb2JhbHMuTm9kZS5QUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU7dmFyIEVOVElUWV9SRUZFUkVOQ0U9ZG9tR2xvYmFscy5Ob2RlLkVOVElUWV9SRUZFUkVOQ0VfTk9ERTt2YXIgRU5USVRZPWRvbUdsb2JhbHMuTm9kZS5FTlRJVFlfTk9ERTt2YXIgTk9UQVRJT049ZG9tR2xvYmFscy5Ob2RlLk5PVEFUSU9OX05PREU7dmFyIEdsb2JhbD10eXBlb2YgZG9tR2xvYmFscy53aW5kb3chPT0ndW5kZWZpbmVkJz9kb21HbG9iYWxzLndpbmRvdzpGdW5jdGlvbigncmV0dXJuIHRoaXM7JykoKTt2YXIgbmFtZT1mdW5jdGlvbiBuYW1lKGVsZW1lbnQpe3ZhciByPWVsZW1lbnQuZG9tKCkubm9kZU5hbWU7cmV0dXJuIHIudG9Mb3dlckNhc2UoKTt9O3ZhciB0eXBlPWZ1bmN0aW9uIHR5cGUoZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuZG9tKCkubm9kZVR5cGU7fTt2YXIgaXNUeXBlJDE9ZnVuY3Rpb24gaXNUeXBlJDEodCl7cmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiB0eXBlKGVsZW1lbnQpPT09dDt9O307dmFyIGlzRWxlbWVudCQxPWlzVHlwZSQxKEVMRU1FTlQpO3ZhciBpc1RleHQkMT1pc1R5cGUkMShURVhUKTt2YXIga2V5cz1PYmplY3Qua2V5czt2YXIgaGFzT3duUHJvcGVydHk9T2JqZWN0Lmhhc093blByb3BlcnR5O3ZhciBlYWNoJDE9ZnVuY3Rpb24gZWFjaCQxKG9iaixmKXt2YXIgcHJvcHM9a2V5cyhvYmopO2Zvcih2YXIgaz0wLGxlbj1wcm9wcy5sZW5ndGg7azxsZW47aysrKXt2YXIgaT1wcm9wc1trXTt2YXIgeD1vYmpbaV07Zih4LGkpO319O3ZhciBtYXAkMT1mdW5jdGlvbiBtYXAkMShvYmosZil7cmV0dXJuIHR1cGxlTWFwKG9iaixmdW5jdGlvbih4LGkpe3JldHVybntrOmksdjpmKHgsaSl9O30pO307dmFyIHR1cGxlTWFwPWZ1bmN0aW9uIHR1cGxlTWFwKG9iaixmKXt2YXIgcj17fTtlYWNoJDEob2JqLGZ1bmN0aW9uKHgsaSl7dmFyIHR1cGxlPWYoeCxpKTtyW3R1cGxlLmtdPXR1cGxlLnY7fSk7cmV0dXJuIHI7fTt2YXIgYmlmaWx0ZXI9ZnVuY3Rpb24gYmlmaWx0ZXIob2JqLHByZWQpe3ZhciB0PXt9O3ZhciBmPXt9O2VhY2gkMShvYmosZnVuY3Rpb24oeCxpKXt2YXIgYnJhbmNoPXByZWQoeCxpKT90OmY7YnJhbmNoW2ldPXg7fSk7cmV0dXJue3Q6dCxmOmZ9O307dmFyIGdldD1mdW5jdGlvbiBnZXQob2JqLGtleSl7cmV0dXJuIGhhcyhvYmosa2V5KT9PcHRpb24uZnJvbShvYmpba2V5XSk6T3B0aW9uLm5vbmUoKTt9O3ZhciBoYXM9ZnVuY3Rpb24gaGFzKG9iaixrZXkpe3JldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpO307dmFyIGlzU3VwcG9ydGVkPWZ1bmN0aW9uIGlzU3VwcG9ydGVkKGRvbSl7cmV0dXJuIGRvbS5zdHlsZSE9PXVuZGVmaW5lZCYmaXNGdW5jdGlvbihkb20uc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSk7fTt2YXIgaW5Cb2R5PWZ1bmN0aW9uIGluQm9keShlbGVtZW50KXt2YXIgZG9tPWlzVGV4dCQxKGVsZW1lbnQpP2VsZW1lbnQuZG9tKCkucGFyZW50Tm9kZTplbGVtZW50LmRvbSgpO3JldHVybiBkb20hPT11bmRlZmluZWQmJmRvbSE9PW51bGwmJmRvbS5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKTt9O3ZhciByYXdTZXQ9ZnVuY3Rpb24gcmF3U2V0KGRvbSxrZXksdmFsdWUpe2lmKGlzU3RyaW5nKHZhbHVlKXx8aXNCb29sZWFuKHZhbHVlKXx8aXNOdW1iZXIodmFsdWUpKXtkb20uc2V0QXR0cmlidXRlKGtleSx2YWx1ZSsnJyk7fWVsc2V7ZG9tR2xvYmFscy5jb25zb2xlLmVycm9yKCdJbnZhbGlkIGNhbGwgdG8gQXR0ci5zZXQuIEtleSAnLGtleSwnOjogVmFsdWUgJyx2YWx1ZSwnOjogRWxlbWVudCAnLGRvbSk7dGhyb3cgbmV3IEVycm9yKCdBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGUnKTt9fTt2YXIgc2V0PWZ1bmN0aW9uIHNldChlbGVtZW50LGtleSx2YWx1ZSl7cmF3U2V0KGVsZW1lbnQuZG9tKCksa2V5LHZhbHVlKTt9O3ZhciBzZXRBbGw9ZnVuY3Rpb24gc2V0QWxsKGVsZW1lbnQsYXR0cnMpe3ZhciBkb209ZWxlbWVudC5kb20oKTtlYWNoJDEoYXR0cnMsZnVuY3Rpb24odixrKXtyYXdTZXQoZG9tLGssdik7fSk7fTt2YXIgZ2V0JDE9ZnVuY3Rpb24gZ2V0JDEoZWxlbWVudCxrZXkpe3ZhciB2PWVsZW1lbnQuZG9tKCkuZ2V0QXR0cmlidXRlKGtleSk7cmV0dXJuIHY9PT1udWxsP3VuZGVmaW5lZDp2O307dmFyIGhhcyQxPWZ1bmN0aW9uIGhhcyQxKGVsZW1lbnQsa2V5KXt2YXIgZG9tPWVsZW1lbnQuZG9tKCk7cmV0dXJuIGRvbSYmZG9tLmhhc0F0dHJpYnV0ZT9kb20uaGFzQXR0cmlidXRlKGtleSk6ZmFsc2U7fTt2YXIgcmVtb3ZlPWZ1bmN0aW9uIHJlbW92ZShlbGVtZW50LGtleSl7ZWxlbWVudC5kb20oKS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTt9O3ZhciBnZXQkMj1mdW5jdGlvbiBnZXQkMihlbGVtZW50LHByb3BlcnR5KXt2YXIgZG9tPWVsZW1lbnQuZG9tKCk7dmFyIHN0eWxlcz1kb21HbG9iYWxzLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvbSk7dmFyIHI9c3R5bGVzLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO3ZhciB2PXI9PT0nJyYmIWluQm9keShlbGVtZW50KT9nZXRVbnNhZmVQcm9wZXJ0eShkb20scHJvcGVydHkpOnI7cmV0dXJuIHY9PT1udWxsP3VuZGVmaW5lZDp2O307dmFyIGdldFVuc2FmZVByb3BlcnR5PWZ1bmN0aW9uIGdldFVuc2FmZVByb3BlcnR5KGRvbSxwcm9wZXJ0eSl7cmV0dXJuIGlzU3VwcG9ydGVkKGRvbSk/ZG9tLnN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpOicnO307dmFyIGdldFJhdz1mdW5jdGlvbiBnZXRSYXcoZWxlbWVudCxwcm9wZXJ0eSl7dmFyIGRvbT1lbGVtZW50LmRvbSgpO3ZhciByYXc9Z2V0VW5zYWZlUHJvcGVydHkoZG9tLHByb3BlcnR5KTtyZXR1cm4gT3B0aW9uLmZyb20ocmF3KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIubGVuZ3RoPjA7fSk7fTt2YXIgcmVmbG93PWZ1bmN0aW9uIHJlZmxvdyhlKXtyZXR1cm4gZS5kb20oKS5vZmZzZXRXaWR0aDt9O3ZhciBJbW11dGFibGU9ZnVuY3Rpb24gSW1tdXRhYmxlKCl7dmFyIGZpZWxkcz1bXTtmb3IodmFyIF9pPTA7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKXtmaWVsZHNbX2ldPWFyZ3VtZW50c1tfaV07fXJldHVybiBmdW5jdGlvbigpe3ZhciB2YWx1ZXM9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7dmFsdWVzW19pXT1hcmd1bWVudHNbX2ldO31pZihmaWVsZHMubGVuZ3RoIT09dmFsdWVzLmxlbmd0aCl7dGhyb3cgbmV3IEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIHN0cnVjdC4gRXhwZWN0ZWQgIlsnK2ZpZWxkcy5sZW5ndGgrJ10iLCBnb3QgJyt2YWx1ZXMubGVuZ3RoKycgYXJndW1lbnRzJyk7fXZhciBzdHJ1Y3Q9e307ZWFjaChmaWVsZHMsZnVuY3Rpb24obmFtZSxpKXtzdHJ1Y3RbbmFtZV09Y29uc3RhbnQodmFsdWVzW2ldKTt9KTtyZXR1cm4gc3RydWN0O307fTt2YXIgdG9BcnJheT1mdW5jdGlvbiB0b0FycmF5KHRhcmdldCxmKXt2YXIgcj1bXTt2YXIgcmVjdXJzZT1mdW5jdGlvbiByZWN1cnNlKGUpe3IucHVzaChlKTtyZXR1cm4gZihlKTt9O3ZhciBjdXI9Zih0YXJnZXQpO2Rve2N1cj1jdXIuYmluZChyZWN1cnNlKTt9d2hpbGUoY3VyLmlzU29tZSgpKTtyZXR1cm4gcjt9O3ZhciBSZWN1cnNlPXt0b0FycmF5OnRvQXJyYXl9O3ZhciBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbj1mdW5jdGlvbiBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhLGIsbWF0Y2gpe3JldHVybihhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJm1hdGNoKSE9PTA7fTt2YXIgZG9jdW1lbnRQb3NpdGlvblByZWNlZGluZz1mdW5jdGlvbiBkb2N1bWVudFBvc2l0aW9uUHJlY2VkaW5nKGEsYil7cmV0dXJuIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEsYixkb21HbG9iYWxzLk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HKTt9O3ZhciBkb2N1bWVudFBvc2l0aW9uQ29udGFpbmVkQnk9ZnVuY3Rpb24gZG9jdW1lbnRQb3NpdGlvbkNvbnRhaW5lZEJ5KGEsYil7cmV0dXJuIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEsYixkb21HbG9iYWxzLk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKTt9O3ZhciBOb2RlPXtkb2N1bWVudFBvc2l0aW9uUHJlY2VkaW5nOmRvY3VtZW50UG9zaXRpb25QcmVjZWRpbmcsZG9jdW1lbnRQb3NpdGlvbkNvbnRhaW5lZEJ5OmRvY3VtZW50UG9zaXRpb25Db250YWluZWRCeX07dmFyIEVMRU1FTlQkMT1FTEVNRU5UO3ZhciBET0NVTUVOVCQxPURPQ1VNRU5UO3ZhciBpcz1mdW5jdGlvbiBpcyhlbGVtZW50LHNlbGVjdG9yKXt2YXIgZG9tPWVsZW1lbnQuZG9tKCk7aWYoZG9tLm5vZGVUeXBlIT09RUxFTUVOVCQxKXtyZXR1cm4gZmFsc2U7fWVsc2V7dmFyIGVsZW09ZG9tO2lmKGVsZW0ubWF0Y2hlcyE9PXVuZGVmaW5lZCl7cmV0dXJuIGVsZW0ubWF0Y2hlcyhzZWxlY3Rvcik7fWVsc2UgaWYoZWxlbS5tc01hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZCl7cmV0dXJuIGVsZW0ubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO31lbHNlIGlmKGVsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXtyZXR1cm4gZWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO31lbHNlIGlmKGVsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXtyZXR1cm4gZWxlbS5tb3pNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO31lbHNle3Rocm93IG5ldyBFcnJvcignQnJvd3NlciBsYWNrcyBuYXRpdmUgc2VsZWN0b3JzJyk7fX19O3ZhciBieXBhc3NTZWxlY3Rvcj1mdW5jdGlvbiBieXBhc3NTZWxlY3Rvcihkb20pe3JldHVybiBkb20ubm9kZVR5cGUhPT1FTEVNRU5UJDEmJmRvbS5ub2RlVHlwZSE9PURPQ1VNRU5UJDF8fGRvbS5jaGlsZEVsZW1lbnRDb3VudD09PTA7fTt2YXIgYWxsPWZ1bmN0aW9uIGFsbChzZWxlY3RvcixzY29wZSl7dmFyIGJhc2U9c2NvcGU9PT11bmRlZmluZWQ/ZG9tR2xvYmFscy5kb2N1bWVudDpzY29wZS5kb20oKTtyZXR1cm4gYnlwYXNzU2VsZWN0b3IoYmFzZSk/W106bWFwKGJhc2UucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksRWxlbWVudC5mcm9tRG9tKTt9O3ZhciBvbmU9ZnVuY3Rpb24gb25lKHNlbGVjdG9yLHNjb3BlKXt2YXIgYmFzZT1zY29wZT09PXVuZGVmaW5lZD9kb21HbG9iYWxzLmRvY3VtZW50OnNjb3BlLmRvbSgpO3JldHVybiBieXBhc3NTZWxlY3RvcihiYXNlKT9PcHRpb24ubm9uZSgpOk9wdGlvbi5mcm9tKGJhc2UucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpLm1hcChFbGVtZW50LmZyb21Eb20pO307dmFyIGVxPWZ1bmN0aW9uIGVxKGUxLGUyKXtyZXR1cm4gZTEuZG9tKCk9PT1lMi5kb20oKTt9O3ZhciByZWd1bGFyQ29udGFpbnM9ZnVuY3Rpb24gcmVndWxhckNvbnRhaW5zKGUxLGUyKXt2YXIgZDE9ZTEuZG9tKCk7dmFyIGQyPWUyLmRvbSgpO3JldHVybiBkMT09PWQyP2ZhbHNlOmQxLmNvbnRhaW5zKGQyKTt9O3ZhciBpZUNvbnRhaW5zPWZ1bmN0aW9uIGllQ29udGFpbnMoZTEsZTIpe3JldHVybiBOb2RlLmRvY3VtZW50UG9zaXRpb25Db250YWluZWRCeShlMS5kb20oKSxlMi5kb20oKSk7fTt2YXIgYnJvd3Nlcj1kZXRlY3QkMygpLmJyb3dzZXI7dmFyIGNvbnRhaW5zJDI9YnJvd3Nlci5pc0lFKCk/aWVDb250YWluczpyZWd1bGFyQ29udGFpbnM7dmFyIG93bmVyPWZ1bmN0aW9uIG93bmVyKGVsZW1lbnQpe3JldHVybiBFbGVtZW50LmZyb21Eb20oZWxlbWVudC5kb20oKS5vd25lckRvY3VtZW50KTt9O3ZhciBkb2N1bWVudEVsZW1lbnQ9ZnVuY3Rpb24gZG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpe3JldHVybiBFbGVtZW50LmZyb21Eb20oZWxlbWVudC5kb20oKS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7fTt2YXIgZGVmYXVsdFZpZXc9ZnVuY3Rpb24gZGVmYXVsdFZpZXcoZWxlbWVudCl7cmV0dXJuIEVsZW1lbnQuZnJvbURvbShlbGVtZW50LmRvbSgpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO307dmFyIHBhcmVudD1mdW5jdGlvbiBwYXJlbnQoZWxlbWVudCl7cmV0dXJuIE9wdGlvbi5mcm9tKGVsZW1lbnQuZG9tKCkucGFyZW50Tm9kZSkubWFwKEVsZW1lbnQuZnJvbURvbSk7fTt2YXIgcGFyZW50cz1mdW5jdGlvbiBwYXJlbnRzKGVsZW1lbnQsaXNSb290KXt2YXIgc3RvcD1pc0Z1bmN0aW9uKGlzUm9vdCk/aXNSb290Om5ldmVyO3ZhciBkb209ZWxlbWVudC5kb20oKTt2YXIgcmV0PVtdO3doaWxlKGRvbS5wYXJlbnROb2RlIT09bnVsbCYmZG9tLnBhcmVudE5vZGUhPT11bmRlZmluZWQpe3ZhciByYXdQYXJlbnQ9ZG9tLnBhcmVudE5vZGU7dmFyIHA9RWxlbWVudC5mcm9tRG9tKHJhd1BhcmVudCk7cmV0LnB1c2gocCk7aWYoc3RvcChwKT09PXRydWUpe2JyZWFrO31lbHNle2RvbT1yYXdQYXJlbnQ7fX1yZXR1cm4gcmV0O307dmFyIHByZXZTaWJsaW5nPWZ1bmN0aW9uIHByZXZTaWJsaW5nKGVsZW1lbnQpe3JldHVybiBPcHRpb24uZnJvbShlbGVtZW50LmRvbSgpLnByZXZpb3VzU2libGluZykubWFwKEVsZW1lbnQuZnJvbURvbSk7fTt2YXIgbmV4dFNpYmxpbmc9ZnVuY3Rpb24gbmV4dFNpYmxpbmcoZWxlbWVudCl7cmV0dXJuIE9wdGlvbi5mcm9tKGVsZW1lbnQuZG9tKCkubmV4dFNpYmxpbmcpLm1hcChFbGVtZW50LmZyb21Eb20pO307dmFyIHByZXZTaWJsaW5ncz1mdW5jdGlvbiBwcmV2U2libGluZ3MoZWxlbWVudCl7cmV0dXJuIHJldmVyc2UoUmVjdXJzZS50b0FycmF5KGVsZW1lbnQscHJldlNpYmxpbmcpKTt9O3ZhciBuZXh0U2libGluZ3M9ZnVuY3Rpb24gbmV4dFNpYmxpbmdzKGVsZW1lbnQpe3JldHVybiBSZWN1cnNlLnRvQXJyYXkoZWxlbWVudCxuZXh0U2libGluZyk7fTt2YXIgY2hpbGRyZW49ZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCl7cmV0dXJuIG1hcChlbGVtZW50LmRvbSgpLmNoaWxkTm9kZXMsRWxlbWVudC5mcm9tRG9tKTt9O3ZhciBjaGlsZD1mdW5jdGlvbiBjaGlsZChlbGVtZW50LGluZGV4KXt2YXIgY3M9ZWxlbWVudC5kb20oKS5jaGlsZE5vZGVzO3JldHVybiBPcHRpb24uZnJvbShjc1tpbmRleF0pLm1hcChFbGVtZW50LmZyb21Eb20pO307dmFyIGZpcnN0Q2hpbGQ9ZnVuY3Rpb24gZmlyc3RDaGlsZChlbGVtZW50KXtyZXR1cm4gY2hpbGQoZWxlbWVudCwwKTt9O3ZhciBsYXN0Q2hpbGQ9ZnVuY3Rpb24gbGFzdENoaWxkKGVsZW1lbnQpe3JldHVybiBjaGlsZChlbGVtZW50LGVsZW1lbnQuZG9tKCkuY2hpbGROb2Rlcy5sZW5ndGgtMSk7fTt2YXIgY2hpbGROb2Rlc0NvdW50PWZ1bmN0aW9uIGNoaWxkTm9kZXNDb3VudChlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5kb20oKS5jaGlsZE5vZGVzLmxlbmd0aDt9O3ZhciBzcG90PUltbXV0YWJsZSgnZWxlbWVudCcsJ29mZnNldCcpO3ZhciBicm93c2VyJDE9ZGV0ZWN0JDMoKS5icm93c2VyO3ZhciBmaXJzdEVsZW1lbnQ9ZnVuY3Rpb24gZmlyc3RFbGVtZW50KG5vZGVzKXtyZXR1cm4gZmluZChub2Rlcyxpc0VsZW1lbnQkMSk7fTt2YXIgZ2V0VGFibGVDYXB0aW9uRGVsdGFZPWZ1bmN0aW9uIGdldFRhYmxlQ2FwdGlvbkRlbHRhWShlbG0pe2lmKGJyb3dzZXIkMS5pc0ZpcmVmb3goKSYmbmFtZShlbG0pPT09J3RhYmxlJyl7cmV0dXJuIGZpcnN0RWxlbWVudChjaGlsZHJlbihlbG0pKS5maWx0ZXIoZnVuY3Rpb24oZWxtKXtyZXR1cm4gbmFtZShlbG0pPT09J2NhcHRpb24nO30pLmJpbmQoZnVuY3Rpb24oY2FwdGlvbil7cmV0dXJuIGZpcnN0RWxlbWVudChuZXh0U2libGluZ3MoY2FwdGlvbikpLm1hcChmdW5jdGlvbihib2R5KXt2YXIgYm9keVRvcD1ib2R5LmRvbSgpLm9mZnNldFRvcDt2YXIgY2FwdGlvblRvcD1jYXB0aW9uLmRvbSgpLm9mZnNldFRvcDt2YXIgY2FwdGlvbkhlaWdodD1jYXB0aW9uLmRvbSgpLm9mZnNldEhlaWdodDtyZXR1cm4gYm9keVRvcDw9Y2FwdGlvblRvcD8tY2FwdGlvbkhlaWdodDowO30pO30pLmdldE9yKDApO31lbHNle3JldHVybiAwO319O3ZhciBoYXNDaGlsZD1mdW5jdGlvbiBoYXNDaGlsZChlbG0sY2hpbGQpe3JldHVybiBlbG0uY2hpbGRyZW4mJmNvbnRhaW5zKGVsbS5jaGlsZHJlbixjaGlsZCk7fTt2YXIgZ2V0UG9zPWZ1bmN0aW9uIGdldFBvcyhib2R5LGVsbSxyb290RWxtKXt2YXIgeD0wLHk9MCxvZmZzZXRQYXJlbnQ7dmFyIGRvYz1ib2R5Lm93bmVyRG9jdW1lbnQ7dmFyIHBvcztyb290RWxtPXJvb3RFbG0/cm9vdEVsbTpib2R5O2lmKGVsbSl7aWYocm9vdEVsbT09PWJvZHkmJmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJmdldCQyKEVsZW1lbnQuZnJvbURvbShib2R5KSwncG9zaXRpb24nKT09PSdzdGF0aWMnKXtwb3M9ZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3g9cG9zLmxlZnQrKGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8Ym9keS5zY3JvbGxMZWZ0KS1kb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQ7eT1wb3MudG9wKyhkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8Ym9keS5zY3JvbGxUb3ApLWRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wO3JldHVybnt4OngseTp5fTt9b2Zmc2V0UGFyZW50PWVsbTt3aGlsZShvZmZzZXRQYXJlbnQmJm9mZnNldFBhcmVudCE9PXJvb3RFbG0mJm9mZnNldFBhcmVudC5ub2RlVHlwZSYmIWhhc0NoaWxkKG9mZnNldFBhcmVudCxyb290RWxtKSl7eCs9b2Zmc2V0UGFyZW50Lm9mZnNldExlZnR8fDA7eSs9b2Zmc2V0UGFyZW50Lm9mZnNldFRvcHx8MDtvZmZzZXRQYXJlbnQ9b2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDt9b2Zmc2V0UGFyZW50PWVsbS5wYXJlbnROb2RlO3doaWxlKG9mZnNldFBhcmVudCYmb2Zmc2V0UGFyZW50IT09cm9vdEVsbSYmb2Zmc2V0UGFyZW50Lm5vZGVUeXBlJiYhaGFzQ2hpbGQob2Zmc2V0UGFyZW50LHJvb3RFbG0pKXt4LT1vZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdHx8MDt5LT1vZmZzZXRQYXJlbnQuc2Nyb2xsVG9wfHwwO29mZnNldFBhcmVudD1vZmZzZXRQYXJlbnQucGFyZW50Tm9kZTt9eSs9Z2V0VGFibGVDYXB0aW9uRGVsdGFZKEVsZW1lbnQuZnJvbURvbShlbG0pKTt9cmV0dXJue3g6eCx5Onl9O307dmFyIFBvc2l0aW9uPXtnZXRQb3M6Z2V0UG9zfTt2YXIgZXhwb3J0cyQxPXt9LG1vZHVsZSQxPXtleHBvcnRzOmV4cG9ydHMkMX07KGZ1bmN0aW9uKGRlZmluZSxleHBvcnRzLG1vZHVsZSxyZXF1aXJlKXsoZnVuY3Rpb24oZil7aWYoX3R5cGVvZihleHBvcnRzKT09PSdvYmplY3QnJiZ0eXBlb2YgbW9kdWxlIT09J3VuZGVmaW5lZCcpe21vZHVsZS5leHBvcnRzPWYoKTt9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09J2Z1bmN0aW9uJyYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpO31lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0ndW5kZWZpbmVkJyl7Zz13aW5kb3c7fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PSd1bmRlZmluZWQnKXtnPWdsb2JhbDt9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PSd1bmRlZmluZWQnKXtnPXNlbGY7fWVsc2V7Zz10aGlzO31nLkVwaG94Q29udGFjdFdyYXBwZXI9ZigpO319KShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPSdmdW5jdGlvbic9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKCdDYW5ub3QgZmluZCBtb2R1bGUgXCcnK2krJ1wnJyk7dGhyb3cgYS5jb2RlPSdNT0RVTEVfTk9UX0ZPVU5EJyxhO312YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cik7fSxwLHAuZXhwb3J0cyxyLGUsbix0KTt9cmV0dXJuIG5baV0uZXhwb3J0czt9Zm9yKHZhciB1PSdmdW5jdGlvbic9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKyl7byh0W2ldKTt9cmV0dXJuIG87fXJldHVybiByO30oKSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307dmFyIGNhY2hlZFNldFRpbWVvdXQ7dmFyIGNhY2hlZENsZWFyVGltZW91dDtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7fWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKXt0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO30oZnVuY3Rpb24oKXt0cnl7aWYodHlwZW9mIHNldFRpbWVvdXQ9PT0nZnVuY3Rpb24nKXtjYWNoZWRTZXRUaW1lb3V0PXNldFRpbWVvdXQ7fWVsc2V7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0O319Y2F0Y2goZSl7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0O310cnl7aWYodHlwZW9mIGNsZWFyVGltZW91dD09PSdmdW5jdGlvbicpe2NhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQ7fWVsc2V7Y2FjaGVkQ2xlYXJUaW1lb3V0PWRlZmF1bHRDbGVhclRpbWVvdXQ7fX1jYXRjaChlKXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dDt9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bil7aWYoY2FjaGVkU2V0VGltZW91dD09PXNldFRpbWVvdXQpe3JldHVybiBzZXRUaW1lb3V0KGZ1biwwKTt9aWYoKGNhY2hlZFNldFRpbWVvdXQ9PT1kZWZhdWx0U2V0VGltb3V0fHwhY2FjaGVkU2V0VGltZW91dCkmJnNldFRpbWVvdXQpe2NhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dDtyZXR1cm4gc2V0VGltZW91dChmdW4sMCk7fXRyeXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sMCk7fWNhdGNoKGUpe3RyeXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsZnVuLDApO31jYXRjaChlKXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsZnVuLDApO319fWZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpe2lmKGNhY2hlZENsZWFyVGltZW91dD09PWNsZWFyVGltZW91dCl7cmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO31pZigoY2FjaGVkQ2xlYXJUaW1lb3V0PT09ZGVmYXVsdENsZWFyVGltZW91dHx8IWNhY2hlZENsZWFyVGltZW91dCkmJmNsZWFyVGltZW91dCl7Y2FjaGVkQ2xlYXJUaW1lb3V0PWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7fXRyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7fWNhdGNoKGUpe3RyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCxtYXJrZXIpO31jYXRjaChlKXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxtYXJrZXIpO319fXZhciBxdWV1ZT1bXTt2YXIgZHJhaW5pbmc9ZmFsc2U7dmFyIGN1cnJlbnRRdWV1ZTt2YXIgcXVldWVJbmRleD0tMTtmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKXtpZighZHJhaW5pbmd8fCFjdXJyZW50UXVldWUpe3JldHVybjt9ZHJhaW5pbmc9ZmFsc2U7aWYoY3VycmVudFF1ZXVlLmxlbmd0aCl7cXVldWU9Y3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7fWVsc2V7cXVldWVJbmRleD0tMTt9aWYocXVldWUubGVuZ3RoKXtkcmFpblF1ZXVlKCk7fX1mdW5jdGlvbiBkcmFpblF1ZXVlKCl7aWYoZHJhaW5pbmcpe3JldHVybjt9dmFyIHRpbWVvdXQ9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO2RyYWluaW5nPXRydWU7dmFyIGxlbj1xdWV1ZS5sZW5ndGg7d2hpbGUobGVuKXtjdXJyZW50UXVldWU9cXVldWU7cXVldWU9W107d2hpbGUoKytxdWV1ZUluZGV4PGxlbil7aWYoY3VycmVudFF1ZXVlKXtjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7fX1xdWV1ZUluZGV4PS0xO2xlbj1xdWV1ZS5sZW5ndGg7fWN1cnJlbnRRdWV1ZT1udWxsO2RyYWluaW5nPWZhbHNlO3J1bkNsZWFyVGltZW91dCh0aW1lb3V0KTt9cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihmdW4pe3ZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7YXJnc1tpLTFdPWFyZ3VtZW50c1tpXTt9fXF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLGFyZ3MpKTtpZihxdWV1ZS5sZW5ndGg9PT0xJiYhZHJhaW5pbmcpe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSk7fX07ZnVuY3Rpb24gSXRlbShmdW4sYXJyYXkpe3RoaXMuZnVuPWZ1bjt0aGlzLmFycmF5PWFycmF5O31JdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpO307cHJvY2Vzcy50aXRsZT0nYnJvd3Nlcic7cHJvY2Vzcy5icm93c2VyPXRydWU7cHJvY2Vzcy5lbnY9e307cHJvY2Vzcy5hcmd2PVtdO3Byb2Nlc3MudmVyc2lvbj0nJztwcm9jZXNzLnZlcnNpb25zPXt9O2Z1bmN0aW9uIG5vb3AoKXt9cHJvY2Vzcy5vbj1ub29wO3Byb2Nlc3MuYWRkTGlzdGVuZXI9bm9vcDtwcm9jZXNzLm9uY2U9bm9vcDtwcm9jZXNzLm9mZj1ub29wO3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXI9bm9vcDtwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycz1ub29wO3Byb2Nlc3MuZW1pdD1ub29wO3Byb2Nlc3MucHJlcGVuZExpc3RlbmVyPW5vb3A7cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3A7cHJvY2Vzcy5saXN0ZW5lcnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuW107fTtwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24obmFtZSl7dGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO307cHJvY2Vzcy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4nLyc7fTtwcm9jZXNzLmNoZGlyPWZ1bmN0aW9uKGRpcil7dGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTt9O3Byb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMDt9O30se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihzZXRJbW1lZGlhdGUpeyhmdW5jdGlvbihyb290KXt2YXIgc2V0VGltZW91dEZ1bmM9c2V0VGltZW91dDtmdW5jdGlvbiBub29wKCl7fWZ1bmN0aW9uIGJpbmQoZm4sdGhpc0FyZyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm4uYXBwbHkodGhpc0FyZyxhcmd1bWVudHMpO307fWZ1bmN0aW9uIFByb21pc2UoZm4pe2lmKF90eXBlb2YodGhpcykhPT0nb2JqZWN0Jyl0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtpZih0eXBlb2YgZm4hPT0nZnVuY3Rpb24nKXRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7dGhpcy5fc3RhdGU9MDt0aGlzLl9oYW5kbGVkPWZhbHNlO3RoaXMuX3ZhbHVlPXVuZGVmaW5lZDt0aGlzLl9kZWZlcnJlZHM9W107ZG9SZXNvbHZlKGZuLHRoaXMpO31mdW5jdGlvbiBoYW5kbGUoc2VsZixkZWZlcnJlZCl7d2hpbGUoc2VsZi5fc3RhdGU9PT0zKXtzZWxmPXNlbGYuX3ZhbHVlO31pZihzZWxmLl9zdGF0ZT09PTApe3NlbGYuX2RlZmVycmVkcy5wdXNoKGRlZmVycmVkKTtyZXR1cm47fXNlbGYuX2hhbmRsZWQ9dHJ1ZTtQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3ZhciBjYj1zZWxmLl9zdGF0ZT09PTE/ZGVmZXJyZWQub25GdWxmaWxsZWQ6ZGVmZXJyZWQub25SZWplY3RlZDtpZihjYj09PW51bGwpeyhzZWxmLl9zdGF0ZT09PTE/cmVzb2x2ZTpyZWplY3QpKGRlZmVycmVkLnByb21pc2Usc2VsZi5fdmFsdWUpO3JldHVybjt9dmFyIHJldDt0cnl7cmV0PWNiKHNlbGYuX3ZhbHVlKTt9Y2F0Y2goZSl7cmVqZWN0KGRlZmVycmVkLnByb21pc2UsZSk7cmV0dXJuO31yZXNvbHZlKGRlZmVycmVkLnByb21pc2UscmV0KTt9KTt9ZnVuY3Rpb24gcmVzb2x2ZShzZWxmLG5ld1ZhbHVlKXt0cnl7aWYobmV3VmFsdWU9PT1zZWxmKXRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7aWYobmV3VmFsdWUmJihfdHlwZW9mKG5ld1ZhbHVlKT09PSdvYmplY3QnfHx0eXBlb2YgbmV3VmFsdWU9PT0nZnVuY3Rpb24nKSl7dmFyIHRoZW49bmV3VmFsdWUudGhlbjtpZihuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2Upe3NlbGYuX3N0YXRlPTM7c2VsZi5fdmFsdWU9bmV3VmFsdWU7ZmluYWxlKHNlbGYpO3JldHVybjt9ZWxzZSBpZih0eXBlb2YgdGhlbj09PSdmdW5jdGlvbicpe2RvUmVzb2x2ZShiaW5kKHRoZW4sbmV3VmFsdWUpLHNlbGYpO3JldHVybjt9fXNlbGYuX3N0YXRlPTE7c2VsZi5fdmFsdWU9bmV3VmFsdWU7ZmluYWxlKHNlbGYpO31jYXRjaChlKXtyZWplY3Qoc2VsZixlKTt9fWZ1bmN0aW9uIHJlamVjdChzZWxmLG5ld1ZhbHVlKXtzZWxmLl9zdGF0ZT0yO3NlbGYuX3ZhbHVlPW5ld1ZhbHVlO2ZpbmFsZShzZWxmKTt9ZnVuY3Rpb24gZmluYWxlKHNlbGYpe2lmKHNlbGYuX3N0YXRlPT09MiYmc2VsZi5fZGVmZXJyZWRzLmxlbmd0aD09PTApe1Byb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7aWYoIXNlbGYuX2hhbmRsZWQpe1Byb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTt9fSk7fWZvcih2YXIgaT0wLGxlbj1zZWxmLl9kZWZlcnJlZHMubGVuZ3RoO2k8bGVuO2krKyl7aGFuZGxlKHNlbGYsc2VsZi5fZGVmZXJyZWRzW2ldKTt9c2VsZi5fZGVmZXJyZWRzPW51bGw7fWZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsb25SZWplY3RlZCxwcm9taXNlKXt0aGlzLm9uRnVsZmlsbGVkPXR5cGVvZiBvbkZ1bGZpbGxlZD09PSdmdW5jdGlvbic/b25GdWxmaWxsZWQ6bnVsbDt0aGlzLm9uUmVqZWN0ZWQ9dHlwZW9mIG9uUmVqZWN0ZWQ9PT0nZnVuY3Rpb24nP29uUmVqZWN0ZWQ6bnVsbDt0aGlzLnByb21pc2U9cHJvbWlzZTt9ZnVuY3Rpb24gZG9SZXNvbHZlKGZuLHNlbGYpe3ZhciBkb25lPWZhbHNlO3RyeXtmbihmdW5jdGlvbih2YWx1ZSl7aWYoZG9uZSlyZXR1cm47ZG9uZT10cnVlO3Jlc29sdmUoc2VsZix2YWx1ZSk7fSxmdW5jdGlvbihyZWFzb24pe2lmKGRvbmUpcmV0dXJuO2RvbmU9dHJ1ZTtyZWplY3Qoc2VsZixyZWFzb24pO30pO31jYXRjaChleCl7aWYoZG9uZSlyZXR1cm47ZG9uZT10cnVlO3JlamVjdChzZWxmLGV4KTt9fVByb21pc2UucHJvdG90eXBlWydjYXRjaCddPWZ1bmN0aW9uKG9uUmVqZWN0ZWQpe3JldHVybiB0aGlzLnRoZW4obnVsbCxvblJlamVjdGVkKTt9O1Byb21pc2UucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24ob25GdWxmaWxsZWQsb25SZWplY3RlZCl7dmFyIHByb209bmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7aGFuZGxlKHRoaXMsbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsb25SZWplY3RlZCxwcm9tKSk7cmV0dXJuIHByb207fTtQcm9taXNlLmFsbD1mdW5jdGlvbihhcnIpe3ZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihhcmdzLmxlbmd0aD09PTApcmV0dXJuIHJlc29sdmUoW10pO3ZhciByZW1haW5pbmc9YXJncy5sZW5ndGg7ZnVuY3Rpb24gcmVzKGksdmFsKXt0cnl7aWYodmFsJiYoX3R5cGVvZih2YWwpPT09J29iamVjdCd8fHR5cGVvZiB2YWw9PT0nZnVuY3Rpb24nKSl7dmFyIHRoZW49dmFsLnRoZW47aWYodHlwZW9mIHRoZW49PT0nZnVuY3Rpb24nKXt0aGVuLmNhbGwodmFsLGZ1bmN0aW9uKHZhbCl7cmVzKGksdmFsKTt9LHJlamVjdCk7cmV0dXJuO319YXJnc1tpXT12YWw7aWYoLS1yZW1haW5pbmc9PT0wKXtyZXNvbHZlKGFyZ3MpO319Y2F0Y2goZXgpe3JlamVjdChleCk7fX1mb3IodmFyIGk9MDtpPGFyZ3MubGVuZ3RoO2krKyl7cmVzKGksYXJnc1tpXSk7fX0pO307UHJvbWlzZS5yZXNvbHZlPWZ1bmN0aW9uKHZhbHVlKXtpZih2YWx1ZSYmX3R5cGVvZih2YWx1ZSk9PT0nb2JqZWN0JyYmdmFsdWUuY29uc3RydWN0b3I9PT1Qcm9taXNlKXtyZXR1cm4gdmFsdWU7fXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKTt9KTt9O1Byb21pc2UucmVqZWN0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlamVjdCh2YWx1ZSk7fSk7fTtQcm9taXNlLnJhY2U9ZnVuY3Rpb24odmFsdWVzKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Zvcih2YXIgaT0wLGxlbj12YWx1ZXMubGVuZ3RoO2k8bGVuO2krKyl7dmFsdWVzW2ldLnRoZW4ocmVzb2x2ZSxyZWplY3QpO319KTt9O1Byb21pc2UuX2ltbWVkaWF0ZUZuPXR5cGVvZiBzZXRJbW1lZGlhdGU9PT0nZnVuY3Rpb24nP2Z1bmN0aW9uKGZuKXtzZXRJbW1lZGlhdGUoZm4pO306ZnVuY3Rpb24oZm4pe3NldFRpbWVvdXRGdW5jKGZuLDApO307UHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVycil7aWYodHlwZW9mIGNvbnNvbGUhPT0ndW5kZWZpbmVkJyYmY29uc29sZSl7Y29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JyxlcnIpO319O1Byb21pc2UuX3NldEltbWVkaWF0ZUZuPWZ1bmN0aW9uIF9zZXRJbW1lZGlhdGVGbihmbil7UHJvbWlzZS5faW1tZWRpYXRlRm49Zm47fTtQcm9taXNlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbiBfc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm4oZm4pe1Byb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuPWZuO307aWYodHlwZW9mIG1vZHVsZSE9PSd1bmRlZmluZWQnJiZtb2R1bGUuZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9UHJvbWlzZTt9ZWxzZSBpZighcm9vdC5Qcm9taXNlKXtyb290LlByb21pc2U9UHJvbWlzZTt9fSkodGhpcyk7fSkuY2FsbCh0aGlzLHJlcXVpcmUoJ3RpbWVycycpLnNldEltbWVkaWF0ZSk7fSx7J3RpbWVycyc6M31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihzZXRJbW1lZGlhdGUsY2xlYXJJbW1lZGlhdGUpe3ZhciBuZXh0VGljaz1yZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljazt2YXIgYXBwbHk9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O3ZhciBzbGljZT1BcnJheS5wcm90b3R5cGUuc2xpY2U7dmFyIGltbWVkaWF0ZUlkcz17fTt2YXIgbmV4dEltbWVkaWF0ZUlkPTA7ZXhwb3J0cy5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpO307ZXhwb3J0cy5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpO307ZXhwb3J0cy5jbGVhclRpbWVvdXQ9ZXhwb3J0cy5jbGVhckludGVydmFsPWZ1bmN0aW9uKHRpbWVvdXQpe3RpbWVvdXQuY2xvc2UoKTt9O2Z1bmN0aW9uIFRpbWVvdXQoaWQsY2xlYXJGbil7dGhpcy5faWQ9aWQ7dGhpcy5fY2xlYXJGbj1jbGVhckZuO31UaW1lb3V0LnByb3RvdHlwZS51bnJlZj1UaW1lb3V0LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9O1RpbWVvdXQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCk7fTtleHBvcnRzLmVucm9sbD1mdW5jdGlvbihpdGVtLG1zZWNzKXtjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7aXRlbS5faWRsZVRpbWVvdXQ9bXNlY3M7fTtleHBvcnRzLnVuZW5yb2xsPWZ1bmN0aW9uKGl0ZW0pe2NsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtpdGVtLl9pZGxlVGltZW91dD0tMTt9O2V4cG9ydHMuX3VucmVmQWN0aXZlPWV4cG9ydHMuYWN0aXZlPWZ1bmN0aW9uKGl0ZW0pe2NsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTt2YXIgbXNlY3M9aXRlbS5faWRsZVRpbWVvdXQ7aWYobXNlY3M+PTApe2l0ZW0uX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKXtpZihpdGVtLl9vblRpbWVvdXQpaXRlbS5fb25UaW1lb3V0KCk7fSxtc2Vjcyk7fX07ZXhwb3J0cy5zZXRJbW1lZGlhdGU9dHlwZW9mIHNldEltbWVkaWF0ZT09PSdmdW5jdGlvbic/c2V0SW1tZWRpYXRlOmZ1bmN0aW9uKGZuKXt2YXIgaWQ9bmV4dEltbWVkaWF0ZUlkKys7dmFyIGFyZ3M9YXJndW1lbnRzLmxlbmd0aDwyP2ZhbHNlOnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2ltbWVkaWF0ZUlkc1tpZF09dHJ1ZTtuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCl7aWYoaW1tZWRpYXRlSWRzW2lkXSl7aWYoYXJncyl7Zm4uYXBwbHkobnVsbCxhcmdzKTt9ZWxzZXtmbi5jYWxsKG51bGwpO31leHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTt9fSk7cmV0dXJuIGlkO307ZXhwb3J0cy5jbGVhckltbWVkaWF0ZT10eXBlb2YgY2xlYXJJbW1lZGlhdGU9PT0nZnVuY3Rpb24nP2NsZWFySW1tZWRpYXRlOmZ1bmN0aW9uKGlkKXtkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTt9O30pLmNhbGwodGhpcyxyZXF1aXJlKCd0aW1lcnMnKS5zZXRJbW1lZGlhdGUscmVxdWlyZSgndGltZXJzJykuY2xlYXJJbW1lZGlhdGUpO30seydwcm9jZXNzL2Jyb3dzZXIuanMnOjEsJ3RpbWVycyc6M31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe3ZhciBwcm9taXNlUG9seWZpbGw9cmVxdWlyZSgncHJvbWlzZS1wb2x5ZmlsbCcpO3ZhciBHbG9iYWw9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCcpe3JldHVybiB3aW5kb3c7fWVsc2V7cmV0dXJuIEZ1bmN0aW9uKCdyZXR1cm4gdGhpczsnKSgpO319KCk7bW9kdWxlLmV4cG9ydHM9e2JvbHRFeHBvcnQ6R2xvYmFsLlByb21pc2V8fHByb21pc2VQb2x5ZmlsbH07fSx7J3Byb21pc2UtcG9seWZpbGwnOjJ9XX0se30sWzRdKSg0KTt9KTt9KSh1bmRlZmluZWQsZXhwb3J0cyQxLG1vZHVsZSQxLHVuZGVmaW5lZCk7dmFyIFByb21pc2U9bW9kdWxlJDEuZXhwb3J0cy5ib2x0RXhwb3J0O3ZhciBudSQzPWZ1bmN0aW9uIG51JDMoYmFzZUZuKXt2YXIgZGF0YT1PcHRpb24ubm9uZSgpO3ZhciBjYWxsYmFja3M9W107dmFyIG1hcD1mdW5jdGlvbiBtYXAoZil7cmV0dXJuIG51JDMoZnVuY3Rpb24obkNhbGxiYWNrKXtnZXQoZnVuY3Rpb24oZGF0YSl7bkNhbGxiYWNrKGYoZGF0YSkpO30pO30pO307dmFyIGdldD1mdW5jdGlvbiBnZXQobkNhbGxiYWNrKXtpZihpc1JlYWR5KCkpe2NhbGwobkNhbGxiYWNrKTt9ZWxzZXtjYWxsYmFja3MucHVzaChuQ2FsbGJhY2spO319O3ZhciBzZXQ9ZnVuY3Rpb24gc2V0KHgpe2RhdGE9T3B0aW9uLnNvbWUoeCk7cnVuKGNhbGxiYWNrcyk7Y2FsbGJhY2tzPVtdO307dmFyIGlzUmVhZHk9ZnVuY3Rpb24gaXNSZWFkeSgpe3JldHVybiBkYXRhLmlzU29tZSgpO307dmFyIHJ1bj1mdW5jdGlvbiBydW4oY2JzKXtlYWNoKGNicyxjYWxsKTt9O3ZhciBjYWxsPWZ1bmN0aW9uIGNhbGwoY2Ipe2RhdGEuZWFjaChmdW5jdGlvbih4KXtkb21HbG9iYWxzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjYih4KTt9LDApO30pO307YmFzZUZuKHNldCk7cmV0dXJue2dldDpnZXQsbWFwOm1hcCxpc1JlYWR5OmlzUmVhZHl9O307dmFyIHB1cmU9ZnVuY3Rpb24gcHVyZShhKXtyZXR1cm4gbnUkMyhmdW5jdGlvbihjYWxsYmFjayl7Y2FsbGJhY2soYSk7fSk7fTt2YXIgTGF6eVZhbHVlPXtudTpudSQzLHB1cmU6cHVyZX07dmFyIGVycm9yUmVwb3J0ZXI9ZnVuY3Rpb24gZXJyb3JSZXBvcnRlcihlcnIpe2RvbUdsb2JhbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGVycjt9LDApO307dmFyIG1ha2U9ZnVuY3Rpb24gbWFrZShydW4pe3ZhciBnZXQ9ZnVuY3Rpb24gZ2V0KGNhbGxiYWNrKXtydW4oKS50aGVuKGNhbGxiYWNrLGVycm9yUmVwb3J0ZXIpO307dmFyIG1hcD1mdW5jdGlvbiBtYXAoZmFiKXtyZXR1cm4gbWFrZShmdW5jdGlvbigpe3JldHVybiBydW4oKS50aGVuKGZhYik7fSk7fTt2YXIgYmluZD1mdW5jdGlvbiBiaW5kKGFGdXR1cmVCKXtyZXR1cm4gbWFrZShmdW5jdGlvbigpe3JldHVybiBydW4oKS50aGVuKGZ1bmN0aW9uKHYpe3JldHVybiBhRnV0dXJlQih2KS50b1Byb21pc2UoKTt9KTt9KTt9O3ZhciBhbm9uQmluZD1mdW5jdGlvbiBhbm9uQmluZChmdXR1cmVCKXtyZXR1cm4gbWFrZShmdW5jdGlvbigpe3JldHVybiBydW4oKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1dHVyZUIudG9Qcm9taXNlKCk7fSk7fSk7fTt2YXIgdG9MYXp5PWZ1bmN0aW9uIHRvTGF6eSgpe3JldHVybiBMYXp5VmFsdWUubnUoZ2V0KTt9O3ZhciB0b0NhY2hlZD1mdW5jdGlvbiB0b0NhY2hlZCgpe3ZhciBjYWNoZT1udWxsO3JldHVybiBtYWtlKGZ1bmN0aW9uKCl7aWYoY2FjaGU9PT1udWxsKXtjYWNoZT1ydW4oKTt9cmV0dXJuIGNhY2hlO30pO307dmFyIHRvUHJvbWlzZT1ydW47cmV0dXJue21hcDptYXAsYmluZDpiaW5kLGFub25CaW5kOmFub25CaW5kLHRvTGF6eTp0b0xhenksdG9DYWNoZWQ6dG9DYWNoZWQsdG9Qcm9taXNlOnRvUHJvbWlzZSxnZXQ6Z2V0fTt9O3ZhciBudSQ0PWZ1bmN0aW9uIG51JDQoYmFzZUZuKXtyZXR1cm4gbWFrZShmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShiYXNlRm4pO30pO307dmFyIHB1cmUkMT1mdW5jdGlvbiBwdXJlJDEoYSl7cmV0dXJuIG1ha2UoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO30pO307dmFyIEZ1dHVyZT17bnU6bnUkNCxwdXJlOnB1cmUkMX07dmFyIHBhcj1mdW5jdGlvbiBwYXIoYXN5bmNWYWx1ZXMsbnUpe3JldHVybiBudShmdW5jdGlvbihjYWxsYmFjayl7dmFyIHI9W107dmFyIGNvdW50PTA7dmFyIGNiPWZ1bmN0aW9uIGNiKGkpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cltpXT12YWx1ZTtjb3VudCsrO2lmKGNvdW50Pj1hc3luY1ZhbHVlcy5sZW5ndGgpe2NhbGxiYWNrKHIpO319O307aWYoYXN5bmNWYWx1ZXMubGVuZ3RoPT09MCl7Y2FsbGJhY2soW10pO31lbHNle2VhY2goYXN5bmNWYWx1ZXMsZnVuY3Rpb24oYXN5bmNWYWx1ZSxpKXthc3luY1ZhbHVlLmdldChjYihpKSk7fSk7fX0pO307dmFyIHBhciQxPWZ1bmN0aW9uIHBhciQxKGZ1dHVyZXMpe3JldHVybiBwYXIoZnV0dXJlcyxGdXR1cmUubnUpO307dmFyIHZhbHVlPWZ1bmN0aW9uIHZhbHVlKG8pe3ZhciBpcz1mdW5jdGlvbiBpcyh2KXtyZXR1cm4gbz09PXY7fTt2YXIgb3I9ZnVuY3Rpb24gb3Iob3B0KXtyZXR1cm4gdmFsdWUobyk7fTt2YXIgb3JUaHVuaz1mdW5jdGlvbiBvclRodW5rKGYpe3JldHVybiB2YWx1ZShvKTt9O3ZhciBtYXA9ZnVuY3Rpb24gbWFwKGYpe3JldHVybiB2YWx1ZShmKG8pKTt9O3ZhciBtYXBFcnJvcj1mdW5jdGlvbiBtYXBFcnJvcihmKXtyZXR1cm4gdmFsdWUobyk7fTt2YXIgZWFjaD1mdW5jdGlvbiBlYWNoKGYpe2Yobyk7fTt2YXIgYmluZD1mdW5jdGlvbiBiaW5kKGYpe3JldHVybiBmKG8pO307dmFyIGZvbGQ9ZnVuY3Rpb24gZm9sZChfLG9uVmFsdWUpe3JldHVybiBvblZhbHVlKG8pO307dmFyIGV4aXN0cz1mdW5jdGlvbiBleGlzdHMoZil7cmV0dXJuIGYobyk7fTt2YXIgZm9yYWxsPWZ1bmN0aW9uIGZvcmFsbChmKXtyZXR1cm4gZihvKTt9O3ZhciB0b09wdGlvbj1mdW5jdGlvbiB0b09wdGlvbigpe3JldHVybiBPcHRpb24uc29tZShvKTt9O3JldHVybntpczppcyxpc1ZhbHVlOmFsd2F5cyxpc0Vycm9yOm5ldmVyLGdldE9yOmNvbnN0YW50KG8pLGdldE9yVGh1bms6Y29uc3RhbnQobyksZ2V0T3JEaWU6Y29uc3RhbnQobyksb3I6b3Isb3JUaHVuazpvclRodW5rLGZvbGQ6Zm9sZCxtYXA6bWFwLG1hcEVycm9yOm1hcEVycm9yLGVhY2g6ZWFjaCxiaW5kOmJpbmQsZXhpc3RzOmV4aXN0cyxmb3JhbGw6Zm9yYWxsLHRvT3B0aW9uOnRvT3B0aW9ufTt9O3ZhciBlcnJvcj1mdW5jdGlvbiBlcnJvcihtZXNzYWdlKXt2YXIgZ2V0T3JUaHVuaz1mdW5jdGlvbiBnZXRPclRodW5rKGYpe3JldHVybiBmKCk7fTt2YXIgZ2V0T3JEaWU9ZnVuY3Rpb24gZ2V0T3JEaWUoKXtyZXR1cm4gZGllKFN0cmluZyhtZXNzYWdlKSkoKTt9O3ZhciBvcj1mdW5jdGlvbiBvcihvcHQpe3JldHVybiBvcHQ7fTt2YXIgb3JUaHVuaz1mdW5jdGlvbiBvclRodW5rKGYpe3JldHVybiBmKCk7fTt2YXIgbWFwPWZ1bmN0aW9uIG1hcChmKXtyZXR1cm4gZXJyb3IobWVzc2FnZSk7fTt2YXIgbWFwRXJyb3I9ZnVuY3Rpb24gbWFwRXJyb3IoZil7cmV0dXJuIGVycm9yKGYobWVzc2FnZSkpO307dmFyIGJpbmQ9ZnVuY3Rpb24gYmluZChmKXtyZXR1cm4gZXJyb3IobWVzc2FnZSk7fTt2YXIgZm9sZD1mdW5jdGlvbiBmb2xkKG9uRXJyb3IsXyl7cmV0dXJuIG9uRXJyb3IobWVzc2FnZSk7fTtyZXR1cm57aXM6bmV2ZXIsaXNWYWx1ZTpuZXZlcixpc0Vycm9yOmFsd2F5cyxnZXRPcjppZGVudGl0eSxnZXRPclRodW5rOmdldE9yVGh1bmssZ2V0T3JEaWU6Z2V0T3JEaWUsb3I6b3Isb3JUaHVuazpvclRodW5rLGZvbGQ6Zm9sZCxtYXA6bWFwLG1hcEVycm9yOm1hcEVycm9yLGVhY2g6bm9vcCxiaW5kOmJpbmQsZXhpc3RzOm5ldmVyLGZvcmFsbDphbHdheXMsdG9PcHRpb246T3B0aW9uLm5vbmV9O307dmFyIGZyb21PcHRpb249ZnVuY3Rpb24gZnJvbU9wdGlvbihvcHQsZXJyKXtyZXR1cm4gb3B0LmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZXJyb3IoZXJyKTt9LHZhbHVlKTt9O3ZhciBSZXN1bHQ9e3ZhbHVlOnZhbHVlLGVycm9yOmVycm9yLGZyb21PcHRpb246ZnJvbU9wdGlvbn07dmFyIHByb21pc2U9ZnVuY3Rpb24gcHJvbWlzZSgpe2Z1bmN0aW9uIGJpbmQoZm4sdGhpc0FyZyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm4uYXBwbHkodGhpc0FyZyxhcmd1bWVudHMpO307fXZhciBpc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKT09PSdbb2JqZWN0IEFycmF5XSc7fTt2YXIgUHJvbWlzZT1mdW5jdGlvbiBQcm9taXNlKGZuKXtpZihfdHlwZW9mKHRoaXMpIT09J29iamVjdCcpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO31pZih0eXBlb2YgZm4hPT0nZnVuY3Rpb24nKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO310aGlzLl9zdGF0ZT1udWxsO3RoaXMuX3ZhbHVlPW51bGw7dGhpcy5fZGVmZXJyZWRzPVtdO2RvUmVzb2x2ZShmbixiaW5kKHJlc29sdmUsdGhpcyksYmluZChyZWplY3QsdGhpcykpO307dmFyIGFzYXA9UHJvbWlzZS5pbW1lZGlhdGVGbnx8dHlwZW9mIGRvbUdsb2JhbHMuc2V0SW1tZWRpYXRlPT09J2Z1bmN0aW9uJyYmZG9tR2xvYmFscy5zZXRJbW1lZGlhdGV8fGZ1bmN0aW9uKGZuKXtkb21HbG9iYWxzLnNldFRpbWVvdXQoZm4sMSk7fTtmdW5jdGlvbiBoYW5kbGUoZGVmZXJyZWQpe3ZhciBtZT10aGlzO2lmKHRoaXMuX3N0YXRlPT09bnVsbCl7dGhpcy5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO3JldHVybjt9YXNhcChmdW5jdGlvbigpe3ZhciBjYj1tZS5fc3RhdGU/ZGVmZXJyZWQub25GdWxmaWxsZWQ6ZGVmZXJyZWQub25SZWplY3RlZDtpZihjYj09PW51bGwpeyhtZS5fc3RhdGU/ZGVmZXJyZWQucmVzb2x2ZTpkZWZlcnJlZC5yZWplY3QpKG1lLl92YWx1ZSk7cmV0dXJuO312YXIgcmV0O3RyeXtyZXQ9Y2IobWUuX3ZhbHVlKTt9Y2F0Y2goZSl7ZGVmZXJyZWQucmVqZWN0KGUpO3JldHVybjt9ZGVmZXJyZWQucmVzb2x2ZShyZXQpO30pO31mdW5jdGlvbiByZXNvbHZlKG5ld1ZhbHVlKXt0cnl7aWYobmV3VmFsdWU9PT10aGlzKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO31pZihuZXdWYWx1ZSYmKF90eXBlb2YobmV3VmFsdWUpPT09J29iamVjdCd8fHR5cGVvZiBuZXdWYWx1ZT09PSdmdW5jdGlvbicpKXt2YXIgdGhlbj1uZXdWYWx1ZS50aGVuO2lmKHR5cGVvZiB0aGVuPT09J2Z1bmN0aW9uJyl7ZG9SZXNvbHZlKGJpbmQodGhlbixuZXdWYWx1ZSksYmluZChyZXNvbHZlLHRoaXMpLGJpbmQocmVqZWN0LHRoaXMpKTtyZXR1cm47fX10aGlzLl9zdGF0ZT10cnVlO3RoaXMuX3ZhbHVlPW5ld1ZhbHVlO2ZpbmFsZS5jYWxsKHRoaXMpO31jYXRjaChlKXtyZWplY3QuY2FsbCh0aGlzLGUpO319ZnVuY3Rpb24gcmVqZWN0KG5ld1ZhbHVlKXt0aGlzLl9zdGF0ZT1mYWxzZTt0aGlzLl92YWx1ZT1uZXdWYWx1ZTtmaW5hbGUuY2FsbCh0aGlzKTt9ZnVuY3Rpb24gZmluYWxlKCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuX2RlZmVycmVkcy5sZW5ndGg7aTxsZW47aSsrKXtoYW5kbGUuY2FsbCh0aGlzLHRoaXMuX2RlZmVycmVkc1tpXSk7fXRoaXMuX2RlZmVycmVkcz1udWxsO31mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQscmVzb2x2ZSxyZWplY3Qpe3RoaXMub25GdWxmaWxsZWQ9dHlwZW9mIG9uRnVsZmlsbGVkPT09J2Z1bmN0aW9uJz9vbkZ1bGZpbGxlZDpudWxsO3RoaXMub25SZWplY3RlZD10eXBlb2Ygb25SZWplY3RlZD09PSdmdW5jdGlvbic/b25SZWplY3RlZDpudWxsO3RoaXMucmVzb2x2ZT1yZXNvbHZlO3RoaXMucmVqZWN0PXJlamVjdDt9ZnVuY3Rpb24gZG9SZXNvbHZlKGZuLG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQpe3ZhciBkb25lPWZhbHNlO3RyeXtmbihmdW5jdGlvbih2YWx1ZSl7aWYoZG9uZSl7cmV0dXJuO31kb25lPXRydWU7b25GdWxmaWxsZWQodmFsdWUpO30sZnVuY3Rpb24ocmVhc29uKXtpZihkb25lKXtyZXR1cm47fWRvbmU9dHJ1ZTtvblJlamVjdGVkKHJlYXNvbik7fSk7fWNhdGNoKGV4KXtpZihkb25lKXtyZXR1cm47fWRvbmU9dHJ1ZTtvblJlamVjdGVkKGV4KTt9fVByb21pc2UucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKG9uUmVqZWN0ZWQpe3JldHVybiB0aGlzLnRoZW4obnVsbCxvblJlamVjdGVkKTt9O1Byb21pc2UucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24ob25GdWxmaWxsZWQsb25SZWplY3RlZCl7dmFyIG1lPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtoYW5kbGUuY2FsbChtZSxuZXcgSGFuZGxlcihvbkZ1bGZpbGxlZCxvblJlamVjdGVkLHJlc29sdmUscmVqZWN0KSk7fSk7fTtQcm9taXNlLmFsbD1mdW5jdGlvbigpe3ZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cy5sZW5ndGg9PT0xJiZpc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOmFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihhcmdzLmxlbmd0aD09PTApe3JldHVybiByZXNvbHZlKFtdKTt9dmFyIHJlbWFpbmluZz1hcmdzLmxlbmd0aDtmdW5jdGlvbiByZXMoaSx2YWwpe3RyeXtpZih2YWwmJihfdHlwZW9mKHZhbCk9PT0nb2JqZWN0J3x8dHlwZW9mIHZhbD09PSdmdW5jdGlvbicpKXt2YXIgdGhlbj12YWwudGhlbjtpZih0eXBlb2YgdGhlbj09PSdmdW5jdGlvbicpe3RoZW4uY2FsbCh2YWwsZnVuY3Rpb24odmFsKXtyZXMoaSx2YWwpO30scmVqZWN0KTtyZXR1cm47fX1hcmdzW2ldPXZhbDtpZigtLXJlbWFpbmluZz09PTApe3Jlc29sdmUoYXJncyk7fX1jYXRjaChleCl7cmVqZWN0KGV4KTt9fWZvcih2YXIgaT0wO2k8YXJncy5sZW5ndGg7aSsrKXtyZXMoaSxhcmdzW2ldKTt9fSk7fTtQcm9taXNlLnJlc29sdmU9ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlJiZfdHlwZW9mKHZhbHVlKT09PSdvYmplY3QnJiZ2YWx1ZS5jb25zdHJ1Y3Rvcj09PVByb21pc2Upe3JldHVybiB2YWx1ZTt9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpO30pO307UHJvbWlzZS5yZWplY3Q9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7cmVqZWN0KHZhbHVlKTt9KTt9O1Byb21pc2UucmFjZT1mdW5jdGlvbih2YWx1ZXMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Zm9yKHZhciBpPTAsbGVuPXZhbHVlcy5sZW5ndGg7aTxsZW47aSsrKXt2YWx1ZXNbaV0udGhlbihyZXNvbHZlLHJlamVjdCk7fX0pO307cmV0dXJuIFByb21pc2U7fTt2YXIgcHJvbWlzZU9iaj13aW5kb3cuUHJvbWlzZT93aW5kb3cuUHJvbWlzZTpwcm9taXNlKCk7dmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZVByb21pc2U7dmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrLGVsZW1lbnQpe3ZhciBpLHJlcXVlc3RBbmltYXRpb25GcmFtZUZ1bmM9ZG9tR2xvYmFscy53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO3ZhciB2ZW5kb3JzPVsnbXMnLCdtb3onLCd3ZWJraXQnXTt2YXIgZmVhdHVyZWZpbGw9ZnVuY3Rpb24gZmVhdHVyZWZpbGwoY2FsbGJhY2spe2RvbUdsb2JhbHMud2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssMCk7fTtmb3IoaT0wO2k8dmVuZG9ycy5sZW5ndGgmJiFyZXF1ZXN0QW5pbWF0aW9uRnJhbWVGdW5jO2krKyl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lRnVuYz1kb21HbG9iYWxzLndpbmRvd1t2ZW5kb3JzW2ldKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTt9aWYoIXJlcXVlc3RBbmltYXRpb25GcmFtZUZ1bmMpe3JlcXVlc3RBbmltYXRpb25GcmFtZUZ1bmM9ZmVhdHVyZWZpbGw7fXJlcXVlc3RBbmltYXRpb25GcmFtZUZ1bmMoY2FsbGJhY2ssZWxlbWVudCk7fTt2YXIgd3JhcHBlZFNldFRpbWVvdXQ9ZnVuY3Rpb24gd3JhcHBlZFNldFRpbWVvdXQoY2FsbGJhY2ssdGltZSl7aWYodHlwZW9mIHRpbWUhPT0nbnVtYmVyJyl7dGltZT0wO31yZXR1cm4gZG9tR2xvYmFscy5zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWUpO307dmFyIHdyYXBwZWRTZXRJbnRlcnZhbD1mdW5jdGlvbiB3cmFwcGVkU2V0SW50ZXJ2YWwoY2FsbGJhY2ssdGltZSl7aWYodHlwZW9mIHRpbWUhPT0nbnVtYmVyJyl7dGltZT0xO31yZXR1cm4gZG9tR2xvYmFscy5zZXRJbnRlcnZhbChjYWxsYmFjayx0aW1lKTt9O3ZhciB3cmFwcGVkQ2xlYXJUaW1lb3V0PWZ1bmN0aW9uIHdyYXBwZWRDbGVhclRpbWVvdXQoaWQpe3JldHVybiBkb21HbG9iYWxzLmNsZWFyVGltZW91dChpZCk7fTt2YXIgd3JhcHBlZENsZWFySW50ZXJ2YWw9ZnVuY3Rpb24gd3JhcHBlZENsZWFySW50ZXJ2YWwoaWQpe3JldHVybiBkb21HbG9iYWxzLmNsZWFySW50ZXJ2YWwoaWQpO307dmFyIGRlYm91bmNlPWZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLHRpbWUpe3ZhciB0aW1lcixmdW5jO2Z1bmM9ZnVuY3Rpb24gZnVuYygpe3ZhciBhcmdzPVtdO2Zvcih2YXIgX2k9MDtfaTxhcmd1bWVudHMubGVuZ3RoO19pKyspe2FyZ3NbX2ldPWFyZ3VtZW50c1tfaV07fWRvbUdsb2JhbHMuY2xlYXJUaW1lb3V0KHRpbWVyKTt0aW1lcj13cmFwcGVkU2V0VGltZW91dChmdW5jdGlvbigpe2NhbGxiYWNrLmFwcGx5KHRoaXMsYXJncyk7fSx0aW1lKTt9O2Z1bmMuc3RvcD1mdW5jdGlvbigpe2RvbUdsb2JhbHMuY2xlYXJUaW1lb3V0KHRpbWVyKTt9O3JldHVybiBmdW5jO307dmFyIERlbGF5PXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrLGVsZW1lbnQpe2lmKHJlcXVlc3RBbmltYXRpb25GcmFtZVByb21pc2Upe3JlcXVlc3RBbmltYXRpb25GcmFtZVByb21pc2UudGhlbihjYWxsYmFjayk7cmV0dXJuO31yZXF1ZXN0QW5pbWF0aW9uRnJhbWVQcm9taXNlPW5ldyBwcm9taXNlT2JqKGZ1bmN0aW9uKHJlc29sdmUpe2lmKCFlbGVtZW50KXtlbGVtZW50PWRvbUdsb2JhbHMuZG9jdW1lbnQuYm9keTt9X3JlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlLGVsZW1lbnQpO30pLnRoZW4oY2FsbGJhY2spO30sc2V0VGltZW91dDp3cmFwcGVkU2V0VGltZW91dCxzZXRJbnRlcnZhbDp3cmFwcGVkU2V0SW50ZXJ2YWwsc2V0RWRpdG9yVGltZW91dDpmdW5jdGlvbiBzZXRFZGl0b3JUaW1lb3V0KGVkaXRvcixjYWxsYmFjayx0aW1lKXtyZXR1cm4gd3JhcHBlZFNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZighZWRpdG9yLnJlbW92ZWQpe2NhbGxiYWNrKCk7fX0sdGltZSk7fSxzZXRFZGl0b3JJbnRlcnZhbDpmdW5jdGlvbiBzZXRFZGl0b3JJbnRlcnZhbChlZGl0b3IsY2FsbGJhY2ssdGltZSl7dmFyIHRpbWVyO3RpbWVyPXdyYXBwZWRTZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFlZGl0b3IucmVtb3ZlZCl7Y2FsbGJhY2soKTt9ZWxzZXtkb21HbG9iYWxzLmNsZWFySW50ZXJ2YWwodGltZXIpO319LHRpbWUpO3JldHVybiB0aW1lcjt9LGRlYm91bmNlOmRlYm91bmNlLHRocm90dGxlOmRlYm91bmNlLGNsZWFySW50ZXJ2YWw6d3JhcHBlZENsZWFySW50ZXJ2YWwsY2xlYXJUaW1lb3V0OndyYXBwZWRDbGVhclRpbWVvdXR9O3ZhciB1c2VyQWdlbnQ9ZG9tR2xvYmFscy5uYXZpZ2F0b3IudXNlckFnZW50O3ZhciBwbGF0Zm9ybSQxPWRldGVjdCQzKCk7dmFyIGJyb3dzZXIkMj1wbGF0Zm9ybSQxLmJyb3dzZXI7dmFyIG9zPXBsYXRmb3JtJDEub3M7dmFyIGRldmljZVR5cGU9cGxhdGZvcm0kMS5kZXZpY2VUeXBlO3ZhciB3ZWJraXQ9L1dlYktpdC8udGVzdCh1c2VyQWdlbnQpJiYhYnJvd3NlciQyLmlzRWRnZSgpO3ZhciBmaWxlQXBpPSdGb3JtRGF0YSdpbiBkb21HbG9iYWxzLndpbmRvdyYmJ0ZpbGVSZWFkZXInaW4gZG9tR2xvYmFscy53aW5kb3cmJidVUkwnaW4gZG9tR2xvYmFscy53aW5kb3cmJiEhZG9tR2xvYmFscy5VUkwuY3JlYXRlT2JqZWN0VVJMO3ZhciB3aW5kb3dzUGhvbmU9dXNlckFnZW50LmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSE9PS0xO3ZhciBFbnY9e29wZXJhOmJyb3dzZXIkMi5pc09wZXJhKCksd2Via2l0OndlYmtpdCxpZTpicm93c2VyJDIuaXNJRSgpfHxicm93c2VyJDIuaXNFZGdlKCk/YnJvd3NlciQyLnZlcnNpb24ubWFqb3I6ZmFsc2UsZ2Vja286YnJvd3NlciQyLmlzRmlyZWZveCgpLG1hYzpvcy5pc09TWCgpfHxvcy5pc2lPUygpLGlPUzpkZXZpY2VUeXBlLmlzaVBhZCgpfHxkZXZpY2VUeXBlLmlzaVBob25lKCksYW5kcm9pZDpvcy5pc0FuZHJvaWQoKSxjb250ZW50RWRpdGFibGU6dHJ1ZSx0cmFuc3BhcmVudFNyYzonZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3JyxjYXJldEFmdGVyOnRydWUscmFuZ2U6ZG9tR2xvYmFscy53aW5kb3cuZ2V0U2VsZWN0aW9uJiYnUmFuZ2UnaW4gZG9tR2xvYmFscy53aW5kb3csZG9jdW1lbnRNb2RlOmJyb3dzZXIkMi5pc0lFKCk/ZG9tR2xvYmFscy5kb2N1bWVudC5kb2N1bWVudE1vZGV8fDc6MTAsZmlsZUFwaTpmaWxlQXBpLGNlRmFsc2U6dHJ1ZSxjYWNoZVN1ZmZpeDpudWxsLGNvbnRhaW5lcjpudWxsLGV4cGVyaW1lbnRhbFNoYWRvd0RvbTpmYWxzZSxjYW5IYXZlQ1NQOiFicm93c2VyJDIuaXNJRSgpLGRlc2t0b3A6ZGV2aWNlVHlwZS5pc0Rlc2t0b3AoKSx3aW5kb3dzUGhvbmU6d2luZG93c1Bob25lLGJyb3dzZXI6e2N1cnJlbnQ6YnJvd3NlciQyLmN1cnJlbnQsdmVyc2lvbjpicm93c2VyJDIudmVyc2lvbixpc0Nocm9tZTpicm93c2VyJDIuaXNDaHJvbWUsaXNFZGdlOmJyb3dzZXIkMi5pc0VkZ2UsaXNGaXJlZm94OmJyb3dzZXIkMi5pc0ZpcmVmb3gsaXNJRTpicm93c2VyJDIuaXNJRSxpc09wZXJhOmJyb3dzZXIkMi5pc09wZXJhLGlzU2FmYXJpOmJyb3dzZXIkMi5pc1NhZmFyaX0sb3M6e2N1cnJlbnQ6b3MuY3VycmVudCx2ZXJzaW9uOm9zLnZlcnNpb24saXNBbmRyb2lkOm9zLmlzQW5kcm9pZCxpc0ZyZWVCU0Q6b3MuaXNGcmVlQlNELGlzaU9TOm9zLmlzaU9TLGlzTGludXg6b3MuaXNMaW51eCxpc09TWDpvcy5pc09TWCxpc1NvbGFyaXM6b3MuaXNTb2xhcmlzLGlzV2luZG93czpvcy5pc1dpbmRvd3N9LGRldmljZVR5cGU6e2lzRGVza3RvcDpkZXZpY2VUeXBlLmlzRGVza3RvcCxpc2lQYWQ6ZGV2aWNlVHlwZS5pc2lQYWQsaXNpUGhvbmU6ZGV2aWNlVHlwZS5pc2lQaG9uZSxpc1Bob25lOmRldmljZVR5cGUuaXNQaG9uZSxpc1RhYmxldDpkZXZpY2VUeXBlLmlzVGFibGV0LGlzVG91Y2g6ZGV2aWNlVHlwZS5pc1RvdWNoLGlzV2ViVmlldzpkZXZpY2VUeXBlLmlzV2ViVmlld319O3ZhciBpc0FycmF5JDE9QXJyYXkuaXNBcnJheTt2YXIgdG9BcnJheSQxPWZ1bmN0aW9uIHRvQXJyYXkkMShvYmope3ZhciBhcnJheT1vYmosaSxsO2lmKCFpc0FycmF5JDEob2JqKSl7YXJyYXk9W107Zm9yKGk9MCxsPW9iai5sZW5ndGg7aTxsO2krKyl7YXJyYXlbaV09b2JqW2ldO319cmV0dXJuIGFycmF5O307dmFyIGVhY2gkMj1mdW5jdGlvbiBlYWNoJDIobyxjYixzKXt2YXIgbixsO2lmKCFvKXtyZXR1cm4gMDt9cz1zfHxvO2lmKG8ubGVuZ3RoIT09dW5kZWZpbmVkKXtmb3Iobj0wLGw9by5sZW5ndGg7bjxsO24rKyl7aWYoY2IuY2FsbChzLG9bbl0sbixvKT09PWZhbHNlKXtyZXR1cm4gMDt9fX1lbHNle2ZvcihuIGluIG8pe2lmKG8uaGFzT3duUHJvcGVydHkobikpe2lmKGNiLmNhbGwocyxvW25dLG4sbyk9PT1mYWxzZSl7cmV0dXJuIDA7fX19fXJldHVybiAxO307dmFyIG1hcCQyPWZ1bmN0aW9uIG1hcCQyKGFycmF5LGNhbGxiYWNrKXt2YXIgb3V0PVtdO2VhY2gkMihhcnJheSxmdW5jdGlvbihpdGVtLGluZGV4KXtvdXQucHVzaChjYWxsYmFjayhpdGVtLGluZGV4LGFycmF5KSk7fSk7cmV0dXJuIG91dDt9O3ZhciBmaWx0ZXIkMT1mdW5jdGlvbiBmaWx0ZXIkMShhLGYpe3ZhciBvPVtdO2VhY2gkMihhLGZ1bmN0aW9uKHYsaW5kZXgpe2lmKCFmfHxmKHYsaW5kZXgsYSkpe28ucHVzaCh2KTt9fSk7cmV0dXJuIG87fTt2YXIgaW5kZXhPZiQxPWZ1bmN0aW9uIGluZGV4T2YkMShhLHYpe3ZhciBpLGw7aWYoYSl7Zm9yKGk9MCxsPWEubGVuZ3RoO2k8bDtpKyspe2lmKGFbaV09PT12KXtyZXR1cm4gaTt9fX1yZXR1cm4tMTt9O3ZhciByZWR1Y2U9ZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24saXRlcmF0ZWUsYWNjdW11bGF0b3IsdGhpc0FyZyl7dmFyIGk9MDtpZihhcmd1bWVudHMubGVuZ3RoPDMpe2FjY3VtdWxhdG9yPWNvbGxlY3Rpb25bMF07fWZvcig7aTxjb2xsZWN0aW9uLmxlbmd0aDtpKyspe2FjY3VtdWxhdG9yPWl0ZXJhdGVlLmNhbGwodGhpc0FyZyxhY2N1bXVsYXRvcixjb2xsZWN0aW9uW2ldLGkpO31yZXR1cm4gYWNjdW11bGF0b3I7fTt2YXIgZmluZEluZGV4JDE9ZnVuY3Rpb24gZmluZEluZGV4JDEoYXJyYXkscHJlZGljYXRlLHRoaXNBcmcpe3ZhciBpLGw7Zm9yKGk9MCxsPWFycmF5Lmxlbmd0aDtpPGw7aSsrKXtpZihwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLGFycmF5W2ldLGksYXJyYXkpKXtyZXR1cm4gaTt9fXJldHVybi0xO307dmFyIGZpbmQkMj1mdW5jdGlvbiBmaW5kJDIoYXJyYXkscHJlZGljYXRlLHRoaXNBcmcpe3ZhciBpZHg9ZmluZEluZGV4JDEoYXJyYXkscHJlZGljYXRlLHRoaXNBcmcpO2lmKGlkeCE9PS0xKXtyZXR1cm4gYXJyYXlbaWR4XTt9cmV0dXJuIHVuZGVmaW5lZDt9O3ZhciBsYXN0JDE9ZnVuY3Rpb24gbGFzdCQxKGNvbGxlY3Rpb24pe3JldHVybiBjb2xsZWN0aW9uW2NvbGxlY3Rpb24ubGVuZ3RoLTFdO307dmFyIEFyclV0aWxzPXtpc0FycmF5OmlzQXJyYXkkMSx0b0FycmF5OnRvQXJyYXkkMSxlYWNoOmVhY2gkMixtYXA6bWFwJDIsZmlsdGVyOmZpbHRlciQxLGluZGV4T2Y6aW5kZXhPZiQxLHJlZHVjZTpyZWR1Y2UsZmluZEluZGV4OmZpbmRJbmRleCQxLGZpbmQ6ZmluZCQyLGxhc3Q6bGFzdCQxfTt2YXIgd2hpdGVTcGFjZVJlZ0V4cD0vXlxzKnxccyokL2c7dmFyIHRyaW0kMT1mdW5jdGlvbiB0cmltJDEoc3RyKXtyZXR1cm4gc3RyPT09bnVsbHx8c3RyPT09dW5kZWZpbmVkPycnOignJytzdHIpLnJlcGxhY2Uod2hpdGVTcGFjZVJlZ0V4cCwnJyk7fTt2YXIgaXMkMT1mdW5jdGlvbiBpcyQxKG9iaix0eXBlKXtpZighdHlwZSl7cmV0dXJuIG9iaiE9PXVuZGVmaW5lZDt9aWYodHlwZT09PSdhcnJheScmJkFyclV0aWxzLmlzQXJyYXkob2JqKSl7cmV0dXJuIHRydWU7fXJldHVybiBfdHlwZW9mKG9iaik9PT10eXBlO307dmFyIG1ha2VNYXA9ZnVuY3Rpb24gbWFrZU1hcChpdGVtcyxkZWxpbSxtYXApe3ZhciBpO2l0ZW1zPWl0ZW1zfHxbXTtkZWxpbT1kZWxpbXx8JywnO2lmKHR5cGVvZiBpdGVtcz09PSdzdHJpbmcnKXtpdGVtcz1pdGVtcy5zcGxpdChkZWxpbSk7fW1hcD1tYXB8fHt9O2k9aXRlbXMubGVuZ3RoO3doaWxlKGktLSl7bWFwW2l0ZW1zW2ldXT17fTt9cmV0dXJuIG1hcDt9O3ZhciBoYXNPd25Qcm9wZXJ0eSQxPWZ1bmN0aW9uIGhhc093blByb3BlcnR5JDEob2JqLHByb3Ape3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLHByb3ApO307dmFyIGNyZWF0ZT1mdW5jdGlvbiBjcmVhdGUocyxwLHJvb3Qpe3ZhciBzZWxmPXRoaXM7dmFyIHNwLG5zLGNuLHNjbixjLGRlPTA7cz0vXigoc3RhdGljKSApPyhbXHcuXSspKDooW1x3Ll0rKSk/Ly5leGVjKHMpO2NuPXNbM10ubWF0Y2goLyhefFwuKShcdyspJC9pKVsyXTtucz1zZWxmLmNyZWF0ZU5TKHNbM10ucmVwbGFjZSgvXC5cdyskLywnJykscm9vdCk7aWYobnNbY25dKXtyZXR1cm47fWlmKHNbMl09PT0nc3RhdGljJyl7bnNbY25dPXA7aWYodGhpcy5vbkNyZWF0ZSl7dGhpcy5vbkNyZWF0ZShzWzJdLHNbM10sbnNbY25dKTt9cmV0dXJuO31pZighcFtjbl0pe3BbY25dPWZ1bmN0aW9uKCl7fTtkZT0xO31uc1tjbl09cFtjbl07c2VsZi5leHRlbmQobnNbY25dLnByb3RvdHlwZSxwKTtpZihzWzVdKXtzcD1zZWxmLnJlc29sdmUoc1s1XSkucHJvdG90eXBlO3Njbj1zWzVdLm1hdGNoKC9cLihcdyspJC9pKVsxXTtjPW5zW2NuXTtpZihkZSl7bnNbY25dPWZ1bmN0aW9uKCl7cmV0dXJuIHNwW3Njbl0uYXBwbHkodGhpcyxhcmd1bWVudHMpO307fWVsc2V7bnNbY25dPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9c3Bbc2NuXTtyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fTt9bnNbY25dLnByb3RvdHlwZVtjbl09bnNbY25dO3NlbGYuZWFjaChzcCxmdW5jdGlvbihmLG4pe25zW2NuXS5wcm90b3R5cGVbbl09c3Bbbl07fSk7c2VsZi5lYWNoKHAsZnVuY3Rpb24oZixuKXtpZihzcFtuXSl7bnNbY25dLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3RoaXMucGFyZW50PXNwW25dO3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O31lbHNle2lmKG4hPT1jbil7bnNbY25dLnByb3RvdHlwZVtuXT1mO319fSk7fXNlbGYuZWFjaChwLnN0YXRpYyxmdW5jdGlvbihmLG4pe25zW2NuXVtuXT1mO30pO307dmFyIGV4dGVuZD1mdW5jdGlvbiBleHRlbmQob2JqLGV4dCl7dmFyIHg9W107Zm9yKHZhciBfaT0yO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7eFtfaS0yXT1hcmd1bWVudHNbX2ldO312YXIgaSxsLG5hbWU7dmFyIGFyZ3M9YXJndW1lbnRzO3ZhciB2YWx1ZTtmb3IoaT0xLGw9YXJncy5sZW5ndGg7aTxsO2krKyl7ZXh0PWFyZ3NbaV07Zm9yKG5hbWUgaW4gZXh0KXtpZihleHQuaGFzT3duUHJvcGVydHkobmFtZSkpe3ZhbHVlPWV4dFtuYW1lXTtpZih2YWx1ZSE9PXVuZGVmaW5lZCl7b2JqW25hbWVdPXZhbHVlO319fX1yZXR1cm4gb2JqO307dmFyIHdhbGs9ZnVuY3Rpb24gd2FsayhvLGYsbixzKXtzPXN8fHRoaXM7aWYobyl7aWYobil7bz1vW25dO31BcnJVdGlscy5lYWNoKG8sZnVuY3Rpb24obyxpKXtpZihmLmNhbGwocyxvLGksbik9PT1mYWxzZSl7cmV0dXJuIGZhbHNlO313YWxrKG8sZixuLHMpO30pO319O3ZhciBjcmVhdGVOUz1mdW5jdGlvbiBjcmVhdGVOUyhuLG8pe3ZhciBpLHY7bz1vfHxkb21HbG9iYWxzLndpbmRvdztuPW4uc3BsaXQoJy4nKTtmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKXt2PW5baV07aWYoIW9bdl0pe29bdl09e307fW89b1t2XTt9cmV0dXJuIG87fTt2YXIgcmVzb2x2ZT1mdW5jdGlvbiByZXNvbHZlKG4sbyl7dmFyIGksbDtvPW98fGRvbUdsb2JhbHMud2luZG93O249bi5zcGxpdCgnLicpO2ZvcihpPTAsbD1uLmxlbmd0aDtpPGw7aSsrKXtvPW9bbltpXV07aWYoIW8pe2JyZWFrO319cmV0dXJuIG87fTt2YXIgZXhwbG9kZT1mdW5jdGlvbiBleHBsb2RlKHMsZCl7aWYoIXN8fGlzJDEocywnYXJyYXknKSl7cmV0dXJuIHM7fXJldHVybiBBcnJVdGlscy5tYXAocy5zcGxpdChkfHwnLCcpLHRyaW0kMSk7fTt2YXIgX2FkZENhY2hlU3VmZml4PWZ1bmN0aW9uIF9hZGRDYWNoZVN1ZmZpeCh1cmwpe3ZhciBjYWNoZVN1ZmZpeD1FbnYuY2FjaGVTdWZmaXg7aWYoY2FjaGVTdWZmaXgpe3VybCs9KHVybC5pbmRleE9mKCc/Jyk9PT0tMT8nPyc6JyYnKStjYWNoZVN1ZmZpeDt9cmV0dXJuIHVybDt9O3ZhciBUb29scz17dHJpbTp0cmltJDEsaXNBcnJheTpBcnJVdGlscy5pc0FycmF5LGlzOmlzJDEsdG9BcnJheTpBcnJVdGlscy50b0FycmF5LG1ha2VNYXA6bWFrZU1hcCxlYWNoOkFyclV0aWxzLmVhY2gsbWFwOkFyclV0aWxzLm1hcCxncmVwOkFyclV0aWxzLmZpbHRlcixpbkFycmF5OkFyclV0aWxzLmluZGV4T2YsaGFzT3duOmhhc093blByb3BlcnR5JDEsZXh0ZW5kOmV4dGVuZCxjcmVhdGU6Y3JlYXRlLHdhbGs6d2FsayxjcmVhdGVOUzpjcmVhdGVOUyxyZXNvbHZlOnJlc29sdmUsZXhwbG9kZTpleHBsb2RlLF9hZGRDYWNoZVN1ZmZpeDpfYWRkQ2FjaGVTdWZmaXh9O2Z1bmN0aW9uIFN0eWxlU2hlZXRMb2FkZXIoZG9jdW1lbnQsc2V0dGluZ3Mpe2lmKHNldHRpbmdzPT09dm9pZCAwKXtzZXR0aW5ncz17fTt9dmFyIGlkQ291bnQ9MDt2YXIgbG9hZGVkU3RhdGVzPXt9O3ZhciBtYXhMb2FkVGltZTttYXhMb2FkVGltZT1zZXR0aW5ncy5tYXhMb2FkVGltZXx8NTAwMDt2YXIgX3NldFJlZmVycmVyUG9saWN5PWZ1bmN0aW9uIF9zZXRSZWZlcnJlclBvbGljeShyZWZlcnJlclBvbGljeSl7c2V0dGluZ3MucmVmZXJyZXJQb2xpY3k9cmVmZXJyZXJQb2xpY3k7fTt2YXIgYXBwZW5kVG9IZWFkPWZ1bmN0aW9uIGFwcGVuZFRvSGVhZChub2RlKXtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKG5vZGUpO307dmFyIGxvYWQ9ZnVuY3Rpb24gbG9hZCh1cmwsbG9hZGVkQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGxpbmssc3R5bGUsc3RhcnRUaW1lLHN0YXRlO3ZhciByZXNvbHZlPWZ1bmN0aW9uIHJlc29sdmUoc3RhdHVzKXtzdGF0ZS5zdGF0dXM9c3RhdHVzO3N0YXRlLnBhc3NlZD1bXTtzdGF0ZS5mYWlsZWQ9W107aWYobGluayl7bGluay5vbmxvYWQ9bnVsbDtsaW5rLm9uZXJyb3I9bnVsbDtsaW5rPW51bGw7fX07dmFyIHBhc3NlZD1mdW5jdGlvbiBwYXNzZWQoKXt2YXIgY2FsbGJhY2tzPXN0YXRlLnBhc3NlZDt2YXIgaT1jYWxsYmFja3MubGVuZ3RoO3doaWxlKGktLSl7Y2FsbGJhY2tzW2ldKCk7fXJlc29sdmUoMik7fTt2YXIgZmFpbGVkPWZ1bmN0aW9uIGZhaWxlZCgpe3ZhciBjYWxsYmFja3M9c3RhdGUuZmFpbGVkO3ZhciBpPWNhbGxiYWNrcy5sZW5ndGg7d2hpbGUoaS0tKXtjYWxsYmFja3NbaV0oKTt9cmVzb2x2ZSgzKTt9O3ZhciBpc09sZFdlYktpdD1mdW5jdGlvbiBpc09sZFdlYktpdCgpe3ZhciB3ZWJLaXRDaHVua3M9ZG9tR2xvYmFscy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XZWJLaXRcLyhcZCopLyk7cmV0dXJuISEod2ViS2l0Q2h1bmtzJiZwYXJzZUludCh3ZWJLaXRDaHVua3NbMV0sMTApPDUzNik7fTt2YXIgd2FpdD1mdW5jdGlvbiB3YWl0KHRlc3RDYWxsYmFjayx3YWl0Q2FsbGJhY2spe2lmKCF0ZXN0Q2FsbGJhY2soKSl7aWYobmV3IERhdGUoKS5nZXRUaW1lKCktc3RhcnRUaW1lPG1heExvYWRUaW1lKXtEZWxheS5zZXRUaW1lb3V0KHdhaXRDYWxsYmFjayk7fWVsc2V7ZmFpbGVkKCk7fX19O3ZhciB3YWl0Rm9yV2ViS2l0TGlua0xvYWRlZD1mdW5jdGlvbiB3YWl0Rm9yV2ViS2l0TGlua0xvYWRlZCgpe3dhaXQoZnVuY3Rpb24oKXt2YXIgc3R5bGVTaGVldHM9ZG9jdW1lbnQuc3R5bGVTaGVldHM7dmFyIHN0eWxlU2hlZXQsaT1zdHlsZVNoZWV0cy5sZW5ndGgsb3duZXI7d2hpbGUoaS0tKXtzdHlsZVNoZWV0PXN0eWxlU2hlZXRzW2ldO293bmVyPXN0eWxlU2hlZXQub3duZXJOb2RlP3N0eWxlU2hlZXQub3duZXJOb2RlOnN0eWxlU2hlZXQub3duaW5nRWxlbWVudDtpZihvd25lciYmb3duZXIuaWQ9PT1saW5rLmlkKXtwYXNzZWQoKTtyZXR1cm4gdHJ1ZTt9fX0sd2FpdEZvcldlYktpdExpbmtMb2FkZWQpO307dmFyIHdhaXRGb3JHZWNrb0xpbmtMb2FkZWQ9ZnVuY3Rpb24gd2FpdEZvckdlY2tvTGlua0xvYWRlZCgpe3dhaXQoZnVuY3Rpb24oKXt0cnl7dmFyIGNzc1J1bGVzPXN0eWxlLnNoZWV0LmNzc1J1bGVzO3Bhc3NlZCgpO3JldHVybiEhY3NzUnVsZXM7fWNhdGNoKGV4KXt9fSx3YWl0Rm9yR2Vja29MaW5rTG9hZGVkKTt9O3VybD1Ub29scy5fYWRkQ2FjaGVTdWZmaXgodXJsKTtpZighbG9hZGVkU3RhdGVzW3VybF0pe3N0YXRlPXtwYXNzZWQ6W10sZmFpbGVkOltdfTtsb2FkZWRTdGF0ZXNbdXJsXT1zdGF0ZTt9ZWxzZXtzdGF0ZT1sb2FkZWRTdGF0ZXNbdXJsXTt9aWYobG9hZGVkQ2FsbGJhY2spe3N0YXRlLnBhc3NlZC5wdXNoKGxvYWRlZENhbGxiYWNrKTt9aWYoZXJyb3JDYWxsYmFjayl7c3RhdGUuZmFpbGVkLnB1c2goZXJyb3JDYWxsYmFjayk7fWlmKHN0YXRlLnN0YXR1cz09PTEpe3JldHVybjt9aWYoc3RhdGUuc3RhdHVzPT09Mil7cGFzc2VkKCk7cmV0dXJuO31pZihzdGF0ZS5zdGF0dXM9PT0zKXtmYWlsZWQoKTtyZXR1cm47fXN0YXRlLnN0YXR1cz0xO2xpbms9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO2xpbmsucmVsPSdzdHlsZXNoZWV0JztsaW5rLnR5cGU9J3RleHQvY3NzJztsaW5rLmlkPSd1JytpZENvdW50Kys7bGluay5hc3luYz1mYWxzZTtsaW5rLmRlZmVyPWZhbHNlO3N0YXJ0VGltZT1uZXcgRGF0ZSgpLmdldFRpbWUoKTtpZihzZXR0aW5ncy5jb250ZW50Q3NzQ29ycyl7bGluay5jcm9zc09yaWdpbj0nYW5vbnltb3VzJzt9aWYoc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kpe3NldChFbGVtZW50LmZyb21Eb20obGluayksJ3JlZmVycmVycG9saWN5JyxzZXR0aW5ncy5yZWZlcnJlclBvbGljeSk7fWlmKCdvbmxvYWQnaW4gbGluayYmIWlzT2xkV2ViS2l0KCkpe2xpbmsub25sb2FkPXdhaXRGb3JXZWJLaXRMaW5rTG9hZGVkO2xpbmsub25lcnJvcj1mYWlsZWQ7fWVsc2V7aWYoZG9tR2xvYmFscy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKT4wKXtzdHlsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO3N0eWxlLnRleHRDb250ZW50PSdAaW1wb3J0ICInK3VybCsnIic7d2FpdEZvckdlY2tvTGlua0xvYWRlZCgpO2FwcGVuZFRvSGVhZChzdHlsZSk7cmV0dXJuO313YWl0Rm9yV2ViS2l0TGlua0xvYWRlZCgpO31hcHBlbmRUb0hlYWQobGluayk7bGluay5ocmVmPXVybDt9O3ZhciBsb2FkRj1mdW5jdGlvbiBsb2FkRih1cmwpe3JldHVybiBGdXR1cmUubnUoZnVuY3Rpb24ocmVzb2x2ZSl7bG9hZCh1cmwsY29tcG9zZShyZXNvbHZlLGNvbnN0YW50KFJlc3VsdC52YWx1ZSh1cmwpKSksY29tcG9zZShyZXNvbHZlLGNvbnN0YW50KFJlc3VsdC5lcnJvcih1cmwpKSkpO30pO307dmFyIHVuYm94PWZ1bmN0aW9uIHVuYm94KHJlc3VsdCl7cmV0dXJuIHJlc3VsdC5mb2xkKGlkZW50aXR5LGlkZW50aXR5KTt9O3ZhciBsb2FkQWxsPWZ1bmN0aW9uIGxvYWRBbGwodXJscyxzdWNjZXNzLGZhaWx1cmUpe3BhciQxKG1hcCh1cmxzLGxvYWRGKSkuZ2V0KGZ1bmN0aW9uKHJlc3VsdCl7dmFyIHBhcnRzPXBhcnRpdGlvbihyZXN1bHQsZnVuY3Rpb24ocil7cmV0dXJuIHIuaXNWYWx1ZSgpO30pO2lmKHBhcnRzLmZhaWwubGVuZ3RoPjApe2ZhaWx1cmUocGFydHMuZmFpbC5tYXAodW5ib3gpKTt9ZWxzZXtzdWNjZXNzKHBhcnRzLnBhc3MubWFwKHVuYm94KSk7fX0pO307cmV0dXJue2xvYWQ6bG9hZCxsb2FkQWxsOmxvYWRBbGwsX3NldFJlZmVycmVyUG9saWN5Ol9zZXRSZWZlcnJlclBvbGljeX07fXZhciBibG9ja3M9WydhcnRpY2xlJywnYXNpZGUnLCdkZXRhaWxzJywnZGl2JywnZHQnLCdmaWdjYXB0aW9uJywnZm9vdGVyJywnZm9ybScsJ2ZpZWxkc2V0JywnaGVhZGVyJywnaGdyb3VwJywnaHRtbCcsJ21haW4nLCduYXYnLCdzZWN0aW9uJywnc3VtbWFyeScsJ2JvZHknLCdwJywnZGwnLCdtdWx0aWNvbCcsJ2RkJywnZmlndXJlJywnYWRkcmVzcycsJ2NlbnRlcicsJ2Jsb2NrcXVvdGUnLCdoMScsJ2gyJywnaDMnLCdoNCcsJ2g1JywnaDYnLCdsaXN0aW5nJywneG1wJywncHJlJywncGxhaW50ZXh0JywnbWVudScsJ2RpcicsJ3VsJywnb2wnLCdsaScsJ2hyJywndGFibGUnLCd0Ym9keScsJ3RoZWFkJywndGZvb3QnLCd0aCcsJ3RyJywndGQnLCdjYXB0aW9uJ107dmFyIHZvaWRzPVsnYXJlYScsJ2Jhc2UnLCdiYXNlZm9udCcsJ2JyJywnY29sJywnZnJhbWUnLCdocicsJ2ltZycsJ2lucHV0JywnaXNpbmRleCcsJ2xpbmsnLCdtZXRhJywncGFyYW0nLCdlbWJlZCcsJ3NvdXJjZScsJ3dicicsJ3RyYWNrJ107dmFyIHRhYmxlQ2VsbHM9Wyd0ZCcsJ3RoJ107dmFyIHRhYmxlU2VjdGlvbnM9Wyd0aGVhZCcsJ3Rib2R5JywndGZvb3QnXTt2YXIgdGV4dEJsb2Nrcz1bJ2gxJywnaDInLCdoMycsJ2g0JywnaDUnLCdoNicsJ3AnLCdkaXYnLCdhZGRyZXNzJywncHJlJywnZm9ybScsJ2Jsb2NrcXVvdGUnLCdjZW50ZXInLCdkaXInLCdmaWVsZHNldCcsJ2hlYWRlcicsJ2Zvb3RlcicsJ2FydGljbGUnLCdzZWN0aW9uJywnaGdyb3VwJywnYXNpZGUnLCduYXYnLCdmaWd1cmUnXTt2YXIgaGVhZGluZ3M9WydoMScsJ2gyJywnaDMnLCdoNCcsJ2g1JywnaDYnXTt2YXIgbGlzdEl0ZW1zPVsnbGknLCdkZCcsJ2R0J107dmFyIGxpc3RzPVsndWwnLCdvbCcsJ2RsJ107dmFyIHdzRWxlbWVudHM9WydwcmUnLCdzY3JpcHQnLCd0ZXh0YXJlYScsJ3N0eWxlJ107dmFyIGxhenlMb29rdXA9ZnVuY3Rpb24gbGF6eUxvb2t1cChpdGVtcyl7dmFyIGxvb2t1cDtyZXR1cm4gZnVuY3Rpb24obm9kZSl7bG9va3VwPWxvb2t1cD9sb29rdXA6bWFwVG9PYmplY3QoaXRlbXMsY29uc3RhbnQodHJ1ZSkpO3JldHVybiBsb29rdXAuaGFzT3duUHJvcGVydHkobmFtZShub2RlKSk7fTt9O3ZhciBpc0hlYWRpbmc9bGF6eUxvb2t1cChoZWFkaW5ncyk7dmFyIGlzQmxvY2s9bGF6eUxvb2t1cChibG9ja3MpO3ZhciBpc1RhYmxlJDE9ZnVuY3Rpb24gaXNUYWJsZSQxKG5vZGUpe3JldHVybiBuYW1lKG5vZGUpPT09J3RhYmxlJzt9O3ZhciBpc0lubGluZT1mdW5jdGlvbiBpc0lubGluZShub2RlKXtyZXR1cm4gaXNFbGVtZW50JDEobm9kZSkmJiFpc0Jsb2NrKG5vZGUpO307dmFyIGlzQnIkMT1mdW5jdGlvbiBpc0JyJDEobm9kZSl7cmV0dXJuIGlzRWxlbWVudCQxKG5vZGUpJiZuYW1lKG5vZGUpPT09J2JyJzt9O3ZhciBpc1RleHRCbG9jaz1sYXp5TG9va3VwKHRleHRCbG9ja3MpO3ZhciBpc0xpc3Q9bGF6eUxvb2t1cChsaXN0cyk7dmFyIGlzTGlzdEl0ZW09bGF6eUxvb2t1cChsaXN0SXRlbXMpO3ZhciBpc1ZvaWQ9bGF6eUxvb2t1cCh2b2lkcyk7dmFyIGlzVGFibGVTZWN0aW9uPWxhenlMb29rdXAodGFibGVTZWN0aW9ucyk7dmFyIGlzVGFibGVDZWxsPWxhenlMb29rdXAodGFibGVDZWxscyk7dmFyIGlzV3NQcmVzZXJ2ZUVsZW1lbnQ9bGF6eUxvb2t1cCh3c0VsZW1lbnRzKTt2YXIgc3Vycm91bmRlZEJ5U3BhbnM9ZnVuY3Rpb24gc3Vycm91bmRlZEJ5U3BhbnMobm9kZSl7dmFyIHByZXZpb3VzSXNTcGFuPW5vZGUucHJldmlvdXNTaWJsaW5nJiZub2RlLnByZXZpb3VzU2libGluZy5ub2RlTmFtZT09PSdTUEFOJzt2YXIgbmV4dElzU3Bhbj1ub2RlLm5leHRTaWJsaW5nJiZub2RlLm5leHRTaWJsaW5nLm5vZGVOYW1lPT09J1NQQU4nO3JldHVybiBwcmV2aW91c0lzU3BhbiYmbmV4dElzU3Bhbjt9O3ZhciBpc0Jvb2ttYXJrTm9kZT1mdW5jdGlvbiBpc0Jvb2ttYXJrTm9kZShub2RlKXtyZXR1cm4gbm9kZSYmbm9kZS50YWdOYW1lPT09J1NQQU4nJiZub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1tY2UtdHlwZScpPT09J2Jvb2ttYXJrJzt9O3ZhciB0cmltTm9kZT1mdW5jdGlvbiB0cmltTm9kZShkb20sbm9kZSl7dmFyIGksY2hpbGRyZW49bm9kZS5jaGlsZE5vZGVzO2lmKE5vZGVUeXBlLmlzRWxlbWVudChub2RlKSYmaXNCb29rbWFya05vZGUobm9kZSkpe3JldHVybjt9Zm9yKGk9Y2hpbGRyZW4ubGVuZ3RoLTE7aT49MDtpLS0pe3RyaW1Ob2RlKGRvbSxjaGlsZHJlbltpXSk7fWlmKE5vZGVUeXBlLmlzRG9jdW1lbnQobm9kZSk9PT1mYWxzZSl7aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpJiZub2RlLm5vZGVWYWx1ZS5sZW5ndGg+MCl7dmFyIHRyaW1tZWRMZW5ndGg9VG9vbHMudHJpbShub2RlLm5vZGVWYWx1ZSkubGVuZ3RoO2lmKGRvbS5pc0Jsb2NrKG5vZGUucGFyZW50Tm9kZSl8fHRyaW1tZWRMZW5ndGg+MCl7cmV0dXJuO31pZih0cmltbWVkTGVuZ3RoPT09MCYmc3Vycm91bmRlZEJ5U3BhbnMobm9kZSkpe3JldHVybjt9fWVsc2UgaWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpKXtjaGlsZHJlbj1ub2RlLmNoaWxkTm9kZXM7aWYoY2hpbGRyZW4ubGVuZ3RoPT09MSYmaXNCb29rbWFya05vZGUoY2hpbGRyZW5bMF0pKXtub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkcmVuWzBdLG5vZGUpO31pZihjaGlsZHJlbi5sZW5ndGh8fGlzVm9pZChFbGVtZW50LmZyb21Eb20obm9kZSkpKXtyZXR1cm47fX1kb20ucmVtb3ZlKG5vZGUpO31yZXR1cm4gbm9kZTt9O3ZhciBUcmltTm9kZT17dHJpbU5vZGU6dHJpbU5vZGV9O3ZhciBtYWtlTWFwJDE9VG9vbHMubWFrZU1hcDt2YXIgbmFtZWRFbnRpdGllcyxiYXNlRW50aXRpZXMscmV2ZXJzZUVudGl0aWVzO3ZhciBhdHRyc0NoYXJzUmVnRXhwPS9bJjw+XCJcdTAwNjBcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2c7dmFyIHRleHRDaGFyc1JlZ0V4cD0vWzw+Jlx1MDA3RS1cdUQ3RkZcdUUwMDAtXHVGRkVGXXxbXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZzt2YXIgcmF3Q2hhcnNSZWdFeHA9L1s8PiZcIlwnXS9nO3ZhciBlbnRpdHlSZWdFeHA9LyYjKFthLXowLTldKyk7P3wmKFthLXowLTldKyk7L2dpO3ZhciBhc2NpaU1hcD17MTI4OiJcdTIwQUMiLDEzMDoiXHUyMDFBIiwxMzE6Ilx1MDE5MiIsMTMyOiJcdTIwMUUiLDEzMzoiXHUyMDI2IiwxMzQ6Ilx1MjAyMCIsMTM1OiJcdTIwMjEiLDEzNjoiXHUwMkM2IiwxMzc6Ilx1MjAzMCIsMTM4OiJcdTAxNjAiLDEzOToiXHUyMDM5IiwxNDA6Ilx1MDE1MiIsMTQyOiJcdTAxN0QiLDE0NToiXHUyMDE4IiwxNDY6Ilx1MjAxOSIsMTQ3OiJcdTIwMUMiLDE0ODoiXHUyMDFEIiwxNDk6Ilx1MjAyMiIsMTUwOiJcdTIwMTMiLDE1MToiXHUyMDE0IiwxNTI6Ilx1MDJEQyIsMTUzOiJcdTIxMjIiLDE1NDoiXHUwMTYxIiwxNTU6Ilx1MjAzQSIsMTU2OiJcdTAxNTMiLDE1ODoiXHUwMTdFIiwxNTk6Ilx1MDE3OCJ9O2Jhc2VFbnRpdGllcz17JyInOicmcXVvdDsnLCdcJyc6JyYjMzk7JywnPCc6JyZsdDsnLCc+JzonJmd0OycsJyYnOicmYW1wOycsJ2AnOicmIzk2Oyd9O3JldmVyc2VFbnRpdGllcz17JyZsdDsnOic8JywnJmd0Oyc6Jz4nLCcmYW1wOyc6JyYnLCcmcXVvdDsnOiciJywnJmFwb3M7JzonXCcnfTt2YXIgbmF0aXZlRGVjb2RlPWZ1bmN0aW9uIG5hdGl2ZURlY29kZSh0ZXh0KXt2YXIgZWxtO2VsbT1FbGVtZW50LmZyb21UYWcoJ2RpdicpLmRvbSgpO2VsbS5pbm5lckhUTUw9dGV4dDtyZXR1cm4gZWxtLnRleHRDb250ZW50fHxlbG0uaW5uZXJUZXh0fHx0ZXh0O307dmFyIGJ1aWxkRW50aXRpZXNMb29rdXA9ZnVuY3Rpb24gYnVpbGRFbnRpdGllc0xvb2t1cChpdGVtcyxyYWRpeCl7dmFyIGksY2hyLGVudGl0eTt2YXIgbG9va3VwPXt9O2lmKGl0ZW1zKXtpdGVtcz1pdGVtcy5zcGxpdCgnLCcpO3JhZGl4PXJhZGl4fHwxMDtmb3IoaT0wO2k8aXRlbXMubGVuZ3RoO2krPTIpe2Nocj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGl0ZW1zW2ldLHJhZGl4KSk7aWYoIWJhc2VFbnRpdGllc1tjaHJdKXtlbnRpdHk9JyYnK2l0ZW1zW2krMV0rJzsnO2xvb2t1cFtjaHJdPWVudGl0eTtsb29rdXBbZW50aXR5XT1jaHI7fX1yZXR1cm4gbG9va3VwO319O25hbWVkRW50aXRpZXM9YnVpbGRFbnRpdGllc0xvb2t1cCgnNTAsbmJzcCw1MSxpZXhjbCw1MixjZW50LDUzLHBvdW5kLDU0LGN1cnJlbiw1NSx5ZW4sNTYsYnJ2YmFyLDU3LHNlY3QsNTgsdW1sLDU5LGNvcHksJysnNWEsb3JkZiw1YixsYXF1byw1Yyxub3QsNWQsc2h5LDVlLHJlZyw1ZixtYWNyLDVnLGRlZyw1aCxwbHVzbW4sNWksc3VwMiw1aixzdXAzLDVrLGFjdXRlLCcrJzVsLG1pY3JvLDVtLHBhcmEsNW4sbWlkZG90LDVvLGNlZGlsLDVwLHN1cDEsNXEsb3JkbSw1cixyYXF1byw1cyxmcmFjMTQsNXQsZnJhYzEyLDV1LGZyYWMzNCwnKyc1dixpcXVlc3QsNjAsQWdyYXZlLDYxLEFhY3V0ZSw2MixBY2lyYyw2MyxBdGlsZGUsNjQsQXVtbCw2NSxBcmluZyw2NixBRWxpZyw2NyxDY2VkaWwsJysnNjgsRWdyYXZlLDY5LEVhY3V0ZSw2YSxFY2lyYyw2YixFdW1sLDZjLElncmF2ZSw2ZCxJYWN1dGUsNmUsSWNpcmMsNmYsSXVtbCw2ZyxFVEgsNmgsTnRpbGRlLCcrJzZpLE9ncmF2ZSw2aixPYWN1dGUsNmssT2NpcmMsNmwsT3RpbGRlLDZtLE91bWwsNm4sdGltZXMsNm8sT3NsYXNoLDZwLFVncmF2ZSw2cSxVYWN1dGUsJysnNnIsVWNpcmMsNnMsVXVtbCw2dCxZYWN1dGUsNnUsVEhPUk4sNnYsc3psaWcsNzAsYWdyYXZlLDcxLGFhY3V0ZSw3MixhY2lyYyw3MyxhdGlsZGUsNzQsYXVtbCwnKyc3NSxhcmluZyw3NixhZWxpZyw3NyxjY2VkaWwsNzgsZWdyYXZlLDc5LGVhY3V0ZSw3YSxlY2lyYyw3YixldW1sLDdjLGlncmF2ZSw3ZCxpYWN1dGUsN2UsaWNpcmMsJysnN2YsaXVtbCw3ZyxldGgsN2gsbnRpbGRlLDdpLG9ncmF2ZSw3aixvYWN1dGUsN2ssb2NpcmMsN2wsb3RpbGRlLDdtLG91bWwsN24sZGl2aWRlLDdvLG9zbGFzaCwnKyc3cCx1Z3JhdmUsN3EsdWFjdXRlLDdyLHVjaXJjLDdzLHV1bWwsN3QseWFjdXRlLDd1LHRob3JuLDd2LHl1bWwsY2ksZm5vZixzaCxBbHBoYSxzaSxCZXRhLCcrJ3NqLEdhbW1hLHNrLERlbHRhLHNsLEVwc2lsb24sc20sWmV0YSxzbixFdGEsc28sVGhldGEsc3AsSW90YSxzcSxLYXBwYSxzcixMYW1iZGEsc3MsTXUsJysnc3QsTnUsc3UsWGksc3YsT21pY3Jvbix0MCxQaSx0MSxSaG8sdDMsU2lnbWEsdDQsVGF1LHQ1LFVwc2lsb24sdDYsUGhpLHQ3LENoaSx0OCxQc2ksJysndDksT21lZ2EsdGgsYWxwaGEsdGksYmV0YSx0aixnYW1tYSx0ayxkZWx0YSx0bCxlcHNpbG9uLHRtLHpldGEsdG4sZXRhLHRvLHRoZXRhLHRwLGlvdGEsJysndHEsa2FwcGEsdHIsbGFtYmRhLHRzLG11LHR0LG51LHR1LHhpLHR2LG9taWNyb24sdTAscGksdTEscmhvLHUyLHNpZ21hZix1MyxzaWdtYSx1NCx0YXUsJysndTUsdXBzaWxvbix1NixwaGksdTcsY2hpLHU4LHBzaSx1OSxvbWVnYSx1aCx0aGV0YXN5bSx1aSx1cHNpaCx1bSxwaXYsODEyLGJ1bGwsODE2LGhlbGxpcCwnKyc4MWkscHJpbWUsODFqLFByaW1lLDgxdSxvbGluZSw4MjQsZnJhc2wsODhvLHdlaWVycCw4OGgsaW1hZ2UsODhzLHJlYWwsODkyLHRyYWRlLDg5bCxhbGVmc3ltLCcrJzhjZyxsYXJyLDhjaCx1YXJyLDhjaSxyYXJyLDhjaixkYXJyLDhjayxoYXJyLDhkbCxjcmFyciw4ZWcsbEFyciw4ZWgsdUFyciw4ZWksckFyciw4ZWosZEFyciwnKyc4ZWssaEFyciw4ZzAsZm9yYWxsLDhnMixwYXJ0LDhnMyxleGlzdCw4ZzUsZW1wdHksOGc3LG5hYmxhLDhnOCxpc2luLDhnOSxub3Rpbiw4Z2IsbmksOGdmLHByb2QsJysnOGdoLHN1bSw4Z2ksbWludXMsOGduLGxvd2FzdCw4Z3EscmFkaWMsOGd0LHByb3AsOGd1LGluZmluLDhoMCxhbmcsOGg3LGFuZCw4aDgsb3IsOGg5LGNhcCw4aGEsY3VwLCcrJzhoYixpbnQsOGhrLHRoZXJlNCw4aHMsc2ltLDhpNSxjb25nLDhpOCxhc3ltcCw4ajAsbmUsOGoxLGVxdWl2LDhqNCxsZSw4ajUsZ2UsOGsyLHN1Yiw4azMsc3VwLDhrNCwnKyduc3ViLDhrNixzdWJlLDhrNyxzdXBlLDhrbCxvcGx1cyw4a24sb3RpbWVzLDhsNSxwZXJwLDhtNSxzZG90LDhvOCxsY2VpbCw4bzkscmNlaWwsOG9hLGxmbG9vciw4b2IsJysncmZsb29yLDhwOSxsYW5nLDhwYSxyYW5nLDllYSxsb3osOWowLHNwYWRlcyw5ajMsY2x1YnMsOWo1LGhlYXJ0cyw5ajYsZGlhbXMsYWksT0VsaWcsYWosb2VsaWcsYjAsJysnU2Nhcm9uLGIxLHNjYXJvbixibyxZdW1sLG02LGNpcmMsbXMsdGlsZGUsODAyLGVuc3AsODAzLGVtc3AsODA5LHRoaW5zcCw4MGMsenduaiw4MGQsendqLDgwZSxscm0sJysnODBmLHJsbSw4MGosbmRhc2gsODBrLG1kYXNoLDgwbyxsc3F1byw4MHAscnNxdW8sODBxLHNicXVvLDgwcyxsZHF1byw4MHQscmRxdW8sODB1LGJkcXVvLDgxMCxkYWdnZXIsJysnODExLERhZ2dlciw4MWcscGVybWlsLDgxcCxsc2FxdW8sODFxLHJzYXF1byw4NWMsZXVybycsMzIpO3ZhciBlbmNvZGVSYXc9ZnVuY3Rpb24gZW5jb2RlUmF3KHRleHQsYXR0cil7cmV0dXJuIHRleHQucmVwbGFjZShhdHRyP2F0dHJzQ2hhcnNSZWdFeHA6dGV4dENoYXJzUmVnRXhwLGZ1bmN0aW9uKGNocil7cmV0dXJuIGJhc2VFbnRpdGllc1tjaHJdfHxjaHI7fSk7fTt2YXIgZW5jb2RlQWxsUmF3PWZ1bmN0aW9uIGVuY29kZUFsbFJhdyh0ZXh0KXtyZXR1cm4oJycrdGV4dCkucmVwbGFjZShyYXdDaGFyc1JlZ0V4cCxmdW5jdGlvbihjaHIpe3JldHVybiBiYXNlRW50aXRpZXNbY2hyXXx8Y2hyO30pO307dmFyIGVuY29kZU51bWVyaWM9ZnVuY3Rpb24gZW5jb2RlTnVtZXJpYyh0ZXh0LGF0dHIpe3JldHVybiB0ZXh0LnJlcGxhY2UoYXR0cj9hdHRyc0NoYXJzUmVnRXhwOnRleHRDaGFyc1JlZ0V4cCxmdW5jdGlvbihjaHIpe2lmKGNoci5sZW5ndGg+MSl7cmV0dXJuJyYjJysoKGNoci5jaGFyQ29kZUF0KDApLTU1Mjk2KSoxMDI0KyhjaHIuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyc7Jzt9cmV0dXJuIGJhc2VFbnRpdGllc1tjaHJdfHwnJiMnK2Noci5jaGFyQ29kZUF0KDApKyc7Jzt9KTt9O3ZhciBlbmNvZGVOYW1lZD1mdW5jdGlvbiBlbmNvZGVOYW1lZCh0ZXh0LGF0dHIsZW50aXRpZXMpe2VudGl0aWVzPWVudGl0aWVzfHxuYW1lZEVudGl0aWVzO3JldHVybiB0ZXh0LnJlcGxhY2UoYXR0cj9hdHRyc0NoYXJzUmVnRXhwOnRleHRDaGFyc1JlZ0V4cCxmdW5jdGlvbihjaHIpe3JldHVybiBiYXNlRW50aXRpZXNbY2hyXXx8ZW50aXRpZXNbY2hyXXx8Y2hyO30pO307dmFyIGdldEVuY29kZUZ1bmM9ZnVuY3Rpb24gZ2V0RW5jb2RlRnVuYyhuYW1lLGVudGl0aWVzKXt2YXIgZW50aXRpZXNNYXA9YnVpbGRFbnRpdGllc0xvb2t1cChlbnRpdGllcyl8fG5hbWVkRW50aXRpZXM7dmFyIGVuY29kZU5hbWVkQW5kTnVtZXJpYz1mdW5jdGlvbiBlbmNvZGVOYW1lZEFuZE51bWVyaWModGV4dCxhdHRyKXtyZXR1cm4gdGV4dC5yZXBsYWNlKGF0dHI/YXR0cnNDaGFyc1JlZ0V4cDp0ZXh0Q2hhcnNSZWdFeHAsZnVuY3Rpb24oY2hyKXtpZihiYXNlRW50aXRpZXNbY2hyXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGJhc2VFbnRpdGllc1tjaHJdO31pZihlbnRpdGllc01hcFtjaHJdIT09dW5kZWZpbmVkKXtyZXR1cm4gZW50aXRpZXNNYXBbY2hyXTt9aWYoY2hyLmxlbmd0aD4xKXtyZXR1cm4nJiMnKygoY2hyLmNoYXJDb2RlQXQoMCktNTUyOTYpKjEwMjQrKGNoci5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrJzsnO31yZXR1cm4nJiMnK2Noci5jaGFyQ29kZUF0KDApKyc7Jzt9KTt9O3ZhciBlbmNvZGVDdXN0b21OYW1lZD1mdW5jdGlvbiBlbmNvZGVDdXN0b21OYW1lZCh0ZXh0LGF0dHIpe3JldHVybiBlbmNvZGVOYW1lZCh0ZXh0LGF0dHIsZW50aXRpZXNNYXApO307dmFyIG5hbWVNYXA9bWFrZU1hcCQxKG5hbWUucmVwbGFjZSgvXCsvZywnLCcpKTtpZihuYW1lTWFwLm5hbWVkJiZuYW1lTWFwLm51bWVyaWMpe3JldHVybiBlbmNvZGVOYW1lZEFuZE51bWVyaWM7fWlmKG5hbWVNYXAubmFtZWQpe2lmKGVudGl0aWVzKXtyZXR1cm4gZW5jb2RlQ3VzdG9tTmFtZWQ7fXJldHVybiBlbmNvZGVOYW1lZDt9aWYobmFtZU1hcC5udW1lcmljKXtyZXR1cm4gZW5jb2RlTnVtZXJpYzt9cmV0dXJuIGVuY29kZVJhdzt9O3ZhciBkZWNvZGU9ZnVuY3Rpb24gZGVjb2RlKHRleHQpe3JldHVybiB0ZXh0LnJlcGxhY2UoZW50aXR5UmVnRXhwLGZ1bmN0aW9uKGFsbCxudW1lcmljKXtpZihudW1lcmljKXtpZihudW1lcmljLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpPT09J3gnKXtudW1lcmljPXBhcnNlSW50KG51bWVyaWMuc3Vic3RyKDEpLDE2KTt9ZWxzZXtudW1lcmljPXBhcnNlSW50KG51bWVyaWMsMTApO31pZihudW1lcmljPjY1NTM1KXtudW1lcmljLT02NTUzNjtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisobnVtZXJpYz4+MTApLDU2MzIwKyhudW1lcmljJjEwMjMpKTt9cmV0dXJuIGFzY2lpTWFwW251bWVyaWNdfHxTdHJpbmcuZnJvbUNoYXJDb2RlKG51bWVyaWMpO31yZXR1cm4gcmV2ZXJzZUVudGl0aWVzW2FsbF18fG5hbWVkRW50aXRpZXNbYWxsXXx8bmF0aXZlRGVjb2RlKGFsbCk7fSk7fTt2YXIgRW50aXRpZXM9e2VuY29kZVJhdzplbmNvZGVSYXcsZW5jb2RlQWxsUmF3OmVuY29kZUFsbFJhdyxlbmNvZGVOdW1lcmljOmVuY29kZU51bWVyaWMsZW5jb2RlTmFtZWQ6ZW5jb2RlTmFtZWQsZ2V0RW5jb2RlRnVuYzpnZXRFbmNvZGVGdW5jLGRlY29kZTpkZWNvZGV9O3ZhciBtYXBDYWNoZT17fSxkdW1teU9iaj17fTt2YXIgbWFrZU1hcCQyPVRvb2xzLm1ha2VNYXAsZWFjaCQzPVRvb2xzLmVhY2gsZXh0ZW5kJDE9VG9vbHMuZXh0ZW5kLGV4cGxvZGUkMT1Ub29scy5leHBsb2RlLGluQXJyYXk9VG9vbHMuaW5BcnJheTt2YXIgc3BsaXQ9ZnVuY3Rpb24gc3BsaXQoaXRlbXMsZGVsaW0pe2l0ZW1zPVRvb2xzLnRyaW0oaXRlbXMpO3JldHVybiBpdGVtcz9pdGVtcy5zcGxpdChkZWxpbXx8JyAnKTpbXTt9O3ZhciBjb21waWxlU2NoZW1hPWZ1bmN0aW9uIGNvbXBpbGVTY2hlbWEodHlwZSl7dmFyIHNjaGVtYT17fTt2YXIgZ2xvYmFsQXR0cmlidXRlcyxibG9ja0NvbnRlbnQ7dmFyIHBocmFzaW5nQ29udGVudCxmbG93Q29udGVudCxodG1sNEJsb2NrQ29udGVudCxodG1sNFBocmFzaW5nQ29udGVudDt2YXIgYWRkPWZ1bmN0aW9uIGFkZChuYW1lLGF0dHJpYnV0ZXMsY2hpbGRyZW4pe3ZhciBuaSxhdHRyaWJ1dGVzT3JkZXIsZWxlbWVudDt2YXIgYXJyYXlUb01hcD1mdW5jdGlvbiBhcnJheVRvTWFwKGFycmF5LG9iail7dmFyIG1hcD17fTt2YXIgaSxsO2ZvcihpPTAsbD1hcnJheS5sZW5ndGg7aTxsO2krKyl7bWFwW2FycmF5W2ldXT1vYmp8fHt9O31yZXR1cm4gbWFwO307Y2hpbGRyZW49Y2hpbGRyZW58fFtdO2F0dHJpYnV0ZXM9YXR0cmlidXRlc3x8Jyc7aWYodHlwZW9mIGNoaWxkcmVuPT09J3N0cmluZycpe2NoaWxkcmVuPXNwbGl0KGNoaWxkcmVuKTt9bmFtZT1zcGxpdChuYW1lKTtuaT1uYW1lLmxlbmd0aDt3aGlsZShuaS0tKXthdHRyaWJ1dGVzT3JkZXI9c3BsaXQoW2dsb2JhbEF0dHJpYnV0ZXMsYXR0cmlidXRlc10uam9pbignICcpKTtlbGVtZW50PXthdHRyaWJ1dGVzOmFycmF5VG9NYXAoYXR0cmlidXRlc09yZGVyKSxhdHRyaWJ1dGVzT3JkZXI6YXR0cmlidXRlc09yZGVyLGNoaWxkcmVuOmFycmF5VG9NYXAoY2hpbGRyZW4sZHVtbXlPYmopfTtzY2hlbWFbbmFtZVtuaV1dPWVsZW1lbnQ7fX07dmFyIGFkZEF0dHJzPWZ1bmN0aW9uIGFkZEF0dHJzKG5hbWUsYXR0cmlidXRlcyl7dmFyIG5pLHNjaGVtYUl0ZW0saSxsO25hbWU9c3BsaXQobmFtZSk7bmk9bmFtZS5sZW5ndGg7YXR0cmlidXRlcz1zcGxpdChhdHRyaWJ1dGVzKTt3aGlsZShuaS0tKXtzY2hlbWFJdGVtPXNjaGVtYVtuYW1lW25pXV07Zm9yKGk9MCxsPWF0dHJpYnV0ZXMubGVuZ3RoO2k8bDtpKyspe3NjaGVtYUl0ZW0uYXR0cmlidXRlc1thdHRyaWJ1dGVzW2ldXT17fTtzY2hlbWFJdGVtLmF0dHJpYnV0ZXNPcmRlci5wdXNoKGF0dHJpYnV0ZXNbaV0pO319fTtpZihtYXBDYWNoZVt0eXBlXSl7cmV0dXJuIG1hcENhY2hlW3R5cGVdO31nbG9iYWxBdHRyaWJ1dGVzPSdpZCBhY2Nlc3NrZXkgY2xhc3MgZGlyIGxhbmcgc3R5bGUgdGFiaW5kZXggdGl0bGUgcm9sZSc7YmxvY2tDb250ZW50PSdhZGRyZXNzIGJsb2NrcXVvdGUgZGl2IGRsIGZpZWxkc2V0IGZvcm0gaDEgaDIgaDMgaDQgaDUgaDYgaHIgbWVudSBvbCBwIHByZSB0YWJsZSB1bCc7cGhyYXNpbmdDb250ZW50PSdhIGFiYnIgYiBiZG8gYnIgYnV0dG9uIGNpdGUgY29kZSBkZWwgZGZuIGVtIGVtYmVkIGkgaWZyYW1lIGltZyBpbnB1dCBpbnMga2JkICcrJ2xhYmVsIG1hcCBub3NjcmlwdCBvYmplY3QgcSBzIHNhbXAgc2NyaXB0IHNlbGVjdCBzbWFsbCBzcGFuIHN0cm9uZyBzdWIgc3VwICcrJ3RleHRhcmVhIHUgdmFyICN0ZXh0ICNjb21tZW50JztpZih0eXBlIT09J2h0bWw0Jyl7Z2xvYmFsQXR0cmlidXRlcys9JyBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lICcrJ2hpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSc7YmxvY2tDb250ZW50Kz0nIGFydGljbGUgYXNpZGUgZGV0YWlscyBkaWFsb2cgZmlndXJlIG1haW4gaGVhZGVyIGZvb3RlciBoZ3JvdXAgc2VjdGlvbiBuYXYnO3BocmFzaW5nQ29udGVudCs9JyBhdWRpbyBjYW52YXMgY29tbWFuZCBkYXRhbGlzdCBtYXJrIG1ldGVyIG91dHB1dCBwaWN0dXJlICcrJ3Byb2dyZXNzIHRpbWUgd2JyIHZpZGVvIHJ1YnkgYmRpIGtleWdlbic7fWlmKHR5cGUhPT0naHRtbDUtc3RyaWN0Jyl7Z2xvYmFsQXR0cmlidXRlcys9JyB4bWw6bGFuZyc7aHRtbDRQaHJhc2luZ0NvbnRlbnQ9J2Fjcm9ueW0gYXBwbGV0IGJhc2Vmb250IGJpZyBmb250IHN0cmlrZSB0dCc7cGhyYXNpbmdDb250ZW50PVtwaHJhc2luZ0NvbnRlbnQsaHRtbDRQaHJhc2luZ0NvbnRlbnRdLmpvaW4oJyAnKTtlYWNoJDMoc3BsaXQoaHRtbDRQaHJhc2luZ0NvbnRlbnQpLGZ1bmN0aW9uKG5hbWUpe2FkZChuYW1lLCcnLHBocmFzaW5nQ29udGVudCk7fSk7aHRtbDRCbG9ja0NvbnRlbnQ9J2NlbnRlciBkaXIgaXNpbmRleCBub2ZyYW1lcyc7YmxvY2tDb250ZW50PVtibG9ja0NvbnRlbnQsaHRtbDRCbG9ja0NvbnRlbnRdLmpvaW4oJyAnKTtmbG93Q29udGVudD1bYmxvY2tDb250ZW50LHBocmFzaW5nQ29udGVudF0uam9pbignICcpO2VhY2gkMyhzcGxpdChodG1sNEJsb2NrQ29udGVudCksZnVuY3Rpb24obmFtZSl7YWRkKG5hbWUsJycsZmxvd0NvbnRlbnQpO30pO31mbG93Q29udGVudD1mbG93Q29udGVudHx8W2Jsb2NrQ29udGVudCxwaHJhc2luZ0NvbnRlbnRdLmpvaW4oJyAnKTthZGQoJ2h0bWwnLCdtYW5pZmVzdCcsJ2hlYWQgYm9keScpO2FkZCgnaGVhZCcsJycsJ2Jhc2UgY29tbWFuZCBsaW5rIG1ldGEgbm9zY3JpcHQgc2NyaXB0IHN0eWxlIHRpdGxlJyk7YWRkKCd0aXRsZSBociBub3NjcmlwdCBicicpO2FkZCgnYmFzZScsJ2hyZWYgdGFyZ2V0Jyk7YWRkKCdsaW5rJywnaHJlZiByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSBzaXplcyBocmVmbGFuZycpO2FkZCgnbWV0YScsJ25hbWUgaHR0cC1lcXVpdiBjb250ZW50IGNoYXJzZXQnKTthZGQoJ3N0eWxlJywnbWVkaWEgdHlwZSBzY29wZWQnKTthZGQoJ3NjcmlwdCcsJ3NyYyBhc3luYyBkZWZlciB0eXBlIGNoYXJzZXQnKTthZGQoJ2JvZHknLCdvbmFmdGVycHJpbnQgb25iZWZvcmVwcmludCBvbmJlZm9yZXVubG9hZCBvbmJsdXIgb25lcnJvciBvbmZvY3VzICcrJ29uaGFzaGNoYW5nZSBvbmxvYWQgb25tZXNzYWdlIG9ub2ZmbGluZSBvbm9ubGluZSBvbnBhZ2VoaWRlIG9ucGFnZXNob3cgJysnb25wb3BzdGF0ZSBvbnJlc2l6ZSBvbnNjcm9sbCBvbnN0b3JhZ2Ugb251bmxvYWQnLGZsb3dDb250ZW50KTthZGQoJ2FkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24nLCcnLGZsb3dDb250ZW50KTthZGQoJ2gxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4nLCcnLHBocmFzaW5nQ29udGVudCk7YWRkKCdibG9ja3F1b3RlJywnY2l0ZScsZmxvd0NvbnRlbnQpO2FkZCgnb2wnLCdyZXZlcnNlZCBzdGFydCB0eXBlJywnbGknKTthZGQoJ3VsJywnJywnbGknKTthZGQoJ2xpJywndmFsdWUnLGZsb3dDb250ZW50KTthZGQoJ2RsJywnJywnZHQgZGQnKTthZGQoJ2EnLCdocmVmIHRhcmdldCByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZScscGhyYXNpbmdDb250ZW50KTthZGQoJ3EnLCdjaXRlJyxwaHJhc2luZ0NvbnRlbnQpO2FkZCgnaW5zIGRlbCcsJ2NpdGUgZGF0ZXRpbWUnLGZsb3dDb250ZW50KTthZGQoJ2ltZycsJ3NyYyBzaXplcyBzcmNzZXQgYWx0IHVzZW1hcCBpc21hcCB3aWR0aCBoZWlnaHQnKTthZGQoJ2lmcmFtZScsJ3NyYyBuYW1lIHdpZHRoIGhlaWdodCcsZmxvd0NvbnRlbnQpO2FkZCgnZW1iZWQnLCdzcmMgdHlwZSB3aWR0aCBoZWlnaHQnKTthZGQoJ29iamVjdCcsJ2RhdGEgdHlwZSB0eXBlbXVzdG1hdGNoIG5hbWUgdXNlbWFwIGZvcm0gd2lkdGggaGVpZ2h0JyxbZmxvd0NvbnRlbnQsJ3BhcmFtJ10uam9pbignICcpKTthZGQoJ3BhcmFtJywnbmFtZSB2YWx1ZScpO2FkZCgnbWFwJywnbmFtZScsW2Zsb3dDb250ZW50LCdhcmVhJ10uam9pbignICcpKTthZGQoJ2FyZWEnLCdhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlJyk7YWRkKCd0YWJsZScsJ2JvcmRlcicsJ2NhcHRpb24gY29sZ3JvdXAgdGhlYWQgdGZvb3QgdGJvZHkgdHInKyh0eXBlPT09J2h0bWw0Jz8nIGNvbCc6JycpKTthZGQoJ2NvbGdyb3VwJywnc3BhbicsJ2NvbCcpO2FkZCgnY29sJywnc3BhbicpO2FkZCgndGJvZHkgdGhlYWQgdGZvb3QnLCcnLCd0cicpO2FkZCgndHInLCcnLCd0ZCB0aCcpO2FkZCgndGQnLCdjb2xzcGFuIHJvd3NwYW4gaGVhZGVycycsZmxvd0NvbnRlbnQpO2FkZCgndGgnLCdjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyJyxmbG93Q29udGVudCk7YWRkKCdmb3JtJywnYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0JyxmbG93Q29udGVudCk7YWRkKCdmaWVsZHNldCcsJ2Rpc2FibGVkIGZvcm0gbmFtZScsW2Zsb3dDb250ZW50LCdsZWdlbmQnXS5qb2luKCcgJykpO2FkZCgnbGFiZWwnLCdmb3JtIGZvcicscGhyYXNpbmdDb250ZW50KTthZGQoJ2lucHV0JywnYWNjZXB0IGFsdCBhdXRvY29tcGxldGUgY2hlY2tlZCBkaXJuYW1lIGRpc2FibGVkIGZvcm0gZm9ybWFjdGlvbiBmb3JtZW5jdHlwZSBmb3JtbWV0aG9kIGZvcm1ub3ZhbGlkYXRlICcrJ2Zvcm10YXJnZXQgaGVpZ2h0IGxpc3QgbWF4IG1heGxlbmd0aCBtaW4gbXVsdGlwbGUgbmFtZSBwYXR0ZXJuIHJlYWRvbmx5IHJlcXVpcmVkIHNpemUgc3JjIHN0ZXAgdHlwZSB2YWx1ZSB3aWR0aCcpO2FkZCgnYnV0dG9uJywnZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUnLHR5cGU9PT0naHRtbDQnP2Zsb3dDb250ZW50OnBocmFzaW5nQ29udGVudCk7YWRkKCdzZWxlY3QnLCdkaXNhYmxlZCBmb3JtIG11bHRpcGxlIG5hbWUgcmVxdWlyZWQgc2l6ZScsJ29wdGlvbiBvcHRncm91cCcpO2FkZCgnb3B0Z3JvdXAnLCdkaXNhYmxlZCBsYWJlbCcsJ29wdGlvbicpO2FkZCgnb3B0aW9uJywnZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUnKTthZGQoJ3RleHRhcmVhJywnY29scyBkaXJuYW1lIGRpc2FibGVkIGZvcm0gbWF4bGVuZ3RoIG5hbWUgcmVhZG9ubHkgcmVxdWlyZWQgcm93cyB3cmFwJyk7YWRkKCdtZW51JywndHlwZSBsYWJlbCcsW2Zsb3dDb250ZW50LCdsaSddLmpvaW4oJyAnKSk7YWRkKCdub3NjcmlwdCcsJycsZmxvd0NvbnRlbnQpO2lmKHR5cGUhPT0naHRtbDQnKXthZGQoJ3dicicpO2FkZCgncnVieScsJycsW3BocmFzaW5nQ29udGVudCwncnQgcnAnXS5qb2luKCcgJykpO2FkZCgnZmlnY2FwdGlvbicsJycsZmxvd0NvbnRlbnQpO2FkZCgnbWFyayBydCBycCBzdW1tYXJ5IGJkaScsJycscGhyYXNpbmdDb250ZW50KTthZGQoJ2NhbnZhcycsJ3dpZHRoIGhlaWdodCcsZmxvd0NvbnRlbnQpO2FkZCgndmlkZW8nLCdzcmMgY3Jvc3NvcmlnaW4gcG9zdGVyIHByZWxvYWQgYXV0b3BsYXkgbWVkaWFncm91cCBsb29wICcrJ211dGVkIGNvbnRyb2xzIHdpZHRoIGhlaWdodCBidWZmZXJlZCcsW2Zsb3dDb250ZW50LCd0cmFjayBzb3VyY2UnXS5qb2luKCcgJykpO2FkZCgnYXVkaW8nLCdzcmMgY3Jvc3NvcmlnaW4gcHJlbG9hZCBhdXRvcGxheSBtZWRpYWdyb3VwIGxvb3AgbXV0ZWQgY29udHJvbHMgJysnYnVmZmVyZWQgdm9sdW1lJyxbZmxvd0NvbnRlbnQsJ3RyYWNrIHNvdXJjZSddLmpvaW4oJyAnKSk7YWRkKCdwaWN0dXJlJywnJywnaW1nIHNvdXJjZScpO2FkZCgnc291cmNlJywnc3JjIHNyY3NldCB0eXBlIG1lZGlhIHNpemVzJyk7YWRkKCd0cmFjaycsJ2tpbmQgc3JjIHNyY2xhbmcgbGFiZWwgZGVmYXVsdCcpO2FkZCgnZGF0YWxpc3QnLCcnLFtwaHJhc2luZ0NvbnRlbnQsJ29wdGlvbiddLmpvaW4oJyAnKSk7YWRkKCdhcnRpY2xlIHNlY3Rpb24gbmF2IGFzaWRlIG1haW4gaGVhZGVyIGZvb3RlcicsJycsZmxvd0NvbnRlbnQpO2FkZCgnaGdyb3VwJywnJywnaDEgaDIgaDMgaDQgaDUgaDYnKTthZGQoJ2ZpZ3VyZScsJycsW2Zsb3dDb250ZW50LCdmaWdjYXB0aW9uJ10uam9pbignICcpKTthZGQoJ3RpbWUnLCdkYXRldGltZScscGhyYXNpbmdDb250ZW50KTthZGQoJ2RpYWxvZycsJ29wZW4nLGZsb3dDb250ZW50KTthZGQoJ2NvbW1hbmQnLCd0eXBlIGxhYmVsIGljb24gZGlzYWJsZWQgY2hlY2tlZCByYWRpb2dyb3VwIGNvbW1hbmQnKTthZGQoJ291dHB1dCcsJ2ZvciBmb3JtIG5hbWUnLHBocmFzaW5nQ29udGVudCk7YWRkKCdwcm9ncmVzcycsJ3ZhbHVlIG1heCcscGhyYXNpbmdDb250ZW50KTthZGQoJ21ldGVyJywndmFsdWUgbWluIG1heCBsb3cgaGlnaCBvcHRpbXVtJyxwaHJhc2luZ0NvbnRlbnQpO2FkZCgnZGV0YWlscycsJ29wZW4nLFtmbG93Q29udGVudCwnc3VtbWFyeSddLmpvaW4oJyAnKSk7YWRkKCdrZXlnZW4nLCdhdXRvZm9jdXMgY2hhbGxlbmdlIGRpc2FibGVkIGZvcm0ga2V5dHlwZSBuYW1lJyk7fWlmKHR5cGUhPT0naHRtbDUtc3RyaWN0Jyl7YWRkQXR0cnMoJ3NjcmlwdCcsJ2xhbmd1YWdlIHhtbDpzcGFjZScpO2FkZEF0dHJzKCdzdHlsZScsJ3htbDpzcGFjZScpO2FkZEF0dHJzKCdvYmplY3QnLCdkZWNsYXJlIGNsYXNzaWQgY29kZSBjb2RlYmFzZSBjb2RldHlwZSBhcmNoaXZlIHN0YW5kYnkgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UnKTthZGRBdHRycygnZW1iZWQnLCdhbGlnbiBuYW1lIGhzcGFjZSB2c3BhY2UnKTthZGRBdHRycygncGFyYW0nLCd2YWx1ZXR5cGUgdHlwZScpO2FkZEF0dHJzKCdhJywnY2hhcnNldCBuYW1lIHJldiBzaGFwZSBjb29yZHMnKTthZGRBdHRycygnYnInLCdjbGVhcicpO2FkZEF0dHJzKCdhcHBsZXQnLCdjb2RlYmFzZSBhcmNoaXZlIGNvZGUgb2JqZWN0IGFsdCBuYW1lIHdpZHRoIGhlaWdodCBhbGlnbiBoc3BhY2UgdnNwYWNlJyk7YWRkQXR0cnMoJ2ltZycsJ25hbWUgbG9uZ2Rlc2MgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UnKTthZGRBdHRycygnaWZyYW1lJywnbG9uZ2Rlc2MgZnJhbWVib3JkZXIgbWFyZ2lud2lkdGggbWFyZ2luaGVpZ2h0IHNjcm9sbGluZyBhbGlnbicpO2FkZEF0dHJzKCdmb250IGJhc2Vmb250Jywnc2l6ZSBjb2xvciBmYWNlJyk7YWRkQXR0cnMoJ2lucHV0JywndXNlbWFwIGFsaWduJyk7YWRkQXR0cnMoJ3NlbGVjdCcsJ29uY2hhbmdlJyk7YWRkQXR0cnMoJ3RleHRhcmVhJyk7YWRkQXR0cnMoJ2gxIGgyIGgzIGg0IGg1IGg2IGRpdiBwIGxlZ2VuZCBjYXB0aW9uJywnYWxpZ24nKTthZGRBdHRycygndWwnLCd0eXBlIGNvbXBhY3QnKTthZGRBdHRycygnbGknLCd0eXBlJyk7YWRkQXR0cnMoJ29sIGRsIG1lbnUgZGlyJywnY29tcGFjdCcpO2FkZEF0dHJzKCdwcmUnLCd3aWR0aCB4bWw6c3BhY2UnKTthZGRBdHRycygnaHInLCdhbGlnbiBub3NoYWRlIHNpemUgd2lkdGgnKTthZGRBdHRycygnaXNpbmRleCcsJ3Byb21wdCcpO2FkZEF0dHJzKCd0YWJsZScsJ3N1bW1hcnkgd2lkdGggZnJhbWUgcnVsZXMgY2VsbHNwYWNpbmcgY2VsbHBhZGRpbmcgYWxpZ24gYmdjb2xvcicpO2FkZEF0dHJzKCdjb2wnLCd3aWR0aCBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduJyk7YWRkQXR0cnMoJ2NvbGdyb3VwJywnd2lkdGggYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbicpO2FkZEF0dHJzKCd0aGVhZCcsJ2FsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24nKTthZGRBdHRycygndHInLCdhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIGJnY29sb3InKTthZGRBdHRycygndGgnLCdheGlzIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gbm93cmFwIGJnY29sb3Igd2lkdGggaGVpZ2h0Jyk7YWRkQXR0cnMoJ2Zvcm0nLCdhY2NlcHQnKTthZGRBdHRycygndGQnLCdhYmJyIGF4aXMgc2NvcGUgYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBub3dyYXAgYmdjb2xvciB3aWR0aCBoZWlnaHQnKTthZGRBdHRycygndGZvb3QnLCdhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduJyk7YWRkQXR0cnMoJ3Rib2R5JywnYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbicpO2FkZEF0dHJzKCdhcmVhJywnbm9ocmVmJyk7YWRkQXR0cnMoJ2JvZHknLCdiYWNrZ3JvdW5kIGJnY29sb3IgdGV4dCBsaW5rIHZsaW5rIGFsaW5rJyk7fWlmKHR5cGUhPT0naHRtbDQnKXthZGRBdHRycygnaW5wdXQgYnV0dG9uIHNlbGVjdCB0ZXh0YXJlYScsJ2F1dG9mb2N1cycpO2FkZEF0dHJzKCdpbnB1dCB0ZXh0YXJlYScsJ3BsYWNlaG9sZGVyJyk7YWRkQXR0cnMoJ2EnLCdkb3dubG9hZCcpO2FkZEF0dHJzKCdsaW5rIHNjcmlwdCBpbWcnLCdjcm9zc29yaWdpbicpO2FkZEF0dHJzKCdpZnJhbWUnLCdzYW5kYm94IHNlYW1sZXNzIGFsbG93ZnVsbHNjcmVlbicpO31lYWNoJDMoc3BsaXQoJ2EgZm9ybSBtZXRlciBwcm9ncmVzcyBkZm4nKSxmdW5jdGlvbihuYW1lKXtpZihzY2hlbWFbbmFtZV0pe2RlbGV0ZSBzY2hlbWFbbmFtZV0uY2hpbGRyZW5bbmFtZV07fX0pO2RlbGV0ZSBzY2hlbWEuY2FwdGlvbi5jaGlsZHJlbi50YWJsZTtkZWxldGUgc2NoZW1hLnNjcmlwdDttYXBDYWNoZVt0eXBlXT1zY2hlbWE7cmV0dXJuIHNjaGVtYTt9O3ZhciBjb21waWxlRWxlbWVudE1hcD1mdW5jdGlvbiBjb21waWxlRWxlbWVudE1hcCh2YWx1ZSxtb2RlKXt2YXIgc3R5bGVzO2lmKHZhbHVlKXtzdHlsZXM9e307aWYodHlwZW9mIHZhbHVlPT09J3N0cmluZycpe3ZhbHVlPXsnKic6dmFsdWV9O31lYWNoJDModmFsdWUsZnVuY3Rpb24odmFsdWUsa2V5KXtzdHlsZXNba2V5XT1zdHlsZXNba2V5LnRvVXBwZXJDYXNlKCldPW1vZGU9PT0nbWFwJz9tYWtlTWFwJDIodmFsdWUsL1ssIF0vKTpleHBsb2RlJDEodmFsdWUsL1ssIF0vKTt9KTt9cmV0dXJuIHN0eWxlczt9O2Z1bmN0aW9uIFNjaGVtYShzZXR0aW5ncyl7dmFyIGVsZW1lbnRzPXt9O3ZhciBjaGlsZHJlbj17fTt2YXIgcGF0dGVybkVsZW1lbnRzPVtdO3ZhciB2YWxpZFN0eWxlczt2YXIgaW52YWxpZFN0eWxlczt2YXIgc2NoZW1hSXRlbXM7dmFyIHdoaXRlU3BhY2VFbGVtZW50c01hcCxzZWxmQ2xvc2luZ0VsZW1lbnRzTWFwLHNob3J0RW5kZWRFbGVtZW50c01hcCxib29sQXR0ck1hcCx2YWxpZENsYXNzZXM7dmFyIGJsb2NrRWxlbWVudHNNYXAsbm9uRW1wdHlFbGVtZW50c01hcCxtb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHNNYXAsdGV4dEJsb2NrRWxlbWVudHNNYXAsdGV4dElubGluZUVsZW1lbnRzTWFwO3ZhciBjdXN0b21FbGVtZW50c01hcD17fSxzcGVjaWFsRWxlbWVudHM9e307dmFyIGNyZWF0ZUxvb2t1cFRhYmxlPWZ1bmN0aW9uIGNyZWF0ZUxvb2t1cFRhYmxlKG9wdGlvbixkZWZhdWx0VmFsdWUsZXh0ZW5kV2l0aCl7dmFyIHZhbHVlPXNldHRpbmdzW29wdGlvbl07aWYoIXZhbHVlKXt2YWx1ZT1tYXBDYWNoZVtvcHRpb25dO2lmKCF2YWx1ZSl7dmFsdWU9bWFrZU1hcCQyKGRlZmF1bHRWYWx1ZSwnICcsbWFrZU1hcCQyKGRlZmF1bHRWYWx1ZS50b1VwcGVyQ2FzZSgpLCcgJykpO3ZhbHVlPWV4dGVuZCQxKHZhbHVlLGV4dGVuZFdpdGgpO21hcENhY2hlW29wdGlvbl09dmFsdWU7fX1lbHNle3ZhbHVlPW1ha2VNYXAkMih2YWx1ZSwvWywgXS8sbWFrZU1hcCQyKHZhbHVlLnRvVXBwZXJDYXNlKCksL1ssIF0vKSk7fXJldHVybiB2YWx1ZTt9O3NldHRpbmdzPXNldHRpbmdzfHx7fTtzY2hlbWFJdGVtcz1jb21waWxlU2NoZW1hKHNldHRpbmdzLnNjaGVtYSk7aWYoc2V0dGluZ3MudmVyaWZ5X2h0bWw9PT1mYWxzZSl7c2V0dGluZ3MudmFsaWRfZWxlbWVudHM9JypbKl0nO312YWxpZFN0eWxlcz1jb21waWxlRWxlbWVudE1hcChzZXR0aW5ncy52YWxpZF9zdHlsZXMpO2ludmFsaWRTdHlsZXM9Y29tcGlsZUVsZW1lbnRNYXAoc2V0dGluZ3MuaW52YWxpZF9zdHlsZXMsJ21hcCcpO3ZhbGlkQ2xhc3Nlcz1jb21waWxlRWxlbWVudE1hcChzZXR0aW5ncy52YWxpZF9jbGFzc2VzLCdtYXAnKTt3aGl0ZVNwYWNlRWxlbWVudHNNYXA9Y3JlYXRlTG9va3VwVGFibGUoJ3doaXRlc3BhY2VfZWxlbWVudHMnLCdwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZScpO3NlbGZDbG9zaW5nRWxlbWVudHNNYXA9Y3JlYXRlTG9va3VwVGFibGUoJ3NlbGZfY2xvc2luZ19lbGVtZW50cycsJ2NvbGdyb3VwIGRkIGR0IGxpIG9wdGlvbiBwIHRkIHRmb290IHRoIHRoZWFkIHRyJyk7c2hvcnRFbmRlZEVsZW1lbnRzTWFwPWNyZWF0ZUxvb2t1cFRhYmxlKCdzaG9ydF9lbmRlZF9lbGVtZW50cycsJ2FyZWEgYmFzZSBiYXNlZm9udCBiciBjb2wgZnJhbWUgaHIgaW1nIGlucHV0IGlzaW5kZXggbGluayAnKydtZXRhIHBhcmFtIGVtYmVkIHNvdXJjZSB3YnIgdHJhY2snKTtib29sQXR0ck1hcD1jcmVhdGVMb29rdXBUYWJsZSgnYm9vbGVhbl9hdHRyaWJ1dGVzJywnY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplICcrJ25vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMnKTtub25FbXB0eUVsZW1lbnRzTWFwPWNyZWF0ZUxvb2t1cFRhYmxlKCdub25fZW1wdHlfZWxlbWVudHMnLCd0ZCB0aCBpZnJhbWUgdmlkZW8gYXVkaW8gb2JqZWN0ICcrJ3NjcmlwdCBwcmUgY29kZScsc2hvcnRFbmRlZEVsZW1lbnRzTWFwKTttb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHNNYXA9Y3JlYXRlTG9va3VwVGFibGUoJ21vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzJywndGFibGUnLG5vbkVtcHR5RWxlbWVudHNNYXApO3RleHRCbG9ja0VsZW1lbnRzTWFwPWNyZWF0ZUxvb2t1cFRhYmxlKCd0ZXh0X2Jsb2NrX2VsZW1lbnRzJywnaDEgaDIgaDMgaDQgaDUgaDYgcCBkaXYgYWRkcmVzcyBwcmUgZm9ybSAnKydibG9ja3F1b3RlIGNlbnRlciBkaXIgZmllbGRzZXQgaGVhZGVyIGZvb3RlciBhcnRpY2xlIHNlY3Rpb24gaGdyb3VwIGFzaWRlIG1haW4gbmF2IGZpZ3VyZScpO2Jsb2NrRWxlbWVudHNNYXA9Y3JlYXRlTG9va3VwVGFibGUoJ2Jsb2NrX2VsZW1lbnRzJywnaHIgdGFibGUgdGJvZHkgdGhlYWQgdGZvb3QgJysndGggdHIgdGQgbGkgb2wgdWwgY2FwdGlvbiBkbCBkdCBkZCBub3NjcmlwdCBtZW51IGlzaW5kZXggb3B0aW9uICcrJ2RhdGFsaXN0IHNlbGVjdCBvcHRncm91cCBmaWdjYXB0aW9uIGRldGFpbHMgc3VtbWFyeScsdGV4dEJsb2NrRWxlbWVudHNNYXApO3RleHRJbmxpbmVFbGVtZW50c01hcD1jcmVhdGVMb29rdXBUYWJsZSgndGV4dF9pbmxpbmVfZWxlbWVudHMnLCdzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSAnKydkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wJyk7ZWFjaCQzKChzZXR0aW5ncy5zcGVjaWFsfHwnc2NyaXB0IG5vc2NyaXB0IG5vZnJhbWVzIG5vZW1iZWQgdGl0bGUgc3R5bGUgdGV4dGFyZWEgeG1wJykuc3BsaXQoJyAnKSxmdW5jdGlvbihuYW1lKXtzcGVjaWFsRWxlbWVudHNbbmFtZV09bmV3IFJlZ0V4cCgnPC8nK25hbWUrJ1tePl0qPicsJ2dpJyk7fSk7dmFyIHBhdHRlcm5Ub1JlZ0V4cD1mdW5jdGlvbiBwYXR0ZXJuVG9SZWdFeHAoc3RyKXtyZXR1cm4gbmV3IFJlZ0V4cCgnXicrc3RyLnJlcGxhY2UoLyhbPysqXSkvZywnLiQxJykrJyQnKTt9O3ZhciBhZGRWYWxpZEVsZW1lbnRzPWZ1bmN0aW9uIGFkZFZhbGlkRWxlbWVudHModmFsaWRFbGVtZW50cyl7dmFyIGVpLGVsLGFpLGFsLG1hdGNoZXMsZWxlbWVudCxhdHRyLGF0dHJEYXRhLGVsZW1lbnROYW1lLGF0dHJOYW1lLGF0dHJUeXBlLGF0dHJpYnV0ZXMsYXR0cmlidXRlc09yZGVyLHByZWZpeCxvdXRwdXROYW1lLGdsb2JhbEF0dHJpYnV0ZXMsZ2xvYmFsQXR0cmlidXRlc09yZGVyLGtleSx2YWx1ZTt2YXIgZWxlbWVudFJ1bGVSZWdFeHA9L14oWyMrXC1dKT8oW15cWyFcL10rKSg/OlwvKFteXFshXSspKT8oPzooIT8pXFsoW15cXV0rKVxdKT8kLyxhdHRyUnVsZVJlZ0V4cD0vXihbIVwtXSk/KFx3K1tcXDpdOlx3K3xbXj06PF0rKT8oPzooWz06PF0pKC4qKSk/JC8saGFzUGF0dGVybnNSZWdFeHA9L1sqPytdLztpZih2YWxpZEVsZW1lbnRzKXt2YWxpZEVsZW1lbnRzPXNwbGl0KHZhbGlkRWxlbWVudHMsJywnKTtpZihlbGVtZW50c1snQCddKXtnbG9iYWxBdHRyaWJ1dGVzPWVsZW1lbnRzWydAJ10uYXR0cmlidXRlcztnbG9iYWxBdHRyaWJ1dGVzT3JkZXI9ZWxlbWVudHNbJ0AnXS5hdHRyaWJ1dGVzT3JkZXI7fWZvcihlaT0wLGVsPXZhbGlkRWxlbWVudHMubGVuZ3RoO2VpPGVsO2VpKyspe21hdGNoZXM9ZWxlbWVudFJ1bGVSZWdFeHAuZXhlYyh2YWxpZEVsZW1lbnRzW2VpXSk7aWYobWF0Y2hlcyl7cHJlZml4PW1hdGNoZXNbMV07ZWxlbWVudE5hbWU9bWF0Y2hlc1syXTtvdXRwdXROYW1lPW1hdGNoZXNbM107YXR0ckRhdGE9bWF0Y2hlc1s1XTthdHRyaWJ1dGVzPXt9O2F0dHJpYnV0ZXNPcmRlcj1bXTtlbGVtZW50PXthdHRyaWJ1dGVzOmF0dHJpYnV0ZXMsYXR0cmlidXRlc09yZGVyOmF0dHJpYnV0ZXNPcmRlcn07aWYocHJlZml4PT09JyMnKXtlbGVtZW50LnBhZGRFbXB0eT10cnVlO31pZihwcmVmaXg9PT0nLScpe2VsZW1lbnQucmVtb3ZlRW1wdHk9dHJ1ZTt9aWYobWF0Y2hlc1s0XT09PSchJyl7ZWxlbWVudC5yZW1vdmVFbXB0eUF0dHJzPXRydWU7fWlmKGdsb2JhbEF0dHJpYnV0ZXMpe2ZvcihrZXkgaW4gZ2xvYmFsQXR0cmlidXRlcyl7YXR0cmlidXRlc1trZXldPWdsb2JhbEF0dHJpYnV0ZXNba2V5XTt9YXR0cmlidXRlc09yZGVyLnB1c2guYXBwbHkoYXR0cmlidXRlc09yZGVyLGdsb2JhbEF0dHJpYnV0ZXNPcmRlcik7fWlmKGF0dHJEYXRhKXthdHRyRGF0YT1zcGxpdChhdHRyRGF0YSwnfCcpO2ZvcihhaT0wLGFsPWF0dHJEYXRhLmxlbmd0aDthaTxhbDthaSsrKXttYXRjaGVzPWF0dHJSdWxlUmVnRXhwLmV4ZWMoYXR0ckRhdGFbYWldKTtpZihtYXRjaGVzKXthdHRyPXt9O2F0dHJUeXBlPW1hdGNoZXNbMV07YXR0ck5hbWU9bWF0Y2hlc1syXS5yZXBsYWNlKC9bXFw6XTovZywnOicpO3ByZWZpeD1tYXRjaGVzWzNdO3ZhbHVlPW1hdGNoZXNbNF07aWYoYXR0clR5cGU9PT0nIScpe2VsZW1lbnQuYXR0cmlidXRlc1JlcXVpcmVkPWVsZW1lbnQuYXR0cmlidXRlc1JlcXVpcmVkfHxbXTtlbGVtZW50LmF0dHJpYnV0ZXNSZXF1aXJlZC5wdXNoKGF0dHJOYW1lKTthdHRyLnJlcXVpcmVkPXRydWU7fWlmKGF0dHJUeXBlPT09Jy0nKXtkZWxldGUgYXR0cmlidXRlc1thdHRyTmFtZV07YXR0cmlidXRlc09yZGVyLnNwbGljZShpbkFycmF5KGF0dHJpYnV0ZXNPcmRlcixhdHRyTmFtZSksMSk7Y29udGludWU7fWlmKHByZWZpeCl7aWYocHJlZml4PT09Jz0nKXtlbGVtZW50LmF0dHJpYnV0ZXNEZWZhdWx0PWVsZW1lbnQuYXR0cmlidXRlc0RlZmF1bHR8fFtdO2VsZW1lbnQuYXR0cmlidXRlc0RlZmF1bHQucHVzaCh7bmFtZTphdHRyTmFtZSx2YWx1ZTp2YWx1ZX0pO2F0dHIuZGVmYXVsdFZhbHVlPXZhbHVlO31pZihwcmVmaXg9PT0nOicpe2VsZW1lbnQuYXR0cmlidXRlc0ZvcmNlZD1lbGVtZW50LmF0dHJpYnV0ZXNGb3JjZWR8fFtdO2VsZW1lbnQuYXR0cmlidXRlc0ZvcmNlZC5wdXNoKHtuYW1lOmF0dHJOYW1lLHZhbHVlOnZhbHVlfSk7YXR0ci5mb3JjZWRWYWx1ZT12YWx1ZTt9aWYocHJlZml4PT09JzwnKXthdHRyLnZhbGlkVmFsdWVzPW1ha2VNYXAkMih2YWx1ZSwnPycpO319aWYoaGFzUGF0dGVybnNSZWdFeHAudGVzdChhdHRyTmFtZSkpe2VsZW1lbnQuYXR0cmlidXRlUGF0dGVybnM9ZWxlbWVudC5hdHRyaWJ1dGVQYXR0ZXJuc3x8W107YXR0ci5wYXR0ZXJuPXBhdHRlcm5Ub1JlZ0V4cChhdHRyTmFtZSk7ZWxlbWVudC5hdHRyaWJ1dGVQYXR0ZXJucy5wdXNoKGF0dHIpO31lbHNle2lmKCFhdHRyaWJ1dGVzW2F0dHJOYW1lXSl7YXR0cmlidXRlc09yZGVyLnB1c2goYXR0ck5hbWUpO31hdHRyaWJ1dGVzW2F0dHJOYW1lXT1hdHRyO319fX1pZighZ2xvYmFsQXR0cmlidXRlcyYmZWxlbWVudE5hbWU9PT0nQCcpe2dsb2JhbEF0dHJpYnV0ZXM9YXR0cmlidXRlcztnbG9iYWxBdHRyaWJ1dGVzT3JkZXI9YXR0cmlidXRlc09yZGVyO31pZihvdXRwdXROYW1lKXtlbGVtZW50Lm91dHB1dE5hbWU9ZWxlbWVudE5hbWU7ZWxlbWVudHNbb3V0cHV0TmFtZV09ZWxlbWVudDt9aWYoaGFzUGF0dGVybnNSZWdFeHAudGVzdChlbGVtZW50TmFtZSkpe2VsZW1lbnQucGF0dGVybj1wYXR0ZXJuVG9SZWdFeHAoZWxlbWVudE5hbWUpO3BhdHRlcm5FbGVtZW50cy5wdXNoKGVsZW1lbnQpO31lbHNle2VsZW1lbnRzW2VsZW1lbnROYW1lXT1lbGVtZW50O319fX19O3ZhciBzZXRWYWxpZEVsZW1lbnRzPWZ1bmN0aW9uIHNldFZhbGlkRWxlbWVudHModmFsaWRFbGVtZW50cyl7ZWxlbWVudHM9e307cGF0dGVybkVsZW1lbnRzPVtdO2FkZFZhbGlkRWxlbWVudHModmFsaWRFbGVtZW50cyk7ZWFjaCQzKHNjaGVtYUl0ZW1zLGZ1bmN0aW9uKGVsZW1lbnQsbmFtZSl7Y2hpbGRyZW5bbmFtZV09ZWxlbWVudC5jaGlsZHJlbjt9KTt9O3ZhciBhZGRDdXN0b21FbGVtZW50cz1mdW5jdGlvbiBhZGRDdXN0b21FbGVtZW50cyhjdXN0b21FbGVtZW50cyl7dmFyIGN1c3RvbUVsZW1lbnRSZWdFeHA9L14ofik/KC4rKSQvO2lmKGN1c3RvbUVsZW1lbnRzKXttYXBDYWNoZS50ZXh0X2Jsb2NrX2VsZW1lbnRzPW1hcENhY2hlLmJsb2NrX2VsZW1lbnRzPW51bGw7ZWFjaCQzKHNwbGl0KGN1c3RvbUVsZW1lbnRzLCcsJyksZnVuY3Rpb24ocnVsZSl7dmFyIG1hdGNoZXM9Y3VzdG9tRWxlbWVudFJlZ0V4cC5leGVjKHJ1bGUpLGlubGluZT1tYXRjaGVzWzFdPT09J34nLGNsb25lTmFtZT1pbmxpbmU/J3NwYW4nOidkaXYnLG5hbWU9bWF0Y2hlc1syXTtjaGlsZHJlbltuYW1lXT1jaGlsZHJlbltjbG9uZU5hbWVdO2N1c3RvbUVsZW1lbnRzTWFwW25hbWVdPWNsb25lTmFtZTtpZighaW5saW5lKXtibG9ja0VsZW1lbnRzTWFwW25hbWUudG9VcHBlckNhc2UoKV09e307YmxvY2tFbGVtZW50c01hcFtuYW1lXT17fTt9aWYoIWVsZW1lbnRzW25hbWVdKXt2YXIgY3VzdG9tUnVsZT1lbGVtZW50c1tjbG9uZU5hbWVdO2N1c3RvbVJ1bGU9ZXh0ZW5kJDEoe30sY3VzdG9tUnVsZSk7ZGVsZXRlIGN1c3RvbVJ1bGUucmVtb3ZlRW1wdHlBdHRycztkZWxldGUgY3VzdG9tUnVsZS5yZW1vdmVFbXB0eTtlbGVtZW50c1tuYW1lXT1jdXN0b21SdWxlO31lYWNoJDMoY2hpbGRyZW4sZnVuY3Rpb24oZWxlbWVudCxlbG1OYW1lKXtpZihlbGVtZW50W2Nsb25lTmFtZV0pe2NoaWxkcmVuW2VsbU5hbWVdPWVsZW1lbnQ9ZXh0ZW5kJDEoe30sY2hpbGRyZW5bZWxtTmFtZV0pO2VsZW1lbnRbbmFtZV09ZWxlbWVudFtjbG9uZU5hbWVdO319KTt9KTt9fTt2YXIgYWRkVmFsaWRDaGlsZHJlbj1mdW5jdGlvbiBhZGRWYWxpZENoaWxkcmVuKHZhbGlkQ2hpbGRyZW4pe3ZhciBjaGlsZFJ1bGVSZWdFeHA9L14oWytcLV0/KShcdyspXFsoW15cXV0rKVxdJC87bWFwQ2FjaGVbc2V0dGluZ3Muc2NoZW1hXT1udWxsO2lmKHZhbGlkQ2hpbGRyZW4pe2VhY2gkMyhzcGxpdCh2YWxpZENoaWxkcmVuLCcsJyksZnVuY3Rpb24ocnVsZSl7dmFyIG1hdGNoZXM9Y2hpbGRSdWxlUmVnRXhwLmV4ZWMocnVsZSk7dmFyIHBhcmVudCxwcmVmaXg7aWYobWF0Y2hlcyl7cHJlZml4PW1hdGNoZXNbMV07aWYocHJlZml4KXtwYXJlbnQ9Y2hpbGRyZW5bbWF0Y2hlc1syXV07fWVsc2V7cGFyZW50PWNoaWxkcmVuW21hdGNoZXNbMl1dPXsnI2NvbW1lbnQnOnt9fTt9cGFyZW50PWNoaWxkcmVuW21hdGNoZXNbMl1dO2VhY2gkMyhzcGxpdChtYXRjaGVzWzNdLCd8JyksZnVuY3Rpb24oY2hpbGQpe2lmKHByZWZpeD09PSctJyl7ZGVsZXRlIHBhcmVudFtjaGlsZF07fWVsc2V7cGFyZW50W2NoaWxkXT17fTt9fSk7fX0pO319O3ZhciBnZXRFbGVtZW50UnVsZT1mdW5jdGlvbiBnZXRFbGVtZW50UnVsZShuYW1lKXt2YXIgZWxlbWVudD1lbGVtZW50c1tuYW1lXSxpO2lmKGVsZW1lbnQpe3JldHVybiBlbGVtZW50O31pPXBhdHRlcm5FbGVtZW50cy5sZW5ndGg7d2hpbGUoaS0tKXtlbGVtZW50PXBhdHRlcm5FbGVtZW50c1tpXTtpZihlbGVtZW50LnBhdHRlcm4udGVzdChuYW1lKSl7cmV0dXJuIGVsZW1lbnQ7fX19O2lmKCFzZXR0aW5ncy52YWxpZF9lbGVtZW50cyl7ZWFjaCQzKHNjaGVtYUl0ZW1zLGZ1bmN0aW9uKGVsZW1lbnQsbmFtZSl7ZWxlbWVudHNbbmFtZV09e2F0dHJpYnV0ZXM6ZWxlbWVudC5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXNPcmRlcjplbGVtZW50LmF0dHJpYnV0ZXNPcmRlcn07Y2hpbGRyZW5bbmFtZV09ZWxlbWVudC5jaGlsZHJlbjt9KTtpZihzZXR0aW5ncy5zY2hlbWEhPT0naHRtbDUnKXtlYWNoJDMoc3BsaXQoJ3N0cm9uZy9iIGVtL2knKSxmdW5jdGlvbihpdGVtKXtpdGVtPXNwbGl0KGl0ZW0sJy8nKTtlbGVtZW50c1tpdGVtWzFdXS5vdXRwdXROYW1lPWl0ZW1bMF07fSk7fWVhY2gkMyhzcGxpdCgnb2wgdWwgc3ViIHN1cCBibG9ja3F1b3RlIHNwYW4gZm9udCBhIHRhYmxlIHRib2R5IHRyIHN0cm9uZyBlbSBiIGknKSxmdW5jdGlvbihuYW1lKXtpZihlbGVtZW50c1tuYW1lXSl7ZWxlbWVudHNbbmFtZV0ucmVtb3ZlRW1wdHk9dHJ1ZTt9fSk7ZWFjaCQzKHNwbGl0KCdwIGgxIGgyIGgzIGg0IGg1IGg2IHRoIHRkIHByZSBkaXYgYWRkcmVzcyBjYXB0aW9uIGxpJyksZnVuY3Rpb24obmFtZSl7ZWxlbWVudHNbbmFtZV0ucGFkZEVtcHR5PXRydWU7fSk7ZWFjaCQzKHNwbGl0KCdzcGFuJyksZnVuY3Rpb24obmFtZSl7ZWxlbWVudHNbbmFtZV0ucmVtb3ZlRW1wdHlBdHRycz10cnVlO30pO31lbHNle3NldFZhbGlkRWxlbWVudHMoc2V0dGluZ3MudmFsaWRfZWxlbWVudHMpO31hZGRDdXN0b21FbGVtZW50cyhzZXR0aW5ncy5jdXN0b21fZWxlbWVudHMpO2FkZFZhbGlkQ2hpbGRyZW4oc2V0dGluZ3MudmFsaWRfY2hpbGRyZW4pO2FkZFZhbGlkRWxlbWVudHMoc2V0dGluZ3MuZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHMpO2FkZFZhbGlkQ2hpbGRyZW4oJytvbFt1bHxvbF0sK3VsW3VsfG9sXScpO2VhY2gkMyh7ZGQ6J2RsJyxkdDonZGwnLGxpOid1bCBvbCcsdGQ6J3RyJyx0aDondHInLHRyOid0Ym9keSB0aGVhZCB0Zm9vdCcsdGJvZHk6J3RhYmxlJyx0aGVhZDondGFibGUnLHRmb290Oid0YWJsZScsbGVnZW5kOidmaWVsZHNldCcsYXJlYTonbWFwJyxwYXJhbTondmlkZW8gYXVkaW8gb2JqZWN0J30sZnVuY3Rpb24ocGFyZW50cyxpdGVtKXtpZihlbGVtZW50c1tpdGVtXSl7ZWxlbWVudHNbaXRlbV0ucGFyZW50c1JlcXVpcmVkPXNwbGl0KHBhcmVudHMpO319KTtpZihzZXR0aW5ncy5pbnZhbGlkX2VsZW1lbnRzKXtlYWNoJDMoZXhwbG9kZSQxKHNldHRpbmdzLmludmFsaWRfZWxlbWVudHMpLGZ1bmN0aW9uKGl0ZW0pe2lmKGVsZW1lbnRzW2l0ZW1dKXtkZWxldGUgZWxlbWVudHNbaXRlbV07fX0pO31pZighZ2V0RWxlbWVudFJ1bGUoJ3NwYW4nKSl7YWRkVmFsaWRFbGVtZW50cygnc3BhblshZGF0YS1tY2UtdHlwZXwqXScpO312YXIgZ2V0VmFsaWRTdHlsZXM9ZnVuY3Rpb24gZ2V0VmFsaWRTdHlsZXMoKXtyZXR1cm4gdmFsaWRTdHlsZXM7fTt2YXIgZ2V0SW52YWxpZFN0eWxlcz1mdW5jdGlvbiBnZXRJbnZhbGlkU3R5bGVzKCl7cmV0dXJuIGludmFsaWRTdHlsZXM7fTt2YXIgZ2V0VmFsaWRDbGFzc2VzPWZ1bmN0aW9uIGdldFZhbGlkQ2xhc3Nlcygpe3JldHVybiB2YWxpZENsYXNzZXM7fTt2YXIgZ2V0Qm9vbEF0dHJzPWZ1bmN0aW9uIGdldEJvb2xBdHRycygpe3JldHVybiBib29sQXR0ck1hcDt9O3ZhciBnZXRCbG9ja0VsZW1lbnRzPWZ1bmN0aW9uIGdldEJsb2NrRWxlbWVudHMoKXtyZXR1cm4gYmxvY2tFbGVtZW50c01hcDt9O3ZhciBnZXRUZXh0QmxvY2tFbGVtZW50cz1mdW5jdGlvbiBnZXRUZXh0QmxvY2tFbGVtZW50cygpe3JldHVybiB0ZXh0QmxvY2tFbGVtZW50c01hcDt9O3ZhciBnZXRUZXh0SW5saW5lRWxlbWVudHM9ZnVuY3Rpb24gZ2V0VGV4dElubGluZUVsZW1lbnRzKCl7cmV0dXJuIHRleHRJbmxpbmVFbGVtZW50c01hcDt9O3ZhciBnZXRTaG9ydEVuZGVkRWxlbWVudHM9ZnVuY3Rpb24gZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCl7cmV0dXJuIHNob3J0RW5kZWRFbGVtZW50c01hcDt9O3ZhciBnZXRTZWxmQ2xvc2luZ0VsZW1lbnRzPWZ1bmN0aW9uIGdldFNlbGZDbG9zaW5nRWxlbWVudHMoKXtyZXR1cm4gc2VsZkNsb3NpbmdFbGVtZW50c01hcDt9O3ZhciBnZXROb25FbXB0eUVsZW1lbnRzPWZ1bmN0aW9uIGdldE5vbkVtcHR5RWxlbWVudHMoKXtyZXR1cm4gbm9uRW1wdHlFbGVtZW50c01hcDt9O3ZhciBnZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHM9ZnVuY3Rpb24gZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzKCl7cmV0dXJuIG1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50c01hcDt9O3ZhciBnZXRXaGl0ZVNwYWNlRWxlbWVudHM9ZnVuY3Rpb24gZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCl7cmV0dXJuIHdoaXRlU3BhY2VFbGVtZW50c01hcDt9O3ZhciBnZXRTcGVjaWFsRWxlbWVudHM9ZnVuY3Rpb24gZ2V0U3BlY2lhbEVsZW1lbnRzKCl7cmV0dXJuIHNwZWNpYWxFbGVtZW50czt9O3ZhciBpc1ZhbGlkQ2hpbGQ9ZnVuY3Rpb24gaXNWYWxpZENoaWxkKG5hbWUsY2hpbGQpe3ZhciBwYXJlbnQ9Y2hpbGRyZW5bbmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4hIShwYXJlbnQmJnBhcmVudFtjaGlsZC50b0xvd2VyQ2FzZSgpXSk7fTt2YXIgaXNWYWxpZD1mdW5jdGlvbiBpc1ZhbGlkKG5hbWUsYXR0cil7dmFyIGF0dHJQYXR0ZXJucyxpO3ZhciBydWxlPWdldEVsZW1lbnRSdWxlKG5hbWUpO2lmKHJ1bGUpe2lmKGF0dHIpe2lmKHJ1bGUuYXR0cmlidXRlc1thdHRyXSl7cmV0dXJuIHRydWU7fWF0dHJQYXR0ZXJucz1ydWxlLmF0dHJpYnV0ZVBhdHRlcm5zO2lmKGF0dHJQYXR0ZXJucyl7aT1hdHRyUGF0dGVybnMubGVuZ3RoO3doaWxlKGktLSl7aWYoYXR0clBhdHRlcm5zW2ldLnBhdHRlcm4udGVzdChuYW1lKSl7cmV0dXJuIHRydWU7fX19fWVsc2V7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fTt2YXIgZ2V0Q3VzdG9tRWxlbWVudHM9ZnVuY3Rpb24gZ2V0Q3VzdG9tRWxlbWVudHMoKXtyZXR1cm4gY3VzdG9tRWxlbWVudHNNYXA7fTtyZXR1cm57Y2hpbGRyZW46Y2hpbGRyZW4sZWxlbWVudHM6ZWxlbWVudHMsZ2V0VmFsaWRTdHlsZXM6Z2V0VmFsaWRTdHlsZXMsZ2V0VmFsaWRDbGFzc2VzOmdldFZhbGlkQ2xhc3NlcyxnZXRCbG9ja0VsZW1lbnRzOmdldEJsb2NrRWxlbWVudHMsZ2V0SW52YWxpZFN0eWxlczpnZXRJbnZhbGlkU3R5bGVzLGdldFNob3J0RW5kZWRFbGVtZW50czpnZXRTaG9ydEVuZGVkRWxlbWVudHMsZ2V0VGV4dEJsb2NrRWxlbWVudHM6Z2V0VGV4dEJsb2NrRWxlbWVudHMsZ2V0VGV4dElubGluZUVsZW1lbnRzOmdldFRleHRJbmxpbmVFbGVtZW50cyxnZXRCb29sQXR0cnM6Z2V0Qm9vbEF0dHJzLGdldEVsZW1lbnRSdWxlOmdldEVsZW1lbnRSdWxlLGdldFNlbGZDbG9zaW5nRWxlbWVudHM6Z2V0U2VsZkNsb3NpbmdFbGVtZW50cyxnZXROb25FbXB0eUVsZW1lbnRzOmdldE5vbkVtcHR5RWxlbWVudHMsZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzOmdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50cyxnZXRXaGl0ZVNwYWNlRWxlbWVudHM6Z2V0V2hpdGVTcGFjZUVsZW1lbnRzLGdldFNwZWNpYWxFbGVtZW50czpnZXRTcGVjaWFsRWxlbWVudHMsaXNWYWxpZENoaWxkOmlzVmFsaWRDaGlsZCxpc1ZhbGlkOmlzVmFsaWQsZ2V0Q3VzdG9tRWxlbWVudHM6Z2V0Q3VzdG9tRWxlbWVudHMsYWRkVmFsaWRFbGVtZW50czphZGRWYWxpZEVsZW1lbnRzLHNldFZhbGlkRWxlbWVudHM6c2V0VmFsaWRFbGVtZW50cyxhZGRDdXN0b21FbGVtZW50czphZGRDdXN0b21FbGVtZW50cyxhZGRWYWxpZENoaWxkcmVuOmFkZFZhbGlkQ2hpbGRyZW59O312YXIgX3RvSGV4PWZ1bmN0aW9uIHRvSGV4KG1hdGNoLHIsZyxiKXt2YXIgaGV4PWZ1bmN0aW9uIGhleCh2YWwpe3ZhbD1wYXJzZUludCh2YWwsMTApLnRvU3RyaW5nKDE2KTtyZXR1cm4gdmFsLmxlbmd0aD4xP3ZhbDonMCcrdmFsO307cmV0dXJuJyMnK2hleChyKStoZXgoZykraGV4KGIpO307dmFyIFN0eWxlcz1mdW5jdGlvbiBTdHlsZXMoc2V0dGluZ3Msc2NoZW1hKXt2YXIgcmdiUmVnRXhwPS9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqXCkvZ2k7dmFyIHVybE9yU3RyUmVnRXhwPS8oPzp1cmwoPzooPzpcKFxzKlwiKFteXCJdKylcIlxzKlwpKXwoPzpcKFxzKlwnKFteXCddKylcJ1xzKlwpKXwoPzpcKFxzKihbXilcc10rKVxzKlwpKSkpfCg/OlwnKFteXCddKylcJyl8KD86XCIoW15cIl0rKVwiKS9naTt2YXIgc3R5bGVSZWdFeHA9L1xzKihbXjpdKyk6XHMqKFteO10rKTs/L2c7dmFyIHRyaW1SaWdodFJlZ0V4cD0vXHMrJC87dmFyIGk7dmFyIGVuY29kaW5nTG9va3VwPXt9O3ZhciBlbmNvZGluZ0l0ZW1zO3ZhciB2YWxpZFN0eWxlczt2YXIgaW52YWxpZFN0eWxlczt2YXIgaW52aXNpYmxlQ2hhcj0iXHVGRUZGIjtzZXR0aW5ncz1zZXR0aW5nc3x8e307aWYoc2NoZW1hKXt2YWxpZFN0eWxlcz1zY2hlbWEuZ2V0VmFsaWRTdHlsZXMoKTtpbnZhbGlkU3R5bGVzPXNjaGVtYS5nZXRJbnZhbGlkU3R5bGVzKCk7fWVuY29kaW5nSXRlbXM9KCdcXCIgXFxcJyBcXDsgXFw6IDsgOiAnK2ludmlzaWJsZUNoYXIpLnNwbGl0KCcgJyk7Zm9yKGk9MDtpPGVuY29kaW5nSXRlbXMubGVuZ3RoO2krKyl7ZW5jb2RpbmdMb29rdXBbZW5jb2RpbmdJdGVtc1tpXV09aW52aXNpYmxlQ2hhcitpO2VuY29kaW5nTG9va3VwW2ludmlzaWJsZUNoYXIraV09ZW5jb2RpbmdJdGVtc1tpXTt9cmV0dXJue3RvSGV4OmZ1bmN0aW9uIHRvSGV4KGNvbG9yKXtyZXR1cm4gY29sb3IucmVwbGFjZShyZ2JSZWdFeHAsX3RvSGV4KTt9LHBhcnNlOmZ1bmN0aW9uIHBhcnNlKGNzcyl7dmFyIHN0eWxlcz17fTt2YXIgbWF0Y2hlcyxuYW1lLHZhbHVlLGlzRW5jb2RlZDt2YXIgdXJsQ29udmVydGVyPXNldHRpbmdzLnVybF9jb252ZXJ0ZXI7dmFyIHVybENvbnZlcnRlclNjb3BlPXNldHRpbmdzLnVybF9jb252ZXJ0ZXJfc2NvcGV8fHRoaXM7dmFyIGNvbXByZXNzPWZ1bmN0aW9uIGNvbXByZXNzKHByZWZpeCxzdWZmaXgsbm9Kb2luKXt2YXIgdG9wLHJpZ2h0LGJvdHRvbSxsZWZ0O3RvcD1zdHlsZXNbcHJlZml4KyctdG9wJytzdWZmaXhdO2lmKCF0b3Ape3JldHVybjt9cmlnaHQ9c3R5bGVzW3ByZWZpeCsnLXJpZ2h0JytzdWZmaXhdO2lmKCFyaWdodCl7cmV0dXJuO31ib3R0b209c3R5bGVzW3ByZWZpeCsnLWJvdHRvbScrc3VmZml4XTtpZighYm90dG9tKXtyZXR1cm47fWxlZnQ9c3R5bGVzW3ByZWZpeCsnLWxlZnQnK3N1ZmZpeF07aWYoIWxlZnQpe3JldHVybjt9dmFyIGJveD1bdG9wLHJpZ2h0LGJvdHRvbSxsZWZ0XTtpPWJveC5sZW5ndGgtMTt3aGlsZShpLS0pe2lmKGJveFtpXSE9PWJveFtpKzFdKXticmVhazt9fWlmKGk+LTEmJm5vSm9pbil7cmV0dXJuO31zdHlsZXNbcHJlZml4K3N1ZmZpeF09aT09PS0xP2JveFswXTpib3guam9pbignICcpO2RlbGV0ZSBzdHlsZXNbcHJlZml4KyctdG9wJytzdWZmaXhdO2RlbGV0ZSBzdHlsZXNbcHJlZml4KyctcmlnaHQnK3N1ZmZpeF07ZGVsZXRlIHN0eWxlc1twcmVmaXgrJy1ib3R0b20nK3N1ZmZpeF07ZGVsZXRlIHN0eWxlc1twcmVmaXgrJy1sZWZ0JytzdWZmaXhdO307dmFyIGNhbkNvbXByZXNzPWZ1bmN0aW9uIGNhbkNvbXByZXNzKGtleSl7dmFyIHZhbHVlPXN0eWxlc1trZXldLGk7aWYoIXZhbHVlKXtyZXR1cm47fXZhbHVlPXZhbHVlLnNwbGl0KCcgJyk7aT12YWx1ZS5sZW5ndGg7d2hpbGUoaS0tKXtpZih2YWx1ZVtpXSE9PXZhbHVlWzBdKXtyZXR1cm4gZmFsc2U7fX1zdHlsZXNba2V5XT12YWx1ZVswXTtyZXR1cm4gdHJ1ZTt9O3ZhciBjb21wcmVzczI9ZnVuY3Rpb24gY29tcHJlc3MyKHRhcmdldCxhLGIsYyl7aWYoIWNhbkNvbXByZXNzKGEpKXtyZXR1cm47fWlmKCFjYW5Db21wcmVzcyhiKSl7cmV0dXJuO31pZighY2FuQ29tcHJlc3MoYykpe3JldHVybjt9c3R5bGVzW3RhcmdldF09c3R5bGVzW2FdKycgJytzdHlsZXNbYl0rJyAnK3N0eWxlc1tjXTtkZWxldGUgc3R5bGVzW2FdO2RlbGV0ZSBzdHlsZXNbYl07ZGVsZXRlIHN0eWxlc1tjXTt9O3ZhciBlbmNvZGU9ZnVuY3Rpb24gZW5jb2RlKHN0cil7aXNFbmNvZGVkPXRydWU7cmV0dXJuIGVuY29kaW5nTG9va3VwW3N0cl07fTt2YXIgZGVjb2RlPWZ1bmN0aW9uIGRlY29kZShzdHIsa2VlcFNsYXNoZXMpe2lmKGlzRW5jb2RlZCl7c3RyPXN0ci5yZXBsYWNlKC9cdUZFRkZbMC05XS9nLGZ1bmN0aW9uKHN0cil7cmV0dXJuIGVuY29kaW5nTG9va3VwW3N0cl07fSk7fWlmKCFrZWVwU2xhc2hlcyl7c3RyPXN0ci5yZXBsYWNlKC9cXChbXCdcIjs6XSkvZywnJDEnKTt9cmV0dXJuIHN0cjt9O3ZhciBkZWNvZGVTaW5nbGVIZXhTZXF1ZW5jZT1mdW5jdGlvbiBkZWNvZGVTaW5nbGVIZXhTZXF1ZW5jZShlc2NTZXEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVzY1NlcS5zbGljZSgxKSwxNikpO307dmFyIGRlY29kZUhleFNlcXVlbmNlcz1mdW5jdGlvbiBkZWNvZGVIZXhTZXF1ZW5jZXModmFsdWUpe3JldHVybiB2YWx1ZS5yZXBsYWNlKC9cXFswLTlhLWZdKy9naSxkZWNvZGVTaW5nbGVIZXhTZXF1ZW5jZSk7fTt2YXIgcHJvY2Vzc1VybD1mdW5jdGlvbiBwcm9jZXNzVXJsKG1hdGNoLHVybCx1cmwyLHVybDMsc3RyLHN0cjIpe3N0cj1zdHJ8fHN0cjI7aWYoc3RyKXtzdHI9ZGVjb2RlKHN0cik7cmV0dXJuJ1wnJytzdHIucmVwbGFjZSgvXCcvZywnXFxcJycpKydcJyc7fXVybD1kZWNvZGUodXJsfHx1cmwyfHx1cmwzKTtpZighc2V0dGluZ3MuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBzY3JpcHRVcmw9dXJsLnJlcGxhY2UoL1tcc1xyXG5dKy9nLCcnKTtpZigvKGphdmF8dmIpc2NyaXB0Oi9pLnRlc3Qoc2NyaXB0VXJsKSl7cmV0dXJuJyc7fWlmKCFzZXR0aW5ncy5hbGxvd19zdmdfZGF0YV91cmxzJiYvXmRhdGE6aW1hZ2VcL3N2Zy9pLnRlc3Qoc2NyaXB0VXJsKSl7cmV0dXJuJyc7fX1pZih1cmxDb252ZXJ0ZXIpe3VybD11cmxDb252ZXJ0ZXIuY2FsbCh1cmxDb252ZXJ0ZXJTY29wZSx1cmwsJ3N0eWxlJyk7fXJldHVybid1cmwoXCcnK3VybC5yZXBsYWNlKC9cJy9nLCdcXFwnJykrJ1wnKSc7fTtpZihjc3Mpe2Nzcz1jc3MucmVwbGFjZSgvW1x1MDAwMC1cdTAwMUZdL2csJycpO2Nzcz1jc3MucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLGVuY29kZSkucmVwbGFjZSgvXCJbXlwiXStcInxcJ1teXCddK1wnL2csZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1s7Ol0vZyxlbmNvZGUpO30pO3doaWxlKG1hdGNoZXM9c3R5bGVSZWdFeHAuZXhlYyhjc3MpKXtzdHlsZVJlZ0V4cC5sYXN0SW5kZXg9bWF0Y2hlcy5pbmRleCttYXRjaGVzWzBdLmxlbmd0aDtuYW1lPW1hdGNoZXNbMV0ucmVwbGFjZSh0cmltUmlnaHRSZWdFeHAsJycpLnRvTG93ZXJDYXNlKCk7dmFsdWU9bWF0Y2hlc1syXS5yZXBsYWNlKHRyaW1SaWdodFJlZ0V4cCwnJyk7aWYobmFtZSYmdmFsdWUpe25hbWU9ZGVjb2RlSGV4U2VxdWVuY2VzKG5hbWUpO3ZhbHVlPWRlY29kZUhleFNlcXVlbmNlcyh2YWx1ZSk7aWYobmFtZS5pbmRleE9mKGludmlzaWJsZUNoYXIpIT09LTF8fG5hbWUuaW5kZXhPZignIicpIT09LTEpe2NvbnRpbnVlO31pZighc2V0dGluZ3MuYWxsb3dfc2NyaXB0X3VybHMmJihuYW1lPT09J2JlaGF2aW9yJ3x8L2V4cHJlc3Npb25ccypcKHxcL1wqfFwqXC8vLnRlc3QodmFsdWUpKSl7Y29udGludWU7fWlmKG5hbWU9PT0nZm9udC13ZWlnaHQnJiZ2YWx1ZT09PSc3MDAnKXt2YWx1ZT0nYm9sZCc7fWVsc2UgaWYobmFtZT09PSdjb2xvcid8fG5hbWU9PT0nYmFja2dyb3VuZC1jb2xvcicpe3ZhbHVlPXZhbHVlLnRvTG93ZXJDYXNlKCk7fXZhbHVlPXZhbHVlLnJlcGxhY2UocmdiUmVnRXhwLF90b0hleCk7dmFsdWU9dmFsdWUucmVwbGFjZSh1cmxPclN0clJlZ0V4cCxwcm9jZXNzVXJsKTtzdHlsZXNbbmFtZV09aXNFbmNvZGVkP2RlY29kZSh2YWx1ZSx0cnVlKTp2YWx1ZTt9fWNvbXByZXNzKCdib3JkZXInLCcnLHRydWUpO2NvbXByZXNzKCdib3JkZXInLCctd2lkdGgnKTtjb21wcmVzcygnYm9yZGVyJywnLWNvbG9yJyk7Y29tcHJlc3MoJ2JvcmRlcicsJy1zdHlsZScpO2NvbXByZXNzKCdwYWRkaW5nJywnJyk7Y29tcHJlc3MoJ21hcmdpbicsJycpO2NvbXByZXNzMignYm9yZGVyJywnYm9yZGVyLXdpZHRoJywnYm9yZGVyLXN0eWxlJywnYm9yZGVyLWNvbG9yJyk7aWYoc3R5bGVzLmJvcmRlcj09PSdtZWRpdW0gbm9uZScpe2RlbGV0ZSBzdHlsZXMuYm9yZGVyO31pZihzdHlsZXNbJ2JvcmRlci1pbWFnZSddPT09J25vbmUnKXtkZWxldGUgc3R5bGVzWydib3JkZXItaW1hZ2UnXTt9fXJldHVybiBzdHlsZXM7fSxzZXJpYWxpemU6ZnVuY3Rpb24gc2VyaWFsaXplKHN0eWxlcyxlbGVtZW50TmFtZSl7dmFyIGNzcz0nJyxuYW1lLHZhbHVlO3ZhciBzZXJpYWxpemVTdHlsZXM9ZnVuY3Rpb24gc2VyaWFsaXplU3R5bGVzKG5hbWUpe3ZhciBzdHlsZUxpc3QsaSxsLHZhbHVlO3N0eWxlTGlzdD12YWxpZFN0eWxlc1tuYW1lXTtpZihzdHlsZUxpc3Qpe2ZvcihpPTAsbD1zdHlsZUxpc3QubGVuZ3RoO2k8bDtpKyspe25hbWU9c3R5bGVMaXN0W2ldO3ZhbHVlPXN0eWxlc1tuYW1lXTtpZih2YWx1ZSl7Y3NzKz0oY3NzLmxlbmd0aD4wPycgJzonJykrbmFtZSsnOiAnK3ZhbHVlKyc7Jzt9fX19O3ZhciBpc1ZhbGlkPWZ1bmN0aW9uIGlzVmFsaWQobmFtZSxlbGVtZW50TmFtZSl7dmFyIHN0eWxlTWFwO3N0eWxlTWFwPWludmFsaWRTdHlsZXNbJyonXTtpZihzdHlsZU1hcCYmc3R5bGVNYXBbbmFtZV0pe3JldHVybiBmYWxzZTt9c3R5bGVNYXA9aW52YWxpZFN0eWxlc1tlbGVtZW50TmFtZV07aWYoc3R5bGVNYXAmJnN0eWxlTWFwW25hbWVdKXtyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO307aWYoZWxlbWVudE5hbWUmJnZhbGlkU3R5bGVzKXtzZXJpYWxpemVTdHlsZXMoJyonKTtzZXJpYWxpemVTdHlsZXMoZWxlbWVudE5hbWUpO31lbHNle2ZvcihuYW1lIGluIHN0eWxlcyl7dmFsdWU9c3R5bGVzW25hbWVdO2lmKHZhbHVlJiYoIWludmFsaWRTdHlsZXN8fGlzVmFsaWQobmFtZSxlbGVtZW50TmFtZSkpKXtjc3MrPShjc3MubGVuZ3RoPjA/JyAnOicnKStuYW1lKyc6ICcrdmFsdWUrJzsnO319fXJldHVybiBjc3M7fX07fTt2YXIgZXZlbnRFeHBhbmRvUHJlZml4PSdtY2UtZGF0YS0nO3ZhciBtb3VzZUV2ZW50UmU9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svO3ZhciBkZXByZWNhdGVkPXtrZXlMb2NhdGlvbjoxLGxheWVyWDoxLGxheWVyWToxLHJldHVyblZhbHVlOjEsd2Via2l0TW92ZW1lbnRYOjEsd2Via2l0TW92ZW1lbnRZOjEsa2V5SWRlbnRpZmllcjoxLG1velByZXNzdXJlOjF9O3ZhciBoYXNJc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24gaGFzSXNEZWZhdWx0UHJldmVudGVkKGV2ZW50KXtyZXR1cm4gZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkPT09cmV0dXJuVHJ1ZXx8ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkPT09cmV0dXJuRmFsc2U7fTt2YXIgcmV0dXJuRmFsc2U9ZnVuY3Rpb24gcmV0dXJuRmFsc2UoKXtyZXR1cm4gZmFsc2U7fTt2YXIgcmV0dXJuVHJ1ZT1mdW5jdGlvbiByZXR1cm5UcnVlKCl7cmV0dXJuIHRydWU7fTt2YXIgYWRkRXZlbnQ9ZnVuY3Rpb24gYWRkRXZlbnQodGFyZ2V0LG5hbWUsY2FsbGJhY2ssY2FwdHVyZSl7aWYodGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpe3RhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsY2FsbGJhY2ssY2FwdHVyZXx8ZmFsc2UpO31lbHNlIGlmKHRhcmdldC5hdHRhY2hFdmVudCl7dGFyZ2V0LmF0dGFjaEV2ZW50KCdvbicrbmFtZSxjYWxsYmFjayk7fX07dmFyIHJlbW92ZUV2ZW50PWZ1bmN0aW9uIHJlbW92ZUV2ZW50KHRhcmdldCxuYW1lLGNhbGxiYWNrLGNhcHR1cmUpe2lmKHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKXt0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLGNhbGxiYWNrLGNhcHR1cmV8fGZhbHNlKTt9ZWxzZSBpZih0YXJnZXQuZGV0YWNoRXZlbnQpe3RhcmdldC5kZXRhY2hFdmVudCgnb24nK25hbWUsY2FsbGJhY2spO319O3ZhciBnZXRUYXJnZXRGcm9tU2hhZG93RG9tPWZ1bmN0aW9uIGdldFRhcmdldEZyb21TaGFkb3dEb20oZXZlbnQsZGVmYXVsdFRhcmdldCl7aWYoZXZlbnQuY29tcG9zZWRQYXRoKXt2YXIgY29tcG9zZWRQYXRoPWV2ZW50LmNvbXBvc2VkUGF0aCgpO2lmKGNvbXBvc2VkUGF0aCYmY29tcG9zZWRQYXRoLmxlbmd0aD4wKXtyZXR1cm4gY29tcG9zZWRQYXRoWzBdO319cmV0dXJuIGRlZmF1bHRUYXJnZXQ7fTt2YXIgZml4PWZ1bmN0aW9uIGZpeChvcmlnaW5hbEV2ZW50LGRhdGEpe3ZhciBuYW1lO3ZhciBldmVudD1kYXRhfHx7fTtmb3IobmFtZSBpbiBvcmlnaW5hbEV2ZW50KXtpZighZGVwcmVjYXRlZFtuYW1lXSl7ZXZlbnRbbmFtZV09b3JpZ2luYWxFdmVudFtuYW1lXTt9fWlmKCFldmVudC50YXJnZXQpe2V2ZW50LnRhcmdldD1ldmVudC5zcmNFbGVtZW50fHxkb21HbG9iYWxzLmRvY3VtZW50O31pZihFbnYuZXhwZXJpbWVudGFsU2hhZG93RG9tKXtldmVudC50YXJnZXQ9Z2V0VGFyZ2V0RnJvbVNoYWRvd0RvbShvcmlnaW5hbEV2ZW50LGV2ZW50LnRhcmdldCk7fWlmKG9yaWdpbmFsRXZlbnQmJm1vdXNlRXZlbnRSZS50ZXN0KG9yaWdpbmFsRXZlbnQudHlwZSkmJm9yaWdpbmFsRXZlbnQucGFnZVg9PT11bmRlZmluZWQmJm9yaWdpbmFsRXZlbnQuY2xpZW50WCE9PXVuZGVmaW5lZCl7dmFyIGV2ZW50RG9jPWV2ZW50LnRhcmdldC5vd25lckRvY3VtZW50fHxkb21HbG9iYWxzLmRvY3VtZW50O3ZhciBkb2M9ZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O3ZhciBib2R5PWV2ZW50RG9jLmJvZHk7ZXZlbnQucGFnZVg9b3JpZ2luYWxFdmVudC5jbGllbnRYKyhkb2MmJmRvYy5zY3JvbGxMZWZ0fHxib2R5JiZib2R5LnNjcm9sbExlZnR8fDApLShkb2MmJmRvYy5jbGllbnRMZWZ0fHxib2R5JiZib2R5LmNsaWVudExlZnR8fDApO2V2ZW50LnBhZ2VZPW9yaWdpbmFsRXZlbnQuY2xpZW50WSsoZG9jJiZkb2Muc2Nyb2xsVG9wfHxib2R5JiZib2R5LnNjcm9sbFRvcHx8MCktKGRvYyYmZG9jLmNsaWVudFRvcHx8Ym9keSYmYm9keS5jbGllbnRUb3B8fDApO31ldmVudC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZD1yZXR1cm5UcnVlO2lmKG9yaWdpbmFsRXZlbnQpe2lmKG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQpe29yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTt9ZWxzZXtvcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWZhbHNlO319fTtldmVudC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1yZXR1cm5UcnVlO2lmKG9yaWdpbmFsRXZlbnQpe2lmKG9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKXtvcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO31lbHNle29yaWdpbmFsRXZlbnQuY2FuY2VsQnViYmxlPXRydWU7fX19O2V2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2V2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXJldHVyblRydWU7ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7fTtpZihoYXNJc0RlZmF1bHRQcmV2ZW50ZWQoZXZlbnQpPT09ZmFsc2Upe2V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZD1yZXR1cm5GYWxzZTtldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1yZXR1cm5GYWxzZTtldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1yZXR1cm5GYWxzZTt9aWYodHlwZW9mIGV2ZW50Lm1ldGFLZXk9PT0ndW5kZWZpbmVkJyl7ZXZlbnQubWV0YUtleT1mYWxzZTt9cmV0dXJuIGV2ZW50O307dmFyIGJpbmRPblJlYWR5PWZ1bmN0aW9uIGJpbmRPblJlYWR5KHdpbixjYWxsYmFjayxldmVudFV0aWxzKXt2YXIgZG9jPXdpbi5kb2N1bWVudCxldmVudD17dHlwZToncmVhZHknfTtpZihldmVudFV0aWxzLmRvbUxvYWRlZCl7Y2FsbGJhY2soZXZlbnQpO3JldHVybjt9dmFyIGlzRG9jUmVhZHk9ZnVuY3Rpb24gaXNEb2NSZWFkeSgpe3JldHVybiBkb2MucmVhZHlTdGF0ZT09PSdjb21wbGV0ZSd8fGRvYy5yZWFkeVN0YXRlPT09J2ludGVyYWN0aXZlJyYmZG9jLmJvZHk7fTt2YXIgcmVhZHlIYW5kbGVyPWZ1bmN0aW9uIHJlYWR5SGFuZGxlcigpe3JlbW92ZUV2ZW50KHdpbiwnRE9NQ29udGVudExvYWRlZCcscmVhZHlIYW5kbGVyKTtyZW1vdmVFdmVudCh3aW4sJ2xvYWQnLHJlYWR5SGFuZGxlcik7aWYoIWV2ZW50VXRpbHMuZG9tTG9hZGVkKXtldmVudFV0aWxzLmRvbUxvYWRlZD10cnVlO2NhbGxiYWNrKGV2ZW50KTt9fTtpZihpc0RvY1JlYWR5KCkpe3JlYWR5SGFuZGxlcigpO31lbHNle2FkZEV2ZW50KHdpbiwnRE9NQ29udGVudExvYWRlZCcscmVhZHlIYW5kbGVyKTt9YWRkRXZlbnQod2luLCdsb2FkJyxyZWFkeUhhbmRsZXIpO307dmFyIEV2ZW50VXRpbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudFV0aWxzKCl7dGhpcy5kb21Mb2FkZWQ9ZmFsc2U7dGhpcy5ldmVudHM9e307dGhpcy5jb3VudD0xO3RoaXMuZXhwYW5kbz1ldmVudEV4cGFuZG9QcmVmaXgrKCtuZXcgRGF0ZSgpKS50b1N0cmluZygzMik7dGhpcy5oYXNNb3VzZUVudGVyTGVhdmU9J29ubW91c2VlbnRlcidpbiBkb21HbG9iYWxzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt0aGlzLmhhc0ZvY3VzSW49J29uZm9jdXNpbidpbiBkb21HbG9iYWxzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt0aGlzLmNvdW50PTE7fUV2ZW50VXRpbHMucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGFyZ2V0LG5hbWVzLGNhbGxiYWNrLHNjb3BlKXt2YXIgc2VsZj10aGlzO3ZhciBpZCxjYWxsYmFja0xpc3QsaSxuYW1lLGZha2VOYW1lLG5hdGl2ZUhhbmRsZXIsY2FwdHVyZTt2YXIgd2luPWRvbUdsb2JhbHMud2luZG93O3ZhciBkZWZhdWx0TmF0aXZlSGFuZGxlcj1mdW5jdGlvbiBkZWZhdWx0TmF0aXZlSGFuZGxlcihldnQpe3NlbGYuZXhlY3V0ZUhhbmRsZXJzKGZpeChldnR8fHdpbi5ldmVudCksaWQpO307aWYoIXRhcmdldHx8dGFyZ2V0Lm5vZGVUeXBlPT09M3x8dGFyZ2V0Lm5vZGVUeXBlPT09OCl7cmV0dXJuO31pZighdGFyZ2V0W3NlbGYuZXhwYW5kb10pe2lkPXNlbGYuY291bnQrKzt0YXJnZXRbc2VsZi5leHBhbmRvXT1pZDtzZWxmLmV2ZW50c1tpZF09e307fWVsc2V7aWQ9dGFyZ2V0W3NlbGYuZXhwYW5kb107fXNjb3BlPXNjb3BlfHx0YXJnZXQ7dmFyIG5hbWVzTGlzdD1uYW1lcy5zcGxpdCgnICcpO2k9bmFtZXNMaXN0Lmxlbmd0aDt3aGlsZShpLS0pe25hbWU9bmFtZXNMaXN0W2ldO25hdGl2ZUhhbmRsZXI9ZGVmYXVsdE5hdGl2ZUhhbmRsZXI7ZmFrZU5hbWU9Y2FwdHVyZT1mYWxzZTtpZihuYW1lPT09J0RPTUNvbnRlbnRMb2FkZWQnKXtuYW1lPSdyZWFkeSc7fWlmKHNlbGYuZG9tTG9hZGVkJiZuYW1lPT09J3JlYWR5JyYmdGFyZ2V0LnJlYWR5U3RhdGU9PT0nY29tcGxldGUnKXtjYWxsYmFjay5jYWxsKHNjb3BlLGZpeCh7dHlwZTpuYW1lfSkpO2NvbnRpbnVlO31pZighc2VsZi5oYXNNb3VzZUVudGVyTGVhdmUpe2Zha2VOYW1lPXNlbGYubW91c2VFbnRlckxlYXZlW25hbWVdO2lmKGZha2VOYW1lKXtuYXRpdmVIYW5kbGVyPWZ1bmN0aW9uIG5hdGl2ZUhhbmRsZXIoZXZ0KXt2YXIgY3VycmVudCxyZWxhdGVkO2N1cnJlbnQ9ZXZ0LmN1cnJlbnRUYXJnZXQ7cmVsYXRlZD1ldnQucmVsYXRlZFRhcmdldDtpZihyZWxhdGVkJiZjdXJyZW50LmNvbnRhaW5zKXtyZWxhdGVkPWN1cnJlbnQuY29udGFpbnMocmVsYXRlZCk7fWVsc2V7d2hpbGUocmVsYXRlZCYmcmVsYXRlZCE9PWN1cnJlbnQpe3JlbGF0ZWQ9cmVsYXRlZC5wYXJlbnROb2RlO319aWYoIXJlbGF0ZWQpe2V2dD1maXgoZXZ0fHx3aW4uZXZlbnQpO2V2dC50eXBlPWV2dC50eXBlPT09J21vdXNlb3V0Jz8nbW91c2VsZWF2ZSc6J21vdXNlZW50ZXInO2V2dC50YXJnZXQ9Y3VycmVudDtzZWxmLmV4ZWN1dGVIYW5kbGVycyhldnQsaWQpO319O319aWYoIXNlbGYuaGFzRm9jdXNJbiYmKG5hbWU9PT0nZm9jdXNpbid8fG5hbWU9PT0nZm9jdXNvdXQnKSl7Y2FwdHVyZT10cnVlO2Zha2VOYW1lPW5hbWU9PT0nZm9jdXNpbic/J2ZvY3VzJzonYmx1cic7bmF0aXZlSGFuZGxlcj1mdW5jdGlvbiBuYXRpdmVIYW5kbGVyKGV2dCl7ZXZ0PWZpeChldnR8fHdpbi5ldmVudCk7ZXZ0LnR5cGU9ZXZ0LnR5cGU9PT0nZm9jdXMnPydmb2N1c2luJzonZm9jdXNvdXQnO3NlbGYuZXhlY3V0ZUhhbmRsZXJzKGV2dCxpZCk7fTt9Y2FsbGJhY2tMaXN0PXNlbGYuZXZlbnRzW2lkXVtuYW1lXTtpZighY2FsbGJhY2tMaXN0KXtzZWxmLmV2ZW50c1tpZF1bbmFtZV09Y2FsbGJhY2tMaXN0PVt7ZnVuYzpjYWxsYmFjayxzY29wZTpzY29wZX1dO2NhbGxiYWNrTGlzdC5mYWtlTmFtZT1mYWtlTmFtZTtjYWxsYmFja0xpc3QuY2FwdHVyZT1jYXB0dXJlO2NhbGxiYWNrTGlzdC5uYXRpdmVIYW5kbGVyPW5hdGl2ZUhhbmRsZXI7aWYobmFtZT09PSdyZWFkeScpe2JpbmRPblJlYWR5KHRhcmdldCxuYXRpdmVIYW5kbGVyLHNlbGYpO31lbHNle2FkZEV2ZW50KHRhcmdldCxmYWtlTmFtZXx8bmFtZSxuYXRpdmVIYW5kbGVyLGNhcHR1cmUpO319ZWxzZXtpZihuYW1lPT09J3JlYWR5JyYmc2VsZi5kb21Mb2FkZWQpe2NhbGxiYWNrKGZpeCh7dHlwZTpuYW1lfSkpO31lbHNle2NhbGxiYWNrTGlzdC5wdXNoKHtmdW5jOmNhbGxiYWNrLHNjb3BlOnNjb3BlfSk7fX19dGFyZ2V0PWNhbGxiYWNrTGlzdD0wO3JldHVybiBjYWxsYmFjazt9O0V2ZW50VXRpbHMucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbih0YXJnZXQsbmFtZXMsY2FsbGJhY2spe3ZhciBpZCxjYWxsYmFja0xpc3QsaSxjaSxuYW1lLGV2ZW50TWFwO2lmKCF0YXJnZXR8fHRhcmdldC5ub2RlVHlwZT09PTN8fHRhcmdldC5ub2RlVHlwZT09PTgpe3JldHVybiB0aGlzO31pZD10YXJnZXRbdGhpcy5leHBhbmRvXTtpZihpZCl7ZXZlbnRNYXA9dGhpcy5ldmVudHNbaWRdO2lmKG5hbWVzKXt2YXIgbmFtZXNMaXN0PW5hbWVzLnNwbGl0KCcgJyk7aT1uYW1lc0xpc3QubGVuZ3RoO3doaWxlKGktLSl7bmFtZT1uYW1lc0xpc3RbaV07Y2FsbGJhY2tMaXN0PWV2ZW50TWFwW25hbWVdO2lmKGNhbGxiYWNrTGlzdCl7aWYoY2FsbGJhY2spe2NpPWNhbGxiYWNrTGlzdC5sZW5ndGg7d2hpbGUoY2ktLSl7aWYoY2FsbGJhY2tMaXN0W2NpXS5mdW5jPT09Y2FsbGJhY2spe3ZhciBuYXRpdmVIYW5kbGVyPWNhbGxiYWNrTGlzdC5uYXRpdmVIYW5kbGVyO3ZhciBmYWtlTmFtZT1jYWxsYmFja0xpc3QuZmFrZU5hbWUsY2FwdHVyZT1jYWxsYmFja0xpc3QuY2FwdHVyZTtjYWxsYmFja0xpc3Q9Y2FsbGJhY2tMaXN0LnNsaWNlKDAsY2kpLmNvbmNhdChjYWxsYmFja0xpc3Quc2xpY2UoY2krMSkpO2NhbGxiYWNrTGlzdC5uYXRpdmVIYW5kbGVyPW5hdGl2ZUhhbmRsZXI7Y2FsbGJhY2tMaXN0LmZha2VOYW1lPWZha2VOYW1lO2NhbGxiYWNrTGlzdC5jYXB0dXJlPWNhcHR1cmU7ZXZlbnRNYXBbbmFtZV09Y2FsbGJhY2tMaXN0O319fWlmKCFjYWxsYmFja3x8Y2FsbGJhY2tMaXN0Lmxlbmd0aD09PTApe2RlbGV0ZSBldmVudE1hcFtuYW1lXTtyZW1vdmVFdmVudCh0YXJnZXQsY2FsbGJhY2tMaXN0LmZha2VOYW1lfHxuYW1lLGNhbGxiYWNrTGlzdC5uYXRpdmVIYW5kbGVyLGNhbGxiYWNrTGlzdC5jYXB0dXJlKTt9fX19ZWxzZXtmb3IobmFtZSBpbiBldmVudE1hcCl7Y2FsbGJhY2tMaXN0PWV2ZW50TWFwW25hbWVdO3JlbW92ZUV2ZW50KHRhcmdldCxjYWxsYmFja0xpc3QuZmFrZU5hbWV8fG5hbWUsY2FsbGJhY2tMaXN0Lm5hdGl2ZUhhbmRsZXIsY2FsbGJhY2tMaXN0LmNhcHR1cmUpO31ldmVudE1hcD17fTt9Zm9yKG5hbWUgaW4gZXZlbnRNYXApe3JldHVybiB0aGlzO31kZWxldGUgdGhpcy5ldmVudHNbaWRdO3RyeXtkZWxldGUgdGFyZ2V0W3RoaXMuZXhwYW5kb107fWNhdGNoKGV4KXt0YXJnZXRbdGhpcy5leHBhbmRvXT1udWxsO319cmV0dXJuIHRoaXM7fTtFdmVudFV0aWxzLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHRhcmdldCxuYW1lLGFyZ3Mpe3ZhciBpZDtpZighdGFyZ2V0fHx0YXJnZXQubm9kZVR5cGU9PT0zfHx0YXJnZXQubm9kZVR5cGU9PT04KXtyZXR1cm4gdGhpczt9dmFyIGV2ZW50PWZpeChudWxsLGFyZ3MpO2V2ZW50LnR5cGU9bmFtZTtldmVudC50YXJnZXQ9dGFyZ2V0O2Rve2lkPXRhcmdldFt0aGlzLmV4cGFuZG9dO2lmKGlkKXt0aGlzLmV4ZWN1dGVIYW5kbGVycyhldmVudCxpZCk7fXRhcmdldD10YXJnZXQucGFyZW50Tm9kZXx8dGFyZ2V0Lm93bmVyRG9jdW1lbnR8fHRhcmdldC5kZWZhdWx0Vmlld3x8dGFyZ2V0LnBhcmVudFdpbmRvdzt9d2hpbGUodGFyZ2V0JiYhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSk7cmV0dXJuIHRoaXM7fTtFdmVudFV0aWxzLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbih0YXJnZXQpe3ZhciBpLGNoaWxkcmVuO2lmKCF0YXJnZXR8fHRhcmdldC5ub2RlVHlwZT09PTN8fHRhcmdldC5ub2RlVHlwZT09PTgpe3JldHVybiB0aGlzO31pZih0YXJnZXRbdGhpcy5leHBhbmRvXSl7dGhpcy51bmJpbmQodGFyZ2V0KTt9aWYoIXRhcmdldC5nZXRFbGVtZW50c0J5VGFnTmFtZSl7dGFyZ2V0PXRhcmdldC5kb2N1bWVudDt9aWYodGFyZ2V0JiZ0YXJnZXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpe3RoaXMudW5iaW5kKHRhcmdldCk7Y2hpbGRyZW49dGFyZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7aT1jaGlsZHJlbi5sZW5ndGg7d2hpbGUoaS0tKXt0YXJnZXQ9Y2hpbGRyZW5baV07aWYodGFyZ2V0W3RoaXMuZXhwYW5kb10pe3RoaXMudW5iaW5kKHRhcmdldCk7fX19cmV0dXJuIHRoaXM7fTtFdmVudFV0aWxzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudHM9e307fTtFdmVudFV0aWxzLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7aWYoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7fXJldHVybiBmYWxzZTt9O0V2ZW50VXRpbHMucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycz1mdW5jdGlvbihldnQsaWQpe3ZhciBjYWxsYmFja0xpc3QsaSxsLGNhbGxiYWNrO3ZhciBjb250YWluZXI9dGhpcy5ldmVudHNbaWRdO2NhbGxiYWNrTGlzdD1jb250YWluZXImJmNvbnRhaW5lcltldnQudHlwZV07aWYoY2FsbGJhY2tMaXN0KXtmb3IoaT0wLGw9Y2FsbGJhY2tMaXN0Lmxlbmd0aDtpPGw7aSsrKXtjYWxsYmFjaz1jYWxsYmFja0xpc3RbaV07aWYoY2FsbGJhY2smJmNhbGxiYWNrLmZ1bmMuY2FsbChjYWxsYmFjay5zY29wZSxldnQpPT09ZmFsc2Upe2V2dC5wcmV2ZW50RGVmYXVsdCgpO31pZihldnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl7cmV0dXJuO319fX07RXZlbnRVdGlscy5FdmVudD1uZXcgRXZlbnRVdGlscygpO3JldHVybiBFdmVudFV0aWxzO30oKTt2YXIgaSxzdXBwb3J0LEV4cHIsZ2V0VGV4dCxpc1hNTCx0b2tlbml6ZSxjb21waWxlLHNlbGVjdCxvdXRlcm1vc3RDb250ZXh0LHNvcnRJbnB1dCxoYXNEdXBsaWNhdGUsc2V0RG9jdW1lbnQsZG9jdW1lbnQsZG9jRWxlbSxkb2N1bWVudElzSFRNTCxyYnVnZ3lRU0EscmJ1Z2d5TWF0Y2hlcyxtYXRjaGVzLGNvbnRhaW5zJDMsZXhwYW5kbz0nc2l6emxlJystbmV3IERhdGUoKSxwcmVmZXJyZWREb2M9ZG9tR2xvYmFscy53aW5kb3cuZG9jdW1lbnQsZGlycnVucz0wLGRvbmU9MCxjbGFzc0NhY2hlPWNyZWF0ZUNhY2hlKCksdG9rZW5DYWNoZT1jcmVhdGVDYWNoZSgpLGNvbXBpbGVyQ2FjaGU9Y3JlYXRlQ2FjaGUoKSxzb3J0T3JkZXI9ZnVuY3Rpb24gc29ydE9yZGVyKGEsYil7aWYoYT09PWIpe2hhc0R1cGxpY2F0ZT10cnVlO31yZXR1cm4gMDt9LHN0cnVuZGVmaW5lZD10eXBlb2YgdW5kZWZpbmVkPT09InVuZGVmaW5lZCI/InVuZGVmaW5lZCI6X3R5cGVvZih1bmRlZmluZWQpLE1BWF9ORUdBVElWRT0xPDwzMSxoYXNPd249e30uaGFzT3duUHJvcGVydHksYXJyPVtdLHBvcD1hcnIucG9wLHB1c2hfbmF0aXZlPWFyci5wdXNoLHB1c2g9YXJyLnB1c2gsc2xpY2U9YXJyLnNsaWNlLGluZGV4T2YkMj1hcnIuaW5kZXhPZnx8ZnVuY3Rpb24oZWxlbSl7dmFyIGk9MCxsZW49dGhpcy5sZW5ndGg7Zm9yKDtpPGxlbjtpKyspe2lmKHRoaXNbaV09PT1lbGVtKXtyZXR1cm4gaTt9fXJldHVybi0xO30sYm9vbGVhbnM9J2NoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkJyx3aGl0ZXNwYWNlPSdbXFx4MjBcXHRcXHJcXG5cXGZdJyxpZGVudGlmaWVyPScoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKycsYXR0cmlidXRlcz0nXFxbJyt3aGl0ZXNwYWNlKycqKCcraWRlbnRpZmllcisnKSg/Oicrd2hpdGVzcGFjZSsnKihbKl4kfCF+XT89KScrd2hpdGVzcGFjZSsnKig/OlwnKCg/OlxcXFwufFteXFxcXFwnXSkqKVwnfCIoKD86XFxcXC58W15cXFxcIl0pKikifCgnK2lkZW50aWZpZXIrJykpfCknK3doaXRlc3BhY2UrJypcXF0nLHBzZXVkb3M9JzooJytpZGVudGlmaWVyKycpKD86XFwoKCcrJyhcJygoPzpcXFxcLnxbXlxcXFxcJ10pKilcJ3wiKCg/OlxcXFwufFteXFxcXCJdKSopIil8JysnKCg/OlxcXFwufFteXFxcXCgpW1xcXV18JythdHRyaWJ1dGVzKycpKil8JysnLionKycpXFwpfCknLHJ0cmltPW5ldyBSZWdFeHAoJ14nK3doaXRlc3BhY2UrJyt8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKScrd2hpdGVzcGFjZSsnKyQnLCdnJykscmNvbW1hPW5ldyBSZWdFeHAoJ14nK3doaXRlc3BhY2UrJyosJyt3aGl0ZXNwYWNlKycqJykscmNvbWJpbmF0b3JzPW5ldyBSZWdFeHAoJ14nK3doaXRlc3BhY2UrJyooWz4rfl18Jyt3aGl0ZXNwYWNlKycpJyt3aGl0ZXNwYWNlKycqJykscmF0dHJpYnV0ZVF1b3Rlcz1uZXcgUmVnRXhwKCc9Jyt3aGl0ZXNwYWNlKycqKFteXFxdXCciXSo/KScrd2hpdGVzcGFjZSsnKlxcXScsJ2cnKSxycHNldWRvPW5ldyBSZWdFeHAocHNldWRvcykscmlkZW50aWZpZXI9bmV3IFJlZ0V4cCgnXicraWRlbnRpZmllcisnJCcpLG1hdGNoRXhwcj17SUQ6bmV3IFJlZ0V4cCgnXiMoJytpZGVudGlmaWVyKycpJyksQ0xBU1M6bmV3IFJlZ0V4cCgnXlxcLignK2lkZW50aWZpZXIrJyknKSxUQUc6bmV3IFJlZ0V4cCgnXignK2lkZW50aWZpZXIrJ3xbKl0pJyksQVRUUjpuZXcgUmVnRXhwKCdeJythdHRyaWJ1dGVzKSxQU0VVRE86bmV3IFJlZ0V4cCgnXicrcHNldWRvcyksQ0hJTEQ6bmV3IFJlZ0V4cCgnXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoJyt3aGl0ZXNwYWNlKycqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpJyt3aGl0ZXNwYWNlKycqKD86KFsrLV18KScrd2hpdGVzcGFjZSsnKihcXGQrKXwpKScrd2hpdGVzcGFjZSsnKlxcKXwpJywnaScpLGJvb2w6bmV3IFJlZ0V4cCgnXig/OicrYm9vbGVhbnMrJykkJywnaScpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCdeJyt3aGl0ZXNwYWNlKycqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgnK3doaXRlc3BhY2UrJyooKD86LVxcZCk/XFxkKiknK3doaXRlc3BhY2UrJypcXCl8KSg/PVteLV18JCknLCdpJyl9LHJpbnB1dHM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxyaGVhZGVyPS9eaFxkJC9pLHJuYXRpdmU9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLHJxdWlja0V4cHI9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxyc2libGluZz0vWyt+XS8scmVzY2FwZT0vJ3xcXC9nLHJ1bmVzY2FwZT1uZXcgUmVnRXhwKCdcXFxcKFtcXGRhLWZdezEsNn0nK3doaXRlc3BhY2UrJz98KCcrd2hpdGVzcGFjZSsnKXwuKScsJ2lnJyksZnVuZXNjYXBlPWZ1bmN0aW9uIGZ1bmVzY2FwZShfLGVzY2FwZWQsZXNjYXBlZFdoaXRlc3BhY2Upe3ZhciBoaWdoPScweCcrZXNjYXBlZC02NTUzNjtyZXR1cm4gaGlnaCE9PWhpZ2h8fGVzY2FwZWRXaGl0ZXNwYWNlP2VzY2FwZWQ6aGlnaDwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaGlnaCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShoaWdoPj4xMHw1NTI5NixoaWdoJjEwMjN8NTYzMjApO307dHJ5e3B1c2guYXBwbHkoYXJyPXNsaWNlLmNhbGwocHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpLHByZWZlcnJlZERvYy5jaGlsZE5vZGVzKTthcnJbcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZTt9Y2F0Y2goZSl7cHVzaD17YXBwbHk6YXJyLmxlbmd0aD9mdW5jdGlvbih0YXJnZXQsZWxzKXtwdXNoX25hdGl2ZS5hcHBseSh0YXJnZXQsc2xpY2UuY2FsbChlbHMpKTt9OmZ1bmN0aW9uKHRhcmdldCxlbHMpe3ZhciBqPXRhcmdldC5sZW5ndGgsaT0wO3doaWxlKHRhcmdldFtqKytdPWVsc1tpKytdKXt9dGFyZ2V0Lmxlbmd0aD1qLTE7fX07fXZhciBTaXp6bGU9ZnVuY3Rpb24gU2l6emxlKHNlbGVjdG9yLGNvbnRleHQscmVzdWx0cyxzZWVkKXt2YXIgbWF0Y2gsZWxlbSxtLG5vZGVUeXBlLGksZ3JvdXBzLG9sZCxuaWQsbmV3Q29udGV4dCxuZXdTZWxlY3RvcjtpZigoY29udGV4dD9jb250ZXh0Lm93bmVyRG9jdW1lbnR8fGNvbnRleHQ6cHJlZmVycmVkRG9jKSE9PWRvY3VtZW50KXtzZXREb2N1bWVudChjb250ZXh0KTt9Y29udGV4dD1jb250ZXh0fHxkb2N1bWVudDtyZXN1bHRzPXJlc3VsdHN8fFtdO2lmKCFzZWxlY3Rvcnx8dHlwZW9mIHNlbGVjdG9yIT09J3N0cmluZycpe3JldHVybiByZXN1bHRzO31pZigobm9kZVR5cGU9Y29udGV4dC5ub2RlVHlwZSkhPT0xJiZub2RlVHlwZSE9PTkpe3JldHVybltdO31pZihkb2N1bWVudElzSFRNTCYmIXNlZWQpe2lmKG1hdGNoPXJxdWlja0V4cHIuZXhlYyhzZWxlY3Rvcikpe2lmKG09bWF0Y2hbMV0pe2lmKG5vZGVUeXBlPT09OSl7ZWxlbT1jb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pO2lmKGVsZW0mJmVsZW0ucGFyZW50Tm9kZSl7aWYoZWxlbS5pZD09PW0pe3Jlc3VsdHMucHVzaChlbGVtKTtyZXR1cm4gcmVzdWx0czt9fWVsc2V7cmV0dXJuIHJlc3VsdHM7fX1lbHNle2lmKGNvbnRleHQub3duZXJEb2N1bWVudCYmKGVsZW09Y29udGV4dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG0pKSYmY29udGFpbnMkMyhjb250ZXh0LGVsZW0pJiZlbGVtLmlkPT09bSl7cmVzdWx0cy5wdXNoKGVsZW0pO3JldHVybiByZXN1bHRzO319fWVsc2UgaWYobWF0Y2hbMl0pe3B1c2guYXBwbHkocmVzdWx0cyxjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSk7cmV0dXJuIHJlc3VsdHM7fWVsc2UgaWYoKG09bWF0Y2hbM10pJiZzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpe3B1c2guYXBwbHkocmVzdWx0cyxjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobSkpO3JldHVybiByZXN1bHRzO319aWYoc3VwcG9ydC5xc2EmJighcmJ1Z2d5UVNBfHwhcmJ1Z2d5UVNBLnRlc3Qoc2VsZWN0b3IpKSl7bmlkPW9sZD1leHBhbmRvO25ld0NvbnRleHQ9Y29udGV4dDtuZXdTZWxlY3Rvcj1ub2RlVHlwZT09PTkmJnNlbGVjdG9yO2lmKG5vZGVUeXBlPT09MSYmY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09J29iamVjdCcpe2dyb3Vwcz10b2tlbml6ZShzZWxlY3Rvcik7aWYob2xkPWNvbnRleHQuZ2V0QXR0cmlidXRlKCdpZCcpKXtuaWQ9b2xkLnJlcGxhY2UocmVzY2FwZSwnXFwkJicpO31lbHNle2NvbnRleHQuc2V0QXR0cmlidXRlKCdpZCcsbmlkKTt9bmlkPSdbaWQ9XCcnK25pZCsnXCddICc7aT1ncm91cHMubGVuZ3RoO3doaWxlKGktLSl7Z3JvdXBzW2ldPW5pZCt0b1NlbGVjdG9yKGdyb3Vwc1tpXSk7fW5ld0NvbnRleHQ9cnNpYmxpbmcudGVzdChzZWxlY3RvcikmJnRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSl8fGNvbnRleHQ7bmV3U2VsZWN0b3I9Z3JvdXBzLmpvaW4oJywnKTt9aWYobmV3U2VsZWN0b3Ipe3RyeXtwdXNoLmFwcGx5KHJlc3VsdHMsbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKG5ld1NlbGVjdG9yKSk7cmV0dXJuIHJlc3VsdHM7fWNhdGNoKHFzYUVycm9yKXt9ZmluYWxseXtpZighb2xkKXtjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTt9fX19fXJldHVybiBzZWxlY3Qoc2VsZWN0b3IucmVwbGFjZShydHJpbSwnJDEnKSxjb250ZXh0LHJlc3VsdHMsc2VlZCk7fTtmdW5jdGlvbiBjcmVhdGVDYWNoZSgpe3ZhciBrZXlzPVtdO2Z1bmN0aW9uIGNhY2hlKGtleSx2YWx1ZSl7aWYoa2V5cy5wdXNoKGtleSsnICcpPkV4cHIuY2FjaGVMZW5ndGgpe2RlbGV0ZSBjYWNoZVtrZXlzLnNoaWZ0KCldO31yZXR1cm4gY2FjaGVba2V5KycgJ109dmFsdWU7fXJldHVybiBjYWNoZTt9ZnVuY3Rpb24gbWFya0Z1bmN0aW9uKGZuKXtmbltleHBhbmRvXT10cnVlO3JldHVybiBmbjt9ZnVuY3Rpb24gc2libGluZ0NoZWNrKGEsYil7dmFyIGN1cj1iJiZhLGRpZmY9Y3VyJiZhLm5vZGVUeXBlPT09MSYmYi5ub2RlVHlwZT09PTEmJih+Yi5zb3VyY2VJbmRleHx8TUFYX05FR0FUSVZFKS0ofmEuc291cmNlSW5kZXh8fE1BWF9ORUdBVElWRSk7aWYoZGlmZil7cmV0dXJuIGRpZmY7fWlmKGN1cil7d2hpbGUoY3VyPWN1ci5uZXh0U2libGluZyl7aWYoY3VyPT09Yil7cmV0dXJuLTE7fX19cmV0dXJuIGE/MTotMTt9ZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8odHlwZSl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBuYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gbmFtZT09PSdpbnB1dCcmJmVsZW0udHlwZT09PXR5cGU7fTt9ZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKHR5cGUpe3JldHVybiBmdW5jdGlvbihlbGVtKXt2YXIgbmFtZT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKG5hbWU9PT0naW5wdXQnfHxuYW1lPT09J2J1dHRvbicpJiZlbGVtLnR5cGU9PT10eXBlO307fWZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZm4pe3JldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oYXJndW1lbnQpe2FyZ3VtZW50PSthcmd1bWVudDtyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQsbWF0Y2hlcyl7dmFyIGosbWF0Y2hJbmRleGVzPWZuKFtdLHNlZWQubGVuZ3RoLGFyZ3VtZW50KSxpPW1hdGNoSW5kZXhlcy5sZW5ndGg7d2hpbGUoaS0tKXtpZihzZWVkW2o9bWF0Y2hJbmRleGVzW2ldXSl7c2VlZFtqXT0hKG1hdGNoZXNbal09c2VlZFtqXSk7fX19KTt9KTt9ZnVuY3Rpb24gdGVzdENvbnRleHQoY29udGV4dCl7cmV0dXJuIGNvbnRleHQmJl90eXBlb2YoY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSkhPT1zdHJ1bmRlZmluZWQmJmNvbnRleHQ7fXN1cHBvcnQ9U2l6emxlLnN1cHBvcnQ9e307aXNYTUw9U2l6emxlLmlzWE1MPWZ1bmN0aW9uKGVsZW0pe3ZhciBkb2N1bWVudEVsZW1lbnQ9ZWxlbSYmKGVsZW0ub3duZXJEb2N1bWVudHx8ZWxlbSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkb2N1bWVudEVsZW1lbnQ/ZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lIT09J0hUTUwnOmZhbHNlO307c2V0RG9jdW1lbnQ9U2l6emxlLnNldERvY3VtZW50PWZ1bmN0aW9uKG5vZGUpe3ZhciBoYXNDb21wYXJlLGRvYz1ub2RlP25vZGUub3duZXJEb2N1bWVudHx8bm9kZTpwcmVmZXJyZWREb2MscGFyZW50PWRvYy5kZWZhdWx0VmlldztmdW5jdGlvbiBnZXRUb3Aod2luKXt0cnl7cmV0dXJuIHdpbi50b3A7fWNhdGNoKGV4KXt9cmV0dXJuIG51bGw7fWlmKGRvYz09PWRvY3VtZW50fHxkb2Mubm9kZVR5cGUhPT05fHwhZG9jLmRvY3VtZW50RWxlbWVudCl7cmV0dXJuIGRvY3VtZW50O31kb2N1bWVudD1kb2M7ZG9jRWxlbT1kb2MuZG9jdW1lbnRFbGVtZW50O2RvY3VtZW50SXNIVE1MPSFpc1hNTChkb2MpO2lmKHBhcmVudCYmcGFyZW50IT09Z2V0VG9wKHBhcmVudCkpe2lmKHBhcmVudC5hZGRFdmVudExpc3RlbmVyKXtwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJyxmdW5jdGlvbigpe3NldERvY3VtZW50KCk7fSxmYWxzZSk7fWVsc2UgaWYocGFyZW50LmF0dGFjaEV2ZW50KXtwYXJlbnQuYXR0YWNoRXZlbnQoJ29udW5sb2FkJyxmdW5jdGlvbigpe3NldERvY3VtZW50KCk7fSk7fX1zdXBwb3J0LmF0dHJpYnV0ZXM9dHJ1ZTtzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lPXRydWU7c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXJuYXRpdmUudGVzdChkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSk7c3VwcG9ydC5nZXRCeUlkPXRydWU7RXhwci5maW5kLklEPWZ1bmN0aW9uKGlkLGNvbnRleHQpe2lmKF90eXBlb2YoY29udGV4dC5nZXRFbGVtZW50QnlJZCkhPT1zdHJ1bmRlZmluZWQmJmRvY3VtZW50SXNIVE1MKXt2YXIgbT1jb250ZXh0LmdldEVsZW1lbnRCeUlkKGlkKTtyZXR1cm4gbSYmbS5wYXJlbnROb2RlP1ttXTpbXTt9fTtFeHByLmZpbHRlci5JRD1mdW5jdGlvbihpZCl7dmFyIGF0dHJJZD1pZC5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpO3JldHVybiBmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoJ2lkJyk9PT1hdHRySWQ7fTt9O0V4cHIuZmluZC5UQUc9c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbih0YWcsY29udGV4dCl7aWYoX3R5cGVvZihjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKSE9PXN0cnVuZGVmaW5lZCl7cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTt9fTpmdW5jdGlvbih0YWcsY29udGV4dCl7dmFyIGVsZW0sdG1wPVtdLGk9MCxyZXN1bHRzPWNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTtpZih0YWc9PT0nKicpe3doaWxlKGVsZW09cmVzdWx0c1tpKytdKXtpZihlbGVtLm5vZGVUeXBlPT09MSl7dG1wLnB1c2goZWxlbSk7fX1yZXR1cm4gdG1wO31yZXR1cm4gcmVzdWx0czt9O0V4cHIuZmluZC5DTEFTUz1zdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGNsYXNzTmFtZSxjb250ZXh0KXtpZihkb2N1bWVudElzSFRNTCl7cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO319O3JidWdneU1hdGNoZXM9W107cmJ1Z2d5UVNBPVtdO3N1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2g9dHJ1ZTtyYnVnZ3lRU0E9cmJ1Z2d5UVNBLmxlbmd0aCYmbmV3IFJlZ0V4cChyYnVnZ3lRU0Euam9pbignfCcpKTtyYnVnZ3lNYXRjaGVzPXJidWdneU1hdGNoZXMubGVuZ3RoJiZuZXcgUmVnRXhwKHJidWdneU1hdGNoZXMuam9pbignfCcpKTtoYXNDb21wYXJlPXJuYXRpdmUudGVzdChkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKTtjb250YWlucyQzPWhhc0NvbXBhcmV8fHJuYXRpdmUudGVzdChkb2NFbGVtLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBhZG93bj1hLm5vZGVUeXBlPT09OT9hLmRvY3VtZW50RWxlbWVudDphLGJ1cD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1idXB8fCEhKGJ1cCYmYnVwLm5vZGVUeXBlPT09MSYmKGFkb3duLmNvbnRhaW5zP2Fkb3duLmNvbnRhaW5zKGJ1cCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihidXApJjE2KSk7fTpmdW5jdGlvbihhLGIpe2lmKGIpe3doaWxlKGI9Yi5wYXJlbnROb2RlKXtpZihiPT09YSl7cmV0dXJuIHRydWU7fX19cmV0dXJuIGZhbHNlO307c29ydE9yZGVyPWhhc0NvbXBhcmU/ZnVuY3Rpb24oYSxiKXtpZihhPT09Yil7aGFzRHVwbGljYXRlPXRydWU7cmV0dXJuIDA7fXZhciBjb21wYXJlPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO2lmKGNvbXBhcmUpe3JldHVybiBjb21wYXJlO31jb21wYXJlPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxO2lmKGNvbXBhcmUmMXx8IXN1cHBvcnQuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09Y29tcGFyZSl7aWYoYT09PWRvY3x8YS5vd25lckRvY3VtZW50PT09cHJlZmVycmVkRG9jJiZjb250YWlucyQzKHByZWZlcnJlZERvYyxhKSl7cmV0dXJuLTE7fWlmKGI9PT1kb2N8fGIub3duZXJEb2N1bWVudD09PXByZWZlcnJlZERvYyYmY29udGFpbnMkMyhwcmVmZXJyZWREb2MsYikpe3JldHVybiAxO31yZXR1cm4gc29ydElucHV0P2luZGV4T2YkMi5jYWxsKHNvcnRJbnB1dCxhKS1pbmRleE9mJDIuY2FsbChzb3J0SW5wdXQsYik6MDt9cmV0dXJuIGNvbXBhcmUmND8tMToxO306ZnVuY3Rpb24oYSxiKXtpZihhPT09Yil7aGFzRHVwbGljYXRlPXRydWU7cmV0dXJuIDA7fXZhciBjdXIsaT0wLGF1cD1hLnBhcmVudE5vZGUsYnVwPWIucGFyZW50Tm9kZSxhcD1bYV0sYnA9W2JdO2lmKCFhdXB8fCFidXApe3JldHVybiBhPT09ZG9jPy0xOmI9PT1kb2M/MTphdXA/LTE6YnVwPzE6c29ydElucHV0P2luZGV4T2YkMi5jYWxsKHNvcnRJbnB1dCxhKS1pbmRleE9mJDIuY2FsbChzb3J0SW5wdXQsYik6MDt9ZWxzZSBpZihhdXA9PT1idXApe3JldHVybiBzaWJsaW5nQ2hlY2soYSxiKTt9Y3VyPWE7d2hpbGUoY3VyPWN1ci5wYXJlbnROb2RlKXthcC51bnNoaWZ0KGN1cik7fWN1cj1iO3doaWxlKGN1cj1jdXIucGFyZW50Tm9kZSl7YnAudW5zaGlmdChjdXIpO313aGlsZShhcFtpXT09PWJwW2ldKXtpKys7fXJldHVybiBpP3NpYmxpbmdDaGVjayhhcFtpXSxicFtpXSk6YXBbaV09PT1wcmVmZXJyZWREb2M/LTE6YnBbaV09PT1wcmVmZXJyZWREb2M/MTowO307cmV0dXJuIGRvYzt9O1NpenpsZS5tYXRjaGVzPWZ1bmN0aW9uKGV4cHIsZWxlbWVudHMpe3JldHVybiBTaXp6bGUoZXhwcixudWxsLG51bGwsZWxlbWVudHMpO307U2l6emxlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlbGVtLGV4cHIpe2lmKChlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGVsZW0pO31leHByPWV4cHIucmVwbGFjZShyYXR0cmlidXRlUXVvdGVzLCc9XCckMVwnXScpO2lmKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yJiZkb2N1bWVudElzSFRNTCYmKCFyYnVnZ3lNYXRjaGVzfHwhcmJ1Z2d5TWF0Y2hlcy50ZXN0KGV4cHIpKSYmKCFyYnVnZ3lRU0F8fCFyYnVnZ3lRU0EudGVzdChleHByKSkpe3RyeXt2YXIgcmV0PW1hdGNoZXMuY2FsbChlbGVtLGV4cHIpO2lmKHJldHx8c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaHx8ZWxlbS5kb2N1bWVudCYmZWxlbS5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXtyZXR1cm4gcmV0O319Y2F0Y2goZSl7fX1yZXR1cm4gU2l6emxlKGV4cHIsZG9jdW1lbnQsbnVsbCxbZWxlbV0pLmxlbmd0aD4wO307U2l6emxlLmNvbnRhaW5zPWZ1bmN0aW9uKGNvbnRleHQsZWxlbSl7aWYoKGNvbnRleHQub3duZXJEb2N1bWVudHx8Y29udGV4dCkhPT1kb2N1bWVudCl7c2V0RG9jdW1lbnQoY29udGV4dCk7fXJldHVybiBjb250YWlucyQzKGNvbnRleHQsZWxlbSk7fTtTaXp6bGUuYXR0cj1mdW5jdGlvbihlbGVtLG5hbWUpe2lmKChlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGVsZW0pO312YXIgZm49RXhwci5hdHRySGFuZGxlW25hbWUudG9Mb3dlckNhc2UoKV0sdmFsPWZuJiZoYXNPd24uY2FsbChFeHByLmF0dHJIYW5kbGUsbmFtZS50b0xvd2VyQ2FzZSgpKT9mbihlbGVtLG5hbWUsIWRvY3VtZW50SXNIVE1MKTp1bmRlZmluZWQ7cmV0dXJuIHZhbCE9PXVuZGVmaW5lZD92YWw6c3VwcG9ydC5hdHRyaWJ1dGVzfHwhZG9jdW1lbnRJc0hUTUw/ZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSk6KHZhbD1lbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpJiZ2YWwuc3BlY2lmaWVkP3ZhbC52YWx1ZTpudWxsO307U2l6emxlLmVycm9yPWZ1bmN0aW9uKG1zZyl7dGhyb3cgbmV3IEVycm9yKCdTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAnK21zZyk7fTtTaXp6bGUudW5pcXVlU29ydD1mdW5jdGlvbihyZXN1bHRzKXt2YXIgZWxlbSxkdXBsaWNhdGVzPVtdLGo9MCxpPTA7aGFzRHVwbGljYXRlPSFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7c29ydElucHV0PSFzdXBwb3J0LnNvcnRTdGFibGUmJnJlc3VsdHMuc2xpY2UoMCk7cmVzdWx0cy5zb3J0KHNvcnRPcmRlcik7aWYoaGFzRHVwbGljYXRlKXt3aGlsZShlbGVtPXJlc3VsdHNbaSsrXSl7aWYoZWxlbT09PXJlc3VsdHNbaV0pe2o9ZHVwbGljYXRlcy5wdXNoKGkpO319d2hpbGUoai0tKXtyZXN1bHRzLnNwbGljZShkdXBsaWNhdGVzW2pdLDEpO319c29ydElucHV0PW51bGw7cmV0dXJuIHJlc3VsdHM7fTtnZXRUZXh0PVNpenpsZS5nZXRUZXh0PWZ1bmN0aW9uKGVsZW0pe3ZhciBub2RlLHJldD0nJyxpPTAsbm9kZVR5cGU9ZWxlbS5ub2RlVHlwZTtpZighbm9kZVR5cGUpe3doaWxlKG5vZGU9ZWxlbVtpKytdKXtyZXQrPWdldFRleHQobm9kZSk7fX1lbHNlIGlmKG5vZGVUeXBlPT09MXx8bm9kZVR5cGU9PT05fHxub2RlVHlwZT09PTExKXtpZih0eXBlb2YgZWxlbS50ZXh0Q29udGVudD09PSdzdHJpbmcnKXtyZXR1cm4gZWxlbS50ZXh0Q29udGVudDt9ZWxzZXtmb3IoZWxlbT1lbGVtLmZpcnN0Q2hpbGQ7ZWxlbTtlbGVtPWVsZW0ubmV4dFNpYmxpbmcpe3JldCs9Z2V0VGV4dChlbGVtKTt9fX1lbHNlIGlmKG5vZGVUeXBlPT09M3x8bm9kZVR5cGU9PT00KXtyZXR1cm4gZWxlbS5ub2RlVmFsdWU7fXJldHVybiByZXQ7fTtFeHByPVNpenpsZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzptYXJrRnVuY3Rpb24sbWF0Y2g6bWF0Y2hFeHByLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Jz4nOntkaXI6J3BhcmVudE5vZGUnLGZpcnN0OnRydWV9LCcgJzp7ZGlyOidwYXJlbnROb2RlJ30sJysnOntkaXI6J3ByZXZpb3VzU2libGluZycsZmlyc3Q6dHJ1ZX0sJ34nOntkaXI6J3ByZXZpb3VzU2libGluZyd9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24gQVRUUihtYXRjaCl7bWF0Y2hbMV09bWF0Y2hbMV0ucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTttYXRjaFszXT0obWF0Y2hbM118fG1hdGNoWzRdfHxtYXRjaFs1XXx8JycpLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSk7aWYobWF0Y2hbMl09PT0nfj0nKXttYXRjaFszXT0nICcrbWF0Y2hbM10rJyAnO31yZXR1cm4gbWF0Y2guc2xpY2UoMCw0KTt9LENISUxEOmZ1bmN0aW9uIENISUxEKG1hdGNoKXttYXRjaFsxXT1tYXRjaFsxXS50b0xvd2VyQ2FzZSgpO2lmKG1hdGNoWzFdLnNsaWNlKDAsMyk9PT0nbnRoJyl7aWYoIW1hdGNoWzNdKXtTaXp6bGUuZXJyb3IobWF0Y2hbMF0pO31tYXRjaFs0XT0rKG1hdGNoWzRdP21hdGNoWzVdKyhtYXRjaFs2XXx8MSk6MioobWF0Y2hbM109PT0nZXZlbid8fG1hdGNoWzNdPT09J29kZCcpKTttYXRjaFs1XT0rKG1hdGNoWzddK21hdGNoWzhdfHxtYXRjaFszXT09PSdvZGQnKTt9ZWxzZSBpZihtYXRjaFszXSl7U2l6emxlLmVycm9yKG1hdGNoWzBdKTt9cmV0dXJuIG1hdGNoO30sUFNFVURPOmZ1bmN0aW9uIFBTRVVETyhtYXRjaCl7dmFyIGV4Y2Vzcyx1bnF1b3RlZD0hbWF0Y2hbNl0mJm1hdGNoWzJdO2lmKG1hdGNoRXhwci5DSElMRC50ZXN0KG1hdGNoWzBdKSl7cmV0dXJuIG51bGw7fWlmKG1hdGNoWzNdKXttYXRjaFsyXT1tYXRjaFs0XXx8bWF0Y2hbNV18fCcnO31lbHNlIGlmKHVucXVvdGVkJiZycHNldWRvLnRlc3QodW5xdW90ZWQpJiYoZXhjZXNzPXRva2VuaXplKHVucXVvdGVkLHRydWUpKSYmKGV4Y2Vzcz11bnF1b3RlZC5pbmRleE9mKCcpJyx1bnF1b3RlZC5sZW5ndGgtZXhjZXNzKS11bnF1b3RlZC5sZW5ndGgpKXttYXRjaFswXT1tYXRjaFswXS5zbGljZSgwLGV4Y2Vzcyk7bWF0Y2hbMl09dW5xdW90ZWQuc2xpY2UoMCxleGNlc3MpO31yZXR1cm4gbWF0Y2guc2xpY2UoMCwzKTt9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbiBUQUcobm9kZU5hbWVTZWxlY3Rvcil7dmFyIG5vZGVOYW1lPW5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpO3JldHVybiBub2RlTmFtZVNlbGVjdG9yPT09JyonP2Z1bmN0aW9uKCl7cmV0dXJuIHRydWU7fTpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5ub2RlTmFtZSYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bm9kZU5hbWU7fTt9LENMQVNTOmZ1bmN0aW9uIENMQVNTKGNsYXNzTmFtZSl7dmFyIHBhdHRlcm49Y2xhc3NDYWNoZVtjbGFzc05hbWUrJyAnXTtyZXR1cm4gcGF0dGVybnx8KHBhdHRlcm49bmV3IFJlZ0V4cCgnKF58Jyt3aGl0ZXNwYWNlKycpJytjbGFzc05hbWUrJygnK3doaXRlc3BhY2UrJ3wkKScpKSYmY2xhc3NDYWNoZShjbGFzc05hbWUsZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHBhdHRlcm4udGVzdCh0eXBlb2YgZWxlbS5jbGFzc05hbWU9PT0nc3RyaW5nJyYmZWxlbS5jbGFzc05hbWV8fF90eXBlb2YoZWxlbS5nZXRBdHRyaWJ1dGUpIT09c3RydW5kZWZpbmVkJiZlbGVtLmdldEF0dHJpYnV0ZSgnY2xhc3MnKXx8JycpO30pO30sQVRUUjpmdW5jdGlvbiBBVFRSKG5hbWUsb3BlcmF0b3IsY2hlY2spe3JldHVybiBmdW5jdGlvbihlbGVtKXt2YXIgcmVzdWx0PVNpenpsZS5hdHRyKGVsZW0sbmFtZSk7aWYocmVzdWx0PT1udWxsKXtyZXR1cm4gb3BlcmF0b3I9PT0nIT0nO31pZighb3BlcmF0b3Ipe3JldHVybiB0cnVlO31yZXN1bHQrPScnO3JldHVybiBvcGVyYXRvcj09PSc9Jz9yZXN1bHQ9PT1jaGVjazpvcGVyYXRvcj09PSchPSc/cmVzdWx0IT09Y2hlY2s6b3BlcmF0b3I9PT0nXj0nP2NoZWNrJiZyZXN1bHQuaW5kZXhPZihjaGVjayk9PT0wOm9wZXJhdG9yPT09Jyo9Jz9jaGVjayYmcmVzdWx0LmluZGV4T2YoY2hlY2spPi0xOm9wZXJhdG9yPT09JyQ9Jz9jaGVjayYmcmVzdWx0LnNsaWNlKC1jaGVjay5sZW5ndGgpPT09Y2hlY2s6b3BlcmF0b3I9PT0nfj0nPygnICcrcmVzdWx0KycgJykuaW5kZXhPZihjaGVjayk+LTE6b3BlcmF0b3I9PT0nfD0nP3Jlc3VsdD09PWNoZWNrfHxyZXN1bHQuc2xpY2UoMCxjaGVjay5sZW5ndGgrMSk9PT1jaGVjaysnLSc6ZmFsc2U7fTt9LENISUxEOmZ1bmN0aW9uIENISUxEKHR5cGUsd2hhdCxhcmd1bWVudCxmaXJzdCxsYXN0KXt2YXIgc2ltcGxlPXR5cGUuc2xpY2UoMCwzKSE9PSdudGgnLGZvcndhcmQ9dHlwZS5zbGljZSgtNCkhPT0nbGFzdCcsb2ZUeXBlPXdoYXQ9PT0nb2YtdHlwZSc7cmV0dXJuIGZpcnN0PT09MSYmbGFzdD09PTA/ZnVuY3Rpb24oZWxlbSl7cmV0dXJuISFlbGVtLnBhcmVudE5vZGU7fTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt2YXIgY2FjaGUsb3V0ZXJDYWNoZSxub2RlLGRpZmYsbm9kZUluZGV4LHN0YXJ0LGRpcj1zaW1wbGUhPT1mb3J3YXJkPyduZXh0U2libGluZyc6J3ByZXZpb3VzU2libGluZycscGFyZW50PWVsZW0ucGFyZW50Tm9kZSxuYW1lPW9mVHlwZSYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHVzZUNhY2hlPSF4bWwmJiFvZlR5cGU7aWYocGFyZW50KXtpZihzaW1wbGUpe3doaWxlKGRpcil7bm9kZT1lbGVtO3doaWxlKG5vZGU9bm9kZVtkaXJdKXtpZihvZlR5cGU/bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bmFtZTpub2RlLm5vZGVUeXBlPT09MSl7cmV0dXJuIGZhbHNlO319c3RhcnQ9ZGlyPXR5cGU9PT0nb25seScmJiFzdGFydCYmJ25leHRTaWJsaW5nJzt9cmV0dXJuIHRydWU7fXN0YXJ0PVtmb3J3YXJkP3BhcmVudC5maXJzdENoaWxkOnBhcmVudC5sYXN0Q2hpbGRdO2lmKGZvcndhcmQmJnVzZUNhY2hlKXtvdXRlckNhY2hlPXBhcmVudFtleHBhbmRvXXx8KHBhcmVudFtleHBhbmRvXT17fSk7Y2FjaGU9b3V0ZXJDYWNoZVt0eXBlXXx8W107bm9kZUluZGV4PWNhY2hlWzBdPT09ZGlycnVucyYmY2FjaGVbMV07ZGlmZj1jYWNoZVswXT09PWRpcnJ1bnMmJmNhY2hlWzJdO25vZGU9bm9kZUluZGV4JiZwYXJlbnQuY2hpbGROb2Rlc1tub2RlSW5kZXhdO3doaWxlKG5vZGU9Kytub2RlSW5kZXgmJm5vZGUmJm5vZGVbZGlyXXx8KGRpZmY9bm9kZUluZGV4PTApfHxzdGFydC5wb3AoKSl7aWYobm9kZS5ub2RlVHlwZT09PTEmJisrZGlmZiYmbm9kZT09PWVsZW0pe291dGVyQ2FjaGVbdHlwZV09W2RpcnJ1bnMsbm9kZUluZGV4LGRpZmZdO2JyZWFrO319fWVsc2UgaWYodXNlQ2FjaGUmJihjYWNoZT0oZWxlbVtleHBhbmRvXXx8KGVsZW1bZXhwYW5kb109e30pKVt0eXBlXSkmJmNhY2hlWzBdPT09ZGlycnVucyl7ZGlmZj1jYWNoZVsxXTt9ZWxzZXt3aGlsZShub2RlPSsrbm9kZUluZGV4JiZub2RlJiZub2RlW2Rpcl18fChkaWZmPW5vZGVJbmRleD0wKXx8c3RhcnQucG9wKCkpe2lmKChvZlR5cGU/bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bmFtZTpub2RlLm5vZGVUeXBlPT09MSkmJisrZGlmZil7aWYodXNlQ2FjaGUpeyhub2RlW2V4cGFuZG9dfHwobm9kZVtleHBhbmRvXT17fSkpW3R5cGVdPVtkaXJydW5zLGRpZmZdO31pZihub2RlPT09ZWxlbSl7YnJlYWs7fX19fWRpZmYtPWxhc3Q7cmV0dXJuIGRpZmY9PT1maXJzdHx8ZGlmZiVmaXJzdD09PTAmJmRpZmYvZmlyc3Q+PTA7fX07fSxQU0VVRE86ZnVuY3Rpb24gUFNFVURPKHBzZXVkbyxhcmd1bWVudCl7dmFyIGFyZ3MsZm49RXhwci5wc2V1ZG9zW3BzZXVkb118fEV4cHIuc2V0RmlsdGVyc1twc2V1ZG8udG9Mb3dlckNhc2UoKV18fFNpenpsZS5lcnJvcigndW5zdXBwb3J0ZWQgcHNldWRvOiAnK3BzZXVkbyk7aWYoZm5bZXhwYW5kb10pe3JldHVybiBmbihhcmd1bWVudCk7fWlmKGZuLmxlbmd0aD4xKXthcmdzPVtwc2V1ZG8scHNldWRvLCcnLGFyZ3VtZW50XTtyZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KHBzZXVkby50b0xvd2VyQ2FzZSgpKT9tYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VlZCxtYXRjaGVzKXt2YXIgaWR4LG1hdGNoZWQ9Zm4oc2VlZCxhcmd1bWVudCksaT1tYXRjaGVkLmxlbmd0aDt3aGlsZShpLS0pe2lkeD1pbmRleE9mJDIuY2FsbChzZWVkLG1hdGNoZWRbaV0pO3NlZWRbaWR4XT0hKG1hdGNoZXNbaWR4XT1tYXRjaGVkW2ldKTt9fSk6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGZuKGVsZW0sMCxhcmdzKTt9O31yZXR1cm4gZm47fX0scHNldWRvczp7bm90Om1hcmtGdW5jdGlvbihmdW5jdGlvbihzZWxlY3Rvcil7dmFyIGlucHV0PVtdLHJlc3VsdHM9W10sbWF0Y2hlcj1jb21waWxlKHNlbGVjdG9yLnJlcGxhY2UocnRyaW0sJyQxJykpO3JldHVybiBtYXRjaGVyW2V4cGFuZG9dP21hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLG1hdGNoZXMsY29udGV4dCx4bWwpe3ZhciBlbGVtLHVubWF0Y2hlZD1tYXRjaGVyKHNlZWQsbnVsbCx4bWwsW10pLGk9c2VlZC5sZW5ndGg7d2hpbGUoaS0tKXtpZihlbGVtPXVubWF0Y2hlZFtpXSl7c2VlZFtpXT0hKG1hdGNoZXNbaV09ZWxlbSk7fX19KTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtpbnB1dFswXT1lbGVtO21hdGNoZXIoaW5wdXQsbnVsbCx4bWwscmVzdWx0cyk7cmV0dXJuIXJlc3VsdHMucG9wKCk7fTt9KSxoYXM6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuIFNpenpsZShzZWxlY3RvcixlbGVtKS5sZW5ndGg+MDt9O30pLGNvbnRhaW5zOm1hcmtGdW5jdGlvbihmdW5jdGlvbih0ZXh0KXt0ZXh0PXRleHQucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuKGVsZW0udGV4dENvbnRlbnR8fGVsZW0uaW5uZXJUZXh0fHxnZXRUZXh0KGVsZW0pKS5pbmRleE9mKHRleHQpPi0xO307fSksbGFuZzptYXJrRnVuY3Rpb24oZnVuY3Rpb24obGFuZyl7aWYoIXJpZGVudGlmaWVyLnRlc3QobGFuZ3x8JycpKXtTaXp6bGUuZXJyb3IoJ3Vuc3VwcG9ydGVkIGxhbmc6ICcrbGFuZyk7fWxhbmc9bGFuZy5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBlbGVtTGFuZztkb3tpZihlbGVtTGFuZz1kb2N1bWVudElzSFRNTD9lbGVtLmxhbmc6ZWxlbS5nZXRBdHRyaWJ1dGUoJ3htbDpsYW5nJyl8fGVsZW0uZ2V0QXR0cmlidXRlKCdsYW5nJykpe2VsZW1MYW5nPWVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGVsZW1MYW5nPT09bGFuZ3x8ZWxlbUxhbmcuaW5kZXhPZihsYW5nKyctJyk9PT0wO319d2hpbGUoKGVsZW09ZWxlbS5wYXJlbnROb2RlKSYmZWxlbS5ub2RlVHlwZT09PTEpO3JldHVybiBmYWxzZTt9O30pLHRhcmdldDpmdW5jdGlvbiB0YXJnZXQoZWxlbSl7dmFyIGhhc2g9ZG9tR2xvYmFscy53aW5kb3cubG9jYXRpb24mJmRvbUdsb2JhbHMud2luZG93LmxvY2F0aW9uLmhhc2g7cmV0dXJuIGhhc2gmJmhhc2guc2xpY2UoMSk9PT1lbGVtLmlkO30scm9vdDpmdW5jdGlvbiByb290KGVsZW0pe3JldHVybiBlbGVtPT09ZG9jRWxlbTt9LGZvY3VzOmZ1bmN0aW9uIGZvY3VzKGVsZW0pe3JldHVybiBlbGVtPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKCFkb2N1bWVudC5oYXNGb2N1c3x8ZG9jdW1lbnQuaGFzRm9jdXMoKSkmJiEhKGVsZW0udHlwZXx8ZWxlbS5ocmVmfHx+ZWxlbS50YWJJbmRleCk7fSxlbmFibGVkOmZ1bmN0aW9uIGVuYWJsZWQoZWxlbSl7cmV0dXJuIGVsZW0uZGlzYWJsZWQ9PT1mYWxzZTt9LGRpc2FibGVkOmZ1bmN0aW9uIGRpc2FibGVkKGVsZW0pe3JldHVybiBlbGVtLmRpc2FibGVkPT09dHJ1ZTt9LGNoZWNrZWQ6ZnVuY3Rpb24gY2hlY2tlZChlbGVtKXt2YXIgbm9kZU5hbWU9ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBub2RlTmFtZT09PSdpbnB1dCcmJiEhZWxlbS5jaGVja2VkfHxub2RlTmFtZT09PSdvcHRpb24nJiYhIWVsZW0uc2VsZWN0ZWQ7fSxzZWxlY3RlZDpmdW5jdGlvbiBzZWxlY3RlZChlbGVtKXtpZihlbGVtLnBhcmVudE5vZGUpe2VsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O31yZXR1cm4gZWxlbS5zZWxlY3RlZD09PXRydWU7fSxlbXB0eTpmdW5jdGlvbiBlbXB0eShlbGVtKXtmb3IoZWxlbT1lbGVtLmZpcnN0Q2hpbGQ7ZWxlbTtlbGVtPWVsZW0ubmV4dFNpYmxpbmcpe2lmKGVsZW0ubm9kZVR5cGU8Nil7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fSxwYXJlbnQ6ZnVuY3Rpb24gcGFyZW50KGVsZW0pe3JldHVybiFFeHByLnBzZXVkb3MuZW1wdHkoZWxlbSk7fSxoZWFkZXI6ZnVuY3Rpb24gaGVhZGVyKGVsZW0pe3JldHVybiByaGVhZGVyLnRlc3QoZWxlbS5ub2RlTmFtZSk7fSxpbnB1dDpmdW5jdGlvbiBpbnB1dChlbGVtKXtyZXR1cm4gcmlucHV0cy50ZXN0KGVsZW0ubm9kZU5hbWUpO30sYnV0dG9uOmZ1bmN0aW9uIGJ1dHRvbihlbGVtKXt2YXIgbmFtZT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG5hbWU9PT0naW5wdXQnJiZlbGVtLnR5cGU9PT0nYnV0dG9uJ3x8bmFtZT09PSdidXR0b24nO30sdGV4dDpmdW5jdGlvbiB0ZXh0KGVsZW0pe3ZhciBhdHRyO3JldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0naW5wdXQnJiZlbGVtLnR5cGU9PT0ndGV4dCcmJigoYXR0cj1lbGVtLmdldEF0dHJpYnV0ZSgndHlwZScpKT09bnVsbHx8YXR0ci50b0xvd2VyQ2FzZSgpPT09J3RleHQnKTt9LGZpcnN0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKXtyZXR1cm5bMF07fSksbGFzdDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgpe3JldHVybltsZW5ndGgtMV07fSksZXE6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoLGFyZ3VtZW50KXtyZXR1cm5bYXJndW1lbnQ8MD9hcmd1bWVudCtsZW5ndGg6YXJndW1lbnRdO30pLGV2ZW46Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoKXt2YXIgaT0wO2Zvcig7aTxsZW5ndGg7aSs9Mil7bWF0Y2hJbmRleGVzLnB1c2goaSk7fXJldHVybiBtYXRjaEluZGV4ZXM7fSksb2RkOmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCl7dmFyIGk9MTtmb3IoO2k8bGVuZ3RoO2krPTIpe21hdGNoSW5kZXhlcy5wdXNoKGkpO31yZXR1cm4gbWF0Y2hJbmRleGVzO30pLGx0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCxhcmd1bWVudCl7dmFyIGk9YXJndW1lbnQ8MD9hcmd1bWVudCtsZW5ndGg6YXJndW1lbnQ7Zm9yKDstLWk+PTA7KXttYXRjaEluZGV4ZXMucHVzaChpKTt9cmV0dXJuIG1hdGNoSW5kZXhlczt9KSxndDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgsYXJndW1lbnQpe3ZhciBpPWFyZ3VtZW50PDA/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50O2Zvcig7KytpPGxlbmd0aDspe21hdGNoSW5kZXhlcy5wdXNoKGkpO31yZXR1cm4gbWF0Y2hJbmRleGVzO30pfX07RXhwci5wc2V1ZG9zLm50aD1FeHByLnBzZXVkb3MuZXE7Zm9yKGkgaW57cmFkaW86dHJ1ZSxjaGVja2JveDp0cnVlLGZpbGU6dHJ1ZSxwYXNzd29yZDp0cnVlLGltYWdlOnRydWV9KXtFeHByLnBzZXVkb3NbaV09Y3JlYXRlSW5wdXRQc2V1ZG8oaSk7fWZvcihpIGlue3N1Ym1pdDp0cnVlLHJlc2V0OnRydWV9KXtFeHByLnBzZXVkb3NbaV09Y3JlYXRlQnV0dG9uUHNldWRvKGkpO31mdW5jdGlvbiBzZXRGaWx0ZXJzKCl7fXNldEZpbHRlcnMucHJvdG90eXBlPUV4cHIuZmlsdGVycz1FeHByLnBzZXVkb3M7RXhwci5zZXRGaWx0ZXJzPW5ldyBzZXRGaWx0ZXJzKCk7dG9rZW5pemU9U2l6emxlLnRva2VuaXplPWZ1bmN0aW9uKHNlbGVjdG9yLHBhcnNlT25seSl7dmFyIG1hdGNoZWQsbWF0Y2gsdG9rZW5zLHR5cGUsc29GYXIsZ3JvdXBzLHByZUZpbHRlcnMsY2FjaGVkPXRva2VuQ2FjaGVbc2VsZWN0b3IrJyAnXTtpZihjYWNoZWQpe3JldHVybiBwYXJzZU9ubHk/MDpjYWNoZWQuc2xpY2UoMCk7fXNvRmFyPXNlbGVjdG9yO2dyb3Vwcz1bXTtwcmVGaWx0ZXJzPUV4cHIucHJlRmlsdGVyO3doaWxlKHNvRmFyKXtpZighbWF0Y2hlZHx8KG1hdGNoPXJjb21tYS5leGVjKHNvRmFyKSkpe2lmKG1hdGNoKXtzb0Zhcj1zb0Zhci5zbGljZShtYXRjaFswXS5sZW5ndGgpfHxzb0Zhcjt9Z3JvdXBzLnB1c2godG9rZW5zPVtdKTt9bWF0Y2hlZD1mYWxzZTtpZihtYXRjaD1yY29tYmluYXRvcnMuZXhlYyhzb0Zhcikpe21hdGNoZWQ9bWF0Y2guc2hpZnQoKTt0b2tlbnMucHVzaCh7dmFsdWU6bWF0Y2hlZCx0eXBlOm1hdGNoWzBdLnJlcGxhY2UocnRyaW0sJyAnKX0pO3NvRmFyPXNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKTt9Zm9yKHR5cGUgaW4gRXhwci5maWx0ZXIpe2lmKCFFeHByLmZpbHRlci5oYXNPd25Qcm9wZXJ0eSh0eXBlKSljb250aW51ZTtpZigobWF0Y2g9bWF0Y2hFeHByW3R5cGVdLmV4ZWMoc29GYXIpKSYmKCFwcmVGaWx0ZXJzW3R5cGVdfHwobWF0Y2g9cHJlRmlsdGVyc1t0eXBlXShtYXRjaCkpKSl7bWF0Y2hlZD1tYXRjaC5zaGlmdCgpO3Rva2Vucy5wdXNoKHt2YWx1ZTptYXRjaGVkLHR5cGU6dHlwZSxtYXRjaGVzOm1hdGNofSk7c29GYXI9c29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpO319aWYoIW1hdGNoZWQpe2JyZWFrO319cmV0dXJuIHBhcnNlT25seT9zb0Zhci5sZW5ndGg6c29GYXI/U2l6emxlLmVycm9yKHNlbGVjdG9yKTp0b2tlbkNhY2hlKHNlbGVjdG9yLGdyb3Vwcykuc2xpY2UoMCk7fTtmdW5jdGlvbiB0b1NlbGVjdG9yKHRva2Vucyl7dmFyIGk9MCxsZW49dG9rZW5zLmxlbmd0aCxzZWxlY3Rvcj0nJztmb3IoO2k8bGVuO2krKyl7c2VsZWN0b3IrPXRva2Vuc1tpXS52YWx1ZTt9cmV0dXJuIHNlbGVjdG9yO31mdW5jdGlvbiBhZGRDb21iaW5hdG9yKG1hdGNoZXIsY29tYmluYXRvcixiYXNlKXt2YXIgZGlyPWNvbWJpbmF0b3IuZGlyLGNoZWNrTm9uRWxlbWVudHM9YmFzZSYmZGlyPT09J3BhcmVudE5vZGUnLGRvbmVOYW1lPWRvbmUrKztyZXR1cm4gY29tYmluYXRvci5maXJzdD9mdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt3aGlsZShlbGVtPWVsZW1bZGlyXSl7aWYoZWxlbS5ub2RlVHlwZT09PTF8fGNoZWNrTm9uRWxlbWVudHMpe3JldHVybiBtYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpO319fTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt2YXIgb2xkQ2FjaGUsb3V0ZXJDYWNoZSxuZXdDYWNoZT1bZGlycnVucyxkb25lTmFtZV07aWYoeG1sKXt3aGlsZShlbGVtPWVsZW1bZGlyXSl7aWYoZWxlbS5ub2RlVHlwZT09PTF8fGNoZWNrTm9uRWxlbWVudHMpe2lmKG1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCkpe3JldHVybiB0cnVlO319fX1lbHNle3doaWxlKGVsZW09ZWxlbVtkaXJdKXtpZihlbGVtLm5vZGVUeXBlPT09MXx8Y2hlY2tOb25FbGVtZW50cyl7b3V0ZXJDYWNoZT1lbGVtW2V4cGFuZG9dfHwoZWxlbVtleHBhbmRvXT17fSk7aWYoKG9sZENhY2hlPW91dGVyQ2FjaGVbZGlyXSkmJm9sZENhY2hlWzBdPT09ZGlycnVucyYmb2xkQ2FjaGVbMV09PT1kb25lTmFtZSl7cmV0dXJuIG5ld0NhY2hlWzJdPW9sZENhY2hlWzJdO31lbHNle291dGVyQ2FjaGVbZGlyXT1uZXdDYWNoZTtpZihuZXdDYWNoZVsyXT1tYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpKXtyZXR1cm4gdHJ1ZTt9fX19fX07fWZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKXtyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoPjE/ZnVuY3Rpb24oZWxlbSxjb250ZXh0LHhtbCl7dmFyIGk9bWF0Y2hlcnMubGVuZ3RoO3doaWxlKGktLSl7aWYoIW1hdGNoZXJzW2ldKGVsZW0sY29udGV4dCx4bWwpKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9Om1hdGNoZXJzWzBdO31mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yLGNvbnRleHRzLHJlc3VsdHMpe3ZhciBpPTAsbGVuPWNvbnRleHRzLmxlbmd0aDtmb3IoO2k8bGVuO2krKyl7U2l6emxlKHNlbGVjdG9yLGNvbnRleHRzW2ldLHJlc3VsdHMpO31yZXR1cm4gcmVzdWx0czt9ZnVuY3Rpb24gY29uZGVuc2UodW5tYXRjaGVkLG1hcCxmaWx0ZXIsY29udGV4dCx4bWwpe3ZhciBlbGVtLG5ld1VubWF0Y2hlZD1bXSxpPTAsbGVuPXVubWF0Y2hlZC5sZW5ndGgsbWFwcGVkPW1hcCE9bnVsbDtmb3IoO2k8bGVuO2krKyl7aWYoZWxlbT11bm1hdGNoZWRbaV0pe2lmKCFmaWx0ZXJ8fGZpbHRlcihlbGVtLGNvbnRleHQseG1sKSl7bmV3VW5tYXRjaGVkLnB1c2goZWxlbSk7aWYobWFwcGVkKXttYXAucHVzaChpKTt9fX19cmV0dXJuIG5ld1VubWF0Y2hlZDt9ZnVuY3Rpb24gc2V0TWF0Y2hlcihwcmVGaWx0ZXIsc2VsZWN0b3IsbWF0Y2hlcixwb3N0RmlsdGVyLHBvc3RGaW5kZXIscG9zdFNlbGVjdG9yKXtpZihwb3N0RmlsdGVyJiYhcG9zdEZpbHRlcltleHBhbmRvXSl7cG9zdEZpbHRlcj1zZXRNYXRjaGVyKHBvc3RGaWx0ZXIpO31pZihwb3N0RmluZGVyJiYhcG9zdEZpbmRlcltleHBhbmRvXSl7cG9zdEZpbmRlcj1zZXRNYXRjaGVyKHBvc3RGaW5kZXIscG9zdFNlbGVjdG9yKTt9cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLHJlc3VsdHMsY29udGV4dCx4bWwpe3ZhciB0ZW1wLGksZWxlbSxwcmVNYXA9W10scG9zdE1hcD1bXSxwcmVleGlzdGluZz1yZXN1bHRzLmxlbmd0aCxlbGVtcz1zZWVkfHxtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yfHwnKicsY29udGV4dC5ub2RlVHlwZT9bY29udGV4dF06Y29udGV4dCxbXSksbWF0Y2hlckluPXByZUZpbHRlciYmKHNlZWR8fCFzZWxlY3Rvcik/Y29uZGVuc2UoZWxlbXMscHJlTWFwLHByZUZpbHRlcixjb250ZXh0LHhtbCk6ZWxlbXMsbWF0Y2hlck91dD1tYXRjaGVyP3Bvc3RGaW5kZXJ8fChzZWVkP3ByZUZpbHRlcjpwcmVleGlzdGluZ3x8cG9zdEZpbHRlcik/W106cmVzdWx0czptYXRjaGVySW47aWYobWF0Y2hlcil7bWF0Y2hlcihtYXRjaGVySW4sbWF0Y2hlck91dCxjb250ZXh0LHhtbCk7fWlmKHBvc3RGaWx0ZXIpe3RlbXA9Y29uZGVuc2UobWF0Y2hlck91dCxwb3N0TWFwKTtwb3N0RmlsdGVyKHRlbXAsW10sY29udGV4dCx4bWwpO2k9dGVtcC5sZW5ndGg7d2hpbGUoaS0tKXtpZihlbGVtPXRlbXBbaV0pe21hdGNoZXJPdXRbcG9zdE1hcFtpXV09IShtYXRjaGVySW5bcG9zdE1hcFtpXV09ZWxlbSk7fX19aWYoc2VlZCl7aWYocG9zdEZpbmRlcnx8cHJlRmlsdGVyKXtpZihwb3N0RmluZGVyKXt0ZW1wPVtdO2k9bWF0Y2hlck91dC5sZW5ndGg7d2hpbGUoaS0tKXtpZihlbGVtPW1hdGNoZXJPdXRbaV0pe3RlbXAucHVzaChtYXRjaGVySW5baV09ZWxlbSk7fX1wb3N0RmluZGVyKG51bGwsbWF0Y2hlck91dD1bXSx0ZW1wLHhtbCk7fWk9bWF0Y2hlck91dC5sZW5ndGg7d2hpbGUoaS0tKXtpZigoZWxlbT1tYXRjaGVyT3V0W2ldKSYmKHRlbXA9cG9zdEZpbmRlcj9pbmRleE9mJDIuY2FsbChzZWVkLGVsZW0pOnByZU1hcFtpXSk+LTEpe3NlZWRbdGVtcF09IShyZXN1bHRzW3RlbXBdPWVsZW0pO319fX1lbHNle21hdGNoZXJPdXQ9Y29uZGVuc2UobWF0Y2hlck91dD09PXJlc3VsdHM/bWF0Y2hlck91dC5zcGxpY2UocHJlZXhpc3RpbmcsbWF0Y2hlck91dC5sZW5ndGgpOm1hdGNoZXJPdXQpO2lmKHBvc3RGaW5kZXIpe3Bvc3RGaW5kZXIobnVsbCxyZXN1bHRzLG1hdGNoZXJPdXQseG1sKTt9ZWxzZXtwdXNoLmFwcGx5KHJlc3VsdHMsbWF0Y2hlck91dCk7fX19KTt9ZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zKXt2YXIgY2hlY2tDb250ZXh0LG1hdGNoZXIsaixsZW49dG9rZW5zLmxlbmd0aCxsZWFkaW5nUmVsYXRpdmU9RXhwci5yZWxhdGl2ZVt0b2tlbnNbMF0udHlwZV0saW1wbGljaXRSZWxhdGl2ZT1sZWFkaW5nUmVsYXRpdmV8fEV4cHIucmVsYXRpdmVbJyAnXSxpPWxlYWRpbmdSZWxhdGl2ZT8xOjAsbWF0Y2hDb250ZXh0PWFkZENvbWJpbmF0b3IoZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW09PT1jaGVja0NvbnRleHQ7fSxpbXBsaWNpdFJlbGF0aXZlLHRydWUpLG1hdGNoQW55Q29udGV4dD1hZGRDb21iaW5hdG9yKGZ1bmN0aW9uKGVsZW0pe3JldHVybiBpbmRleE9mJDIuY2FsbChjaGVja0NvbnRleHQsZWxlbSk+LTE7fSxpbXBsaWNpdFJlbGF0aXZlLHRydWUpLG1hdGNoZXJzPVtmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtyZXR1cm4hbGVhZGluZ1JlbGF0aXZlJiYoeG1sfHxjb250ZXh0IT09b3V0ZXJtb3N0Q29udGV4dCl8fCgoY2hlY2tDb250ZXh0PWNvbnRleHQpLm5vZGVUeXBlP21hdGNoQ29udGV4dChlbGVtLGNvbnRleHQseG1sKTptYXRjaEFueUNvbnRleHQoZWxlbSxjb250ZXh0LHhtbCkpO31dO2Zvcig7aTxsZW47aSsrKXtpZihtYXRjaGVyPUV4cHIucmVsYXRpdmVbdG9rZW5zW2ldLnR5cGVdKXttYXRjaGVycz1bYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlcihtYXRjaGVycyksbWF0Y2hlcildO31lbHNle21hdGNoZXI9RXhwci5maWx0ZXJbdG9rZW5zW2ldLnR5cGVdLmFwcGx5KG51bGwsdG9rZW5zW2ldLm1hdGNoZXMpO2lmKG1hdGNoZXJbZXhwYW5kb10pe2o9KytpO2Zvcig7ajxsZW47aisrKXtpZihFeHByLnJlbGF0aXZlW3Rva2Vuc1tqXS50eXBlXSl7YnJlYWs7fX1yZXR1cm4gc2V0TWF0Y2hlcihpPjEmJmVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSxpPjEmJnRvU2VsZWN0b3IodG9rZW5zLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOnRva2Vuc1tpLTJdLnR5cGU9PT0nICc/JyonOicnfSkpLnJlcGxhY2UocnRyaW0sJyQxJyksbWF0Y2hlcixpPGomJm1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucy5zbGljZShpLGopKSxqPGxlbiYmbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zPXRva2Vucy5zbGljZShqKSksajxsZW4mJnRvU2VsZWN0b3IodG9rZW5zKSk7fW1hdGNoZXJzLnB1c2gobWF0Y2hlcik7fX1yZXR1cm4gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpO31mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLHNldE1hdGNoZXJzKXt2YXIgYnlTZXQ9c2V0TWF0Y2hlcnMubGVuZ3RoPjAsYnlFbGVtZW50PWVsZW1lbnRNYXRjaGVycy5sZW5ndGg+MCxzdXBlck1hdGNoZXI9ZnVuY3Rpb24gc3VwZXJNYXRjaGVyKHNlZWQsY29udGV4dCx4bWwscmVzdWx0cyxvdXRlcm1vc3Qpe3ZhciBlbGVtLGosbWF0Y2hlcixtYXRjaGVkQ291bnQ9MCxpPScwJyx1bm1hdGNoZWQ9c2VlZCYmW10sc2V0TWF0Y2hlZD1bXSxjb250ZXh0QmFja3VwPW91dGVybW9zdENvbnRleHQsZWxlbXM9c2VlZHx8YnlFbGVtZW50JiZFeHByLmZpbmQuVEFHKCcqJyxvdXRlcm1vc3QpLGRpcnJ1bnNVbmlxdWU9ZGlycnVucys9Y29udGV4dEJhY2t1cD09bnVsbD8xOk1hdGgucmFuZG9tKCl8fDAuMSxsZW49ZWxlbXMubGVuZ3RoO2lmKG91dGVybW9zdCl7b3V0ZXJtb3N0Q29udGV4dD1jb250ZXh0IT09ZG9jdW1lbnQmJmNvbnRleHQ7fWZvcig7aSE9PWxlbiYmKGVsZW09ZWxlbXNbaV0pIT1udWxsO2krKyl7aWYoYnlFbGVtZW50JiZlbGVtKXtqPTA7d2hpbGUobWF0Y2hlcj1lbGVtZW50TWF0Y2hlcnNbaisrXSl7aWYobWF0Y2hlcihlbGVtLGNvbnRleHQseG1sKSl7cmVzdWx0cy5wdXNoKGVsZW0pO2JyZWFrO319aWYob3V0ZXJtb3N0KXtkaXJydW5zPWRpcnJ1bnNVbmlxdWU7fX1pZihieVNldCl7aWYoZWxlbT0hbWF0Y2hlciYmZWxlbSl7bWF0Y2hlZENvdW50LS07fWlmKHNlZWQpe3VubWF0Y2hlZC5wdXNoKGVsZW0pO319fW1hdGNoZWRDb3VudCs9aTtpZihieVNldCYmaSE9PW1hdGNoZWRDb3VudCl7aj0wO3doaWxlKG1hdGNoZXI9c2V0TWF0Y2hlcnNbaisrXSl7bWF0Y2hlcih1bm1hdGNoZWQsc2V0TWF0Y2hlZCxjb250ZXh0LHhtbCk7fWlmKHNlZWQpe2lmKG1hdGNoZWRDb3VudD4wKXt3aGlsZShpLS0pe2lmKCEodW5tYXRjaGVkW2ldfHxzZXRNYXRjaGVkW2ldKSl7c2V0TWF0Y2hlZFtpXT1wb3AuY2FsbChyZXN1bHRzKTt9fX1zZXRNYXRjaGVkPWNvbmRlbnNlKHNldE1hdGNoZWQpO31wdXNoLmFwcGx5KHJlc3VsdHMsc2V0TWF0Y2hlZCk7aWYob3V0ZXJtb3N0JiYhc2VlZCYmc2V0TWF0Y2hlZC5sZW5ndGg+MCYmbWF0Y2hlZENvdW50K3NldE1hdGNoZXJzLmxlbmd0aD4xKXtTaXp6bGUudW5pcXVlU29ydChyZXN1bHRzKTt9fWlmKG91dGVybW9zdCl7ZGlycnVucz1kaXJydW5zVW5pcXVlO291dGVybW9zdENvbnRleHQ9Y29udGV4dEJhY2t1cDt9cmV0dXJuIHVubWF0Y2hlZDt9O3JldHVybiBieVNldD9tYXJrRnVuY3Rpb24oc3VwZXJNYXRjaGVyKTpzdXBlck1hdGNoZXI7fWNvbXBpbGU9U2l6emxlLmNvbXBpbGU9ZnVuY3Rpb24oc2VsZWN0b3IsbWF0Y2gpe3ZhciBpLHNldE1hdGNoZXJzPVtdLGVsZW1lbnRNYXRjaGVycz1bXSxjYWNoZWQ9Y29tcGlsZXJDYWNoZVtzZWxlY3RvcisnICddO2lmKCFjYWNoZWQpe2lmKCFtYXRjaCl7bWF0Y2g9dG9rZW5pemUoc2VsZWN0b3IpO31pPW1hdGNoLmxlbmd0aDt3aGlsZShpLS0pe2NhY2hlZD1tYXRjaGVyRnJvbVRva2VucyhtYXRjaFtpXSk7aWYoY2FjaGVkW2V4cGFuZG9dKXtzZXRNYXRjaGVycy5wdXNoKGNhY2hlZCk7fWVsc2V7ZWxlbWVudE1hdGNoZXJzLnB1c2goY2FjaGVkKTt9fWNhY2hlZD1jb21waWxlckNhY2hlKHNlbGVjdG9yLG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsc2V0TWF0Y2hlcnMpKTtjYWNoZWQuc2VsZWN0b3I9c2VsZWN0b3I7fXJldHVybiBjYWNoZWQ7fTtzZWxlY3Q9U2l6emxlLnNlbGVjdD1mdW5jdGlvbihzZWxlY3Rvcixjb250ZXh0LHJlc3VsdHMsc2VlZCl7dmFyIGksdG9rZW5zLHRva2VuLHR5cGUsZmluZCxjb21waWxlZD10eXBlb2Ygc2VsZWN0b3I9PT0nZnVuY3Rpb24nJiZzZWxlY3RvcixtYXRjaD0hc2VlZCYmdG9rZW5pemUoc2VsZWN0b3I9Y29tcGlsZWQuc2VsZWN0b3J8fHNlbGVjdG9yKTtyZXN1bHRzPXJlc3VsdHN8fFtdO2lmKG1hdGNoLmxlbmd0aD09PTEpe3Rva2Vucz1tYXRjaFswXT1tYXRjaFswXS5zbGljZSgwKTtpZih0b2tlbnMubGVuZ3RoPjImJih0b2tlbj10b2tlbnNbMF0pLnR5cGU9PT0nSUQnJiZzdXBwb3J0LmdldEJ5SWQmJmNvbnRleHQubm9kZVR5cGU9PT05JiZkb2N1bWVudElzSFRNTCYmRXhwci5yZWxhdGl2ZVt0b2tlbnNbMV0udHlwZV0pe2NvbnRleHQ9KEV4cHIuZmluZC5JRCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSksY29udGV4dCl8fFtdKVswXTtpZighY29udGV4dCl7cmV0dXJuIHJlc3VsdHM7fWVsc2UgaWYoY29tcGlsZWQpe2NvbnRleHQ9Y29udGV4dC5wYXJlbnROb2RlO31zZWxlY3Rvcj1zZWxlY3Rvci5zbGljZSh0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGgpO31pPW1hdGNoRXhwci5uZWVkc0NvbnRleHQudGVzdChzZWxlY3Rvcik/MDp0b2tlbnMubGVuZ3RoO3doaWxlKGktLSl7dG9rZW49dG9rZW5zW2ldO2lmKEV4cHIucmVsYXRpdmVbdHlwZT10b2tlbi50eXBlXSl7YnJlYWs7fWlmKGZpbmQ9RXhwci5maW5kW3R5cGVdKXtpZihzZWVkPWZpbmQodG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLHJzaWJsaW5nLnRlc3QodG9rZW5zWzBdLnR5cGUpJiZ0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpfHxjb250ZXh0KSl7dG9rZW5zLnNwbGljZShpLDEpO3NlbGVjdG9yPXNlZWQubGVuZ3RoJiZ0b1NlbGVjdG9yKHRva2Vucyk7aWYoIXNlbGVjdG9yKXtwdXNoLmFwcGx5KHJlc3VsdHMsc2VlZCk7cmV0dXJuIHJlc3VsdHM7fWJyZWFrO319fX0oY29tcGlsZWR8fGNvbXBpbGUoc2VsZWN0b3IsbWF0Y2gpKShzZWVkLGNvbnRleHQsIWRvY3VtZW50SXNIVE1MLHJlc3VsdHMscnNpYmxpbmcudGVzdChzZWxlY3RvcikmJnRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSl8fGNvbnRleHQpO3JldHVybiByZXN1bHRzO307c3VwcG9ydC5zb3J0U3RhYmxlPWV4cGFuZG8uc3BsaXQoJycpLnNvcnQoc29ydE9yZGVyKS5qb2luKCcnKT09PWV4cGFuZG87c3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzPSEhaGFzRHVwbGljYXRlO3NldERvY3VtZW50KCk7c3VwcG9ydC5zb3J0RGV0YWNoZWQ9dHJ1ZTt2YXIgZG9jPWRvbUdsb2JhbHMuZG9jdW1lbnQscHVzaCQxPUFycmF5LnByb3RvdHlwZS5wdXNoLHNsaWNlJDE9QXJyYXkucHJvdG90eXBlLnNsaWNlO3ZhciBycXVpY2tFeHByJDE9L14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvO3ZhciBFdmVudD1FdmVudFV0aWxzLkV2ZW50O3ZhciBza2lwVW5pcXVlcz1Ub29scy5tYWtlTWFwKCdjaGlsZHJlbixjb250ZW50cyxuZXh0LHByZXYnKTt2YXIgaXNEZWZpbmVkPWZ1bmN0aW9uIGlzRGVmaW5lZChvYmope3JldHVybiB0eXBlb2Ygb2JqIT09J3VuZGVmaW5lZCc7fTt2YXIgaXNTdHJpbmckMT1mdW5jdGlvbiBpc1N0cmluZyQxKG9iail7cmV0dXJuIHR5cGVvZiBvYmo9PT0nc3RyaW5nJzt9O3ZhciBpc1dpbmRvdz1mdW5jdGlvbiBpc1dpbmRvdyhvYmope3JldHVybiBvYmomJm9iaj09PW9iai53aW5kb3c7fTt2YXIgY3JlYXRlRnJhZ21lbnQ9ZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnQoaHRtbCxmcmFnRG9jKXt2YXIgZnJhZyxub2RlLGNvbnRhaW5lcjtmcmFnRG9jPWZyYWdEb2N8fGRvYztjb250YWluZXI9ZnJhZ0RvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtmcmFnPWZyYWdEb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2NvbnRhaW5lci5pbm5lckhUTUw9aHRtbDt3aGlsZShub2RlPWNvbnRhaW5lci5maXJzdENoaWxkKXtmcmFnLmFwcGVuZENoaWxkKG5vZGUpO31yZXR1cm4gZnJhZzt9O3ZhciBkb21NYW5pcHVsYXRlPWZ1bmN0aW9uIGRvbU1hbmlwdWxhdGUodGFyZ2V0Tm9kZXMsc291cmNlSXRlbSxjYWxsYmFjayxyZXZlcnNlKXt2YXIgaTtpZihpc1N0cmluZyQxKHNvdXJjZUl0ZW0pKXtzb3VyY2VJdGVtPWNyZWF0ZUZyYWdtZW50KHNvdXJjZUl0ZW0sZ2V0RWxlbWVudERvY3VtZW50KHRhcmdldE5vZGVzWzBdKSk7fWVsc2UgaWYoc291cmNlSXRlbS5sZW5ndGgmJiFzb3VyY2VJdGVtLm5vZGVUeXBlKXtzb3VyY2VJdGVtPURvbVF1ZXJ5Lm1ha2VBcnJheShzb3VyY2VJdGVtKTtpZihyZXZlcnNlKXtmb3IoaT1zb3VyY2VJdGVtLmxlbmd0aC0xO2k+PTA7aS0tKXtkb21NYW5pcHVsYXRlKHRhcmdldE5vZGVzLHNvdXJjZUl0ZW1baV0sY2FsbGJhY2sscmV2ZXJzZSk7fX1lbHNle2ZvcihpPTA7aTxzb3VyY2VJdGVtLmxlbmd0aDtpKyspe2RvbU1hbmlwdWxhdGUodGFyZ2V0Tm9kZXMsc291cmNlSXRlbVtpXSxjYWxsYmFjayxyZXZlcnNlKTt9fXJldHVybiB0YXJnZXROb2Rlczt9aWYoc291cmNlSXRlbS5ub2RlVHlwZSl7aT10YXJnZXROb2Rlcy5sZW5ndGg7d2hpbGUoaS0tKXtjYWxsYmFjay5jYWxsKHRhcmdldE5vZGVzW2ldLHNvdXJjZUl0ZW0pO319cmV0dXJuIHRhcmdldE5vZGVzO307dmFyIF9oYXNDbGFzcz1mdW5jdGlvbiBoYXNDbGFzcyhub2RlLGNsYXNzTmFtZSl7cmV0dXJuIG5vZGUmJmNsYXNzTmFtZSYmKCcgJytub2RlLmNsYXNzTmFtZSsnICcpLmluZGV4T2YoJyAnK2NsYXNzTmFtZSsnICcpIT09LTE7fTt2YXIgX3dyYXA9ZnVuY3Rpb24gd3JhcChlbGVtZW50cyx3cmFwcGVyLGFsbCl7dmFyIGxhc3RQYXJlbnQsbmV3V3JhcHBlcjt3cmFwcGVyPURvbVF1ZXJ5KHdyYXBwZXIpWzBdO2VsZW1lbnRzLmVhY2goZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzO2lmKCFhbGx8fGxhc3RQYXJlbnQhPT1zZWxmLnBhcmVudE5vZGUpe2xhc3RQYXJlbnQ9c2VsZi5wYXJlbnROb2RlO25ld1dyYXBwZXI9d3JhcHBlci5jbG9uZU5vZGUoZmFsc2UpO3NlbGYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3V3JhcHBlcixzZWxmKTtuZXdXcmFwcGVyLmFwcGVuZENoaWxkKHNlbGYpO31lbHNle25ld1dyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZik7fX0pO3JldHVybiBlbGVtZW50czt9O3ZhciBudW1lcmljQ3NzTWFwPVRvb2xzLm1ha2VNYXAoJ2ZpbGxPcGFjaXR5IGZvbnRXZWlnaHQgbGluZUhlaWdodCBvcGFjaXR5IG9ycGhhbnMgd2lkb3dzIHpJbmRleCB6b29tJywnICcpO3ZhciBib29sZWFuTWFwPVRvb2xzLm1ha2VNYXAoJ2NoZWNrZWQgY29tcGFjdCBkZWNsYXJlIGRlZmVyIGRpc2FibGVkIGlzbWFwIG11bHRpcGxlIG5vaHJlZiBub3NoYWRlIG5vd3JhcCByZWFkb25seSBzZWxlY3RlZCcsJyAnKTt2YXIgcHJvcEZpeD17Zm9yOidodG1sRm9yJyxjbGFzczonY2xhc3NOYW1lJyxyZWFkb25seToncmVhZE9ubHknfTt2YXIgY3NzRml4PXtmbG9hdDonY3NzRmxvYXQnfTt2YXIgYXR0ckhvb2tzPXt9LGNzc0hvb2tzPXt9O3ZhciBEb21RdWVyeUNvbnN0cnVjdG9yPWZ1bmN0aW9uIERvbVF1ZXJ5Q29uc3RydWN0b3Ioc2VsZWN0b3IsY29udGV4dCl7cmV0dXJuIG5ldyBEb21RdWVyeS5mbi5pbml0KHNlbGVjdG9yLGNvbnRleHQpO307dmFyIGluQXJyYXkkMT1mdW5jdGlvbiBpbkFycmF5JDEoaXRlbSxhcnJheSl7dmFyIGk7aWYoYXJyYXkuaW5kZXhPZil7cmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSk7fWk9YXJyYXkubGVuZ3RoO3doaWxlKGktLSl7aWYoYXJyYXlbaV09PT1pdGVtKXtyZXR1cm4gaTt9fXJldHVybi0xO307dmFyIHdoaXRlU3BhY2VSZWdFeHAkMT0vXlxzKnxccyokL2c7dmFyIHRyaW0kMj1mdW5jdGlvbiB0cmltJDIoc3RyKXtyZXR1cm4gc3RyPT09bnVsbHx8c3RyPT09dW5kZWZpbmVkPycnOignJytzdHIpLnJlcGxhY2Uod2hpdGVTcGFjZVJlZ0V4cCQxLCcnKTt9O3ZhciBlYWNoJDQ9ZnVuY3Rpb24gZWFjaCQ0KG9iaixjYWxsYmFjayl7dmFyIGxlbmd0aCxrZXksaSx2YWx1ZTtpZihvYmope2xlbmd0aD1vYmoubGVuZ3RoO2lmKGxlbmd0aD09PXVuZGVmaW5lZCl7Zm9yKGtleSBpbiBvYmope2lmKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKXt2YWx1ZT1vYmpba2V5XTtpZihjYWxsYmFjay5jYWxsKHZhbHVlLGtleSx2YWx1ZSk9PT1mYWxzZSl7YnJlYWs7fX19fWVsc2V7Zm9yKGk9MDtpPGxlbmd0aDtpKyspe3ZhbHVlPW9ialtpXTtpZihjYWxsYmFjay5jYWxsKHZhbHVlLGksdmFsdWUpPT09ZmFsc2Upe2JyZWFrO319fX1yZXR1cm4gb2JqO307dmFyIGdyZXA9ZnVuY3Rpb24gZ3JlcChhcnJheSxjYWxsYmFjayl7dmFyIG91dD1bXTtlYWNoJDQoYXJyYXksZnVuY3Rpb24oaSxpdGVtKXtpZihjYWxsYmFjayhpdGVtLGkpKXtvdXQucHVzaChpdGVtKTt9fSk7cmV0dXJuIG91dDt9O3ZhciBnZXRFbGVtZW50RG9jdW1lbnQ9ZnVuY3Rpb24gZ2V0RWxlbWVudERvY3VtZW50KGVsZW1lbnQpe2lmKCFlbGVtZW50KXtyZXR1cm4gZG9jO31pZihlbGVtZW50Lm5vZGVUeXBlPT09OSl7cmV0dXJuIGVsZW1lbnQ7fXJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7fTtEb21RdWVyeUNvbnN0cnVjdG9yLmZuPURvbVF1ZXJ5Q29uc3RydWN0b3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpEb21RdWVyeUNvbnN0cnVjdG9yLHNlbGVjdG9yOicnLGNvbnRleHQ6bnVsbCxsZW5ndGg6MCxpbml0OmZ1bmN0aW9uIGluaXQoc2VsZWN0b3IsY29udGV4dCl7dmFyIHNlbGY9dGhpczt2YXIgbWF0Y2gsbm9kZTtpZighc2VsZWN0b3Ipe3JldHVybiBzZWxmO31pZihzZWxlY3Rvci5ub2RlVHlwZSl7c2VsZi5jb250ZXh0PXNlbGZbMF09c2VsZWN0b3I7c2VsZi5sZW5ndGg9MTtyZXR1cm4gc2VsZjt9aWYoY29udGV4dCYmY29udGV4dC5ub2RlVHlwZSl7c2VsZi5jb250ZXh0PWNvbnRleHQ7fWVsc2V7aWYoY29udGV4dCl7cmV0dXJuIERvbVF1ZXJ5KHNlbGVjdG9yKS5hdHRyKGNvbnRleHQpO31zZWxmLmNvbnRleHQ9Y29udGV4dD1kb21HbG9iYWxzLmRvY3VtZW50O31pZihpc1N0cmluZyQxKHNlbGVjdG9yKSl7c2VsZi5zZWxlY3Rvcj1zZWxlY3RvcjtpZihzZWxlY3Rvci5jaGFyQXQoMCk9PT0nPCcmJnNlbGVjdG9yLmNoYXJBdChzZWxlY3Rvci5sZW5ndGgtMSk9PT0nPicmJnNlbGVjdG9yLmxlbmd0aD49Myl7bWF0Y2g9W251bGwsc2VsZWN0b3IsbnVsbF07fWVsc2V7bWF0Y2g9cnF1aWNrRXhwciQxLmV4ZWMoc2VsZWN0b3IpO31pZihtYXRjaCl7aWYobWF0Y2hbMV0pe25vZGU9Y3JlYXRlRnJhZ21lbnQoc2VsZWN0b3IsZ2V0RWxlbWVudERvY3VtZW50KGNvbnRleHQpKS5maXJzdENoaWxkO3doaWxlKG5vZGUpe3B1c2gkMS5jYWxsKHNlbGYsbm9kZSk7bm9kZT1ub2RlLm5leHRTaWJsaW5nO319ZWxzZXtub2RlPWdldEVsZW1lbnREb2N1bWVudChjb250ZXh0KS5nZXRFbGVtZW50QnlJZChtYXRjaFsyXSk7aWYoIW5vZGUpe3JldHVybiBzZWxmO31pZihub2RlLmlkIT09bWF0Y2hbMl0pe3JldHVybiBzZWxmLmZpbmQoc2VsZWN0b3IpO31zZWxmLmxlbmd0aD0xO3NlbGZbMF09bm9kZTt9fWVsc2V7cmV0dXJuIERvbVF1ZXJ5KGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpO319ZWxzZXt0aGlzLmFkZChzZWxlY3RvcixmYWxzZSk7fXJldHVybiBzZWxmO30sdG9BcnJheTpmdW5jdGlvbiB0b0FycmF5KCl7cmV0dXJuIFRvb2xzLnRvQXJyYXkodGhpcyk7fSxhZGQ6ZnVuY3Rpb24gYWRkKGl0ZW1zLHNvcnQpe3ZhciBzZWxmPXRoaXM7dmFyIG5vZGVzLGk7aWYoaXNTdHJpbmckMShpdGVtcykpe3JldHVybiBzZWxmLmFkZChEb21RdWVyeShpdGVtcykpO31pZihzb3J0IT09ZmFsc2Upe25vZGVzPURvbVF1ZXJ5LnVuaXF1ZShzZWxmLnRvQXJyYXkoKS5jb25jYXQoRG9tUXVlcnkubWFrZUFycmF5KGl0ZW1zKSkpO3NlbGYubGVuZ3RoPW5vZGVzLmxlbmd0aDtmb3IoaT0wO2k8bm9kZXMubGVuZ3RoO2krKyl7c2VsZltpXT1ub2Rlc1tpXTt9fWVsc2V7cHVzaCQxLmFwcGx5KHNlbGYsRG9tUXVlcnkubWFrZUFycmF5KGl0ZW1zKSk7fXJldHVybiBzZWxmO30sYXR0cjpmdW5jdGlvbiBhdHRyKG5hbWUsdmFsdWUpe3ZhciBzZWxmPXRoaXM7dmFyIGhvb2s7aWYoX3R5cGVvZihuYW1lKT09PSdvYmplY3QnKXtlYWNoJDQobmFtZSxmdW5jdGlvbihuYW1lLHZhbHVlKXtzZWxmLmF0dHIobmFtZSx2YWx1ZSk7fSk7fWVsc2UgaWYoaXNEZWZpbmVkKHZhbHVlKSl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGhvb2s7aWYodGhpcy5ub2RlVHlwZT09PTEpe2hvb2s9YXR0ckhvb2tzW25hbWVdO2lmKGhvb2smJmhvb2suc2V0KXtob29rLnNldCh0aGlzLHZhbHVlKTtyZXR1cm47fWlmKHZhbHVlPT09bnVsbCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSwyKTt9ZWxzZXt0aGlzLnNldEF0dHJpYnV0ZShuYW1lLHZhbHVlLDIpO319fSk7fWVsc2V7aWYoc2VsZlswXSYmc2VsZlswXS5ub2RlVHlwZT09PTEpe2hvb2s9YXR0ckhvb2tzW25hbWVdO2lmKGhvb2smJmhvb2suZ2V0KXtyZXR1cm4gaG9vay5nZXQoc2VsZlswXSxuYW1lKTt9aWYoYm9vbGVhbk1hcFtuYW1lXSl7cmV0dXJuIHNlbGYucHJvcChuYW1lKT9uYW1lOnVuZGVmaW5lZDt9dmFsdWU9c2VsZlswXS5nZXRBdHRyaWJ1dGUobmFtZSwyKTtpZih2YWx1ZT09PW51bGwpe3ZhbHVlPXVuZGVmaW5lZDt9fXJldHVybiB2YWx1ZTt9cmV0dXJuIHNlbGY7fSxyZW1vdmVBdHRyOmZ1bmN0aW9uIHJlbW92ZUF0dHIobmFtZSl7cmV0dXJuIHRoaXMuYXR0cihuYW1lLG51bGwpO30scHJvcDpmdW5jdGlvbiBwcm9wKG5hbWUsdmFsdWUpe3ZhciBzZWxmPXRoaXM7bmFtZT1wcm9wRml4W25hbWVdfHxuYW1lO2lmKF90eXBlb2YobmFtZSk9PT0nb2JqZWN0Jyl7ZWFjaCQ0KG5hbWUsZnVuY3Rpb24obmFtZSx2YWx1ZSl7c2VsZi5wcm9wKG5hbWUsdmFsdWUpO30pO31lbHNlIGlmKGlzRGVmaW5lZCh2YWx1ZSkpe3RoaXMuZWFjaChmdW5jdGlvbigpe2lmKHRoaXMubm9kZVR5cGU9PT0xKXt0aGlzW25hbWVdPXZhbHVlO319KTt9ZWxzZXtpZihzZWxmWzBdJiZzZWxmWzBdLm5vZGVUeXBlJiZuYW1lIGluIHNlbGZbMF0pe3JldHVybiBzZWxmWzBdW25hbWVdO31yZXR1cm4gdmFsdWU7fXJldHVybiBzZWxmO30sY3NzOmZ1bmN0aW9uIGNzcyhuYW1lLHZhbHVlKXt2YXIgc2VsZj10aGlzO3ZhciBlbG0saG9vazt2YXIgY2FtZWw9ZnVuY3Rpb24gY2FtZWwobmFtZSl7cmV0dXJuIG5hbWUucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCk7fSk7fTt2YXIgZGFzaGVkPWZ1bmN0aW9uIGRhc2hlZChuYW1lKXtyZXR1cm4gbmFtZS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybictJythO30pO307aWYoX3R5cGVvZihuYW1lKT09PSdvYmplY3QnKXtlYWNoJDQobmFtZSxmdW5jdGlvbihuYW1lLHZhbHVlKXtzZWxmLmNzcyhuYW1lLHZhbHVlKTt9KTt9ZWxzZXtpZihpc0RlZmluZWQodmFsdWUpKXtuYW1lPWNhbWVsKG5hbWUpO2lmKHR5cGVvZiB2YWx1ZT09PSdudW1iZXInJiYhbnVtZXJpY0Nzc01hcFtuYW1lXSl7dmFsdWU9dmFsdWUudG9TdHJpbmcoKSsncHgnO31zZWxmLmVhY2goZnVuY3Rpb24oKXt2YXIgc3R5bGU9dGhpcy5zdHlsZTtob29rPWNzc0hvb2tzW25hbWVdO2lmKGhvb2smJmhvb2suc2V0KXtob29rLnNldCh0aGlzLHZhbHVlKTtyZXR1cm47fXRyeXt0aGlzLnN0eWxlW2Nzc0ZpeFtuYW1lXXx8bmFtZV09dmFsdWU7fWNhdGNoKGV4KXt9aWYodmFsdWU9PT1udWxsfHx2YWx1ZT09PScnKXtpZihzdHlsZS5yZW1vdmVQcm9wZXJ0eSl7c3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaGVkKG5hbWUpKTt9ZWxzZXtzdHlsZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7fX19KTt9ZWxzZXtlbG09c2VsZlswXTtob29rPWNzc0hvb2tzW25hbWVdO2lmKGhvb2smJmhvb2suZ2V0KXtyZXR1cm4gaG9vay5nZXQoZWxtKTt9aWYoZWxtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpe3RyeXtyZXR1cm4gZWxtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbG0sbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShkYXNoZWQobmFtZSkpO31jYXRjaChleCl7cmV0dXJuIHVuZGVmaW5lZDt9fWVsc2UgaWYoZWxtLmN1cnJlbnRTdHlsZSl7cmV0dXJuIGVsbS5jdXJyZW50U3R5bGVbY2FtZWwobmFtZSldO31lbHNle3JldHVybicnO319fXJldHVybiBzZWxmO30scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZSgpe3ZhciBzZWxmPXRoaXM7dmFyIG5vZGUsaT10aGlzLmxlbmd0aDt3aGlsZShpLS0pe25vZGU9c2VsZltpXTtFdmVudC5jbGVhbihub2RlKTtpZihub2RlLnBhcmVudE5vZGUpe25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTt9fXJldHVybiB0aGlzO30sZW1wdHk6ZnVuY3Rpb24gZW1wdHkoKXt2YXIgc2VsZj10aGlzO3ZhciBub2RlLGk9dGhpcy5sZW5ndGg7d2hpbGUoaS0tKXtub2RlPXNlbGZbaV07d2hpbGUobm9kZS5maXJzdENoaWxkKXtub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCk7fX1yZXR1cm4gdGhpczt9LGh0bWw6ZnVuY3Rpb24gaHRtbCh2YWx1ZSl7dmFyIHNlbGY9dGhpczt2YXIgaTtpZihpc0RlZmluZWQodmFsdWUpKXtpPXNlbGYubGVuZ3RoO3RyeXt3aGlsZShpLS0pe3NlbGZbaV0uaW5uZXJIVE1MPXZhbHVlO319Y2F0Y2goZXgpe0RvbVF1ZXJ5KHNlbGZbaV0pLmVtcHR5KCkuYXBwZW5kKHZhbHVlKTt9cmV0dXJuIHNlbGY7fXJldHVybiBzZWxmWzBdP3NlbGZbMF0uaW5uZXJIVE1MOicnO30sdGV4dDpmdW5jdGlvbiB0ZXh0KHZhbHVlKXt2YXIgc2VsZj10aGlzO3ZhciBpO2lmKGlzRGVmaW5lZCh2YWx1ZSkpe2k9c2VsZi5sZW5ndGg7d2hpbGUoaS0tKXtpZignaW5uZXJUZXh0J2luIHNlbGZbaV0pe3NlbGZbaV0uaW5uZXJUZXh0PXZhbHVlO31lbHNle3NlbGZbMF0udGV4dENvbnRlbnQ9dmFsdWU7fX1yZXR1cm4gc2VsZjt9cmV0dXJuIHNlbGZbMF0/c2VsZlswXS5pbm5lclRleHR8fHNlbGZbMF0udGV4dENvbnRlbnQ6Jyc7fSxhcHBlbmQ6ZnVuY3Rpb24gYXBwZW5kKCl7cmV0dXJuIGRvbU1hbmlwdWxhdGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obm9kZSl7aWYodGhpcy5ub2RlVHlwZT09PTF8fHRoaXMuaG9zdCYmdGhpcy5ob3N0Lm5vZGVUeXBlPT09MSl7dGhpcy5hcHBlbmRDaGlsZChub2RlKTt9fSk7fSxwcmVwZW5kOmZ1bmN0aW9uIHByZXBlbmQoKXtyZXR1cm4gZG9tTWFuaXB1bGF0ZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihub2RlKXtpZih0aGlzLm5vZGVUeXBlPT09MXx8dGhpcy5ob3N0JiZ0aGlzLmhvc3Qubm9kZVR5cGU9PT0xKXt0aGlzLmluc2VydEJlZm9yZShub2RlLHRoaXMuZmlyc3RDaGlsZCk7fX0sdHJ1ZSk7fSxiZWZvcmU6ZnVuY3Rpb24gYmVmb3JlKCl7dmFyIHNlbGY9dGhpcztpZihzZWxmWzBdJiZzZWxmWzBdLnBhcmVudE5vZGUpe3JldHVybiBkb21NYW5pcHVsYXRlKHNlbGYsYXJndW1lbnRzLGZ1bmN0aW9uKG5vZGUpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSx0aGlzKTt9KTt9cmV0dXJuIHNlbGY7fSxhZnRlcjpmdW5jdGlvbiBhZnRlcigpe3ZhciBzZWxmPXRoaXM7aWYoc2VsZlswXSYmc2VsZlswXS5wYXJlbnROb2RlKXtyZXR1cm4gZG9tTWFuaXB1bGF0ZShzZWxmLGFyZ3VtZW50cyxmdW5jdGlvbihub2RlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsdGhpcy5uZXh0U2libGluZyk7fSx0cnVlKTt9cmV0dXJuIHNlbGY7fSxhcHBlbmRUbzpmdW5jdGlvbiBhcHBlbmRUbyh2YWwpe0RvbVF1ZXJ5KHZhbCkuYXBwZW5kKHRoaXMpO3JldHVybiB0aGlzO30scHJlcGVuZFRvOmZ1bmN0aW9uIHByZXBlbmRUbyh2YWwpe0RvbVF1ZXJ5KHZhbCkucHJlcGVuZCh0aGlzKTtyZXR1cm4gdGhpczt9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uIHJlcGxhY2VXaXRoKGNvbnRlbnQpe3JldHVybiB0aGlzLmJlZm9yZShjb250ZW50KS5yZW1vdmUoKTt9LHdyYXA6ZnVuY3Rpb24gd3JhcChjb250ZW50KXtyZXR1cm4gX3dyYXAodGhpcyxjb250ZW50KTt9LHdyYXBBbGw6ZnVuY3Rpb24gd3JhcEFsbChjb250ZW50KXtyZXR1cm4gX3dyYXAodGhpcyxjb250ZW50LHRydWUpO30sd3JhcElubmVyOmZ1bmN0aW9uIHdyYXBJbm5lcihjb250ZW50KXt0aGlzLmVhY2goZnVuY3Rpb24oKXtEb21RdWVyeSh0aGlzKS5jb250ZW50cygpLndyYXBBbGwoY29udGVudCk7fSk7cmV0dXJuIHRoaXM7fSx1bndyYXA6ZnVuY3Rpb24gdW53cmFwKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe0RvbVF1ZXJ5KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyk7fSk7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3ZhciByZXN1bHQ9W107dGhpcy5lYWNoKGZ1bmN0aW9uKCl7cmVzdWx0LnB1c2godGhpcy5jbG9uZU5vZGUodHJ1ZSkpO30pO3JldHVybiBEb21RdWVyeShyZXN1bHQpO30sYWRkQ2xhc3M6ZnVuY3Rpb24gYWRkQ2xhc3MoY2xhc3NOYW1lKXtyZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhjbGFzc05hbWUsdHJ1ZSk7fSxyZW1vdmVDbGFzczpmdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGNsYXNzTmFtZSxmYWxzZSk7fSx0b2dnbGVDbGFzczpmdW5jdGlvbiB0b2dnbGVDbGFzcyhjbGFzc05hbWUsc3RhdGUpe3ZhciBzZWxmPXRoaXM7aWYodHlwZW9mIGNsYXNzTmFtZSE9PSdzdHJpbmcnKXtyZXR1cm4gc2VsZjt9aWYoY2xhc3NOYW1lLmluZGV4T2YoJyAnKSE9PS0xKXtlYWNoJDQoY2xhc3NOYW1lLnNwbGl0KCcgJyksZnVuY3Rpb24oKXtzZWxmLnRvZ2dsZUNsYXNzKHRoaXMsc3RhdGUpO30pO31lbHNle3NlbGYuZWFjaChmdW5jdGlvbihpbmRleCxub2RlKXt2YXIgZXhpc3RpbmdDbGFzc05hbWUsY2xhc3NTdGF0ZTtjbGFzc1N0YXRlPV9oYXNDbGFzcyhub2RlLGNsYXNzTmFtZSk7aWYoY2xhc3NTdGF0ZSE9PXN0YXRlKXtleGlzdGluZ0NsYXNzTmFtZT1ub2RlLmNsYXNzTmFtZTtpZihjbGFzc1N0YXRlKXtub2RlLmNsYXNzTmFtZT10cmltJDIoKCcgJytleGlzdGluZ0NsYXNzTmFtZSsnICcpLnJlcGxhY2UoJyAnK2NsYXNzTmFtZSsnICcsJyAnKSk7fWVsc2V7bm9kZS5jbGFzc05hbWUrPWV4aXN0aW5nQ2xhc3NOYW1lPycgJytjbGFzc05hbWU6Y2xhc3NOYW1lO319fSk7fXJldHVybiBzZWxmO30saGFzQ2xhc3M6ZnVuY3Rpb24gaGFzQ2xhc3MoY2xhc3NOYW1lKXtyZXR1cm4gX2hhc0NsYXNzKHRoaXNbMF0sY2xhc3NOYW1lKTt9LGVhY2g6ZnVuY3Rpb24gZWFjaChjYWxsYmFjayl7cmV0dXJuIGVhY2gkNCh0aGlzLGNhbGxiYWNrKTt9LG9uOmZ1bmN0aW9uIG9uKG5hbWUsY2FsbGJhY2spe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtFdmVudC5iaW5kKHRoaXMsbmFtZSxjYWxsYmFjayk7fSk7fSxvZmY6ZnVuY3Rpb24gb2ZmKG5hbWUsY2FsbGJhY2spe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtFdmVudC51bmJpbmQodGhpcyxuYW1lLGNhbGxiYWNrKTt9KTt9LHRyaWdnZXI6ZnVuY3Rpb24gdHJpZ2dlcihuYW1lKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoX3R5cGVvZihuYW1lKT09PSdvYmplY3QnKXtFdmVudC5maXJlKHRoaXMsbmFtZS50eXBlLG5hbWUpO31lbHNle0V2ZW50LmZpcmUodGhpcyxuYW1lKTt9fSk7fSxzaG93OmZ1bmN0aW9uIHNob3coKXtyZXR1cm4gdGhpcy5jc3MoJ2Rpc3BsYXknLCcnKTt9LGhpZGU6ZnVuY3Rpb24gaGlkZSgpe3JldHVybiB0aGlzLmNzcygnZGlzcGxheScsJ25vbmUnKTt9LHNsaWNlOmZ1bmN0aW9uIHNsaWNlKCl7cmV0dXJuIG5ldyBEb21RdWVyeShzbGljZSQxLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7fSxlcTpmdW5jdGlvbiBlcShpbmRleCl7cmV0dXJuIGluZGV4PT09LTE/dGhpcy5zbGljZShpbmRleCk6dGhpcy5zbGljZShpbmRleCwraW5kZXgrMSk7fSxmaXJzdDpmdW5jdGlvbiBmaXJzdCgpe3JldHVybiB0aGlzLmVxKDApO30sbGFzdDpmdW5jdGlvbiBsYXN0KCl7cmV0dXJuIHRoaXMuZXEoLTEpO30sZmluZDpmdW5jdGlvbiBmaW5kKHNlbGVjdG9yKXt2YXIgaSxsO3ZhciByZXQ9W107Zm9yKGk9MCxsPXRoaXMubGVuZ3RoO2k8bDtpKyspe0RvbVF1ZXJ5LmZpbmQoc2VsZWN0b3IsdGhpc1tpXSxyZXQpO31yZXR1cm4gRG9tUXVlcnkocmV0KTt9LGZpbHRlcjpmdW5jdGlvbiBmaWx0ZXIoc2VsZWN0b3Ipe2lmKHR5cGVvZiBzZWxlY3Rvcj09PSdmdW5jdGlvbicpe3JldHVybiBEb21RdWVyeShncmVwKHRoaXMudG9BcnJheSgpLGZ1bmN0aW9uKGl0ZW0saSl7cmV0dXJuIHNlbGVjdG9yKGksaXRlbSk7fSkpO31yZXR1cm4gRG9tUXVlcnkoRG9tUXVlcnkuZmlsdGVyKHNlbGVjdG9yLHRoaXMudG9BcnJheSgpKSk7fSxjbG9zZXN0OmZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3Ipe3ZhciByZXN1bHQ9W107aWYoc2VsZWN0b3IgaW5zdGFuY2VvZiBEb21RdWVyeSl7c2VsZWN0b3I9c2VsZWN0b3JbMF07fXRoaXMuZWFjaChmdW5jdGlvbihpLG5vZGUpe3doaWxlKG5vZGUpe2lmKHR5cGVvZiBzZWxlY3Rvcj09PSdzdHJpbmcnJiZEb21RdWVyeShub2RlKS5pcyhzZWxlY3Rvcikpe3Jlc3VsdC5wdXNoKG5vZGUpO2JyZWFrO31lbHNlIGlmKG5vZGU9PT1zZWxlY3Rvcil7cmVzdWx0LnB1c2gobm9kZSk7YnJlYWs7fW5vZGU9bm9kZS5wYXJlbnROb2RlO319KTtyZXR1cm4gRG9tUXVlcnkocmVzdWx0KTt9LG9mZnNldDpmdW5jdGlvbiBvZmZzZXQoX29mZnNldCl7dmFyIGVsbSxkb2MsZG9jRWxtO3ZhciB4PTAseT0wLHBvcztpZighX29mZnNldCl7ZWxtPXRoaXNbMF07aWYoZWxtKXtkb2M9ZWxtLm93bmVyRG9jdW1lbnQ7ZG9jRWxtPWRvYy5kb2N1bWVudEVsZW1lbnQ7aWYoZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7cG9zPWVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt4PXBvcy5sZWZ0Kyhkb2NFbG0uc2Nyb2xsTGVmdHx8ZG9jLmJvZHkuc2Nyb2xsTGVmdCktZG9jRWxtLmNsaWVudExlZnQ7eT1wb3MudG9wKyhkb2NFbG0uc2Nyb2xsVG9wfHxkb2MuYm9keS5zY3JvbGxUb3ApLWRvY0VsbS5jbGllbnRUb3A7fX1yZXR1cm57bGVmdDp4LHRvcDp5fTt9cmV0dXJuIHRoaXMuY3NzKF9vZmZzZXQpO30scHVzaDpwdXNoJDEsc29ydDpBcnJheS5wcm90b3R5cGUuc29ydCxzcGxpY2U6QXJyYXkucHJvdG90eXBlLnNwbGljZX07VG9vbHMuZXh0ZW5kKERvbVF1ZXJ5Q29uc3RydWN0b3Ise2V4dGVuZDpUb29scy5leHRlbmQsbWFrZUFycmF5OmZ1bmN0aW9uIG1ha2VBcnJheShvYmplY3Qpe2lmKGlzV2luZG93KG9iamVjdCl8fG9iamVjdC5ub2RlVHlwZSl7cmV0dXJuW29iamVjdF07fXJldHVybiBUb29scy50b0FycmF5KG9iamVjdCk7fSxpbkFycmF5OmluQXJyYXkkMSxpc0FycmF5OlRvb2xzLmlzQXJyYXksZWFjaDplYWNoJDQsdHJpbTp0cmltJDIsZ3JlcDpncmVwLGZpbmQ6U2l6emxlLGV4cHI6U2l6emxlLnNlbGVjdG9ycyx1bmlxdWU6U2l6emxlLnVuaXF1ZVNvcnQsdGV4dDpTaXp6bGUuZ2V0VGV4dCxjb250YWluczpTaXp6bGUuY29udGFpbnMsZmlsdGVyOmZ1bmN0aW9uIGZpbHRlcihleHByLGVsZW1zLG5vdCl7dmFyIGk9ZWxlbXMubGVuZ3RoO2lmKG5vdCl7ZXhwcj0nOm5vdCgnK2V4cHIrJyknO313aGlsZShpLS0pe2lmKGVsZW1zW2ldLm5vZGVUeXBlIT09MSl7ZWxlbXMuc3BsaWNlKGksMSk7fX1pZihlbGVtcy5sZW5ndGg9PT0xKXtlbGVtcz1Eb21RdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihlbGVtc1swXSxleHByKT9bZWxlbXNbMF1dOltdO31lbHNle2VsZW1zPURvbVF1ZXJ5LmZpbmQubWF0Y2hlcyhleHByLGVsZW1zKTt9cmV0dXJuIGVsZW1zO319KTt2YXIgZGlyPWZ1bmN0aW9uIGRpcihlbCxwcm9wLHVudGlsKXt2YXIgbWF0Y2hlZD1bXTt2YXIgY3VyPWVsW3Byb3BdO2lmKHR5cGVvZiB1bnRpbCE9PSdzdHJpbmcnJiZ1bnRpbCBpbnN0YW5jZW9mIERvbVF1ZXJ5KXt1bnRpbD11bnRpbFswXTt9d2hpbGUoY3VyJiZjdXIubm9kZVR5cGUhPT05KXtpZih1bnRpbCE9PXVuZGVmaW5lZCl7aWYoY3VyPT09dW50aWwpe2JyZWFrO31pZih0eXBlb2YgdW50aWw9PT0nc3RyaW5nJyYmRG9tUXVlcnkoY3VyKS5pcyh1bnRpbCkpe2JyZWFrO319aWYoY3VyLm5vZGVUeXBlPT09MSl7bWF0Y2hlZC5wdXNoKGN1cik7fWN1cj1jdXJbcHJvcF07fXJldHVybiBtYXRjaGVkO307dmFyIHNpYmxpbmc9ZnVuY3Rpb24gc2libGluZyhub2RlLHNpYmxpbmdOYW1lLG5vZGVUeXBlLHVudGlsKXt2YXIgcmVzdWx0PVtdO2lmKHVudGlsIGluc3RhbmNlb2YgRG9tUXVlcnkpe3VudGlsPXVudGlsWzBdO31mb3IoO25vZGU7bm9kZT1ub2RlW3NpYmxpbmdOYW1lXSl7aWYobm9kZVR5cGUmJm5vZGUubm9kZVR5cGUhPT1ub2RlVHlwZSl7Y29udGludWU7fWlmKHVudGlsIT09dW5kZWZpbmVkKXtpZihub2RlPT09dW50aWwpe2JyZWFrO31pZih0eXBlb2YgdW50aWw9PT0nc3RyaW5nJyYmRG9tUXVlcnkobm9kZSkuaXModW50aWwpKXticmVhazt9fXJlc3VsdC5wdXNoKG5vZGUpO31yZXR1cm4gcmVzdWx0O307dmFyIGZpcnN0U2libGluZz1mdW5jdGlvbiBmaXJzdFNpYmxpbmcobm9kZSxzaWJsaW5nTmFtZSxub2RlVHlwZSl7Zm9yKG5vZGU9bm9kZVtzaWJsaW5nTmFtZV07bm9kZTtub2RlPW5vZGVbc2libGluZ05hbWVdKXtpZihub2RlLm5vZGVUeXBlPT09bm9kZVR5cGUpe3JldHVybiBub2RlO319cmV0dXJuIG51bGw7fTtlYWNoJDQoe3BhcmVudDpmdW5jdGlvbiBwYXJlbnQobm9kZSl7dmFyIHBhcmVudD1ub2RlLnBhcmVudE5vZGU7cmV0dXJuIHBhcmVudCYmcGFyZW50Lm5vZGVUeXBlIT09MTE/cGFyZW50Om51bGw7fSxwYXJlbnRzOmZ1bmN0aW9uIHBhcmVudHMobm9kZSl7cmV0dXJuIGRpcihub2RlLCdwYXJlbnROb2RlJyk7fSxuZXh0OmZ1bmN0aW9uIG5leHQobm9kZSl7cmV0dXJuIGZpcnN0U2libGluZyhub2RlLCduZXh0U2libGluZycsMSk7fSxwcmV2OmZ1bmN0aW9uIHByZXYobm9kZSl7cmV0dXJuIGZpcnN0U2libGluZyhub2RlLCdwcmV2aW91c1NpYmxpbmcnLDEpO30sY2hpbGRyZW46ZnVuY3Rpb24gY2hpbGRyZW4obm9kZSl7cmV0dXJuIHNpYmxpbmcobm9kZS5maXJzdENoaWxkLCduZXh0U2libGluZycsMSk7fSxjb250ZW50czpmdW5jdGlvbiBjb250ZW50cyhub2RlKXtyZXR1cm4gVG9vbHMudG9BcnJheSgobm9kZS5ub2RlTmFtZT09PSdpZnJhbWUnP25vZGUuY29udGVudERvY3VtZW50fHxub2RlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6bm9kZSkuY2hpbGROb2Rlcyk7fX0sZnVuY3Rpb24obmFtZSxmbil7RG9tUXVlcnlDb25zdHJ1Y3Rvci5mbltuYW1lXT1mdW5jdGlvbihzZWxlY3Rvcil7dmFyIHNlbGY9dGhpczt2YXIgcmVzdWx0PVtdO3NlbGYuZWFjaChmdW5jdGlvbigpe3ZhciBub2Rlcz1mbi5jYWxsKHJlc3VsdCx0aGlzLHNlbGVjdG9yLHJlc3VsdCk7aWYobm9kZXMpe2lmKERvbVF1ZXJ5LmlzQXJyYXkobm9kZXMpKXtyZXN1bHQucHVzaC5hcHBseShyZXN1bHQsbm9kZXMpO31lbHNle3Jlc3VsdC5wdXNoKG5vZGVzKTt9fX0pO2lmKHRoaXMubGVuZ3RoPjEpe2lmKCFza2lwVW5pcXVlc1tuYW1lXSl7cmVzdWx0PURvbVF1ZXJ5LnVuaXF1ZShyZXN1bHQpO31pZihuYW1lLmluZGV4T2YoJ3BhcmVudHMnKT09PTApe3Jlc3VsdD1yZXN1bHQucmV2ZXJzZSgpO319dmFyIHdyYXBwZWRSZXN1bHQ9RG9tUXVlcnkocmVzdWx0KTtpZihzZWxlY3Rvcil7cmV0dXJuIHdyYXBwZWRSZXN1bHQuZmlsdGVyKHNlbGVjdG9yKTt9cmV0dXJuIHdyYXBwZWRSZXN1bHQ7fTt9KTtlYWNoJDQoe3BhcmVudHNVbnRpbDpmdW5jdGlvbiBwYXJlbnRzVW50aWwobm9kZSx1bnRpbCl7cmV0dXJuIGRpcihub2RlLCdwYXJlbnROb2RlJyx1bnRpbCk7fSxuZXh0VW50aWw6ZnVuY3Rpb24gbmV4dFVudGlsKG5vZGUsdW50aWwpe3JldHVybiBzaWJsaW5nKG5vZGUsJ25leHRTaWJsaW5nJywxLHVudGlsKS5zbGljZSgxKTt9LHByZXZVbnRpbDpmdW5jdGlvbiBwcmV2VW50aWwobm9kZSx1bnRpbCl7cmV0dXJuIHNpYmxpbmcobm9kZSwncHJldmlvdXNTaWJsaW5nJywxLHVudGlsKS5zbGljZSgxKTt9fSxmdW5jdGlvbihuYW1lLGZuKXtEb21RdWVyeUNvbnN0cnVjdG9yLmZuW25hbWVdPWZ1bmN0aW9uKHNlbGVjdG9yLGZpbHRlcil7dmFyIHNlbGY9dGhpczt2YXIgcmVzdWx0PVtdO3NlbGYuZWFjaChmdW5jdGlvbigpe3ZhciBub2Rlcz1mbi5jYWxsKHJlc3VsdCx0aGlzLHNlbGVjdG9yLHJlc3VsdCk7aWYobm9kZXMpe2lmKERvbVF1ZXJ5LmlzQXJyYXkobm9kZXMpKXtyZXN1bHQucHVzaC5hcHBseShyZXN1bHQsbm9kZXMpO31lbHNle3Jlc3VsdC5wdXNoKG5vZGVzKTt9fX0pO2lmKHRoaXMubGVuZ3RoPjEpe3Jlc3VsdD1Eb21RdWVyeS51bmlxdWUocmVzdWx0KTtpZihuYW1lLmluZGV4T2YoJ3BhcmVudHMnKT09PTB8fG5hbWU9PT0ncHJldlVudGlsJyl7cmVzdWx0PXJlc3VsdC5yZXZlcnNlKCk7fX12YXIgd3JhcHBlZFJlc3VsdD1Eb21RdWVyeShyZXN1bHQpO2lmKGZpbHRlcil7cmV0dXJuIHdyYXBwZWRSZXN1bHQuZmlsdGVyKGZpbHRlcik7fXJldHVybiB3cmFwcGVkUmVzdWx0O307fSk7RG9tUXVlcnlDb25zdHJ1Y3Rvci5mbi5pcz1mdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuISFzZWxlY3RvciYmdGhpcy5maWx0ZXIoc2VsZWN0b3IpLmxlbmd0aD4wO307RG9tUXVlcnlDb25zdHJ1Y3Rvci5mbi5pbml0LnByb3RvdHlwZT1Eb21RdWVyeUNvbnN0cnVjdG9yLmZuO0RvbVF1ZXJ5Q29uc3RydWN0b3Iub3ZlcnJpZGVEZWZhdWx0cz1mdW5jdGlvbihjYWxsYmFjayl7dmFyIGRlZmF1bHRzO3ZhciBzdWI9ZnVuY3Rpb24gc3ViKHNlbGVjdG9yLGNvbnRleHQpe2RlZmF1bHRzPWRlZmF1bHRzfHxjYWxsYmFjaygpO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXtzZWxlY3Rvcj1kZWZhdWx0cy5lbGVtZW50O31pZighY29udGV4dCl7Y29udGV4dD1kZWZhdWx0cy5jb250ZXh0O31yZXR1cm4gbmV3IHN1Yi5mbi5pbml0KHNlbGVjdG9yLGNvbnRleHQpO307RG9tUXVlcnkuZXh0ZW5kKHN1Yix0aGlzKTtyZXR1cm4gc3ViO307RG9tUXVlcnlDb25zdHJ1Y3Rvci5hdHRySG9va3M9YXR0ckhvb2tzO0RvbVF1ZXJ5Q29uc3RydWN0b3IuY3NzSG9va3M9Y3NzSG9va3M7dmFyIERvbVF1ZXJ5PURvbVF1ZXJ5Q29uc3RydWN0b3I7dmFyIFRyZWVXYWxrZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBUcmVlV2Fsa2VyKHN0YXJ0Tm9kZSxyb290Tm9kZSl7dGhpcy5ub2RlPXN0YXJ0Tm9kZTt0aGlzLnJvb3ROb2RlPXJvb3ROb2RlO3RoaXMuY3VycmVudD10aGlzLmN1cnJlbnQuYmluZCh0aGlzKTt0aGlzLm5leHQ9dGhpcy5uZXh0LmJpbmQodGhpcyk7dGhpcy5wcmV2PXRoaXMucHJldi5iaW5kKHRoaXMpO3RoaXMucHJldjI9dGhpcy5wcmV2Mi5iaW5kKHRoaXMpO31UcmVlV2Fsa2VyLnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZTt9O1RyZWVXYWxrZXIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oc2hhbGxvdyl7dGhpcy5ub2RlPXRoaXMuZmluZFNpYmxpbmcodGhpcy5ub2RlLCdmaXJzdENoaWxkJywnbmV4dFNpYmxpbmcnLHNoYWxsb3cpO3JldHVybiB0aGlzLm5vZGU7fTtUcmVlV2Fsa2VyLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKHNoYWxsb3cpe3RoaXMubm9kZT10aGlzLmZpbmRTaWJsaW5nKHRoaXMubm9kZSwnbGFzdENoaWxkJywncHJldmlvdXNTaWJsaW5nJyxzaGFsbG93KTtyZXR1cm4gdGhpcy5ub2RlO307VHJlZVdhbGtlci5wcm90b3R5cGUucHJldjI9ZnVuY3Rpb24oc2hhbGxvdyl7dGhpcy5ub2RlPXRoaXMuZmluZFByZXZpb3VzTm9kZSh0aGlzLm5vZGUsJ2xhc3RDaGlsZCcsJ3ByZXZpb3VzU2libGluZycsc2hhbGxvdyk7cmV0dXJuIHRoaXMubm9kZTt9O1RyZWVXYWxrZXIucHJvdG90eXBlLmZpbmRTaWJsaW5nPWZ1bmN0aW9uKG5vZGUsc3RhcnROYW1lLHNpYmxpbmdOYW1lLHNoYWxsb3cpe3ZhciBzaWJsaW5nLHBhcmVudDtpZihub2RlKXtpZighc2hhbGxvdyYmbm9kZVtzdGFydE5hbWVdKXtyZXR1cm4gbm9kZVtzdGFydE5hbWVdO31pZihub2RlIT09dGhpcy5yb290Tm9kZSl7c2libGluZz1ub2RlW3NpYmxpbmdOYW1lXTtpZihzaWJsaW5nKXtyZXR1cm4gc2libGluZzt9Zm9yKHBhcmVudD1ub2RlLnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQhPT10aGlzLnJvb3ROb2RlO3BhcmVudD1wYXJlbnQucGFyZW50Tm9kZSl7c2libGluZz1wYXJlbnRbc2libGluZ05hbWVdO2lmKHNpYmxpbmcpe3JldHVybiBzaWJsaW5nO319fX19O1RyZWVXYWxrZXIucHJvdG90eXBlLmZpbmRQcmV2aW91c05vZGU9ZnVuY3Rpb24obm9kZSxzdGFydE5hbWUsc2libGluZ05hbWUsc2hhbGxvdyl7dmFyIHNpYmxpbmcscGFyZW50LGNoaWxkO2lmKG5vZGUpe3NpYmxpbmc9bm9kZVtzaWJsaW5nTmFtZV07aWYodGhpcy5yb290Tm9kZSYmc2libGluZz09PXRoaXMucm9vdE5vZGUpe3JldHVybjt9aWYoc2libGluZyl7aWYoIXNoYWxsb3cpe2ZvcihjaGlsZD1zaWJsaW5nW3N0YXJ0TmFtZV07Y2hpbGQ7Y2hpbGQ9Y2hpbGRbc3RhcnROYW1lXSl7aWYoIWNoaWxkW3N0YXJ0TmFtZV0pe3JldHVybiBjaGlsZDt9fX1yZXR1cm4gc2libGluZzt9cGFyZW50PW5vZGUucGFyZW50Tm9kZTtpZihwYXJlbnQmJnBhcmVudCE9PXRoaXMucm9vdE5vZGUpe3JldHVybiBwYXJlbnQ7fX19O3JldHVybiBUcmVlV2Fsa2VyO30oKTt2YXIgYmVmb3JlPWZ1bmN0aW9uIGJlZm9yZShtYXJrZXIsZWxlbWVudCl7dmFyIHBhcmVudCQxPXBhcmVudChtYXJrZXIpO3BhcmVudCQxLmVhY2goZnVuY3Rpb24odil7di5kb20oKS5pbnNlcnRCZWZvcmUoZWxlbWVudC5kb20oKSxtYXJrZXIuZG9tKCkpO30pO307dmFyIGFmdGVyPWZ1bmN0aW9uIGFmdGVyKG1hcmtlcixlbGVtZW50KXt2YXIgc2libGluZz1uZXh0U2libGluZyhtYXJrZXIpO3NpYmxpbmcuZm9sZChmdW5jdGlvbigpe3ZhciBwYXJlbnQkMT1wYXJlbnQobWFya2VyKTtwYXJlbnQkMS5lYWNoKGZ1bmN0aW9uKHYpe2FwcGVuZCh2LGVsZW1lbnQpO30pO30sZnVuY3Rpb24odil7YmVmb3JlKHYsZWxlbWVudCk7fSk7fTt2YXIgcHJlcGVuZD1mdW5jdGlvbiBwcmVwZW5kKHBhcmVudCxlbGVtZW50KXt2YXIgZmlyc3RDaGlsZCQxPWZpcnN0Q2hpbGQocGFyZW50KTtmaXJzdENoaWxkJDEuZm9sZChmdW5jdGlvbigpe2FwcGVuZChwYXJlbnQsZWxlbWVudCk7fSxmdW5jdGlvbih2KXtwYXJlbnQuZG9tKCkuaW5zZXJ0QmVmb3JlKGVsZW1lbnQuZG9tKCksdi5kb20oKSk7fSk7fTt2YXIgYXBwZW5kPWZ1bmN0aW9uIGFwcGVuZChwYXJlbnQsZWxlbWVudCl7cGFyZW50LmRvbSgpLmFwcGVuZENoaWxkKGVsZW1lbnQuZG9tKCkpO307dmFyIHdyYXAkMT1mdW5jdGlvbiB3cmFwJDEoZWxlbWVudCx3cmFwcGVyKXtiZWZvcmUoZWxlbWVudCx3cmFwcGVyKTthcHBlbmQod3JhcHBlcixlbGVtZW50KTt9O3ZhciBiZWZvcmUkMT1mdW5jdGlvbiBiZWZvcmUkMShtYXJrZXIsZWxlbWVudHMpe2VhY2goZWxlbWVudHMsZnVuY3Rpb24oeCl7YmVmb3JlKG1hcmtlcix4KTt9KTt9O3ZhciBhcHBlbmQkMT1mdW5jdGlvbiBhcHBlbmQkMShwYXJlbnQsZWxlbWVudHMpe2VhY2goZWxlbWVudHMsZnVuY3Rpb24oeCl7YXBwZW5kKHBhcmVudCx4KTt9KTt9O3ZhciBlbXB0eT1mdW5jdGlvbiBlbXB0eShlbGVtZW50KXtlbGVtZW50LmRvbSgpLnRleHRDb250ZW50PScnO2VhY2goY2hpbGRyZW4oZWxlbWVudCksZnVuY3Rpb24ocm9ndWUpe3JlbW92ZSQxKHJvZ3VlKTt9KTt9O3ZhciByZW1vdmUkMT1mdW5jdGlvbiByZW1vdmUkMShlbGVtZW50KXt2YXIgZG9tPWVsZW1lbnQuZG9tKCk7aWYoZG9tLnBhcmVudE5vZGUhPT1udWxsKXtkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO319O3ZhciB1bndyYXA9ZnVuY3Rpb24gdW53cmFwKHdyYXBwZXIpe3ZhciBjaGlsZHJlbiQxPWNoaWxkcmVuKHdyYXBwZXIpO2lmKGNoaWxkcmVuJDEubGVuZ3RoPjApe2JlZm9yZSQxKHdyYXBwZXIsY2hpbGRyZW4kMSk7fXJlbW92ZSQxKHdyYXBwZXIpO307dmFyIHI9ZnVuY3Rpb24gcihsZWZ0LHRvcCl7dmFyIHRyYW5zbGF0ZT1mdW5jdGlvbiB0cmFuc2xhdGUoeCx5KXtyZXR1cm4gcihsZWZ0K3gsdG9wK3kpO307cmV0dXJue2xlZnQ6Y29uc3RhbnQobGVmdCksdG9wOmNvbnN0YW50KHRvcCksdHJhbnNsYXRlOnRyYW5zbGF0ZX07fTt2YXIgUG9zaXRpb24kMT1yO3ZhciBib3hQb3NpdGlvbj1mdW5jdGlvbiBib3hQb3NpdGlvbihkb20pe3ZhciBib3g9ZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBQb3NpdGlvbiQxKGJveC5sZWZ0LGJveC50b3ApO307dmFyIGZpcnN0RGVmaW5lZE9yWmVybz1mdW5jdGlvbiBmaXJzdERlZmluZWRPclplcm8oYSxiKXtyZXR1cm4gYSE9PXVuZGVmaW5lZD9hOmIhPT11bmRlZmluZWQ/YjowO307dmFyIGFic29sdXRlPWZ1bmN0aW9uIGFic29sdXRlKGVsZW1lbnQpe3ZhciBkb2M9ZWxlbWVudC5kb20oKS5vd25lckRvY3VtZW50O3ZhciBib2R5PWRvYy5ib2R5O3ZhciB3aW49ZG9jLmRlZmF1bHRWaWV3O3ZhciBodG1sPWRvYy5kb2N1bWVudEVsZW1lbnQ7aWYoYm9keT09PWVsZW1lbnQuZG9tKCkpe3JldHVybiBQb3NpdGlvbiQxKGJvZHkub2Zmc2V0TGVmdCxib2R5Lm9mZnNldFRvcCk7fXZhciBzY3JvbGxUb3A9Zmlyc3REZWZpbmVkT3JaZXJvKHdpbi5wYWdlWU9mZnNldCxodG1sLnNjcm9sbFRvcCk7dmFyIHNjcm9sbExlZnQ9Zmlyc3REZWZpbmVkT3JaZXJvKHdpbi5wYWdlWE9mZnNldCxodG1sLnNjcm9sbExlZnQpO3ZhciBjbGllbnRUb3A9Zmlyc3REZWZpbmVkT3JaZXJvKGh0bWwuY2xpZW50VG9wLGJvZHkuY2xpZW50VG9wKTt2YXIgY2xpZW50TGVmdD1maXJzdERlZmluZWRPclplcm8oaHRtbC5jbGllbnRMZWZ0LGJvZHkuY2xpZW50TGVmdCk7cmV0dXJuIHZpZXdwb3J0KGVsZW1lbnQpLnRyYW5zbGF0ZShzY3JvbGxMZWZ0LWNsaWVudExlZnQsc2Nyb2xsVG9wLWNsaWVudFRvcCk7fTt2YXIgdmlld3BvcnQ9ZnVuY3Rpb24gdmlld3BvcnQoZWxlbWVudCl7dmFyIGRvbT1lbGVtZW50LmRvbSgpO3ZhciBkb2M9ZG9tLm93bmVyRG9jdW1lbnQ7dmFyIGJvZHk9ZG9jLmJvZHk7aWYoYm9keT09PWRvbSl7cmV0dXJuIFBvc2l0aW9uJDEoYm9keS5vZmZzZXRMZWZ0LGJvZHkub2Zmc2V0VG9wKTt9aWYoIWluQm9keShlbGVtZW50KSl7cmV0dXJuIFBvc2l0aW9uJDEoMCwwKTt9cmV0dXJuIGJveFBvc2l0aW9uKGRvbSk7fTt2YXIgaXNTYWZhcmk9ZGV0ZWN0JDMoKS5icm93c2VyLmlzU2FmYXJpKCk7dmFyIGdldCQzPWZ1bmN0aW9uIGdldCQzKF9ET0Mpe3ZhciBkb2M9X0RPQyE9PXVuZGVmaW5lZD9fRE9DLmRvbSgpOmRvbUdsb2JhbHMuZG9jdW1lbnQ7dmFyIHg9ZG9jLmJvZHkuc2Nyb2xsTGVmdHx8ZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O3ZhciB5PWRvYy5ib2R5LnNjcm9sbFRvcHx8ZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7cmV0dXJuIFBvc2l0aW9uJDEoeCx5KTt9O3ZhciB0bz1mdW5jdGlvbiB0byh4LHksX0RPQyl7dmFyIGRvYz1fRE9DIT09dW5kZWZpbmVkP19ET0MuZG9tKCk6ZG9tR2xvYmFscy5kb2N1bWVudDt2YXIgd2luPWRvYy5kZWZhdWx0Vmlldzt3aW4uc2Nyb2xsVG8oeCx5KTt9O3ZhciBpbnRvVmlldz1mdW5jdGlvbiBpbnRvVmlldyhlbGVtZW50LGFsaWduVG9Ub3Ape2lmKGlzU2FmYXJpJiZpc0Z1bmN0aW9uKGVsZW1lbnQuZG9tKCkuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCkpe2VsZW1lbnQuZG9tKCkuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChmYWxzZSk7fWVsc2V7ZWxlbWVudC5kb20oKS5zY3JvbGxJbnRvVmlldyhhbGlnblRvVG9wKTt9fTt2YXIgYm91bmRzPWZ1bmN0aW9uIGJvdW5kcyh4LHksd2lkdGgsaGVpZ2h0KXtyZXR1cm57eDpjb25zdGFudCh4KSx5OmNvbnN0YW50KHkpLHdpZHRoOmNvbnN0YW50KHdpZHRoKSxoZWlnaHQ6Y29uc3RhbnQoaGVpZ2h0KSxyaWdodDpjb25zdGFudCh4K3dpZHRoKSxib3R0b206Y29uc3RhbnQoeStoZWlnaHQpfTt9O3ZhciBnZXRCb3VuZHM9ZnVuY3Rpb24gZ2V0Qm91bmRzKF93aW4pe3ZhciB3aW49X3dpbj09PXVuZGVmaW5lZD9kb21HbG9iYWxzLndpbmRvdzpfd2luO3ZhciBkb2M9d2luLmRvY3VtZW50O3ZhciBzY3JvbGw9Z2V0JDMoRWxlbWVudC5mcm9tRG9tKGRvYykpO3ZhciB2aXN1YWxWaWV3cG9ydD13aW5bJ3Zpc3VhbFZpZXdwb3J0J107aWYodmlzdWFsVmlld3BvcnQhPT11bmRlZmluZWQpe3JldHVybiBib3VuZHMoTWF0aC5tYXgodmlzdWFsVmlld3BvcnQucGFnZUxlZnQsc2Nyb2xsLmxlZnQoKSksTWF0aC5tYXgodmlzdWFsVmlld3BvcnQucGFnZVRvcCxzY3JvbGwudG9wKCkpLHZpc3VhbFZpZXdwb3J0LndpZHRoLHZpc3VhbFZpZXdwb3J0LmhlaWdodCk7fWVsc2V7dmFyIGh0bWw9ZG9jLmRvY3VtZW50RWxlbWVudDt2YXIgd2lkdGg9aHRtbC5jbGllbnRXaWR0aDt2YXIgaGVpZ2h0PWh0bWwuY2xpZW50SGVpZ2h0O3JldHVybiBib3VuZHMoc2Nyb2xsLmxlZnQoKSxzY3JvbGwudG9wKCksd2lkdGgsaGVpZ2h0KTt9fTt2YXIgZWFjaCQ1PVRvb2xzLmVhY2g7dmFyIGdyZXAkMT1Ub29scy5ncmVwO3ZhciBpc0lFPUVudi5pZTt2YXIgc2ltcGxlU2VsZWN0b3JSZT0vXihbYS16MC05XSw/KSskL2k7dmFyIHdoaXRlU3BhY2VSZWdFeHAkMj0vXlsgXHRcclxuXSokLzt2YXIgc2V0dXBBdHRySG9va3M9ZnVuY3Rpb24gc2V0dXBBdHRySG9va3Moc3R5bGVzLHNldHRpbmdzLGdldENvbnRleHQpe3ZhciBrZWVwVmFsdWVzPXNldHRpbmdzLmtlZXBfdmFsdWVzO3ZhciBrZWVwVXJsSG9vaz17c2V0OmZ1bmN0aW9uIHNldCgkZWxtLHZhbHVlLG5hbWUpe2lmKHNldHRpbmdzLnVybF9jb252ZXJ0ZXIpe3ZhbHVlPXNldHRpbmdzLnVybF9jb252ZXJ0ZXIuY2FsbChzZXR0aW5ncy51cmxfY29udmVydGVyX3Njb3BlfHxnZXRDb250ZXh0KCksdmFsdWUsbmFtZSwkZWxtWzBdKTt9JGVsbS5hdHRyKCdkYXRhLW1jZS0nK25hbWUsdmFsdWUpLmF0dHIobmFtZSx2YWx1ZSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KCRlbG0sbmFtZSl7cmV0dXJuICRlbG0uYXR0cignZGF0YS1tY2UtJytuYW1lKXx8JGVsbS5hdHRyKG5hbWUpO319O3ZhciBhdHRySG9va3M9e3N0eWxlOntzZXQ6ZnVuY3Rpb24gc2V0KCRlbG0sdmFsdWUpe2lmKHZhbHVlIT09bnVsbCYmX3R5cGVvZih2YWx1ZSk9PT0nb2JqZWN0Jyl7JGVsbS5jc3ModmFsdWUpO3JldHVybjt9aWYoa2VlcFZhbHVlcyl7JGVsbS5hdHRyKCdkYXRhLW1jZS1zdHlsZScsdmFsdWUpO30kZWxtLmF0dHIoJ3N0eWxlJyx2YWx1ZSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KCRlbG0pe3ZhciB2YWx1ZT0kZWxtLmF0dHIoJ2RhdGEtbWNlLXN0eWxlJyl8fCRlbG0uYXR0cignc3R5bGUnKTt2YWx1ZT1zdHlsZXMuc2VyaWFsaXplKHN0eWxlcy5wYXJzZSh2YWx1ZSksJGVsbVswXS5ub2RlTmFtZSk7cmV0dXJuIHZhbHVlO319fTtpZihrZWVwVmFsdWVzKXthdHRySG9va3MuaHJlZj1hdHRySG9va3Muc3JjPWtlZXBVcmxIb29rO31yZXR1cm4gYXR0ckhvb2tzO307dmFyIHVwZGF0ZUludGVybmFsU3R5bGVBdHRyPWZ1bmN0aW9uIHVwZGF0ZUludGVybmFsU3R5bGVBdHRyKHN0eWxlcywkZWxtKXt2YXIgcmF3VmFsdWU9JGVsbS5hdHRyKCdzdHlsZScpO3ZhciB2YWx1ZT1zdHlsZXMuc2VyaWFsaXplKHN0eWxlcy5wYXJzZShyYXdWYWx1ZSksJGVsbVswXS5ub2RlTmFtZSk7aWYoIXZhbHVlKXt2YWx1ZT1udWxsO30kZWxtLmF0dHIoJ2RhdGEtbWNlLXN0eWxlJyx2YWx1ZSk7fTt2YXIgZmluZE5vZGVJbmRleD1mdW5jdGlvbiBmaW5kTm9kZUluZGV4KG5vZGUsbm9ybWFsaXplZCl7dmFyIGlkeD0wLGxhc3ROb2RlVHlwZSxub2RlVHlwZTtpZihub2RlKXtmb3IobGFzdE5vZGVUeXBlPW5vZGUubm9kZVR5cGUsbm9kZT1ub2RlLnByZXZpb3VzU2libGluZztub2RlO25vZGU9bm9kZS5wcmV2aW91c1NpYmxpbmcpe25vZGVUeXBlPW5vZGUubm9kZVR5cGU7aWYobm9ybWFsaXplZCYmbm9kZVR5cGU9PT0zKXtpZihub2RlVHlwZT09PWxhc3ROb2RlVHlwZXx8IW5vZGUubm9kZVZhbHVlLmxlbmd0aCl7Y29udGludWU7fX1pZHgrKztsYXN0Tm9kZVR5cGU9bm9kZVR5cGU7fX1yZXR1cm4gaWR4O307ZnVuY3Rpb24gRE9NVXRpbHMoZG9jLHNldHRpbmdzKXt2YXIgX3RoaXM9dGhpcztpZihzZXR0aW5ncz09PXZvaWQgMCl7c2V0dGluZ3M9e307fXZhciBhdHRySG9va3M7dmFyIGFkZGVkU3R5bGVzPXt9O3ZhciB3aW49ZG9tR2xvYmFscy53aW5kb3c7dmFyIGZpbGVzPXt9O3ZhciBjb3VudGVyPTA7dmFyIHN0ZE1vZGU9dHJ1ZTt2YXIgYm94TW9kZWw9dHJ1ZTt2YXIgc3R5bGVTaGVldExvYWRlcj1TdHlsZVNoZWV0TG9hZGVyKGRvYyx7Y29udGVudENzc0NvcnM6c2V0dGluZ3MuY29udGVudENzc0NvcnMscmVmZXJyZXJQb2xpY3k6c2V0dGluZ3MucmVmZXJyZXJQb2xpY3l9KTt2YXIgYm91bmRFdmVudHM9W107dmFyIHNjaGVtYT1zZXR0aW5ncy5zY2hlbWE/c2V0dGluZ3Muc2NoZW1hOlNjaGVtYSh7fSk7dmFyIHN0eWxlcz1TdHlsZXMoe3VybF9jb252ZXJ0ZXI6c2V0dGluZ3MudXJsX2NvbnZlcnRlcix1cmxfY29udmVydGVyX3Njb3BlOnNldHRpbmdzLnVybF9jb252ZXJ0ZXJfc2NvcGV9LHNldHRpbmdzLnNjaGVtYSk7dmFyIGV2ZW50cz1zZXR0aW5ncy5vd25FdmVudHM/bmV3IEV2ZW50VXRpbHMoKTpFdmVudFV0aWxzLkV2ZW50O3ZhciBibG9ja0VsZW1lbnRzTWFwPXNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCk7dmFyICQ9RG9tUXVlcnkub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0OmRvYyxlbGVtZW50OnNlbGYuZ2V0Um9vdCgpfTt9KTt2YXIgaXNCbG9jaz1mdW5jdGlvbiBpc0Jsb2NrKG5vZGUpe2lmKHR5cGVvZiBub2RlPT09J3N0cmluZycpe3JldHVybiEhYmxvY2tFbGVtZW50c01hcFtub2RlXTt9ZWxzZSBpZihub2RlKXt2YXIgdHlwZT1ub2RlLm5vZGVUeXBlO2lmKHR5cGUpe3JldHVybiEhKHR5cGU9PT0xJiZibG9ja0VsZW1lbnRzTWFwW25vZGUubm9kZU5hbWVdKTt9fXJldHVybiBmYWxzZTt9O3ZhciBnZXQ9ZnVuY3Rpb24gZ2V0KGVsbSl7aWYoZWxtJiZkb2MmJnR5cGVvZiBlbG09PT0nc3RyaW5nJyl7dmFyIG5vZGU9ZG9jLmdldEVsZW1lbnRCeUlkKGVsbSk7aWYobm9kZSYmbm9kZS5pZCE9PWVsbSl7cmV0dXJuIGRvYy5nZXRFbGVtZW50c0J5TmFtZShlbG0pWzFdO31lbHNle3JldHVybiBub2RlO319cmV0dXJuIGVsbTt9O3ZhciAkJD1mdW5jdGlvbiAkJChlbG0pe2lmKHR5cGVvZiBlbG09PT0nc3RyaW5nJyl7ZWxtPWdldChlbG0pO31yZXR1cm4gJChlbG0pO307dmFyIGdldEF0dHJpYj1mdW5jdGlvbiBnZXRBdHRyaWIoZWxtLG5hbWUsZGVmYXVsdFZhbCl7dmFyIGhvb2ssdmFsdWU7dmFyICRlbG09JCQoZWxtKTtpZigkZWxtLmxlbmd0aCl7aG9vaz1hdHRySG9va3NbbmFtZV07aWYoaG9vayYmaG9vay5nZXQpe3ZhbHVlPWhvb2suZ2V0KCRlbG0sbmFtZSk7fWVsc2V7dmFsdWU9JGVsbS5hdHRyKG5hbWUpO319aWYodHlwZW9mIHZhbHVlPT09J3VuZGVmaW5lZCcpe3ZhbHVlPWRlZmF1bHRWYWx8fCcnO31yZXR1cm4gdmFsdWU7fTt2YXIgZ2V0QXR0cmlicz1mdW5jdGlvbiBnZXRBdHRyaWJzKGVsbSl7dmFyIG5vZGU9Z2V0KGVsbSk7aWYoIW5vZGUpe3JldHVybltdO31yZXR1cm4gbm9kZS5hdHRyaWJ1dGVzO307dmFyIHNldEF0dHJpYj1mdW5jdGlvbiBzZXRBdHRyaWIoZWxtLG5hbWUsdmFsdWUpe3ZhciBvcmlnaW5hbFZhbHVlLGhvb2s7aWYodmFsdWU9PT0nJyl7dmFsdWU9bnVsbDt9dmFyICRlbG09JCQoZWxtKTtvcmlnaW5hbFZhbHVlPSRlbG0uYXR0cihuYW1lKTtpZighJGVsbS5sZW5ndGgpe3JldHVybjt9aG9vaz1hdHRySG9va3NbbmFtZV07aWYoaG9vayYmaG9vay5zZXQpe2hvb2suc2V0KCRlbG0sdmFsdWUsbmFtZSk7fWVsc2V7JGVsbS5hdHRyKG5hbWUsdmFsdWUpO31pZihvcmlnaW5hbFZhbHVlIT09dmFsdWUmJnNldHRpbmdzLm9uU2V0QXR0cmliKXtzZXR0aW5ncy5vblNldEF0dHJpYih7YXR0ckVsbTokZWxtLGF0dHJOYW1lOm5hbWUsYXR0clZhbHVlOnZhbHVlfSk7fX07dmFyIGNsb25lPWZ1bmN0aW9uIGNsb25lKG5vZGUsZGVlcCl7aWYoIWlzSUV8fG5vZGUubm9kZVR5cGUhPT0xfHxkZWVwKXtyZXR1cm4gbm9kZS5jbG9uZU5vZGUoZGVlcCk7fWlmKCFkZWVwKXt2YXIgY2xvbmVfMT1kb2MuY3JlYXRlRWxlbWVudChub2RlLm5vZGVOYW1lKTtlYWNoJDUoZ2V0QXR0cmlicyhub2RlKSxmdW5jdGlvbihhdHRyKXtzZXRBdHRyaWIoY2xvbmVfMSxhdHRyLm5vZGVOYW1lLGdldEF0dHJpYihub2RlLGF0dHIubm9kZU5hbWUpKTt9KTtyZXR1cm4gY2xvbmVfMTt9cmV0dXJuIG51bGw7fTt2YXIgZ2V0Um9vdD1mdW5jdGlvbiBnZXRSb290KCl7cmV0dXJuIHNldHRpbmdzLnJvb3RfZWxlbWVudHx8ZG9jLmJvZHk7fTt2YXIgZ2V0Vmlld1BvcnQ9ZnVuY3Rpb24gZ2V0Vmlld1BvcnQoYXJnV2luKXt2YXIgdnA9Z2V0Qm91bmRzKGFyZ1dpbik7cmV0dXJue3g6dnAueCgpLHk6dnAueSgpLHc6dnAud2lkdGgoKSxoOnZwLmhlaWdodCgpfTt9O3ZhciBnZXRQb3M9ZnVuY3Rpb24gZ2V0UG9zKGVsbSxyb290RWxtKXtyZXR1cm4gUG9zaXRpb24uZ2V0UG9zKGRvYy5ib2R5LGdldChlbG0pLHJvb3RFbG0pO307dmFyIHNldFN0eWxlPWZ1bmN0aW9uIHNldFN0eWxlKGVsbSxuYW1lLHZhbHVlKXt2YXIgJGVsbT1pc1N0cmluZyhuYW1lKT8kJChlbG0pLmNzcyhuYW1lLHZhbHVlKTokJChlbG0pLmNzcyhuYW1lKTtpZihzZXR0aW5ncy51cGRhdGVfc3R5bGVzKXt1cGRhdGVJbnRlcm5hbFN0eWxlQXR0cihzdHlsZXMsJGVsbSk7fX07dmFyIHNldFN0eWxlcz1mdW5jdGlvbiBzZXRTdHlsZXMoZWxtLHN0eWxlc0FyZyl7dmFyICRlbG09JCQoZWxtKS5jc3Moc3R5bGVzQXJnKTtpZihzZXR0aW5ncy51cGRhdGVfc3R5bGVzKXt1cGRhdGVJbnRlcm5hbFN0eWxlQXR0cihzdHlsZXMsJGVsbSk7fX07dmFyIGdldFN0eWxlPWZ1bmN0aW9uIGdldFN0eWxlKGVsbSxuYW1lLGNvbXB1dGVkKXt2YXIgJGVsbT0kJChlbG0pO2lmKGNvbXB1dGVkKXtyZXR1cm4gJGVsbS5jc3MobmFtZSk7fW5hbWU9bmFtZS5yZXBsYWNlKC8tKFxEKS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKTt9KTtpZihuYW1lPT09J2Zsb2F0Jyl7bmFtZT1FbnYuYnJvd3Nlci5pc0lFKCk/J3N0eWxlRmxvYXQnOidjc3NGbG9hdCc7fXJldHVybiAkZWxtWzBdJiYkZWxtWzBdLnN0eWxlPyRlbG1bMF0uc3R5bGVbbmFtZV06dW5kZWZpbmVkO307dmFyIGdldFNpemU9ZnVuY3Rpb24gZ2V0U2l6ZShlbG0pe3ZhciB3LGg7ZWxtPWdldChlbG0pO3c9Z2V0U3R5bGUoZWxtLCd3aWR0aCcpO2g9Z2V0U3R5bGUoZWxtLCdoZWlnaHQnKTtpZih3LmluZGV4T2YoJ3B4Jyk9PT0tMSl7dz0wO31pZihoLmluZGV4T2YoJ3B4Jyk9PT0tMSl7aD0wO31yZXR1cm57dzpwYXJzZUludCh3LDEwKXx8ZWxtLm9mZnNldFdpZHRofHxlbG0uY2xpZW50V2lkdGgsaDpwYXJzZUludChoLDEwKXx8ZWxtLm9mZnNldEhlaWdodHx8ZWxtLmNsaWVudEhlaWdodH07fTt2YXIgZ2V0UmVjdD1mdW5jdGlvbiBnZXRSZWN0KGVsbSl7dmFyIHBvcyxzaXplO2VsbT1nZXQoZWxtKTtwb3M9Z2V0UG9zKGVsbSk7c2l6ZT1nZXRTaXplKGVsbSk7cmV0dXJue3g6cG9zLngseTpwb3MueSx3OnNpemUudyxoOnNpemUuaH07fTt2YXIgaXM9ZnVuY3Rpb24gaXMoZWxtLHNlbGVjdG9yKXt2YXIgaTtpZighZWxtKXtyZXR1cm4gZmFsc2U7fWlmKCFBcnJheS5pc0FycmF5KGVsbSkpe2lmKHNlbGVjdG9yPT09JyonKXtyZXR1cm4gZWxtLm5vZGVUeXBlPT09MTt9aWYoc2ltcGxlU2VsZWN0b3JSZS50ZXN0KHNlbGVjdG9yKSl7dmFyIHNlbGVjdG9ycz1zZWxlY3Rvci50b0xvd2VyQ2FzZSgpLnNwbGl0KC8sLyk7dmFyIGVsbU5hbWU9ZWxtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zm9yKGk9c2VsZWN0b3JzLmxlbmd0aC0xO2k+PTA7aS0tKXtpZihzZWxlY3RvcnNbaV09PT1lbG1OYW1lKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9aWYoZWxtLm5vZGVUeXBlJiZlbG0ubm9kZVR5cGUhPT0xKXtyZXR1cm4gZmFsc2U7fX12YXIgZWxtcz0hQXJyYXkuaXNBcnJheShlbG0pP1tlbG1dOmVsbTtyZXR1cm4gU2l6emxlKHNlbGVjdG9yLGVsbXNbMF0ub3duZXJEb2N1bWVudHx8ZWxtc1swXSxudWxsLGVsbXMpLmxlbmd0aD4wO307dmFyIGdldFBhcmVudHM9ZnVuY3Rpb24gZ2V0UGFyZW50cyhlbG0sc2VsZWN0b3Iscm9vdCxjb2xsZWN0KXt2YXIgcmVzdWx0PVtdO3ZhciBzZWxlY3RvclZhbDt2YXIgbm9kZT1nZXQoZWxtKTtjb2xsZWN0PWNvbGxlY3Q9PT11bmRlZmluZWQ7cm9vdD1yb290fHwoZ2V0Um9vdCgpLm5vZGVOYW1lIT09J0JPRFknP2dldFJvb3QoKS5wYXJlbnROb2RlOm51bGwpO2lmKFRvb2xzLmlzKHNlbGVjdG9yLCdzdHJpbmcnKSl7c2VsZWN0b3JWYWw9c2VsZWN0b3I7aWYoc2VsZWN0b3I9PT0nKicpe3NlbGVjdG9yPWZ1bmN0aW9uIHNlbGVjdG9yKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT09MTt9O31lbHNle3NlbGVjdG9yPWZ1bmN0aW9uIHNlbGVjdG9yKG5vZGUpe3JldHVybiBpcyhub2RlLHNlbGVjdG9yVmFsKTt9O319d2hpbGUobm9kZSl7aWYobm9kZT09PXJvb3R8fCFub2RlLm5vZGVUeXBlfHxub2RlLm5vZGVUeXBlPT09OSl7YnJlYWs7fWlmKCFzZWxlY3Rvcnx8dHlwZW9mIHNlbGVjdG9yPT09J2Z1bmN0aW9uJyYmc2VsZWN0b3Iobm9kZSkpe2lmKGNvbGxlY3Qpe3Jlc3VsdC5wdXNoKG5vZGUpO31lbHNle3JldHVybltub2RlXTt9fW5vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gY29sbGVjdD9yZXN1bHQ6bnVsbDt9O3ZhciBnZXRQYXJlbnQ9ZnVuY3Rpb24gZ2V0UGFyZW50KG5vZGUsc2VsZWN0b3Iscm9vdCl7dmFyIHBhcmVudHM9Z2V0UGFyZW50cyhub2RlLHNlbGVjdG9yLHJvb3QsZmFsc2UpO3JldHVybiBwYXJlbnRzJiZwYXJlbnRzLmxlbmd0aD4wP3BhcmVudHNbMF06bnVsbDt9O3ZhciBfZmluZFNpYj1mdW5jdGlvbiBfZmluZFNpYihub2RlLHNlbGVjdG9yLG5hbWUpe3ZhciBmdW5jPXNlbGVjdG9yO2lmKG5vZGUpe2lmKHR5cGVvZiBzZWxlY3Rvcj09PSdzdHJpbmcnKXtmdW5jPWZ1bmN0aW9uIGZ1bmMobm9kZSl7cmV0dXJuIGlzKG5vZGUsc2VsZWN0b3IpO307fWZvcihub2RlPW5vZGVbbmFtZV07bm9kZTtub2RlPW5vZGVbbmFtZV0pe2lmKHR5cGVvZiBmdW5jPT09J2Z1bmN0aW9uJyYmZnVuYyhub2RlKSl7cmV0dXJuIG5vZGU7fX19cmV0dXJuIG51bGw7fTt2YXIgZ2V0TmV4dD1mdW5jdGlvbiBnZXROZXh0KG5vZGUsc2VsZWN0b3Ipe3JldHVybiBfZmluZFNpYihub2RlLHNlbGVjdG9yLCduZXh0U2libGluZycpO307dmFyIGdldFByZXY9ZnVuY3Rpb24gZ2V0UHJldihub2RlLHNlbGVjdG9yKXtyZXR1cm4gX2ZpbmRTaWIobm9kZSxzZWxlY3RvciwncHJldmlvdXNTaWJsaW5nJyk7fTt2YXIgc2VsZWN0PWZ1bmN0aW9uIHNlbGVjdChzZWxlY3RvcixzY29wZSl7cmV0dXJuIFNpenpsZShzZWxlY3RvcixnZXQoc2NvcGUpfHxzZXR0aW5ncy5yb290X2VsZW1lbnR8fGRvYyxbXSk7fTt2YXIgcnVuPWZ1bmN0aW9uIHJ1bihlbG0sZnVuYyxzY29wZSl7dmFyIHJlc3VsdDt2YXIgbm9kZT10eXBlb2YgZWxtPT09J3N0cmluZyc/Z2V0KGVsbSk6ZWxtO2lmKCFub2RlKXtyZXR1cm4gZmFsc2U7fWlmKFRvb2xzLmlzQXJyYXkobm9kZSkmJihub2RlLmxlbmd0aHx8bm9kZS5sZW5ndGg9PT0wKSl7cmVzdWx0PVtdO2VhY2gkNShub2RlLGZ1bmN0aW9uKGVsbSxpKXtpZihlbG0pe2lmKHR5cGVvZiBlbG09PT0nc3RyaW5nJyl7ZWxtPWdldChlbG0pO31yZXN1bHQucHVzaChmdW5jLmNhbGwoc2NvcGUsZWxtLGkpKTt9fSk7cmV0dXJuIHJlc3VsdDt9dmFyIGNvbnRleHQ9c2NvcGU/c2NvcGU6X3RoaXM7cmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LG5vZGUpO307dmFyIHNldEF0dHJpYnM9ZnVuY3Rpb24gc2V0QXR0cmlicyhlbG0sYXR0cnMpeyQkKGVsbSkuZWFjaChmdW5jdGlvbihpLG5vZGUpe2VhY2gkNShhdHRycyxmdW5jdGlvbih2YWx1ZSxuYW1lKXtzZXRBdHRyaWIobm9kZSxuYW1lLHZhbHVlKTt9KTt9KTt9O3ZhciBzZXRIVE1MPWZ1bmN0aW9uIHNldEhUTUwoZWxtLGh0bWwpe3ZhciAkZWxtPSQkKGVsbSk7aWYoaXNJRSl7JGVsbS5lYWNoKGZ1bmN0aW9uKGksdGFyZ2V0KXtpZih0YXJnZXQuY2FuSGF2ZUhUTUw9PT1mYWxzZSl7cmV0dXJuO313aGlsZSh0YXJnZXQuZmlyc3RDaGlsZCl7dGFyZ2V0LnJlbW92ZUNoaWxkKHRhcmdldC5maXJzdENoaWxkKTt9dHJ5e3RhcmdldC5pbm5lckhUTUw9Jzxicj4nK2h0bWw7dGFyZ2V0LnJlbW92ZUNoaWxkKHRhcmdldC5maXJzdENoaWxkKTt9Y2F0Y2goZXgpe0RvbVF1ZXJ5KCc8ZGl2PjwvZGl2PicpLmh0bWwoJzxicj4nK2h0bWwpLmNvbnRlbnRzKCkuc2xpY2UoMSkuYXBwZW5kVG8odGFyZ2V0KTt9cmV0dXJuIGh0bWw7fSk7fWVsc2V7JGVsbS5odG1sKGh0bWwpO319O3ZhciBhZGQ9ZnVuY3Rpb24gYWRkKHBhcmVudEVsbSxuYW1lLGF0dHJzLGh0bWwsY3JlYXRlKXtyZXR1cm4gcnVuKHBhcmVudEVsbSxmdW5jdGlvbihwYXJlbnRFbG0pe3ZhciBuZXdFbG09dHlwZW9mIG5hbWU9PT0nc3RyaW5nJz9kb2MuY3JlYXRlRWxlbWVudChuYW1lKTpuYW1lO3NldEF0dHJpYnMobmV3RWxtLGF0dHJzKTtpZihodG1sKXtpZih0eXBlb2YgaHRtbCE9PSdzdHJpbmcnJiZodG1sLm5vZGVUeXBlKXtuZXdFbG0uYXBwZW5kQ2hpbGQoaHRtbCk7fWVsc2UgaWYodHlwZW9mIGh0bWw9PT0nc3RyaW5nJyl7c2V0SFRNTChuZXdFbG0saHRtbCk7fX1yZXR1cm4hY3JlYXRlP3BhcmVudEVsbS5hcHBlbmRDaGlsZChuZXdFbG0pOm5ld0VsbTt9KTt9O3ZhciBjcmVhdGU9ZnVuY3Rpb24gY3JlYXRlKG5hbWUsYXR0cnMsaHRtbCl7cmV0dXJuIGFkZChkb2MuY3JlYXRlRWxlbWVudChuYW1lKSxuYW1lLGF0dHJzLGh0bWwsdHJ1ZSk7fTt2YXIgZGVjb2RlPUVudGl0aWVzLmRlY29kZTt2YXIgZW5jb2RlPUVudGl0aWVzLmVuY29kZUFsbFJhdzt2YXIgY3JlYXRlSFRNTD1mdW5jdGlvbiBjcmVhdGVIVE1MKG5hbWUsYXR0cnMsaHRtbCl7dmFyIG91dEh0bWw9Jycsa2V5O291dEh0bWwrPSc8JytuYW1lO2ZvcihrZXkgaW4gYXR0cnMpe2lmKGF0dHJzLmhhc093blByb3BlcnR5KGtleSkmJmF0dHJzW2tleV0hPT1udWxsJiZ0eXBlb2YgYXR0cnNba2V5XSE9PSd1bmRlZmluZWQnKXtvdXRIdG1sKz0nICcra2V5Kyc9IicrZW5jb2RlKGF0dHJzW2tleV0pKyciJzt9fWlmKHR5cGVvZiBodG1sIT09J3VuZGVmaW5lZCcpe3JldHVybiBvdXRIdG1sKyc+JytodG1sKyc8LycrbmFtZSsnPic7fXJldHVybiBvdXRIdG1sKycgLz4nO307dmFyIGNyZWF0ZUZyYWdtZW50PWZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50KGh0bWwpe3ZhciBub2RlO3ZhciBjb250YWluZXI9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO3ZhciBmcmFnPWRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoaHRtbCl7Y29udGFpbmVyLmlubmVySFRNTD1odG1sO313aGlsZShub2RlPWNvbnRhaW5lci5maXJzdENoaWxkKXtmcmFnLmFwcGVuZENoaWxkKG5vZGUpO31yZXR1cm4gZnJhZzt9O3ZhciByZW1vdmU9ZnVuY3Rpb24gcmVtb3ZlKG5vZGUsa2VlcENoaWxkcmVuKXt2YXIgJG5vZGU9JCQobm9kZSk7aWYoa2VlcENoaWxkcmVuKXskbm9kZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGNoaWxkO3doaWxlKGNoaWxkPXRoaXMuZmlyc3RDaGlsZCl7aWYoY2hpbGQubm9kZVR5cGU9PT0zJiZjaGlsZC5kYXRhLmxlbmd0aD09PTApe3RoaXMucmVtb3ZlQ2hpbGQoY2hpbGQpO31lbHNle3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsdGhpcyk7fX19KS5yZW1vdmUoKTt9ZWxzZXskbm9kZS5yZW1vdmUoKTt9cmV0dXJuICRub2RlLmxlbmd0aD4xPyRub2RlLnRvQXJyYXkoKTokbm9kZVswXTt9O3ZhciByZW1vdmVBbGxBdHRyaWJzPWZ1bmN0aW9uIHJlbW92ZUFsbEF0dHJpYnMoZSl7cmV0dXJuIHJ1bihlLGZ1bmN0aW9uKGUpe3ZhciBpO3ZhciBhdHRycz1lLmF0dHJpYnV0ZXM7Zm9yKGk9YXR0cnMubGVuZ3RoLTE7aT49MDtpLS0pe2UucmVtb3ZlQXR0cmlidXRlTm9kZShhdHRycy5pdGVtKGkpKTt9fSk7fTt2YXIgcGFyc2VTdHlsZT1mdW5jdGlvbiBwYXJzZVN0eWxlKGNzc1RleHQpe3JldHVybiBzdHlsZXMucGFyc2UoY3NzVGV4dCk7fTt2YXIgc2VyaWFsaXplU3R5bGU9ZnVuY3Rpb24gc2VyaWFsaXplU3R5bGUoc3R5bGVzQXJnLG5hbWUpe3JldHVybiBzdHlsZXMuc2VyaWFsaXplKHN0eWxlc0FyZyxuYW1lKTt9O3ZhciBhZGRTdHlsZT1mdW5jdGlvbiBhZGRTdHlsZShjc3NUZXh0KXt2YXIgaGVhZCxzdHlsZUVsbTtpZihzZWxmIT09RE9NVXRpbHMuRE9NJiZkb2M9PT1kb21HbG9iYWxzLmRvY3VtZW50KXtpZihhZGRlZFN0eWxlc1tjc3NUZXh0XSl7cmV0dXJuO31hZGRlZFN0eWxlc1tjc3NUZXh0XT10cnVlO31zdHlsZUVsbT1kb2MuZ2V0RWxlbWVudEJ5SWQoJ21jZURlZmF1bHRTdHlsZXMnKTtpZighc3R5bGVFbG0pe3N0eWxlRWxtPWRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO3N0eWxlRWxtLmlkPSdtY2VEZWZhdWx0U3R5bGVzJztzdHlsZUVsbS50eXBlPSd0ZXh0L2Nzcyc7aGVhZD1kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtpZihoZWFkLmZpcnN0Q2hpbGQpe2hlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxtLGhlYWQuZmlyc3RDaGlsZCk7fWVsc2V7aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsbSk7fX1pZihzdHlsZUVsbS5zdHlsZVNoZWV0KXtzdHlsZUVsbS5zdHlsZVNoZWV0LmNzc1RleHQrPWNzc1RleHQ7fWVsc2V7c3R5bGVFbG0uYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzc1RleHQpKTt9fTt2YXIgbG9hZENTUz1mdW5jdGlvbiBsb2FkQ1NTKHVybCl7dmFyIGhlYWQ7aWYoc2VsZiE9PURPTVV0aWxzLkRPTSYmZG9jPT09ZG9tR2xvYmFscy5kb2N1bWVudCl7RE9NVXRpbHMuRE9NLmxvYWRDU1ModXJsKTtyZXR1cm47fWlmKCF1cmwpe3VybD0nJzt9aGVhZD1kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtlYWNoJDUodXJsLnNwbGl0KCcsJyksZnVuY3Rpb24odXJsKXt2YXIgbGluazt1cmw9VG9vbHMuX2FkZENhY2hlU3VmZml4KHVybCk7aWYoZmlsZXNbdXJsXSl7cmV0dXJuO31maWxlc1t1cmxdPXRydWU7bGluaz1jcmVhdGUoJ2xpbmsnLF9hc3NpZ24oX2Fzc2lnbih7cmVsOidzdHlsZXNoZWV0Jyx0eXBlOid0ZXh0L2NzcycsaHJlZjp1cmx9LHNldHRpbmdzLmNvbnRlbnRDc3NDb3JzP3tjcm9zc09yaWdpbjonYW5vbnltb3VzJ306e30pLHNldHRpbmdzLnJlZmVycmVyUG9saWN5P3tyZWZlcnJlclBvbGljeTpzZXR0aW5ncy5yZWZlcnJlclBvbGljeX06e30pKTtoZWFkLmFwcGVuZENoaWxkKGxpbmspO30pO307dmFyIHRvZ2dsZUNsYXNzPWZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsbSxjbHMsc3RhdGUpeyQkKGVsbSkudG9nZ2xlQ2xhc3MoY2xzLHN0YXRlKS5lYWNoKGZ1bmN0aW9uKCl7aWYodGhpcy5jbGFzc05hbWU9PT0nJyl7RG9tUXVlcnkodGhpcykuYXR0cignY2xhc3MnLG51bGwpO319KTt9O3ZhciBhZGRDbGFzcz1mdW5jdGlvbiBhZGRDbGFzcyhlbG0sY2xzKXskJChlbG0pLmFkZENsYXNzKGNscyk7fTt2YXIgcmVtb3ZlQ2xhc3M9ZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxtLGNscyl7dG9nZ2xlQ2xhc3MoZWxtLGNscyxmYWxzZSk7fTt2YXIgaGFzQ2xhc3M9ZnVuY3Rpb24gaGFzQ2xhc3MoZWxtLGNscyl7cmV0dXJuICQkKGVsbSkuaGFzQ2xhc3MoY2xzKTt9O3ZhciBzaG93PWZ1bmN0aW9uIHNob3coZWxtKXskJChlbG0pLnNob3coKTt9O3ZhciBoaWRlPWZ1bmN0aW9uIGhpZGUoZWxtKXskJChlbG0pLmhpZGUoKTt9O3ZhciBpc0hpZGRlbj1mdW5jdGlvbiBpc0hpZGRlbihlbG0pe3JldHVybiAkJChlbG0pLmNzcygnZGlzcGxheScpPT09J25vbmUnO307dmFyIHVuaXF1ZUlkPWZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCl7cmV0dXJuKCFwcmVmaXg/J21jZV8nOnByZWZpeCkrY291bnRlcisrO307dmFyIGdldE91dGVySFRNTD1mdW5jdGlvbiBnZXRPdXRlckhUTUwoZWxtKXt2YXIgbm9kZT10eXBlb2YgZWxtPT09J3N0cmluZyc/Z2V0KGVsbSk6ZWxtO3JldHVybiBOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSk/bm9kZS5vdXRlckhUTUw6RG9tUXVlcnkoJzxkaXY+PC9kaXY+JykuYXBwZW5kKERvbVF1ZXJ5KG5vZGUpLmNsb25lKCkpLmh0bWwoKTt9O3ZhciBzZXRPdXRlckhUTUw9ZnVuY3Rpb24gc2V0T3V0ZXJIVE1MKGVsbSxodG1sKXskJChlbG0pLmVhY2goZnVuY3Rpb24oKXt0cnl7aWYoJ291dGVySFRNTCdpbiB0aGlzKXt0aGlzLm91dGVySFRNTD1odG1sO3JldHVybjt9fWNhdGNoKGV4KXt9cmVtb3ZlKERvbVF1ZXJ5KHRoaXMpLmh0bWwoaHRtbCksdHJ1ZSk7fSk7fTt2YXIgaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIobm9kZSxyZWZlcmVuY2Upe3ZhciByZWZlcmVuY2VOb2RlPWdldChyZWZlcmVuY2UpO3JldHVybiBydW4obm9kZSxmdW5jdGlvbihub2RlKXt2YXIgcGFyZW50LG5leHRTaWJsaW5nO3BhcmVudD1yZWZlcmVuY2VOb2RlLnBhcmVudE5vZGU7bmV4dFNpYmxpbmc9cmVmZXJlbmNlTm9kZS5uZXh0U2libGluZztpZihuZXh0U2libGluZyl7cGFyZW50Lmluc2VydEJlZm9yZShub2RlLG5leHRTaWJsaW5nKTt9ZWxzZXtwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSk7fXJldHVybiBub2RlO30pO307dmFyIHJlcGxhY2U9ZnVuY3Rpb24gcmVwbGFjZShuZXdFbG0sb2xkRWxtLGtlZXBDaGlsZHJlbil7cmV0dXJuIHJ1bihvbGRFbG0sZnVuY3Rpb24ob2xkRWxtKXtpZihUb29scy5pcyhvbGRFbG0sJ2FycmF5Jykpe25ld0VsbT1uZXdFbG0uY2xvbmVOb2RlKHRydWUpO31pZihrZWVwQ2hpbGRyZW4pe2VhY2gkNShncmVwJDEob2xkRWxtLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKG5vZGUpe25ld0VsbS5hcHBlbmRDaGlsZChub2RlKTt9KTt9cmV0dXJuIG9sZEVsbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdFbG0sb2xkRWxtKTt9KTt9O3ZhciByZW5hbWU9ZnVuY3Rpb24gcmVuYW1lKGVsbSxuYW1lKXt2YXIgbmV3RWxtO2lmKGVsbS5ub2RlTmFtZSE9PW5hbWUudG9VcHBlckNhc2UoKSl7bmV3RWxtPWNyZWF0ZShuYW1lKTtlYWNoJDUoZ2V0QXR0cmlicyhlbG0pLGZ1bmN0aW9uKGF0dHJOb2RlKXtzZXRBdHRyaWIobmV3RWxtLGF0dHJOb2RlLm5vZGVOYW1lLGdldEF0dHJpYihlbG0sYXR0ck5vZGUubm9kZU5hbWUpKTt9KTtyZXBsYWNlKG5ld0VsbSxlbG0sdHJ1ZSk7fXJldHVybiBuZXdFbG18fGVsbTt9O3ZhciBmaW5kQ29tbW9uQW5jZXN0b3I9ZnVuY3Rpb24gZmluZENvbW1vbkFuY2VzdG9yKGEsYil7dmFyIHBzPWEscGU7d2hpbGUocHMpe3BlPWI7d2hpbGUocGUmJnBzIT09cGUpe3BlPXBlLnBhcmVudE5vZGU7fWlmKHBzPT09cGUpe2JyZWFrO31wcz1wcy5wYXJlbnROb2RlO31pZighcHMmJmEub3duZXJEb2N1bWVudCl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7fXJldHVybiBwczt9O3ZhciB0b0hleD1mdW5jdGlvbiB0b0hleChyZ2JWYWwpe3JldHVybiBzdHlsZXMudG9IZXgoVG9vbHMudHJpbShyZ2JWYWwpKTt9O3ZhciBpc0VtcHR5PWZ1bmN0aW9uIGlzRW1wdHkobm9kZSxlbGVtZW50cyl7dmFyIGksYXR0cmlidXRlcyx0eXBlLG5hbWUsYnJDb3VudD0wO25vZGU9bm9kZS5maXJzdENoaWxkO2lmKG5vZGUpe3ZhciB3YWxrZXI9bmV3IFRyZWVXYWxrZXIobm9kZSxub2RlLnBhcmVudE5vZGUpO3ZhciB3aGl0ZXNwYWNlPXNjaGVtYT9zY2hlbWEuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCk6e307ZWxlbWVudHM9ZWxlbWVudHN8fChzY2hlbWE/c2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTpudWxsKTtkb3t0eXBlPW5vZGUubm9kZVR5cGU7aWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpKXt2YXIgYm9ndXNWYWw9bm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLWJvZ3VzJyk7aWYoYm9ndXNWYWwpe25vZGU9d2Fsa2VyLm5leHQoYm9ndXNWYWw9PT0nYWxsJyk7Y29udGludWU7fW5hbWU9bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGVsZW1lbnRzJiZlbGVtZW50c1tuYW1lXSl7aWYobmFtZT09PSdicicpe2JyQ291bnQrKztub2RlPXdhbGtlci5uZXh0KCk7Y29udGludWU7fXJldHVybiBmYWxzZTt9YXR0cmlidXRlcz1nZXRBdHRyaWJzKG5vZGUpO2k9YXR0cmlidXRlcy5sZW5ndGg7d2hpbGUoaS0tKXtuYW1lPWF0dHJpYnV0ZXNbaV0ubm9kZU5hbWU7aWYobmFtZT09PSduYW1lJ3x8bmFtZT09PSdkYXRhLW1jZS1ib29rbWFyaycpe3JldHVybiBmYWxzZTt9fX1pZih0eXBlPT09OCl7cmV0dXJuIGZhbHNlO31pZih0eXBlPT09MyYmIXdoaXRlU3BhY2VSZWdFeHAkMi50ZXN0KG5vZGUubm9kZVZhbHVlKSl7cmV0dXJuIGZhbHNlO31pZih0eXBlPT09MyYmbm9kZS5wYXJlbnROb2RlJiZ3aGl0ZXNwYWNlW25vZGUucGFyZW50Tm9kZS5ub2RlTmFtZV0mJndoaXRlU3BhY2VSZWdFeHAkMi50ZXN0KG5vZGUubm9kZVZhbHVlKSl7cmV0dXJuIGZhbHNlO31ub2RlPXdhbGtlci5uZXh0KCk7fXdoaWxlKG5vZGUpO31yZXR1cm4gYnJDb3VudDw9MTt9O3ZhciBjcmVhdGVSbmc9ZnVuY3Rpb24gY3JlYXRlUm5nKCl7cmV0dXJuIGRvYy5jcmVhdGVSYW5nZSgpO307dmFyIHNwbGl0PWZ1bmN0aW9uIHNwbGl0KHBhcmVudEVsbSxzcGxpdEVsbSxyZXBsYWNlbWVudEVsbSl7dmFyIHI9Y3JlYXRlUm5nKCksYmVmLGFmdCxwYTtpZihwYXJlbnRFbG0mJnNwbGl0RWxtKXtyLnNldFN0YXJ0KHBhcmVudEVsbS5wYXJlbnROb2RlLGZpbmROb2RlSW5kZXgocGFyZW50RWxtKSk7ci5zZXRFbmQoc3BsaXRFbG0ucGFyZW50Tm9kZSxmaW5kTm9kZUluZGV4KHNwbGl0RWxtKSk7YmVmPXIuZXh0cmFjdENvbnRlbnRzKCk7cj1jcmVhdGVSbmcoKTtyLnNldFN0YXJ0KHNwbGl0RWxtLnBhcmVudE5vZGUsZmluZE5vZGVJbmRleChzcGxpdEVsbSkrMSk7ci5zZXRFbmQocGFyZW50RWxtLnBhcmVudE5vZGUsZmluZE5vZGVJbmRleChwYXJlbnRFbG0pKzEpO2FmdD1yLmV4dHJhY3RDb250ZW50cygpO3BhPXBhcmVudEVsbS5wYXJlbnROb2RlO3BhLmluc2VydEJlZm9yZShUcmltTm9kZS50cmltTm9kZShzZWxmLGJlZikscGFyZW50RWxtKTtpZihyZXBsYWNlbWVudEVsbSl7cGEuaW5zZXJ0QmVmb3JlKHJlcGxhY2VtZW50RWxtLHBhcmVudEVsbSk7fWVsc2V7cGEuaW5zZXJ0QmVmb3JlKHNwbGl0RWxtLHBhcmVudEVsbSk7fXBhLmluc2VydEJlZm9yZShUcmltTm9kZS50cmltTm9kZShzZWxmLGFmdCkscGFyZW50RWxtKTtyZW1vdmUocGFyZW50RWxtKTtyZXR1cm4gcmVwbGFjZW1lbnRFbG18fHNwbGl0RWxtO319O3ZhciBiaW5kPWZ1bmN0aW9uIGJpbmQodGFyZ2V0LG5hbWUsZnVuYyxzY29wZSl7aWYoVG9vbHMuaXNBcnJheSh0YXJnZXQpKXt2YXIgaT10YXJnZXQubGVuZ3RoO3ZhciBydj1bXTt3aGlsZShpLS0pe3J2W2ldPWJpbmQodGFyZ2V0W2ldLG5hbWUsZnVuYyxzY29wZSk7fXJldHVybiBydjt9aWYoc2V0dGluZ3MuY29sbGVjdCYmKHRhcmdldD09PWRvY3x8dGFyZ2V0PT09d2luKSl7Ym91bmRFdmVudHMucHVzaChbdGFyZ2V0LG5hbWUsZnVuYyxzY29wZV0pO31yZXR1cm4gZXZlbnRzLmJpbmQodGFyZ2V0LG5hbWUsZnVuYyxzY29wZXx8c2VsZik7fTt2YXIgdW5iaW5kPWZ1bmN0aW9uIHVuYmluZCh0YXJnZXQsbmFtZSxmdW5jKXt2YXIgaTtpZihUb29scy5pc0FycmF5KHRhcmdldCkpe2k9dGFyZ2V0Lmxlbmd0aDt2YXIgcnY9W107d2hpbGUoaS0tKXtydltpXT11bmJpbmQodGFyZ2V0W2ldLG5hbWUsZnVuYyk7fXJldHVybiBydjt9aWYoYm91bmRFdmVudHMmJih0YXJnZXQ9PT1kb2N8fHRhcmdldD09PXdpbikpe2k9Ym91bmRFdmVudHMubGVuZ3RoO3doaWxlKGktLSl7dmFyIGl0ZW09Ym91bmRFdmVudHNbaV07aWYodGFyZ2V0PT09aXRlbVswXSYmKCFuYW1lfHxuYW1lPT09aXRlbVsxXSkmJighZnVuY3x8ZnVuYz09PWl0ZW1bMl0pKXtldmVudHMudW5iaW5kKGl0ZW1bMF0saXRlbVsxXSxpdGVtWzJdKTt9fX1yZXR1cm4gZXZlbnRzLnVuYmluZCh0YXJnZXQsbmFtZSxmdW5jKTt9O3ZhciBmaXJlPWZ1bmN0aW9uIGZpcmUodGFyZ2V0LG5hbWUsZXZ0KXtyZXR1cm4gZXZlbnRzLmZpcmUodGFyZ2V0LG5hbWUsZXZ0KTt9O3ZhciBnZXRDb250ZW50RWRpdGFibGU9ZnVuY3Rpb24gZ2V0Q29udGVudEVkaXRhYmxlKG5vZGUpe2lmKG5vZGUmJk5vZGVUeXBlLmlzRWxlbWVudChub2RlKSl7dmFyIGNvbnRlbnRFZGl0YWJsZT1ub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1tY2UtY29udGVudGVkaXRhYmxlJyk7aWYoY29udGVudEVkaXRhYmxlJiZjb250ZW50RWRpdGFibGUhPT0naW5oZXJpdCcpe3JldHVybiBjb250ZW50RWRpdGFibGU7fXJldHVybiBub2RlLmNvbnRlbnRFZGl0YWJsZSE9PSdpbmhlcml0Jz9ub2RlLmNvbnRlbnRFZGl0YWJsZTpudWxsO31lbHNle3JldHVybiBudWxsO319O3ZhciBnZXRDb250ZW50RWRpdGFibGVQYXJlbnQ9ZnVuY3Rpb24gZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KG5vZGUpe3ZhciByb290PWdldFJvb3QoKTt2YXIgc3RhdGU9bnVsbDtmb3IoO25vZGUmJm5vZGUhPT1yb290O25vZGU9bm9kZS5wYXJlbnROb2RlKXtzdGF0ZT1nZXRDb250ZW50RWRpdGFibGUobm9kZSk7aWYoc3RhdGUhPT1udWxsKXticmVhazt9fXJldHVybiBzdGF0ZTt9O3ZhciBkZXN0cm95PWZ1bmN0aW9uIGRlc3Ryb3koKXtpZihib3VuZEV2ZW50cyl7dmFyIGk9Ym91bmRFdmVudHMubGVuZ3RoO3doaWxlKGktLSl7dmFyIGl0ZW09Ym91bmRFdmVudHNbaV07ZXZlbnRzLnVuYmluZChpdGVtWzBdLGl0ZW1bMV0saXRlbVsyXSk7fX1pZihTaXp6bGUuc2V0RG9jdW1lbnQpe1NpenpsZS5zZXREb2N1bWVudCgpO319O3ZhciBpc0NoaWxkT2Y9ZnVuY3Rpb24gaXNDaGlsZE9mKG5vZGUscGFyZW50KXt3aGlsZShub2RlKXtpZihwYXJlbnQ9PT1ub2RlKXtyZXR1cm4gdHJ1ZTt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBmYWxzZTt9O3ZhciBkdW1wUm5nPWZ1bmN0aW9uIGR1bXBSbmcocil7cmV0dXJuJ3N0YXJ0Q29udGFpbmVyOiAnK3Iuc3RhcnRDb250YWluZXIubm9kZU5hbWUrJywgc3RhcnRPZmZzZXQ6ICcrci5zdGFydE9mZnNldCsnLCBlbmRDb250YWluZXI6ICcrci5lbmRDb250YWluZXIubm9kZU5hbWUrJywgZW5kT2Zmc2V0OiAnK3IuZW5kT2Zmc2V0O307dmFyIHNlbGY9e2RvYzpkb2Msc2V0dGluZ3M6c2V0dGluZ3Msd2luOndpbixmaWxlczpmaWxlcyxzdGRNb2RlOnN0ZE1vZGUsYm94TW9kZWw6Ym94TW9kZWwsc3R5bGVTaGVldExvYWRlcjpzdHlsZVNoZWV0TG9hZGVyLGJvdW5kRXZlbnRzOmJvdW5kRXZlbnRzLHN0eWxlczpzdHlsZXMsc2NoZW1hOnNjaGVtYSxldmVudHM6ZXZlbnRzLGlzQmxvY2s6aXNCbG9jaywkOiQsJCQ6JCQscm9vdDpudWxsLGNsb25lOmNsb25lLGdldFJvb3Q6Z2V0Um9vdCxnZXRWaWV3UG9ydDpnZXRWaWV3UG9ydCxnZXRSZWN0OmdldFJlY3QsZ2V0U2l6ZTpnZXRTaXplLGdldFBhcmVudDpnZXRQYXJlbnQsZ2V0UGFyZW50czpnZXRQYXJlbnRzLGdldDpnZXQsZ2V0TmV4dDpnZXROZXh0LGdldFByZXY6Z2V0UHJldixzZWxlY3Q6c2VsZWN0LGlzOmlzLGFkZDphZGQsY3JlYXRlOmNyZWF0ZSxjcmVhdGVIVE1MOmNyZWF0ZUhUTUwsY3JlYXRlRnJhZ21lbnQ6Y3JlYXRlRnJhZ21lbnQscmVtb3ZlOnJlbW92ZSxzZXRTdHlsZTpzZXRTdHlsZSxnZXRTdHlsZTpnZXRTdHlsZSxzZXRTdHlsZXM6c2V0U3R5bGVzLHJlbW92ZUFsbEF0dHJpYnM6cmVtb3ZlQWxsQXR0cmlicyxzZXRBdHRyaWI6c2V0QXR0cmliLHNldEF0dHJpYnM6c2V0QXR0cmlicyxnZXRBdHRyaWI6Z2V0QXR0cmliLGdldFBvczpnZXRQb3MscGFyc2VTdHlsZTpwYXJzZVN0eWxlLHNlcmlhbGl6ZVN0eWxlOnNlcmlhbGl6ZVN0eWxlLGFkZFN0eWxlOmFkZFN0eWxlLGxvYWRDU1M6bG9hZENTUyxhZGRDbGFzczphZGRDbGFzcyxyZW1vdmVDbGFzczpyZW1vdmVDbGFzcyxoYXNDbGFzczpoYXNDbGFzcyx0b2dnbGVDbGFzczp0b2dnbGVDbGFzcyxzaG93OnNob3csaGlkZTpoaWRlLGlzSGlkZGVuOmlzSGlkZGVuLHVuaXF1ZUlkOnVuaXF1ZUlkLHNldEhUTUw6c2V0SFRNTCxnZXRPdXRlckhUTUw6Z2V0T3V0ZXJIVE1MLHNldE91dGVySFRNTDpzZXRPdXRlckhUTUwsZGVjb2RlOmRlY29kZSxlbmNvZGU6ZW5jb2RlLGluc2VydEFmdGVyOmluc2VydEFmdGVyLHJlcGxhY2U6cmVwbGFjZSxyZW5hbWU6cmVuYW1lLGZpbmRDb21tb25BbmNlc3RvcjpmaW5kQ29tbW9uQW5jZXN0b3IsdG9IZXg6dG9IZXgscnVuOnJ1bixnZXRBdHRyaWJzOmdldEF0dHJpYnMsaXNFbXB0eTppc0VtcHR5LGNyZWF0ZVJuZzpjcmVhdGVSbmcsbm9kZUluZGV4OmZpbmROb2RlSW5kZXgsc3BsaXQ6c3BsaXQsYmluZDpiaW5kLHVuYmluZDp1bmJpbmQsZmlyZTpmaXJlLGdldENvbnRlbnRFZGl0YWJsZTpnZXRDb250ZW50RWRpdGFibGUsZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50OmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCxkZXN0cm95OmRlc3Ryb3ksaXNDaGlsZE9mOmlzQ2hpbGRPZixkdW1wUm5nOmR1bXBSbmd9O2F0dHJIb29rcz1zZXR1cEF0dHJIb29rcyhzdHlsZXMsc2V0dGluZ3MsZnVuY3Rpb24oKXtyZXR1cm4gc2VsZjt9KTtyZXR1cm4gc2VsZjt9KGZ1bmN0aW9uKERPTVV0aWxzKXtET01VdGlscy5ET009RE9NVXRpbHMoZG9tR2xvYmFscy5kb2N1bWVudCk7RE9NVXRpbHMubm9kZUluZGV4PWZpbmROb2RlSW5kZXg7fSkoRE9NVXRpbHN8fChET01VdGlscz17fSkpO3ZhciBET01VdGlscyQxPURPTVV0aWxzO3ZhciBET009RE9NVXRpbHMkMS5ET007dmFyIGVhY2gkNj1Ub29scy5lYWNoLGdyZXAkMj1Ub29scy5ncmVwO3ZhciBRVUVVRUQ9MDt2YXIgTE9BRElORz0xO3ZhciBMT0FERUQ9Mjt2YXIgRkFJTEVEPTM7dmFyIFNjcmlwdExvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFNjcmlwdExvYWRlcihzZXR0aW5ncyl7aWYoc2V0dGluZ3M9PT12b2lkIDApe3NldHRpbmdzPXt9O310aGlzLnN0YXRlcz17fTt0aGlzLnF1ZXVlPVtdO3RoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzPXt9O3RoaXMucXVldWVMb2FkZWRDYWxsYmFja3M9W107dGhpcy5sb2FkaW5nPTA7dGhpcy5zZXR0aW5ncz1zZXR0aW5nczt9U2NyaXB0TG9hZGVyLnByb3RvdHlwZS5fc2V0UmVmZXJyZXJQb2xpY3k9ZnVuY3Rpb24ocmVmZXJyZXJQb2xpY3kpe3RoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3k9cmVmZXJyZXJQb2xpY3k7fTtTY3JpcHRMb2FkZXIucHJvdG90eXBlLmxvYWRTY3JpcHQ9ZnVuY3Rpb24odXJsLHN1Y2Nlc3MsZmFpbHVyZSl7dmFyIGRvbT1ET007dmFyIGVsbSxpZDt2YXIgZG9uZT1mdW5jdGlvbiBkb25lKCl7ZG9tLnJlbW92ZShpZCk7aWYoZWxtKXtlbG0ub25yZWFkeXN0YXRlY2hhbmdlPWVsbS5vbmxvYWQ9ZWxtPW51bGw7fXN1Y2Nlc3MoKTt9O3ZhciBlcnJvcj1mdW5jdGlvbiBlcnJvcigpe2lmKGlzRnVuY3Rpb24oZmFpbHVyZSkpe2ZhaWx1cmUoKTt9ZWxzZXtpZih0eXBlb2YgZG9tR2xvYmFscy5jb25zb2xlIT09J3VuZGVmaW5lZCcmJmRvbUdsb2JhbHMuY29uc29sZS5sb2cpe2RvbUdsb2JhbHMuY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2FkIHNjcmlwdDogJyt1cmwpO319fTtpZD1kb20udW5pcXVlSWQoKTtlbG09ZG9tR2xvYmFscy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtlbG0uaWQ9aWQ7ZWxtLnR5cGU9J3RleHQvamF2YXNjcmlwdCc7ZWxtLnNyYz1Ub29scy5fYWRkQ2FjaGVTdWZmaXgodXJsKTtpZih0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5KXtkb20uc2V0QXR0cmliKGVsbSwncmVmZXJyZXJwb2xpY3knLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kpO31lbG0ub25sb2FkPWRvbmU7ZWxtLm9uZXJyb3I9ZXJyb3I7KGRvbUdsb2JhbHMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXXx8ZG9tR2xvYmFscy5kb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChlbG0pO307U2NyaXB0TG9hZGVyLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24odXJsKXtyZXR1cm4gdGhpcy5zdGF0ZXNbdXJsXT09PUxPQURFRDt9O1NjcmlwdExvYWRlci5wcm90b3R5cGUubWFya0RvbmU9ZnVuY3Rpb24odXJsKXt0aGlzLnN0YXRlc1t1cmxdPUxPQURFRDt9O1NjcmlwdExvYWRlci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHVybCxzdWNjZXNzLHNjb3BlLGZhaWx1cmUpe3ZhciBzdGF0ZT10aGlzLnN0YXRlc1t1cmxdO2lmKHN0YXRlPT09dW5kZWZpbmVkKXt0aGlzLnF1ZXVlLnB1c2godXJsKTt0aGlzLnN0YXRlc1t1cmxdPVFVRVVFRDt9aWYoc3VjY2Vzcyl7aWYoIXRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW3VybF0pe3RoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW3VybF09W107fXRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW3VybF0ucHVzaCh7c3VjY2VzczpzdWNjZXNzLGZhaWx1cmU6ZmFpbHVyZSxzY29wZTpzY29wZXx8dGhpc30pO319O1NjcmlwdExvYWRlci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih1cmwsc3VjY2VzcyxzY29wZSxmYWlsdXJlKXtyZXR1cm4gdGhpcy5hZGQodXJsLHN1Y2Nlc3Msc2NvcGUsZmFpbHVyZSk7fTtTY3JpcHRMb2FkZXIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih1cmwpe2RlbGV0ZSB0aGlzLnN0YXRlc1t1cmxdO2RlbGV0ZSB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1t1cmxdO307U2NyaXB0TG9hZGVyLnByb3RvdHlwZS5sb2FkUXVldWU9ZnVuY3Rpb24oc3VjY2VzcyxzY29wZSxmYWlsdXJlKXt0aGlzLmxvYWRTY3JpcHRzKHRoaXMucXVldWUsc3VjY2VzcyxzY29wZSxmYWlsdXJlKTt9O1NjcmlwdExvYWRlci5wcm90b3R5cGUubG9hZFNjcmlwdHM9ZnVuY3Rpb24oc2NyaXB0cyxzdWNjZXNzLHNjb3BlLGZhaWx1cmUpe3ZhciBzZWxmPXRoaXM7dmFyIF9sb2FkU2NyaXB0czt2YXIgZmFpbHVyZXM9W107dmFyIGV4ZWNDYWxsYmFja3M9ZnVuY3Rpb24gZXhlY0NhbGxiYWNrcyhuYW1lLHVybCl7ZWFjaCQ2KHNlbGYuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW3VybF0sZnVuY3Rpb24oY2FsbGJhY2spe2lmKGlzRnVuY3Rpb24oY2FsbGJhY2tbbmFtZV0pKXtjYWxsYmFja1tuYW1lXS5jYWxsKGNhbGxiYWNrLnNjb3BlKTt9fSk7c2VsZi5zY3JpcHRMb2FkZWRDYWxsYmFja3NbdXJsXT11bmRlZmluZWQ7fTtzZWxmLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goe3N1Y2Nlc3M6c3VjY2VzcyxmYWlsdXJlOmZhaWx1cmUsc2NvcGU6c2NvcGV8fHRoaXN9KTtfbG9hZFNjcmlwdHM9ZnVuY3Rpb24gbG9hZFNjcmlwdHMoKXt2YXIgbG9hZGluZ1NjcmlwdHM9Z3JlcCQyKHNjcmlwdHMpO3NjcmlwdHMubGVuZ3RoPTA7ZWFjaCQ2KGxvYWRpbmdTY3JpcHRzLGZ1bmN0aW9uKHVybCl7aWYoc2VsZi5zdGF0ZXNbdXJsXT09PUxPQURFRCl7ZXhlY0NhbGxiYWNrcygnc3VjY2VzcycsdXJsKTtyZXR1cm47fWlmKHNlbGYuc3RhdGVzW3VybF09PT1GQUlMRUQpe2V4ZWNDYWxsYmFja3MoJ2ZhaWx1cmUnLHVybCk7cmV0dXJuO31pZihzZWxmLnN0YXRlc1t1cmxdIT09TE9BRElORyl7c2VsZi5zdGF0ZXNbdXJsXT1MT0FESU5HO3NlbGYubG9hZGluZysrO3NlbGYubG9hZFNjcmlwdCh1cmwsZnVuY3Rpb24oKXtzZWxmLnN0YXRlc1t1cmxdPUxPQURFRDtzZWxmLmxvYWRpbmctLTtleGVjQ2FsbGJhY2tzKCdzdWNjZXNzJyx1cmwpO19sb2FkU2NyaXB0cygpO30sZnVuY3Rpb24oKXtzZWxmLnN0YXRlc1t1cmxdPUZBSUxFRDtzZWxmLmxvYWRpbmctLTtmYWlsdXJlcy5wdXNoKHVybCk7ZXhlY0NhbGxiYWNrcygnZmFpbHVyZScsdXJsKTtfbG9hZFNjcmlwdHMoKTt9KTt9fSk7aWYoIXNlbGYubG9hZGluZyl7dmFyIG5vdGlmeUNhbGxiYWNrcz1zZWxmLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnNsaWNlKDApO3NlbGYucXVldWVMb2FkZWRDYWxsYmFja3MubGVuZ3RoPTA7ZWFjaCQ2KG5vdGlmeUNhbGxiYWNrcyxmdW5jdGlvbihjYWxsYmFjayl7aWYoZmFpbHVyZXMubGVuZ3RoPT09MCl7aWYoaXNGdW5jdGlvbihjYWxsYmFjay5zdWNjZXNzKSl7Y2FsbGJhY2suc3VjY2Vzcy5jYWxsKGNhbGxiYWNrLnNjb3BlKTt9fWVsc2V7aWYoaXNGdW5jdGlvbihjYWxsYmFjay5mYWlsdXJlKSl7Y2FsbGJhY2suZmFpbHVyZS5jYWxsKGNhbGxiYWNrLnNjb3BlLGZhaWx1cmVzKTt9fX0pO319O19sb2FkU2NyaXB0cygpO307U2NyaXB0TG9hZGVyLlNjcmlwdExvYWRlcj1uZXcgU2NyaXB0TG9hZGVyKCk7cmV0dXJuIFNjcmlwdExvYWRlcjt9KCk7dmFyIGlzUmF3PWZ1bmN0aW9uIGlzUmF3KHN0cil7cmV0dXJuIGlzT2JqZWN0KHN0cikmJmhhcyhzdHIsJ3JhdycpO307dmFyIGlzVG9rZW5pc2VkPWZ1bmN0aW9uIGlzVG9rZW5pc2VkKHN0cil7cmV0dXJuIGlzQXJyYXkoc3RyKSYmc3RyLmxlbmd0aD4xO307dmFyIGRhdGE9e307dmFyIGN1cnJlbnRDb2RlPUNlbGwoJ2VuJyk7dmFyIGdldERhdGE9ZnVuY3Rpb24gZ2V0RGF0YSgpe3JldHVybiBtYXAkMShkYXRhLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gX2Fzc2lnbih7fSx2YWx1ZSk7fSk7fTt2YXIgc2V0Q29kZT1mdW5jdGlvbiBzZXRDb2RlKG5ld0NvZGUpe2lmKG5ld0NvZGUpe2N1cnJlbnRDb2RlLnNldChuZXdDb2RlKTt9fTt2YXIgZ2V0Q29kZT1mdW5jdGlvbiBnZXRDb2RlKCl7cmV0dXJuIGN1cnJlbnRDb2RlLmdldCgpO307dmFyIGFkZD1mdW5jdGlvbiBhZGQoY29kZSxpdGVtcyl7dmFyIGxhbmdEYXRhPWRhdGFbY29kZV07aWYoIWxhbmdEYXRhKXtkYXRhW2NvZGVdPWxhbmdEYXRhPXt9O31mb3IodmFyIG5hbWUgaW4gaXRlbXMpe2xhbmdEYXRhW25hbWUudG9Mb3dlckNhc2UoKV09aXRlbXNbbmFtZV07fX07dmFyIHRyYW5zbGF0ZT1mdW5jdGlvbiB0cmFuc2xhdGUodGV4dCl7dmFyIGxhbmdEYXRhPWRhdGFbY3VycmVudENvZGUuZ2V0KCldfHx7fTt2YXIgdG9TdHJpbmc9ZnVuY3Rpb24gdG9TdHJpbmcob2JqKXtpZihpc0Z1bmN0aW9uKG9iaikpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTt9cmV0dXJuIWlzRW1wdHkob2JqKT8nJytvYmo6Jyc7fTt2YXIgaXNFbXB0eT1mdW5jdGlvbiBpc0VtcHR5KHRleHQpe3JldHVybiB0ZXh0PT09Jyd8fHRleHQ9PT1udWxsfHx0ZXh0PT09dW5kZWZpbmVkO307dmFyIGdldExhbmdEYXRhPWZ1bmN0aW9uIGdldExhbmdEYXRhKHRleHQpe3ZhciB0ZXh0c3RyPXRvU3RyaW5nKHRleHQpO3ZhciBsb3dlcmNhc2VUZXh0c3RyPXRleHRzdHIudG9Mb3dlckNhc2UoKTtyZXR1cm4gaGFzKGxhbmdEYXRhLGxvd2VyY2FzZVRleHRzdHIpP3RvU3RyaW5nKGxhbmdEYXRhW2xvd2VyY2FzZVRleHRzdHJdKTp0ZXh0c3RyO307dmFyIHJlbW92ZUNvbnRleHQ9ZnVuY3Rpb24gcmVtb3ZlQ29udGV4dChzdHIpe3JldHVybiBzdHIucmVwbGFjZSgve2NvbnRleHQ6XHcrfSQvLCcnKTt9O3ZhciB0cmFuc2xhdGVkPWZ1bmN0aW9uIHRyYW5zbGF0ZWQodGV4dCl7cmV0dXJuIHRleHQ7fTtpZihpc0VtcHR5KHRleHQpKXtyZXR1cm4gdHJhbnNsYXRlZCgnJyk7fWlmKGlzUmF3KHRleHQpKXtyZXR1cm4gdHJhbnNsYXRlZCh0b1N0cmluZyh0ZXh0LnJhdykpO31pZihpc1Rva2VuaXNlZCh0ZXh0KSl7dmFyIHZhbHVlc18xPXRleHQuc2xpY2UoMSk7dmFyIHN1YnN0aXR1ZWQ9Z2V0TGFuZ0RhdGEodGV4dFswXSkucmVwbGFjZSgvXHsoWzAtOV0rKVx9L2csZnVuY3Rpb24oJDEsJDIpe3JldHVybiBoYXModmFsdWVzXzEsJDIpP3RvU3RyaW5nKHZhbHVlc18xWyQyXSk6JDE7fSk7cmV0dXJuIHRyYW5zbGF0ZWQocmVtb3ZlQ29udGV4dChzdWJzdGl0dWVkKSk7fXJldHVybiB0cmFuc2xhdGVkKHJlbW92ZUNvbnRleHQoZ2V0TGFuZ0RhdGEodGV4dCkpKTt9O3ZhciBpc1J0bD1mdW5jdGlvbiBpc1J0bCgpe3JldHVybiBnZXQoZGF0YSxjdXJyZW50Q29kZS5nZXQoKSkuYmluZChmdW5jdGlvbihpdGVtcyl7cmV0dXJuIGdldChpdGVtcywnX2RpcicpO30pLmV4aXN0cyhmdW5jdGlvbihkaXIpe3JldHVybiBkaXI9PT0ncnRsJzt9KTt9O3ZhciBoYXNDb2RlPWZ1bmN0aW9uIGhhc0NvZGUoY29kZSl7cmV0dXJuIGhhcyhkYXRhLGNvZGUpO307dmFyIEkxOG49e2dldERhdGE6Z2V0RGF0YSxzZXRDb2RlOnNldENvZGUsZ2V0Q29kZTpnZXRDb2RlLGFkZDphZGQsdHJhbnNsYXRlOnRyYW5zbGF0ZSxpc1J0bDppc1J0bCxoYXNDb2RlOmhhc0NvZGV9O3ZhciBlYWNoJDc9VG9vbHMuZWFjaDtmdW5jdGlvbiBBZGRPbk1hbmFnZXIoKXt2YXIgX3RoaXM9dGhpczt2YXIgaXRlbXM9W107dmFyIHVybHM9e307dmFyIGxvb2t1cD17fTt2YXIgX2xpc3RlbmVycz1bXTt2YXIgZ2V0PWZ1bmN0aW9uIGdldChuYW1lKXtpZihsb29rdXBbbmFtZV0pe3JldHVybiBsb29rdXBbbmFtZV0uaW5zdGFuY2U7fXJldHVybiB1bmRlZmluZWQ7fTt2YXIgZGVwZW5kZW5jaWVzPWZ1bmN0aW9uIGRlcGVuZGVuY2llcyhuYW1lKXt2YXIgcmVzdWx0O2lmKGxvb2t1cFtuYW1lXSl7cmVzdWx0PWxvb2t1cFtuYW1lXS5kZXBlbmRlbmNpZXM7fXJldHVybiByZXN1bHR8fFtdO307dmFyIHJlcXVpcmVMYW5nUGFjaz1mdW5jdGlvbiByZXF1aXJlTGFuZ1BhY2sobmFtZSxsYW5ndWFnZXMpe3ZhciBsYW5ndWFnZT1JMThuLmdldENvZGUoKTtpZihsYW5ndWFnZSYmQWRkT25NYW5hZ2VyLmxhbmd1YWdlTG9hZCE9PWZhbHNlKXtpZihsYW5ndWFnZXMpe2xhbmd1YWdlcz0nLCcrbGFuZ3VhZ2VzKycsJztpZihsYW5ndWFnZXMuaW5kZXhPZignLCcrbGFuZ3VhZ2Uuc3Vic3RyKDAsMikrJywnKSE9PS0xKXtsYW5ndWFnZT1sYW5ndWFnZS5zdWJzdHIoMCwyKTt9ZWxzZSBpZihsYW5ndWFnZXMuaW5kZXhPZignLCcrbGFuZ3VhZ2UrJywnKT09PS0xKXtyZXR1cm47fX1TY3JpcHRMb2FkZXIuU2NyaXB0TG9hZGVyLmFkZCh1cmxzW25hbWVdKycvbGFuZ3MvJytsYW5ndWFnZSsnLmpzJyk7fX07dmFyIGFkZD1mdW5jdGlvbiBhZGQoaWQsYWRkT24sZGVwZW5kZW5jaWVzKXtpdGVtcy5wdXNoKGFkZE9uKTtsb29rdXBbaWRdPXtpbnN0YW5jZTphZGRPbixkZXBlbmRlbmNpZXM6ZGVwZW5kZW5jaWVzfTt2YXIgcmVzdWx0PXBhcnRpdGlvbihfbGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXtyZXR1cm4gbGlzdGVuZXIubmFtZT09PWlkO30pO19saXN0ZW5lcnM9cmVzdWx0LmZhaWw7ZWFjaCQ3KHJlc3VsdC5wYXNzLGZ1bmN0aW9uKGxpc3RlbmVyKXtsaXN0ZW5lci5jYWxsYmFjaygpO30pO3JldHVybiBhZGRPbjt9O3ZhciByZW1vdmU9ZnVuY3Rpb24gcmVtb3ZlKG5hbWUpe2RlbGV0ZSB1cmxzW25hbWVdO2RlbGV0ZSBsb29rdXBbbmFtZV07fTt2YXIgY3JlYXRlVXJsPWZ1bmN0aW9uIGNyZWF0ZVVybChiYXNlVXJsLGRlcCl7aWYoX3R5cGVvZihkZXApPT09J29iamVjdCcpe3JldHVybiBkZXA7fXJldHVybiB0eXBlb2YgYmFzZVVybD09PSdzdHJpbmcnP3twcmVmaXg6JycscmVzb3VyY2U6ZGVwLHN1ZmZpeDonJ306e3ByZWZpeDpiYXNlVXJsLnByZWZpeCxyZXNvdXJjZTpkZXAsc3VmZml4OmJhc2VVcmwuc3VmZml4fTt9O3ZhciBhZGRDb21wb25lbnRzPWZ1bmN0aW9uIGFkZENvbXBvbmVudHMocGx1Z2luTmFtZSxzY3JpcHRzKXt2YXIgcGx1Z2luVXJsPV90aGlzLnVybHNbcGx1Z2luTmFtZV07ZWFjaCQ3KHNjcmlwdHMsZnVuY3Rpb24oc2NyaXB0KXtTY3JpcHRMb2FkZXIuU2NyaXB0TG9hZGVyLmFkZChwbHVnaW5VcmwrJy8nK3NjcmlwdCk7fSk7fTt2YXIgbG9hZERlcGVuZGVuY2llcz1mdW5jdGlvbiBsb2FkRGVwZW5kZW5jaWVzKG5hbWUsYWRkT25Vcmwsc3VjY2VzcyxzY29wZSl7dmFyIGRlcHM9ZGVwZW5kZW5jaWVzKG5hbWUpO2VhY2gkNyhkZXBzLGZ1bmN0aW9uKGRlcCl7dmFyIG5ld1VybD1jcmVhdGVVcmwoYWRkT25VcmwsZGVwKTtsb2FkKG5ld1VybC5yZXNvdXJjZSxuZXdVcmwsdW5kZWZpbmVkLHVuZGVmaW5lZCk7fSk7aWYoc3VjY2Vzcyl7aWYoc2NvcGUpe3N1Y2Nlc3MuY2FsbChzY29wZSk7fWVsc2V7c3VjY2Vzcy5jYWxsKFNjcmlwdExvYWRlcik7fX19O3ZhciBsb2FkPWZ1bmN0aW9uIGxvYWQobmFtZSxhZGRPblVybCxzdWNjZXNzLHNjb3BlLGZhaWx1cmUpe2lmKHVybHNbbmFtZV0pe3JldHVybjt9dmFyIHVybFN0cmluZz10eXBlb2YgYWRkT25Vcmw9PT0nc3RyaW5nJz9hZGRPblVybDphZGRPblVybC5wcmVmaXgrYWRkT25VcmwucmVzb3VyY2UrYWRkT25Vcmwuc3VmZml4O2lmKHVybFN0cmluZy5pbmRleE9mKCcvJykhPT0wJiZ1cmxTdHJpbmcuaW5kZXhPZignOi8vJyk9PT0tMSl7dXJsU3RyaW5nPUFkZE9uTWFuYWdlci5iYXNlVVJMKycvJyt1cmxTdHJpbmc7fXVybHNbbmFtZV09dXJsU3RyaW5nLnN1YnN0cmluZygwLHVybFN0cmluZy5sYXN0SW5kZXhPZignLycpKTtpZihsb29rdXBbbmFtZV0pe2xvYWREZXBlbmRlbmNpZXMobmFtZSxhZGRPblVybCxzdWNjZXNzLHNjb3BlKTt9ZWxzZXtTY3JpcHRMb2FkZXIuU2NyaXB0TG9hZGVyLmFkZCh1cmxTdHJpbmcsZnVuY3Rpb24oKXtyZXR1cm4gbG9hZERlcGVuZGVuY2llcyhuYW1lLGFkZE9uVXJsLHN1Y2Nlc3Msc2NvcGUpO30sc2NvcGUsZmFpbHVyZSk7fX07dmFyIHdhaXRGb3I9ZnVuY3Rpb24gd2FpdEZvcihuYW1lLGNhbGxiYWNrKXtpZihsb29rdXAuaGFzT3duUHJvcGVydHkobmFtZSkpe2NhbGxiYWNrKCk7fWVsc2V7X2xpc3RlbmVycy5wdXNoKHtuYW1lOm5hbWUsY2FsbGJhY2s6Y2FsbGJhY2t9KTt9fTtyZXR1cm57aXRlbXM6aXRlbXMsdXJsczp1cmxzLGxvb2t1cDpsb29rdXAsX2xpc3RlbmVyczpfbGlzdGVuZXJzLGdldDpnZXQsZGVwZW5kZW5jaWVzOmRlcGVuZGVuY2llcyxyZXF1aXJlTGFuZ1BhY2s6cmVxdWlyZUxhbmdQYWNrLGFkZDphZGQscmVtb3ZlOnJlbW92ZSxjcmVhdGVVcmw6Y3JlYXRlVXJsLGFkZENvbXBvbmVudHM6YWRkQ29tcG9uZW50cyxsb2FkOmxvYWQsd2FpdEZvcjp3YWl0Rm9yfTt9KGZ1bmN0aW9uKEFkZE9uTWFuYWdlcil7QWRkT25NYW5hZ2VyLlBsdWdpbk1hbmFnZXI9QWRkT25NYW5hZ2VyKCk7QWRkT25NYW5hZ2VyLlRoZW1lTWFuYWdlcj1BZGRPbk1hbmFnZXIoKTt9KShBZGRPbk1hbmFnZXJ8fChBZGRPbk1hbmFnZXI9e30pKTt2YXIgQWRkT25NYW5hZ2VyJDE9QWRkT25NYW5hZ2VyO3ZhciBmaXJzdD1mdW5jdGlvbiBmaXJzdChmbixyYXRlKXt2YXIgdGltZXI9bnVsbDt2YXIgY2FuY2VsPWZ1bmN0aW9uIGNhbmNlbCgpe2lmKHRpbWVyIT09bnVsbCl7ZG9tR2xvYmFscy5jbGVhclRpbWVvdXQodGltZXIpO3RpbWVyPW51bGw7fX07dmFyIHRocm90dGxlPWZ1bmN0aW9uIHRocm90dGxlKCl7dmFyIGFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7YXJnc1tfaV09YXJndW1lbnRzW19pXTt9aWYodGltZXI9PT1udWxsKXt0aW1lcj1kb21HbG9iYWxzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmbi5hcHBseShudWxsLGFyZ3MpO3RpbWVyPW51bGw7fSxyYXRlKTt9fTtyZXR1cm57Y2FuY2VsOmNhbmNlbCx0aHJvdHRsZTp0aHJvdHRsZX07fTt2YXIgbGFzdCQyPWZ1bmN0aW9uIGxhc3QkMihmbixyYXRlKXt2YXIgdGltZXI9bnVsbDt2YXIgY2FuY2VsPWZ1bmN0aW9uIGNhbmNlbCgpe2lmKHRpbWVyIT09bnVsbCl7ZG9tR2xvYmFscy5jbGVhclRpbWVvdXQodGltZXIpO3RpbWVyPW51bGw7fX07dmFyIHRocm90dGxlPWZ1bmN0aW9uIHRocm90dGxlKCl7dmFyIGFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7YXJnc1tfaV09YXJndW1lbnRzW19pXTt9aWYodGltZXIhPT1udWxsKXtkb21HbG9iYWxzLmNsZWFyVGltZW91dCh0aW1lcik7fXRpbWVyPWRvbUdsb2JhbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2ZuLmFwcGx5KG51bGwsYXJncyk7dGltZXI9bnVsbDt9LHJhdGUpO307cmV0dXJue2NhbmNlbDpjYW5jZWwsdGhyb3R0bGU6dGhyb3R0bGV9O307dmFyIHJlYWQ9ZnVuY3Rpb24gcmVhZChlbGVtZW50LGF0dHIpe3ZhciB2YWx1ZT1nZXQkMShlbGVtZW50LGF0dHIpO3JldHVybiB2YWx1ZT09PXVuZGVmaW5lZHx8dmFsdWU9PT0nJz9bXTp2YWx1ZS5zcGxpdCgnICcpO307dmFyIGFkZCQxPWZ1bmN0aW9uIGFkZCQxKGVsZW1lbnQsYXR0cixpZCl7dmFyIG9sZD1yZWFkKGVsZW1lbnQsYXR0cik7dmFyIG51PW9sZC5jb25jYXQoW2lkXSk7c2V0KGVsZW1lbnQsYXR0cixudS5qb2luKCcgJykpO3JldHVybiB0cnVlO307dmFyIHJlbW92ZSQyPWZ1bmN0aW9uIHJlbW92ZSQyKGVsZW1lbnQsYXR0cixpZCl7dmFyIG51PWZpbHRlcihyZWFkKGVsZW1lbnQsYXR0ciksZnVuY3Rpb24odil7cmV0dXJuIHYhPT1pZDt9KTtpZihudS5sZW5ndGg+MCl7c2V0KGVsZW1lbnQsYXR0cixudS5qb2luKCcgJykpO31lbHNle3JlbW92ZShlbGVtZW50LGF0dHIpO31yZXR1cm4gZmFsc2U7fTt2YXIgc3VwcG9ydHM9ZnVuY3Rpb24gc3VwcG9ydHMoZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuZG9tKCkuY2xhc3NMaXN0IT09dW5kZWZpbmVkO307dmFyIGdldCQ0PWZ1bmN0aW9uIGdldCQ0KGVsZW1lbnQpe3JldHVybiByZWFkKGVsZW1lbnQsJ2NsYXNzJyk7fTt2YXIgYWRkJDI9ZnVuY3Rpb24gYWRkJDIoZWxlbWVudCxjbGF6eil7cmV0dXJuIGFkZCQxKGVsZW1lbnQsJ2NsYXNzJyxjbGF6eik7fTt2YXIgcmVtb3ZlJDM9ZnVuY3Rpb24gcmVtb3ZlJDMoZWxlbWVudCxjbGF6eil7cmV0dXJuIHJlbW92ZSQyKGVsZW1lbnQsJ2NsYXNzJyxjbGF6eik7fTt2YXIgYWRkJDM9ZnVuY3Rpb24gYWRkJDMoZWxlbWVudCxjbGF6eil7aWYoc3VwcG9ydHMoZWxlbWVudCkpe2VsZW1lbnQuZG9tKCkuY2xhc3NMaXN0LmFkZChjbGF6eik7fWVsc2V7YWRkJDIoZWxlbWVudCxjbGF6eik7fX07dmFyIGNsZWFuQ2xhc3M9ZnVuY3Rpb24gY2xlYW5DbGFzcyhlbGVtZW50KXt2YXIgY2xhc3NMaXN0PXN1cHBvcnRzKGVsZW1lbnQpP2VsZW1lbnQuZG9tKCkuY2xhc3NMaXN0OmdldCQ0KGVsZW1lbnQpO2lmKGNsYXNzTGlzdC5sZW5ndGg9PT0wKXtyZW1vdmUoZWxlbWVudCwnY2xhc3MnKTt9fTt2YXIgcmVtb3ZlJDQ9ZnVuY3Rpb24gcmVtb3ZlJDQoZWxlbWVudCxjbGF6eil7aWYoc3VwcG9ydHMoZWxlbWVudCkpe3ZhciBjbGFzc0xpc3Q9ZWxlbWVudC5kb20oKS5jbGFzc0xpc3Q7Y2xhc3NMaXN0LnJlbW92ZShjbGF6eik7fWVsc2V7cmVtb3ZlJDMoZWxlbWVudCxjbGF6eik7fWNsZWFuQ2xhc3MoZWxlbWVudCk7fTt2YXIgaGFzJDI9ZnVuY3Rpb24gaGFzJDIoZWxlbWVudCxjbGF6eil7cmV0dXJuIHN1cHBvcnRzKGVsZW1lbnQpJiZlbGVtZW50LmRvbSgpLmNsYXNzTGlzdC5jb250YWlucyhjbGF6eik7fTt2YXIgZGVzY2VuZGFudHM9ZnVuY3Rpb24gZGVzY2VuZGFudHMoc2NvcGUscHJlZGljYXRlKXt2YXIgcmVzdWx0PVtdO2VhY2goY2hpbGRyZW4oc2NvcGUpLGZ1bmN0aW9uKHgpe2lmKHByZWRpY2F0ZSh4KSl7cmVzdWx0PXJlc3VsdC5jb25jYXQoW3hdKTt9cmVzdWx0PXJlc3VsdC5jb25jYXQoZGVzY2VuZGFudHMoeCxwcmVkaWNhdGUpKTt9KTtyZXR1cm4gcmVzdWx0O307dmFyIGRlc2NlbmRhbnRzJDE9ZnVuY3Rpb24gZGVzY2VuZGFudHMkMShzY29wZSxzZWxlY3Rvcil7cmV0dXJuIGFsbChzZWxlY3RvcixzY29wZSk7fTtmdW5jdGlvbiBDbG9zZXN0T3JBbmNlc3RvcihpcyxhbmNlc3RvcixzY29wZSxhLGlzUm9vdCl7cmV0dXJuIGlzKHNjb3BlLGEpP09wdGlvbi5zb21lKHNjb3BlKTppc0Z1bmN0aW9uKGlzUm9vdCkmJmlzUm9vdChzY29wZSk/T3B0aW9uLm5vbmUoKTphbmNlc3RvcihzY29wZSxhLGlzUm9vdCk7fXZhciBhbmNlc3Rvcj1mdW5jdGlvbiBhbmNlc3RvcihzY29wZSxwcmVkaWNhdGUsaXNSb290KXt2YXIgZWxlbWVudD1zY29wZS5kb20oKTt2YXIgc3RvcD1pc0Z1bmN0aW9uKGlzUm9vdCk/aXNSb290OmNvbnN0YW50KGZhbHNlKTt3aGlsZShlbGVtZW50LnBhcmVudE5vZGUpe2VsZW1lbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3ZhciBlbD1FbGVtZW50LmZyb21Eb20oZWxlbWVudCk7aWYocHJlZGljYXRlKGVsKSl7cmV0dXJuIE9wdGlvbi5zb21lKGVsKTt9ZWxzZSBpZihzdG9wKGVsKSl7YnJlYWs7fX1yZXR1cm4gT3B0aW9uLm5vbmUoKTt9O3ZhciBjbG9zZXN0PWZ1bmN0aW9uIGNsb3Nlc3Qoc2NvcGUscHJlZGljYXRlLGlzUm9vdCl7dmFyIGlzPWZ1bmN0aW9uIGlzKHMsdGVzdCl7cmV0dXJuIHRlc3Qocyk7fTtyZXR1cm4gQ2xvc2VzdE9yQW5jZXN0b3IoaXMsYW5jZXN0b3Isc2NvcGUscHJlZGljYXRlLGlzUm9vdCk7fTt2YXIgYW5jZXN0b3IkMT1mdW5jdGlvbiBhbmNlc3RvciQxKHNjb3BlLHNlbGVjdG9yLGlzUm9vdCl7cmV0dXJuIGFuY2VzdG9yKHNjb3BlLGZ1bmN0aW9uKGUpe3JldHVybiBpcyhlLHNlbGVjdG9yKTt9LGlzUm9vdCk7fTt2YXIgZGVzY2VuZGFudD1mdW5jdGlvbiBkZXNjZW5kYW50KHNjb3BlLHNlbGVjdG9yKXtyZXR1cm4gb25lKHNlbGVjdG9yLHNjb3BlKTt9O3ZhciBjbG9zZXN0JDE9ZnVuY3Rpb24gY2xvc2VzdCQxKHNjb3BlLHNlbGVjdG9yLGlzUm9vdCl7cmV0dXJuIENsb3Nlc3RPckFuY2VzdG9yKGlzLGFuY2VzdG9yJDEsc2NvcGUsc2VsZWN0b3IsaXNSb290KTt9O3ZhciBhbm5vdGF0aW9uPWNvbnN0YW50KCdtY2UtYW5ub3RhdGlvbicpO3ZhciBkYXRhQW5ub3RhdGlvbj1jb25zdGFudCgnZGF0YS1tY2UtYW5ub3RhdGlvbicpO3ZhciBkYXRhQW5ub3RhdGlvbklkPWNvbnN0YW50KCdkYXRhLW1jZS1hbm5vdGF0aW9uLXVpZCcpO3ZhciBpZGVudGlmeT1mdW5jdGlvbiBpZGVudGlmeShlZGl0b3IsYW5ub3RhdGlvbk5hbWUpe3ZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgc3RhcnQ9RWxlbWVudC5mcm9tRG9tKHJuZy5zdGFydENvbnRhaW5lcik7dmFyIHJvb3Q9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBzZWxlY3Rvcj1hbm5vdGF0aW9uTmFtZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuJy4nK2Fubm90YXRpb24oKTt9LGZ1bmN0aW9uKGFuKXtyZXR1cm4nWycrZGF0YUFubm90YXRpb24oKSsnPSInK2FuKyciXSc7fSk7dmFyIG5ld1N0YXJ0PWNoaWxkKHN0YXJ0LHJuZy5zdGFydE9mZnNldCkuZ2V0T3Ioc3RhcnQpO3ZhciBjbG9zZXN0PWNsb3Nlc3QkMShuZXdTdGFydCxzZWxlY3RvcixmdW5jdGlvbihuKXtyZXR1cm4gZXEobixyb290KTt9KTt2YXIgZ2V0QXR0cj1mdW5jdGlvbiBnZXRBdHRyKGMscHJvcGVydHkpe2lmKGhhcyQxKGMscHJvcGVydHkpKXtyZXR1cm4gT3B0aW9uLnNvbWUoZ2V0JDEoYyxwcm9wZXJ0eSkpO31lbHNle3JldHVybiBPcHRpb24ubm9uZSgpO319O3JldHVybiBjbG9zZXN0LmJpbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGdldEF0dHIoYywnJytkYXRhQW5ub3RhdGlvbklkKCkpLmJpbmQoZnVuY3Rpb24odWlkKXtyZXR1cm4gZ2V0QXR0cihjLCcnK2RhdGFBbm5vdGF0aW9uKCkpLm1hcChmdW5jdGlvbihuYW1lKXt2YXIgZWxlbWVudHM9ZmluZE1hcmtlcnMoZWRpdG9yLHVpZCk7cmV0dXJue3VpZDp1aWQsbmFtZTpuYW1lLGVsZW1lbnRzOmVsZW1lbnRzfTt9KTt9KTt9KTt9O3ZhciBpc0Fubm90YXRpb249ZnVuY3Rpb24gaXNBbm5vdGF0aW9uKGVsZW0pe3JldHVybiBpc0VsZW1lbnQkMShlbGVtKSYmaGFzJDIoZWxlbSxhbm5vdGF0aW9uKCkpO307dmFyIGZpbmRNYXJrZXJzPWZ1bmN0aW9uIGZpbmRNYXJrZXJzKGVkaXRvcix1aWQpe3ZhciBib2R5PUVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKTtyZXR1cm4gZGVzY2VuZGFudHMkMShib2R5LCdbJytkYXRhQW5ub3RhdGlvbklkKCkrJz0iJyt1aWQrJyJdJyk7fTt2YXIgZmluZEFsbD1mdW5jdGlvbiBmaW5kQWxsKGVkaXRvcixuYW1lKXt2YXIgYm9keT1FbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSk7dmFyIG1hcmtlcnM9ZGVzY2VuZGFudHMkMShib2R5LCdbJytkYXRhQW5ub3RhdGlvbigpKyc9IicrbmFtZSsnIl0nKTt2YXIgZGlyZWN0b3J5PXt9O2VhY2gobWFya2VycyxmdW5jdGlvbihtKXt2YXIgdWlkPWdldCQxKG0sZGF0YUFubm90YXRpb25JZCgpKTt2YXIgbm9kZXNBbHJlYWR5PWRpcmVjdG9yeS5oYXNPd25Qcm9wZXJ0eSh1aWQpP2RpcmVjdG9yeVt1aWRdOltdO2RpcmVjdG9yeVt1aWRdPW5vZGVzQWxyZWFkeS5jb25jYXQoW21dKTt9KTtyZXR1cm4gZGlyZWN0b3J5O307dmFyIHNldHVwPWZ1bmN0aW9uIHNldHVwKGVkaXRvcixyZWdpc3RyeSl7dmFyIGNoYW5nZUNhbGxiYWNrcz1DZWxsKHt9KTt2YXIgaW5pdERhdGE9ZnVuY3Rpb24gaW5pdERhdGEoKXtyZXR1cm57bGlzdGVuZXJzOltdLHByZXZpb3VzOkNlbGwoT3B0aW9uLm5vbmUoKSl9O307dmFyIHdpdGhDYWxsYmFja3M9ZnVuY3Rpb24gd2l0aENhbGxiYWNrcyhuYW1lLGYpe3VwZGF0ZUNhbGxiYWNrcyhuYW1lLGZ1bmN0aW9uKGRhdGEpe2YoZGF0YSk7cmV0dXJuIGRhdGE7fSk7fTt2YXIgdXBkYXRlQ2FsbGJhY2tzPWZ1bmN0aW9uIHVwZGF0ZUNhbGxiYWNrcyhuYW1lLGYpe3ZhciBjYWxsYmFja01hcD1jaGFuZ2VDYWxsYmFja3MuZ2V0KCk7dmFyIGRhdGE9Y2FsbGJhY2tNYXAuaGFzT3duUHJvcGVydHkobmFtZSk/Y2FsbGJhY2tNYXBbbmFtZV06aW5pdERhdGEoKTt2YXIgb3V0cHV0RGF0YT1mKGRhdGEpO2NhbGxiYWNrTWFwW25hbWVdPW91dHB1dERhdGE7Y2hhbmdlQ2FsbGJhY2tzLnNldChjYWxsYmFja01hcCk7fTt2YXIgZmlyZUNhbGxiYWNrcz1mdW5jdGlvbiBmaXJlQ2FsbGJhY2tzKG5hbWUsdWlkLGVsZW1lbnRzKXt3aXRoQ2FsbGJhY2tzKG5hbWUsZnVuY3Rpb24oZGF0YSl7ZWFjaChkYXRhLmxpc3RlbmVycyxmdW5jdGlvbihmKXtyZXR1cm4gZih0cnVlLG5hbWUse3VpZDp1aWQsbm9kZXM6bWFwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLmRvbSgpO30pfSk7fSk7fSk7fTt2YXIgZmlyZU5vQW5ub3RhdGlvbj1mdW5jdGlvbiBmaXJlTm9Bbm5vdGF0aW9uKG5hbWUpe3dpdGhDYWxsYmFja3MobmFtZSxmdW5jdGlvbihkYXRhKXtlYWNoKGRhdGEubGlzdGVuZXJzLGZ1bmN0aW9uKGYpe3JldHVybiBmKGZhbHNlLG5hbWUpO30pO30pO307dmFyIG9uTm9kZUNoYW5nZT1sYXN0JDIoZnVuY3Rpb24oKXt2YXIgY2FsbGJhY2tNYXA9Y2hhbmdlQ2FsbGJhY2tzLmdldCgpO3ZhciBhbm5vdGF0aW9ucz1zb3J0KGtleXMoY2FsbGJhY2tNYXApKTtlYWNoKGFubm90YXRpb25zLGZ1bmN0aW9uKG5hbWUpe3VwZGF0ZUNhbGxiYWNrcyhuYW1lLGZ1bmN0aW9uKGRhdGEpe3ZhciBwcmV2PWRhdGEucHJldmlvdXMuZ2V0KCk7aWRlbnRpZnkoZWRpdG9yLE9wdGlvbi5zb21lKG5hbWUpKS5mb2xkKGZ1bmN0aW9uKCl7aWYocHJldi5pc1NvbWUoKSl7ZmlyZU5vQW5ub3RhdGlvbihuYW1lKTtkYXRhLnByZXZpb3VzLnNldChPcHRpb24ubm9uZSgpKTt9fSxmdW5jdGlvbihfYSl7dmFyIHVpZD1fYS51aWQsbmFtZT1fYS5uYW1lLGVsZW1lbnRzPV9hLmVsZW1lbnRzO2lmKCFwcmV2LmlzKHVpZCkpe2ZpcmVDYWxsYmFja3MobmFtZSx1aWQsZWxlbWVudHMpO2RhdGEucHJldmlvdXMuc2V0KE9wdGlvbi5zb21lKHVpZCkpO319KTtyZXR1cm57cHJldmlvdXM6ZGF0YS5wcmV2aW91cyxsaXN0ZW5lcnM6ZGF0YS5saXN0ZW5lcnN9O30pO30pO30sMzApO2VkaXRvci5vbigncmVtb3ZlJyxmdW5jdGlvbigpe29uTm9kZUNoYW5nZS5jYW5jZWwoKTt9KTtlZGl0b3Iub24oJ05vZGVDaGFuZ2UnLGZ1bmN0aW9uKCl7b25Ob2RlQ2hhbmdlLnRocm90dGxlKCk7fSk7dmFyIGFkZExpc3RlbmVyPWZ1bmN0aW9uIGFkZExpc3RlbmVyKG5hbWUsZil7dXBkYXRlQ2FsbGJhY2tzKG5hbWUsZnVuY3Rpb24oZGF0YSl7cmV0dXJue3ByZXZpb3VzOmRhdGEucHJldmlvdXMsbGlzdGVuZXJzOmRhdGEubGlzdGVuZXJzLmNvbmNhdChbZl0pfTt9KTt9O3JldHVybnthZGRMaXN0ZW5lcjphZGRMaXN0ZW5lcn07fTt2YXIgc2V0dXAkMT1mdW5jdGlvbiBzZXR1cCQxKGVkaXRvcixyZWdpc3RyeSl7dmFyIGlkZW50aWZ5UGFyc2VyTm9kZT1mdW5jdGlvbiBpZGVudGlmeVBhcnNlck5vZGUoc3Bhbil7cmV0dXJuIE9wdGlvbi5mcm9tKHNwYW4uYXR0cihkYXRhQW5ub3RhdGlvbigpKSkuYmluZChyZWdpc3RyeS5sb29rdXApO307ZWRpdG9yLm9uKCdpbml0JyxmdW5jdGlvbigpe2VkaXRvci5zZXJpYWxpemVyLmFkZE5vZGVGaWx0ZXIoJ3NwYW4nLGZ1bmN0aW9uKHNwYW5zKXtlYWNoKHNwYW5zLGZ1bmN0aW9uKHNwYW4pe2lkZW50aWZ5UGFyc2VyTm9kZShzcGFuKS5lYWNoKGZ1bmN0aW9uKHNldHRpbmdzKXtpZihzZXR0aW5ncy5wZXJzaXN0ZW50PT09ZmFsc2Upe3NwYW4udW53cmFwKCk7fX0pO30pO30pO30pO307dmFyIGNyZWF0ZSQxPWZ1bmN0aW9uIGNyZWF0ZSQxKCl7dmFyIGFubm90YXRpb25zPXt9O3ZhciByZWdpc3Rlcj1mdW5jdGlvbiByZWdpc3RlcihuYW1lLHNldHRpbmdzKXthbm5vdGF0aW9uc1tuYW1lXT17bmFtZTpuYW1lLHNldHRpbmdzOnNldHRpbmdzfTt9O3ZhciBsb29rdXA9ZnVuY3Rpb24gbG9va3VwKG5hbWUpe3JldHVybiBhbm5vdGF0aW9ucy5oYXNPd25Qcm9wZXJ0eShuYW1lKT9PcHRpb24uZnJvbShhbm5vdGF0aW9uc1tuYW1lXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnNldHRpbmdzO30pOk9wdGlvbi5ub25lKCk7fTtyZXR1cm57cmVnaXN0ZXI6cmVnaXN0ZXIsbG9va3VwOmxvb2t1cH07fTt2YXIgdW5pcXVlPTA7dmFyIGdlbmVyYXRlPWZ1bmN0aW9uIGdlbmVyYXRlKHByZWZpeCl7dmFyIGRhdGU9bmV3IERhdGUoKTt2YXIgdGltZT1kYXRlLmdldFRpbWUoKTt2YXIgcmFuZG9tPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDAwKTt1bmlxdWUrKztyZXR1cm4gcHJlZml4KydfJytyYW5kb20rdW5pcXVlK1N0cmluZyh0aW1lKTt9O3ZhciBhZGQkND1mdW5jdGlvbiBhZGQkNChlbGVtZW50LGNsYXNzZXMpe2VhY2goY2xhc3NlcyxmdW5jdGlvbih4KXthZGQkMyhlbGVtZW50LHgpO30pO307dmFyIGNsb25lPWZ1bmN0aW9uIGNsb25lKG9yaWdpbmFsLGlzRGVlcCl7cmV0dXJuIEVsZW1lbnQuZnJvbURvbShvcmlnaW5hbC5kb20oKS5jbG9uZU5vZGUoaXNEZWVwKSk7fTt2YXIgc2hhbGxvdz1mdW5jdGlvbiBzaGFsbG93KG9yaWdpbmFsKXtyZXR1cm4gY2xvbmUob3JpZ2luYWwsZmFsc2UpO307dmFyIGRlZXA9ZnVuY3Rpb24gZGVlcChvcmlnaW5hbCl7cmV0dXJuIGNsb25lKG9yaWdpbmFsLHRydWUpO307dmFyIGZyb21IdG1sJDE9ZnVuY3Rpb24gZnJvbUh0bWwkMShodG1sLHNjb3BlKXt2YXIgZG9jPXNjb3BlfHxkb21HbG9iYWxzLmRvY3VtZW50O3ZhciBkaXY9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2Rpdi5pbm5lckhUTUw9aHRtbDtyZXR1cm4gY2hpbGRyZW4oRWxlbWVudC5mcm9tRG9tKGRpdikpO307dmFyIGdldCQ1PWZ1bmN0aW9uIGdldCQ1KGVsZW1lbnQpe3JldHVybiBlbGVtZW50LmRvbSgpLmlubmVySFRNTDt9O3ZhciBzZXQkMT1mdW5jdGlvbiBzZXQkMShlbGVtZW50LGNvbnRlbnQpe3ZhciBvd25lciQxPW93bmVyKGVsZW1lbnQpO3ZhciBkb2NEb209b3duZXIkMS5kb20oKTt2YXIgZnJhZ21lbnQ9RWxlbWVudC5mcm9tRG9tKGRvY0RvbS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO3ZhciBjb250ZW50RWxlbWVudHM9ZnJvbUh0bWwkMShjb250ZW50LGRvY0RvbSk7YXBwZW5kJDEoZnJhZ21lbnQsY29udGVudEVsZW1lbnRzKTtlbXB0eShlbGVtZW50KTthcHBlbmQoZWxlbWVudCxmcmFnbWVudCk7fTt2YXIgWldTUD0iXHVGRUZGIjt2YXIgaXNad3NwPWZ1bmN0aW9uIGlzWndzcChjaHIpe3JldHVybiBjaHI9PT1aV1NQO307dmFyIHRyaW0kMz1mdW5jdGlvbiB0cmltJDModGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZShuZXcgUmVnRXhwKFpXU1AsJ2cnKSwnJyk7fTt2YXIgWndzcD17aXNad3NwOmlzWndzcCxaV1NQOlpXU1AsdHJpbTp0cmltJDN9O3ZhciBpc0VsZW1lbnQkMj1Ob2RlVHlwZS5pc0VsZW1lbnQ7dmFyIGlzVGV4dCQyPU5vZGVUeXBlLmlzVGV4dDt2YXIgaXNDYXJldENvbnRhaW5lckJsb2NrPWZ1bmN0aW9uIGlzQ2FyZXRDb250YWluZXJCbG9jayhub2RlKXtpZihpc1RleHQkMihub2RlKSl7bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBpc0VsZW1lbnQkMihub2RlKSYmbm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWNlLWNhcmV0Jyk7fTt2YXIgaXNDYXJldENvbnRhaW5lcklubGluZT1mdW5jdGlvbiBpc0NhcmV0Q29udGFpbmVySW5saW5lKG5vZGUpe3JldHVybiBpc1RleHQkMihub2RlKSYmWndzcC5pc1p3c3Aobm9kZS5kYXRhKTt9O3ZhciBpc0NhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIGlzQ2FyZXRDb250YWluZXIobm9kZSl7cmV0dXJuIGlzQ2FyZXRDb250YWluZXJCbG9jayhub2RlKXx8aXNDYXJldENvbnRhaW5lcklubGluZShub2RlKTt9O3ZhciBoYXNDb250ZW50PWZ1bmN0aW9uIGhhc0NvbnRlbnQobm9kZSl7cmV0dXJuIG5vZGUuZmlyc3RDaGlsZCE9PW5vZGUubGFzdENoaWxkfHwhTm9kZVR5cGUuaXNCcihub2RlLmZpcnN0Q2hpbGQpO307dmFyIGluc2VydElubGluZT1mdW5jdGlvbiBpbnNlcnRJbmxpbmUobm9kZSxiZWZvcmUpe3ZhciBkb2Msc2libGluZyx0ZXh0Tm9kZSxwYXJlbnROb2RlO2RvYz1ub2RlLm93bmVyRG9jdW1lbnQ7dGV4dE5vZGU9ZG9jLmNyZWF0ZVRleHROb2RlKFp3c3AuWldTUCk7cGFyZW50Tm9kZT1ub2RlLnBhcmVudE5vZGU7aWYoIWJlZm9yZSl7c2libGluZz1ub2RlLm5leHRTaWJsaW5nO2lmKGlzVGV4dCQyKHNpYmxpbmcpKXtpZihpc0NhcmV0Q29udGFpbmVyKHNpYmxpbmcpKXtyZXR1cm4gc2libGluZzt9aWYoc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyKHNpYmxpbmcpKXtzaWJsaW5nLnNwbGl0VGV4dCgxKTtyZXR1cm4gc2libGluZzt9fWlmKG5vZGUubmV4dFNpYmxpbmcpe3BhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHROb2RlLG5vZGUubmV4dFNpYmxpbmcpO31lbHNle3BhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO319ZWxzZXtzaWJsaW5nPW5vZGUucHJldmlvdXNTaWJsaW5nO2lmKGlzVGV4dCQyKHNpYmxpbmcpKXtpZihpc0NhcmV0Q29udGFpbmVyKHNpYmxpbmcpKXtyZXR1cm4gc2libGluZzt9aWYoZW5kc1dpdGhDYXJldENvbnRhaW5lcihzaWJsaW5nKSl7cmV0dXJuIHNpYmxpbmcuc3BsaXRUZXh0KHNpYmxpbmcuZGF0YS5sZW5ndGgtMSk7fX1wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0ZXh0Tm9kZSxub2RlKTt9cmV0dXJuIHRleHROb2RlO307dmFyIGlzQmVmb3JlSW5saW5lPWZ1bmN0aW9uIGlzQmVmb3JlSW5saW5lKHBvcyl7dmFyIGNvbnRhaW5lcj1wb3MuY29udGFpbmVyKCk7aWYoIXBvc3x8IU5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpKXtyZXR1cm4gZmFsc2U7fXJldHVybiBjb250YWluZXIuZGF0YS5jaGFyQXQocG9zLm9mZnNldCgpKT09PVp3c3AuWldTUHx8cG9zLmlzQXRTdGFydCgpJiZpc0NhcmV0Q29udGFpbmVySW5saW5lKGNvbnRhaW5lci5wcmV2aW91c1NpYmxpbmcpO307dmFyIGlzQWZ0ZXJJbmxpbmU9ZnVuY3Rpb24gaXNBZnRlcklubGluZShwb3Mpe3ZhciBjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO2lmKCFwb3N8fCFOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSl7cmV0dXJuIGZhbHNlO31yZXR1cm4gY29udGFpbmVyLmRhdGEuY2hhckF0KHBvcy5vZmZzZXQoKS0xKT09PVp3c3AuWldTUHx8cG9zLmlzQXRFbmQoKSYmaXNDYXJldENvbnRhaW5lcklubGluZShjb250YWluZXIubmV4dFNpYmxpbmcpO307dmFyIGNyZWF0ZUJvZ3VzQnI9ZnVuY3Rpb24gY3JlYXRlQm9ndXNCcigpe3ZhciBicj1kb21HbG9iYWxzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7YnIuc2V0QXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycsJzEnKTtyZXR1cm4gYnI7fTt2YXIgaW5zZXJ0QmxvY2s9ZnVuY3Rpb24gaW5zZXJ0QmxvY2soYmxvY2tOYW1lLG5vZGUsYmVmb3JlKXt2YXIgZG9jLGJsb2NrTm9kZSxwYXJlbnROb2RlO2RvYz1ub2RlLm93bmVyRG9jdW1lbnQ7YmxvY2tOb2RlPWRvYy5jcmVhdGVFbGVtZW50KGJsb2NrTmFtZSk7YmxvY2tOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1tY2UtY2FyZXQnLGJlZm9yZT8nYmVmb3JlJzonYWZ0ZXInKTtibG9ja05vZGUuc2V0QXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycsJ2FsbCcpO2Jsb2NrTm9kZS5hcHBlbmRDaGlsZChjcmVhdGVCb2d1c0JyKCkpO3BhcmVudE5vZGU9bm9kZS5wYXJlbnROb2RlO2lmKCFiZWZvcmUpe2lmKG5vZGUubmV4dFNpYmxpbmcpe3BhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJsb2NrTm9kZSxub2RlLm5leHRTaWJsaW5nKTt9ZWxzZXtwYXJlbnROb2RlLmFwcGVuZENoaWxkKGJsb2NrTm9kZSk7fX1lbHNle3BhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJsb2NrTm9kZSxub2RlKTt9cmV0dXJuIGJsb2NrTm9kZTt9O3ZhciBzdGFydHNXaXRoQ2FyZXRDb250YWluZXI9ZnVuY3Rpb24gc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyKG5vZGUpe3JldHVybiBpc1RleHQkMihub2RlKSYmbm9kZS5kYXRhWzBdPT09WndzcC5aV1NQO307dmFyIGVuZHNXaXRoQ2FyZXRDb250YWluZXI9ZnVuY3Rpb24gZW5kc1dpdGhDYXJldENvbnRhaW5lcihub2RlKXtyZXR1cm4gaXNUZXh0JDIobm9kZSkmJm5vZGUuZGF0YVtub2RlLmRhdGEubGVuZ3RoLTFdPT09WndzcC5aV1NQO307dmFyIHRyaW1Cb2d1c0JyPWZ1bmN0aW9uIHRyaW1Cb2d1c0JyKGVsbSl7dmFyIGJycz1lbG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JyJyk7dmFyIGxhc3RCcj1icnNbYnJzLmxlbmd0aC0xXTtpZihOb2RlVHlwZS5pc0JvZ3VzKGxhc3RCcikpe2xhc3RCci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxhc3RCcik7fX07dmFyIHNob3dDYXJldENvbnRhaW5lckJsb2NrPWZ1bmN0aW9uIHNob3dDYXJldENvbnRhaW5lckJsb2NrKGNhcmV0Q29udGFpbmVyKXtpZihjYXJldENvbnRhaW5lciYmY2FyZXRDb250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpKXt0cmltQm9ndXNCcihjYXJldENvbnRhaW5lcik7Y2FyZXRDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpO2NhcmV0Q29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1tY2UtYm9ndXMnKTtjYXJldENvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7Y2FyZXRDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdfbW96X2Fic3BvcycpO3JldHVybiBjYXJldENvbnRhaW5lcjt9cmV0dXJuIG51bGw7fTt2YXIgaXNSYW5nZUluQ2FyZXRDb250YWluZXJCbG9jaz1mdW5jdGlvbiBpc1JhbmdlSW5DYXJldENvbnRhaW5lckJsb2NrKHJhbmdlKXtyZXR1cm4gaXNDYXJldENvbnRhaW5lckJsb2NrKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTt9O3ZhciBpc0NvbnRlbnRFZGl0YWJsZVRydWUkMT1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZVRydWU7dmFyIGlzQ29udGVudEVkaXRhYmxlRmFsc2UkMT1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlO3ZhciBpc0JyJDI9Tm9kZVR5cGUuaXNCcjt2YXIgaXNUZXh0JDM9Tm9kZVR5cGUuaXNUZXh0O3ZhciBpc0ludmFsaWRUZXh0RWxlbWVudD1Ob2RlVHlwZS5tYXRjaE5vZGVOYW1lcyhbJ3NjcmlwdCcsJ3N0eWxlJywndGV4dGFyZWEnXSk7dmFyIGlzQXRvbWljSW5saW5lPU5vZGVUeXBlLm1hdGNoTm9kZU5hbWVzKFsnaW1nJywnaW5wdXQnLCd0ZXh0YXJlYScsJ2hyJywnaWZyYW1lJywndmlkZW8nLCdhdWRpbycsJ29iamVjdCddKTt2YXIgaXNUYWJsZSQyPU5vZGVUeXBlLm1hdGNoTm9kZU5hbWVzKFsndGFibGUnXSk7dmFyIGlzQ2FyZXRDb250YWluZXIkMT1pc0NhcmV0Q29udGFpbmVyO3ZhciBpc0NhcmV0Q2FuZGlkYXRlPWZ1bmN0aW9uIGlzQ2FyZXRDYW5kaWRhdGUobm9kZSl7aWYoaXNDYXJldENvbnRhaW5lciQxKG5vZGUpKXtyZXR1cm4gZmFsc2U7fWlmKGlzVGV4dCQzKG5vZGUpKXtpZihpc0ludmFsaWRUZXh0RWxlbWVudChub2RlLnBhcmVudE5vZGUpKXtyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO31yZXR1cm4gaXNBdG9taWNJbmxpbmUobm9kZSl8fGlzQnIkMihub2RlKXx8aXNUYWJsZSQyKG5vZGUpfHxpc05vblVpQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSk7fTt2YXIgaXNVbnNlbGVjdGFibGU9ZnVuY3Rpb24gaXNVbnNlbGVjdGFibGUobm9kZSl7cmV0dXJuIE5vZGVUeXBlLmlzRWxlbWVudChub2RlKSYmbm9kZS5nZXRBdHRyaWJ1dGUoJ3Vuc2VsZWN0YWJsZScpPT09J3RydWUnO307dmFyIGlzTm9uVWlDb250ZW50RWRpdGFibGVGYWxzZT1mdW5jdGlvbiBpc05vblVpQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSl7cmV0dXJuIGlzVW5zZWxlY3RhYmxlKG5vZGUpPT09ZmFsc2UmJmlzQ29udGVudEVkaXRhYmxlRmFsc2UkMShub2RlKTt9O3ZhciBpc0luRWRpdGFibGU9ZnVuY3Rpb24gaXNJbkVkaXRhYmxlKG5vZGUscm9vdCl7Zm9yKG5vZGU9bm9kZS5wYXJlbnROb2RlO25vZGUmJm5vZGUhPT1yb290O25vZGU9bm9kZS5wYXJlbnROb2RlKXtpZihpc05vblVpQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSkpe3JldHVybiBmYWxzZTt9aWYoaXNDb250ZW50RWRpdGFibGVUcnVlJDEobm9kZSkpe3JldHVybiB0cnVlO319cmV0dXJuIHRydWU7fTt2YXIgaXNBdG9taWNDb250ZW50RWRpdGFibGVGYWxzZT1mdW5jdGlvbiBpc0F0b21pY0NvbnRlbnRFZGl0YWJsZUZhbHNlKG5vZGUpe2lmKCFpc05vblVpQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSkpe3JldHVybiBmYWxzZTt9cmV0dXJuIGZvbGRsKGZyb20kMShub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpLGZ1bmN0aW9uKHJlc3VsdCxlbG0pe3JldHVybiByZXN1bHR8fGlzQ29udGVudEVkaXRhYmxlVHJ1ZSQxKGVsbSk7fSxmYWxzZSkhPT10cnVlO307dmFyIGlzQXRvbWljPWZ1bmN0aW9uIGlzQXRvbWljKG5vZGUpe3JldHVybiBpc0F0b21pY0lubGluZShub2RlKXx8aXNBdG9taWNDb250ZW50RWRpdGFibGVGYWxzZShub2RlKTt9O3ZhciBpc0VkaXRhYmxlQ2FyZXRDYW5kaWRhdGU9ZnVuY3Rpb24gaXNFZGl0YWJsZUNhcmV0Q2FuZGlkYXRlKG5vZGUscm9vdCl7cmV0dXJuIGlzQ2FyZXRDYW5kaWRhdGUobm9kZSkmJmlzSW5FZGl0YWJsZShub2RlLHJvb3QpO307dmFyIHJvdW5kPU1hdGgucm91bmQ7dmFyIGNsb25lJDE9ZnVuY3Rpb24gY2xvbmUkMShyZWN0KXtpZighcmVjdCl7cmV0dXJue2xlZnQ6MCx0b3A6MCxib3R0b206MCxyaWdodDowLHdpZHRoOjAsaGVpZ2h0OjB9O31yZXR1cm57bGVmdDpyb3VuZChyZWN0LmxlZnQpLHRvcDpyb3VuZChyZWN0LnRvcCksYm90dG9tOnJvdW5kKHJlY3QuYm90dG9tKSxyaWdodDpyb3VuZChyZWN0LnJpZ2h0KSx3aWR0aDpyb3VuZChyZWN0LndpZHRoKSxoZWlnaHQ6cm91bmQocmVjdC5oZWlnaHQpfTt9O3ZhciBjb2xsYXBzZT1mdW5jdGlvbiBjb2xsYXBzZShyZWN0LHRvU3RhcnQpe3JlY3Q9Y2xvbmUkMShyZWN0KTtpZih0b1N0YXJ0KXtyZWN0LnJpZ2h0PXJlY3QubGVmdDt9ZWxzZXtyZWN0LmxlZnQ9cmVjdC5sZWZ0K3JlY3Qud2lkdGg7cmVjdC5yaWdodD1yZWN0LmxlZnQ7fXJlY3Qud2lkdGg9MDtyZXR1cm4gcmVjdDt9O3ZhciBpc0VxdWFsPWZ1bmN0aW9uIGlzRXF1YWwocmVjdDEscmVjdDIpe3JldHVybiByZWN0MS5sZWZ0PT09cmVjdDIubGVmdCYmcmVjdDEudG9wPT09cmVjdDIudG9wJiZyZWN0MS5ib3R0b209PT1yZWN0Mi5ib3R0b20mJnJlY3QxLnJpZ2h0PT09cmVjdDIucmlnaHQ7fTt2YXIgaXNWYWxpZE92ZXJmbG93PWZ1bmN0aW9uIGlzVmFsaWRPdmVyZmxvdyhvdmVyZmxvd1kscmVjdDEscmVjdDIpe3JldHVybiBvdmVyZmxvd1k+PTAmJm92ZXJmbG93WTw9TWF0aC5taW4ocmVjdDEuaGVpZ2h0LHJlY3QyLmhlaWdodCkvMjt9O3ZhciBpc0Fib3ZlPWZ1bmN0aW9uIGlzQWJvdmUocmVjdDEscmVjdDIpe2lmKHJlY3QxLmJvdHRvbS1yZWN0MS5oZWlnaHQvMjxyZWN0Mi50b3Ape3JldHVybiB0cnVlO31pZihyZWN0MS50b3A+cmVjdDIuYm90dG9tKXtyZXR1cm4gZmFsc2U7fXJldHVybiBpc1ZhbGlkT3ZlcmZsb3cocmVjdDIudG9wLXJlY3QxLmJvdHRvbSxyZWN0MSxyZWN0Mik7fTt2YXIgaXNCZWxvdz1mdW5jdGlvbiBpc0JlbG93KHJlY3QxLHJlY3QyKXtpZihyZWN0MS50b3A+cmVjdDIuYm90dG9tKXtyZXR1cm4gdHJ1ZTt9aWYocmVjdDEuYm90dG9tPHJlY3QyLnRvcCl7cmV0dXJuIGZhbHNlO31yZXR1cm4gaXNWYWxpZE92ZXJmbG93KHJlY3QyLmJvdHRvbS1yZWN0MS50b3AscmVjdDEscmVjdDIpO307dmFyIGNvbnRhaW5zWFk9ZnVuY3Rpb24gY29udGFpbnNYWShyZWN0LGNsaWVudFgsY2xpZW50WSl7cmV0dXJuIGNsaWVudFg+PXJlY3QubGVmdCYmY2xpZW50WDw9cmVjdC5yaWdodCYmY2xpZW50WT49cmVjdC50b3AmJmNsaWVudFk8PXJlY3QuYm90dG9tO307dmFyIGdldFNlbGVjdGVkTm9kZT1mdW5jdGlvbiBnZXRTZWxlY3RlZE5vZGUocmFuZ2Upe3ZhciBzdGFydENvbnRhaW5lcj1yYW5nZS5zdGFydENvbnRhaW5lcixzdGFydE9mZnNldD1yYW5nZS5zdGFydE9mZnNldDtpZihzdGFydENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkmJnJhbmdlLmVuZE9mZnNldD09PXN0YXJ0T2Zmc2V0KzEpe3JldHVybiBzdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3N0YXJ0T2Zmc2V0XTt9cmV0dXJuIG51bGw7fTt2YXIgZ2V0Tm9kZT1mdW5jdGlvbiBnZXROb2RlKGNvbnRhaW5lcixvZmZzZXQpe2lmKGNvbnRhaW5lci5ub2RlVHlwZT09PTEmJmNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpe2lmKG9mZnNldD49Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoKXtvZmZzZXQ9Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoLTE7fWNvbnRhaW5lcj1jb250YWluZXIuY2hpbGROb2Rlc1tvZmZzZXRdO31yZXR1cm4gY29udGFpbmVyO307dmFyIGV4dGVuZGluZ0NoYXJzPW5ldyBSZWdFeHAoIltcdTAzMDAtXHUwMzZGXHUwNDgzLVx1MDQ4N1x1MDQ4OC1cdTA0ODlcdTA1OTEtXHUwNUJEXHUwNUJGXHUwNUMxLVx1MDVDMlx1MDVDNC1cdTA1QzVcdTA1QzdcdTA2MTAtXHUwNjFBIisiXHUwNjRCLVx1MDY1Rlx1MDY3MFx1MDZENi1cdTA2RENcdTA2REYtXHUwNkU0XHUwNkU3LVx1MDZFOFx1MDZFQS1cdTA2RURcdTA3MTFcdTA3MzAtXHUwNzRBXHUwN0E2LVx1MDdCMCIrIlx1MDdFQi1cdTA3RjNcdTA4MTYtXHUwODE5XHUwODFCLVx1MDgyM1x1MDgyNS1cdTA4MjdcdTA4MjktXHUwODJEXHUwODU5LVx1MDg1Qlx1MDhFMy1cdTA5MDJcdTA5M0FcdTA5M0MiKyJcdTA5NDEtXHUwOTQ4XHUwOTREXHUwOTUxLVx1MDk1N1x1MDk2Mi1cdTA5NjNcdTA5ODFcdTA5QkNcdTA5QkVcdTA5QzEtXHUwOUM0XHUwOUNEXHUwOUQ3XHUwOUUyLVx1MDlFMyIrIlx1MEEwMS1cdTBBMDJcdTBBM0NcdTBBNDEtXHUwQTQyXHUwQTQ3LVx1MEE0OFx1MEE0Qi1cdTBBNERcdTBBNTFcdTBBNzAtXHUwQTcxXHUwQTc1XHUwQTgxLVx1MEE4Mlx1MEFCQyIrIlx1MEFDMS1cdTBBQzVcdTBBQzctXHUwQUM4XHUwQUNEXHUwQUUyLVx1MEFFM1x1MEIwMVx1MEIzQ1x1MEIzRVx1MEIzRlx1MEI0MS1cdTBCNDRcdTBCNERcdTBCNTZcdTBCNTciKyJcdTBCNjItXHUwQjYzXHUwQjgyXHUwQkJFXHUwQkMwXHUwQkNEXHUwQkQ3XHUwQzAwXHUwQzNFLVx1MEM0MFx1MEM0Ni1cdTBDNDhcdTBDNEEtXHUwQzREXHUwQzU1LVx1MEM1NiIrIlx1MEM2Mi1cdTBDNjNcdTBDODFcdTBDQkNcdTBDQkZcdTBDQzJcdTBDQzZcdTBDQ0MtXHUwQ0NEXHUwQ0Q1LVx1MENENlx1MENFMi1cdTBDRTNcdTBEMDFcdTBEM0VcdTBENDEtXHUwRDQ0IisiXHUwRDREXHUwRDU3XHUwRDYyLVx1MEQ2M1x1MERDQVx1MERDRlx1MEREMi1cdTBERDRcdTBERDZcdTBEREZcdTBFMzFcdTBFMzQtXHUwRTNBXHUwRTQ3LVx1MEU0RVx1MEVCMVx1MEVCNC1cdTBFQjkiKyJcdTBFQkItXHUwRUJDXHUwRUM4LVx1MEVDRFx1MEYxOC1cdTBGMTlcdTBGMzVcdTBGMzdcdTBGMzlcdTBGNzEtXHUwRjdFXHUwRjgwLVx1MEY4NFx1MEY4Ni1cdTBGODdcdTBGOEQtXHUwRjk3IisiXHUwRjk5LVx1MEZCQ1x1MEZDNlx1MTAyRC1cdTEwMzBcdTEwMzItXHUxMDM3XHUxMDM5LVx1MTAzQVx1MTAzRC1cdTEwM0VcdTEwNTgtXHUxMDU5XHUxMDVFLVx1MTA2MFx1MTA3MS1cdTEwNzQiKyJcdTEwODJcdTEwODUtXHUxMDg2XHUxMDhEXHUxMDlEXHUxMzVELVx1MTM1Rlx1MTcxMi1cdTE3MTRcdTE3MzItXHUxNzM0XHUxNzUyLVx1MTc1M1x1MTc3Mi1cdTE3NzNcdTE3QjQtXHUxN0I1IisiXHUxN0I3LVx1MTdCRFx1MTdDNlx1MTdDOS1cdTE3RDNcdTE3RERcdTE4MEItXHUxODBEXHUxOEE5XHUxOTIwLVx1MTkyMlx1MTkyNy1cdTE5MjhcdTE5MzJcdTE5MzktXHUxOTNCXHUxQTE3LVx1MUExOCIrIlx1MUExQlx1MUE1Nlx1MUE1OC1cdTFBNUVcdTFBNjBcdTFBNjJcdTFBNjUtXHUxQTZDXHUxQTczLVx1MUE3Q1x1MUE3Rlx1MUFCMC1cdTFBQkRcdTFBQkVcdTFCMDAtXHUxQjAzXHUxQjM0IisiXHUxQjM2LVx1MUIzQVx1MUIzQ1x1MUI0Mlx1MUI2Qi1cdTFCNzNcdTFCODAtXHUxQjgxXHUxQkEyLVx1MUJBNVx1MUJBOC1cdTFCQTlcdTFCQUItXHUxQkFEXHUxQkU2XHUxQkU4LVx1MUJFOSIrIlx1MUJFRFx1MUJFRi1cdTFCRjFcdTFDMkMtXHUxQzMzXHUxQzM2LVx1MUMzN1x1MUNEMC1cdTFDRDJcdTFDRDQtXHUxQ0UwXHUxQ0UyLVx1MUNFOFx1MUNFRFx1MUNGNFx1MUNGOC1cdTFDRjkiKyJcdTFEQzAtXHUxREY1XHUxREZDLVx1MURGRlx1MjAwQy1cdTIwMERcdTIwRDAtXHUyMERDXHUyMERELVx1MjBFMFx1MjBFMVx1MjBFMi1cdTIwRTRcdTIwRTUtXHUyMEYwXHUyQ0VGLVx1MkNGMSIrIlx1MkQ3Rlx1MkRFMC1cdTJERkZcdTMwMkEtXHUzMDJEXHUzMDJFLVx1MzAyRlx1MzA5OS1cdTMwOUFcdUE2NkZcdUE2NzAtXHVBNjcyXHVBNjc0LVx1QTY3RFx1QTY5RS1cdUE2OUZcdUE2RjAtXHVBNkYxIisiXHVBODAyXHVBODA2XHVBODBCXHVBODI1LVx1QTgyNlx1QThDNFx1QThFMC1cdUE4RjFcdUE5MjYtXHVBOTJEXHVBOTQ3LVx1QTk1MVx1QTk4MC1cdUE5ODJcdUE5QjNcdUE5QjYtXHVBOUI5XHVBOUJDIisiXHVBOUU1XHVBQTI5LVx1QUEyRVx1QUEzMS1cdUFBMzJcdUFBMzUtXHVBQTM2XHVBQTQzXHVBQTRDXHVBQTdDXHVBQUIwXHVBQUIyLVx1QUFCNFx1QUFCNy1cdUFBQjhcdUFBQkUtXHVBQUJGXHVBQUMxIisiXHVBQUVDLVx1QUFFRFx1QUFGNlx1QUJFNVx1QUJFOFx1QUJFRFx1RkIxRVx1RkUwMC1cdUZFMEZcdUZFMjAtXHVGRTJGXHVGRjlFLVx1RkY5Rl0iKTt2YXIgaXNFeHRlbmRpbmdDaGFyPWZ1bmN0aW9uIGlzRXh0ZW5kaW5nQ2hhcihjaCl7cmV0dXJuIHR5cGVvZiBjaD09PSdzdHJpbmcnJiZjaC5jaGFyQ29kZUF0KDApPj03NjgmJmV4dGVuZGluZ0NoYXJzLnRlc3QoY2gpO307dmFyIGxpZnQyPWZ1bmN0aW9uIGxpZnQyKG9hLG9iLGYpe3JldHVybiBvYS5pc1NvbWUoKSYmb2IuaXNTb21lKCk/T3B0aW9uLnNvbWUoZihvYS5nZXRPckRpZSgpLG9iLmdldE9yRGllKCkpKTpPcHRpb24ubm9uZSgpO307dmFyIGxpZnQzPWZ1bmN0aW9uIGxpZnQzKG9hLG9iLG9jLGYpe3JldHVybiBvYS5pc1NvbWUoKSYmb2IuaXNTb21lKCkmJm9jLmlzU29tZSgpP09wdGlvbi5zb21lKGYob2EuZ2V0T3JEaWUoKSxvYi5nZXRPckRpZSgpLG9jLmdldE9yRGllKCkpKTpPcHRpb24ubm9uZSgpO307dmFyIHNvbWVJZj1mdW5jdGlvbiBzb21lSWYoYixhKXtyZXR1cm4gYj9PcHRpb24uc29tZShhKTpPcHRpb24ubm9uZSgpO307dmFyIHNsaWNlJDI9W10uc2xpY2U7dmFyIG9yPWZ1bmN0aW9uIG9yKCl7dmFyIHg9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7eFtfaV09YXJndW1lbnRzW19pXTt9dmFyIGFyZ3M9c2xpY2UkMi5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHgpe2Zvcih2YXIgaT0wO2k8YXJncy5sZW5ndGg7aSsrKXtpZihhcmdzW2ldKHgpKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O307dmFyIGFuZD1mdW5jdGlvbiBhbmQoKXt2YXIgeD1bXTtmb3IodmFyIF9pPTA7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKXt4W19pXT1hcmd1bWVudHNbX2ldO312YXIgYXJncz1zbGljZSQyLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oeCl7Zm9yKHZhciBpPTA7aTxhcmdzLmxlbmd0aDtpKyspe2lmKCFhcmdzW2ldKHgpKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9O307dmFyIFByZWRpY2F0ZT17YW5kOmFuZCxvcjpvcn07dmFyIGlzRWxlbWVudCQzPU5vZGVUeXBlLmlzRWxlbWVudDt2YXIgaXNDYXJldENhbmRpZGF0ZSQxPWlzQ2FyZXRDYW5kaWRhdGU7dmFyIGlzQmxvY2skMT1Ob2RlVHlwZS5tYXRjaFN0eWxlVmFsdWVzKCdkaXNwbGF5JywnYmxvY2sgdGFibGUnKTt2YXIgaXNGbG9hdGVkPU5vZGVUeXBlLm1hdGNoU3R5bGVWYWx1ZXMoJ2Zsb2F0JywnbGVmdCByaWdodCcpO3ZhciBpc1ZhbGlkRWxlbWVudENhcmV0Q2FuZGlkYXRlPVByZWRpY2F0ZS5hbmQoaXNFbGVtZW50JDMsaXNDYXJldENhbmRpZGF0ZSQxLG5vdChpc0Zsb2F0ZWQpKTt2YXIgaXNOb3RQcmU9bm90KE5vZGVUeXBlLm1hdGNoU3R5bGVWYWx1ZXMoJ3doaXRlLXNwYWNlJywncHJlIHByZS1saW5lIHByZS13cmFwJykpO3ZhciBpc1RleHQkND1Ob2RlVHlwZS5pc1RleHQ7dmFyIGlzQnIkMz1Ob2RlVHlwZS5pc0JyO3ZhciBub2RlSW5kZXg9RE9NVXRpbHMkMS5ub2RlSW5kZXg7dmFyIHJlc29sdmVJbmRleD1nZXROb2RlO3ZhciBjcmVhdGVSYW5nZT1mdW5jdGlvbiBjcmVhdGVSYW5nZShkb2Mpe3JldHVybidjcmVhdGVSYW5nZSdpbiBkb2M/ZG9jLmNyZWF0ZVJhbmdlKCk6RE9NVXRpbHMkMS5ET00uY3JlYXRlUm5nKCk7fTt2YXIgaXNXaGl0ZVNwYWNlPWZ1bmN0aW9uIGlzV2hpdGVTcGFjZShjaHIpe3JldHVybiBjaHImJi9bXHJcblx0IF0vLnRlc3QoY2hyKTt9O3ZhciBpc1JhbmdlPWZ1bmN0aW9uIGlzUmFuZ2Uocm5nKXtyZXR1cm4hIXJuZy5zZXRTdGFydCYmISFybmcuc2V0RW5kO307dmFyIGlzSGlkZGVuV2hpdGVTcGFjZVJhbmdlPWZ1bmN0aW9uIGlzSGlkZGVuV2hpdGVTcGFjZVJhbmdlKHJhbmdlKXt2YXIgY29udGFpbmVyPXJhbmdlLnN0YXJ0Q29udGFpbmVyO3ZhciBvZmZzZXQ9cmFuZ2Uuc3RhcnRPZmZzZXQ7dmFyIHRleHQ7aWYoaXNXaGl0ZVNwYWNlKHJhbmdlLnRvU3RyaW5nKCkpJiZpc05vdFByZShjb250YWluZXIucGFyZW50Tm9kZSkmJk5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpKXt0ZXh0PWNvbnRhaW5lci5kYXRhO2lmKGlzV2hpdGVTcGFjZSh0ZXh0W29mZnNldC0xXSl8fGlzV2hpdGVTcGFjZSh0ZXh0W29mZnNldCsxXSkpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307dmFyIGdldEJyQ2xpZW50UmVjdD1mdW5jdGlvbiBnZXRCckNsaWVudFJlY3QoYnJOb2RlKXt2YXIgZG9jPWJyTm9kZS5vd25lckRvY3VtZW50O3ZhciBybmc9Y3JlYXRlUmFuZ2UoZG9jKTt2YXIgbmJzcD1kb2MuY3JlYXRlVGV4dE5vZGUoJ1x4QTAnKTt2YXIgcGFyZW50Tm9kZT1ick5vZGUucGFyZW50Tm9kZTt2YXIgY2xpZW50UmVjdDtwYXJlbnROb2RlLmluc2VydEJlZm9yZShuYnNwLGJyTm9kZSk7cm5nLnNldFN0YXJ0KG5ic3AsMCk7cm5nLnNldEVuZChuYnNwLDEpO2NsaWVudFJlY3Q9Y2xvbmUkMShybmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3BhcmVudE5vZGUucmVtb3ZlQ2hpbGQobmJzcCk7cmV0dXJuIGNsaWVudFJlY3Q7fTt2YXIgZ2V0Qm91bmRpbmdDbGllbnRSZWN0V2ViS2l0VGV4dD1mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3RXZWJLaXRUZXh0KHJuZyl7dmFyIHNjPXJuZy5zdGFydENvbnRhaW5lcjt2YXIgZWM9cm5nLmVuZENvbnRhaW5lcjt2YXIgc289cm5nLnN0YXJ0T2Zmc2V0O3ZhciBlbz1ybmcuZW5kT2Zmc2V0O2lmKHNjPT09ZWMmJk5vZGVUeXBlLmlzVGV4dChlYykmJnNvPT09MCYmZW89PT0xKXt2YXIgbmV3Um5nPXJuZy5jbG9uZVJhbmdlKCk7bmV3Um5nLnNldEVuZEFmdGVyKGVjKTtyZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG5ld1JuZyk7fWVsc2V7cmV0dXJuIG51bGw7fX07dmFyIGlzWmVyb1JlY3Q9ZnVuY3Rpb24gaXNaZXJvUmVjdChyKXtyZXR1cm4gci5sZWZ0PT09MCYmci5yaWdodD09PTAmJnIudG9wPT09MCYmci5ib3R0b209PT0wO307dmFyIGdldEJvdW5kaW5nQ2xpZW50UmVjdD1mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoaXRlbSl7dmFyIGNsaWVudFJlY3QsY2xpZW50UmVjdHM7Y2xpZW50UmVjdHM9aXRlbS5nZXRDbGllbnRSZWN0cygpO2lmKGNsaWVudFJlY3RzLmxlbmd0aD4wKXtjbGllbnRSZWN0PWNsb25lJDEoY2xpZW50UmVjdHNbMF0pO31lbHNle2NsaWVudFJlY3Q9Y2xvbmUkMShpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTt9aWYoIWlzUmFuZ2UoaXRlbSkmJmlzQnIkMyhpdGVtKSYmaXNaZXJvUmVjdChjbGllbnRSZWN0KSl7cmV0dXJuIGdldEJyQ2xpZW50UmVjdChpdGVtKTt9aWYoaXNaZXJvUmVjdChjbGllbnRSZWN0KSYmaXNSYW5nZShpdGVtKSl7cmV0dXJuIGdldEJvdW5kaW5nQ2xpZW50UmVjdFdlYktpdFRleHQoaXRlbSk7fXJldHVybiBjbGllbnRSZWN0O307dmFyIGNvbGxhcHNlQW5kSW5mbGF0ZVdpZHRoPWZ1bmN0aW9uIGNvbGxhcHNlQW5kSW5mbGF0ZVdpZHRoKGNsaWVudFJlY3QsdG9TdGFydCl7dmFyIG5ld0NsaWVudFJlY3Q9Y29sbGFwc2UoY2xpZW50UmVjdCx0b1N0YXJ0KTtuZXdDbGllbnRSZWN0LndpZHRoPTE7bmV3Q2xpZW50UmVjdC5yaWdodD1uZXdDbGllbnRSZWN0LmxlZnQrMTtyZXR1cm4gbmV3Q2xpZW50UmVjdDt9O3ZhciBnZXRDYXJldFBvc2l0aW9uQ2xpZW50UmVjdHM9ZnVuY3Rpb24gZ2V0Q2FyZXRQb3NpdGlvbkNsaWVudFJlY3RzKGNhcmV0UG9zaXRpb24pe3ZhciBjbGllbnRSZWN0cz1bXTt2YXIgYmVmb3JlTm9kZSxub2RlO3ZhciBhZGRVbmlxdWVBbmRWYWxpZFJlY3Q9ZnVuY3Rpb24gYWRkVW5pcXVlQW5kVmFsaWRSZWN0KGNsaWVudFJlY3Qpe2lmKGNsaWVudFJlY3QuaGVpZ2h0PT09MCl7cmV0dXJuO31pZihjbGllbnRSZWN0cy5sZW5ndGg+MCl7aWYoaXNFcXVhbChjbGllbnRSZWN0LGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aC0xXSkpe3JldHVybjt9fWNsaWVudFJlY3RzLnB1c2goY2xpZW50UmVjdCk7fTt2YXIgYWRkQ2hhcmFjdGVyT2Zmc2V0PWZ1bmN0aW9uIGFkZENoYXJhY3Rlck9mZnNldChjb250YWluZXIsb2Zmc2V0KXt2YXIgcmFuZ2U9Y3JlYXRlUmFuZ2UoY29udGFpbmVyLm93bmVyRG9jdW1lbnQpO2lmKG9mZnNldDxjb250YWluZXIuZGF0YS5sZW5ndGgpe2lmKGlzRXh0ZW5kaW5nQ2hhcihjb250YWluZXIuZGF0YVtvZmZzZXRdKSl7cmV0dXJuIGNsaWVudFJlY3RzO31pZihpc0V4dGVuZGluZ0NoYXIoY29udGFpbmVyLmRhdGFbb2Zmc2V0LTFdKSl7cmFuZ2Uuc2V0U3RhcnQoY29udGFpbmVyLG9mZnNldCk7cmFuZ2Uuc2V0RW5kKGNvbnRhaW5lcixvZmZzZXQrMSk7aWYoIWlzSGlkZGVuV2hpdGVTcGFjZVJhbmdlKHJhbmdlKSl7YWRkVW5pcXVlQW5kVmFsaWRSZWN0KGNvbGxhcHNlQW5kSW5mbGF0ZVdpZHRoKGdldEJvdW5kaW5nQ2xpZW50UmVjdChyYW5nZSksZmFsc2UpKTtyZXR1cm4gY2xpZW50UmVjdHM7fX19aWYob2Zmc2V0PjApe3JhbmdlLnNldFN0YXJ0KGNvbnRhaW5lcixvZmZzZXQtMSk7cmFuZ2Uuc2V0RW5kKGNvbnRhaW5lcixvZmZzZXQpO2lmKCFpc0hpZGRlbldoaXRlU3BhY2VSYW5nZShyYW5nZSkpe2FkZFVuaXF1ZUFuZFZhbGlkUmVjdChjb2xsYXBzZUFuZEluZmxhdGVXaWR0aChnZXRCb3VuZGluZ0NsaWVudFJlY3QocmFuZ2UpLGZhbHNlKSk7fX1pZihvZmZzZXQ8Y29udGFpbmVyLmRhdGEubGVuZ3RoKXtyYW5nZS5zZXRTdGFydChjb250YWluZXIsb2Zmc2V0KTtyYW5nZS5zZXRFbmQoY29udGFpbmVyLG9mZnNldCsxKTtpZighaXNIaWRkZW5XaGl0ZVNwYWNlUmFuZ2UocmFuZ2UpKXthZGRVbmlxdWVBbmRWYWxpZFJlY3QoY29sbGFwc2VBbmRJbmZsYXRlV2lkdGgoZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJhbmdlKSx0cnVlKSk7fX19O2lmKGlzVGV4dCQ0KGNhcmV0UG9zaXRpb24uY29udGFpbmVyKCkpKXthZGRDaGFyYWN0ZXJPZmZzZXQoY2FyZXRQb3NpdGlvbi5jb250YWluZXIoKSxjYXJldFBvc2l0aW9uLm9mZnNldCgpKTtyZXR1cm4gY2xpZW50UmVjdHM7fWlmKGlzRWxlbWVudCQzKGNhcmV0UG9zaXRpb24uY29udGFpbmVyKCkpKXtpZihjYXJldFBvc2l0aW9uLmlzQXRFbmQoKSl7bm9kZT1yZXNvbHZlSW5kZXgoY2FyZXRQb3NpdGlvbi5jb250YWluZXIoKSxjYXJldFBvc2l0aW9uLm9mZnNldCgpKTtpZihpc1RleHQkNChub2RlKSl7YWRkQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsbm9kZS5kYXRhLmxlbmd0aCk7fWlmKGlzVmFsaWRFbGVtZW50Q2FyZXRDYW5kaWRhdGUobm9kZSkmJiFpc0JyJDMobm9kZSkpe2FkZFVuaXF1ZUFuZFZhbGlkUmVjdChjb2xsYXBzZUFuZEluZmxhdGVXaWR0aChnZXRCb3VuZGluZ0NsaWVudFJlY3Qobm9kZSksZmFsc2UpKTt9fWVsc2V7bm9kZT1yZXNvbHZlSW5kZXgoY2FyZXRQb3NpdGlvbi5jb250YWluZXIoKSxjYXJldFBvc2l0aW9uLm9mZnNldCgpKTtpZihpc1RleHQkNChub2RlKSl7YWRkQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsMCk7fWlmKGlzVmFsaWRFbGVtZW50Q2FyZXRDYW5kaWRhdGUobm9kZSkmJmNhcmV0UG9zaXRpb24uaXNBdEVuZCgpKXthZGRVbmlxdWVBbmRWYWxpZFJlY3QoY29sbGFwc2VBbmRJbmZsYXRlV2lkdGgoZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG5vZGUpLGZhbHNlKSk7cmV0dXJuIGNsaWVudFJlY3RzO31iZWZvcmVOb2RlPXJlc29sdmVJbmRleChjYXJldFBvc2l0aW9uLmNvbnRhaW5lcigpLGNhcmV0UG9zaXRpb24ub2Zmc2V0KCktMSk7aWYoaXNWYWxpZEVsZW1lbnRDYXJldENhbmRpZGF0ZShiZWZvcmVOb2RlKSYmIWlzQnIkMyhiZWZvcmVOb2RlKSl7aWYoaXNCbG9jayQxKGJlZm9yZU5vZGUpfHxpc0Jsb2NrJDEobm9kZSl8fCFpc1ZhbGlkRWxlbWVudENhcmV0Q2FuZGlkYXRlKG5vZGUpKXthZGRVbmlxdWVBbmRWYWxpZFJlY3QoY29sbGFwc2VBbmRJbmZsYXRlV2lkdGgoZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGJlZm9yZU5vZGUpLGZhbHNlKSk7fX1pZihpc1ZhbGlkRWxlbWVudENhcmV0Q2FuZGlkYXRlKG5vZGUpKXthZGRVbmlxdWVBbmRWYWxpZFJlY3QoY29sbGFwc2VBbmRJbmZsYXRlV2lkdGgoZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG5vZGUpLHRydWUpKTt9fX1yZXR1cm4gY2xpZW50UmVjdHM7fTtmdW5jdGlvbiBDYXJldFBvc2l0aW9uKGNvbnRhaW5lcixvZmZzZXQsY2xpZW50UmVjdHMpe3ZhciBpc0F0U3RhcnQ9ZnVuY3Rpb24gaXNBdFN0YXJ0KCl7aWYoaXNUZXh0JDQoY29udGFpbmVyKSl7cmV0dXJuIG9mZnNldD09PTA7fXJldHVybiBvZmZzZXQ9PT0wO307dmFyIGlzQXRFbmQ9ZnVuY3Rpb24gaXNBdEVuZCgpe2lmKGlzVGV4dCQ0KGNvbnRhaW5lcikpe3JldHVybiBvZmZzZXQ+PWNvbnRhaW5lci5kYXRhLmxlbmd0aDt9cmV0dXJuIG9mZnNldD49Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoO307dmFyIHRvUmFuZ2U9ZnVuY3Rpb24gdG9SYW5nZSgpe3ZhciByYW5nZTtyYW5nZT1jcmVhdGVSYW5nZShjb250YWluZXIub3duZXJEb2N1bWVudCk7cmFuZ2Uuc2V0U3RhcnQoY29udGFpbmVyLG9mZnNldCk7cmFuZ2Uuc2V0RW5kKGNvbnRhaW5lcixvZmZzZXQpO3JldHVybiByYW5nZTt9O3ZhciBnZXRDbGllbnRSZWN0cz1mdW5jdGlvbiBnZXRDbGllbnRSZWN0cygpe2lmKCFjbGllbnRSZWN0cyl7Y2xpZW50UmVjdHM9Z2V0Q2FyZXRQb3NpdGlvbkNsaWVudFJlY3RzKENhcmV0UG9zaXRpb24oY29udGFpbmVyLG9mZnNldCkpO31yZXR1cm4gY2xpZW50UmVjdHM7fTt2YXIgaXNWaXNpYmxlPWZ1bmN0aW9uIGlzVmlzaWJsZSgpe3JldHVybiBnZXRDbGllbnRSZWN0cygpLmxlbmd0aD4wO307dmFyIGlzRXF1YWw9ZnVuY3Rpb24gaXNFcXVhbChjYXJldFBvc2l0aW9uKXtyZXR1cm4gY2FyZXRQb3NpdGlvbiYmY29udGFpbmVyPT09Y2FyZXRQb3NpdGlvbi5jb250YWluZXIoKSYmb2Zmc2V0PT09Y2FyZXRQb3NpdGlvbi5vZmZzZXQoKTt9O3ZhciBnZXROb2RlPWZ1bmN0aW9uIGdldE5vZGUoYmVmb3JlKXtyZXR1cm4gcmVzb2x2ZUluZGV4KGNvbnRhaW5lcixiZWZvcmU/b2Zmc2V0LTE6b2Zmc2V0KTt9O3JldHVybntjb250YWluZXI6Y29uc3RhbnQoY29udGFpbmVyKSxvZmZzZXQ6Y29uc3RhbnQob2Zmc2V0KSx0b1JhbmdlOnRvUmFuZ2UsZ2V0Q2xpZW50UmVjdHM6Z2V0Q2xpZW50UmVjdHMsaXNWaXNpYmxlOmlzVmlzaWJsZSxpc0F0U3RhcnQ6aXNBdFN0YXJ0LGlzQXRFbmQ6aXNBdEVuZCxpc0VxdWFsOmlzRXF1YWwsZ2V0Tm9kZTpnZXROb2RlfTt9KGZ1bmN0aW9uKENhcmV0UG9zaXRpb24pe0NhcmV0UG9zaXRpb24uZnJvbVJhbmdlU3RhcnQ9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiBDYXJldFBvc2l0aW9uKHJhbmdlLnN0YXJ0Q29udGFpbmVyLHJhbmdlLnN0YXJ0T2Zmc2V0KTt9O0NhcmV0UG9zaXRpb24uZnJvbVJhbmdlRW5kPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbihyYW5nZS5lbmRDb250YWluZXIscmFuZ2UuZW5kT2Zmc2V0KTt9O0NhcmV0UG9zaXRpb24uYWZ0ZXI9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIENhcmV0UG9zaXRpb24obm9kZS5wYXJlbnROb2RlLG5vZGVJbmRleChub2RlKSsxKTt9O0NhcmV0UG9zaXRpb24uYmVmb3JlPWZ1bmN0aW9uKG5vZGUpe3JldHVybiBDYXJldFBvc2l0aW9uKG5vZGUucGFyZW50Tm9kZSxub2RlSW5kZXgobm9kZSkpO307Q2FyZXRQb3NpdGlvbi5pc0Fib3ZlPWZ1bmN0aW9uKHBvczEscG9zMil7cmV0dXJuIGxpZnQyKGhlYWQocG9zMi5nZXRDbGllbnRSZWN0cygpKSxsYXN0KHBvczEuZ2V0Q2xpZW50UmVjdHMoKSksaXNBYm92ZSkuZ2V0T3IoZmFsc2UpO307Q2FyZXRQb3NpdGlvbi5pc0JlbG93PWZ1bmN0aW9uKHBvczEscG9zMil7cmV0dXJuIGxpZnQyKGxhc3QocG9zMi5nZXRDbGllbnRSZWN0cygpKSxoZWFkKHBvczEuZ2V0Q2xpZW50UmVjdHMoKSksaXNCZWxvdykuZ2V0T3IoZmFsc2UpO307Q2FyZXRQb3NpdGlvbi5pc0F0U3RhcnQ9ZnVuY3Rpb24ocG9zKXtyZXR1cm4gcG9zP3Bvcy5pc0F0U3RhcnQoKTpmYWxzZTt9O0NhcmV0UG9zaXRpb24uaXNBdEVuZD1mdW5jdGlvbihwb3Mpe3JldHVybiBwb3M/cG9zLmlzQXRFbmQoKTpmYWxzZTt9O0NhcmV0UG9zaXRpb24uaXNUZXh0UG9zaXRpb249ZnVuY3Rpb24ocG9zKXtyZXR1cm4gcG9zP05vZGVUeXBlLmlzVGV4dChwb3MuY29udGFpbmVyKCkpOmZhbHNlO307Q2FyZXRQb3NpdGlvbi5pc0VsZW1lbnRQb3NpdGlvbj1mdW5jdGlvbihwb3Mpe3JldHVybiBDYXJldFBvc2l0aW9uLmlzVGV4dFBvc2l0aW9uKHBvcyk9PT1mYWxzZTt9O30pKENhcmV0UG9zaXRpb258fChDYXJldFBvc2l0aW9uPXt9KSk7dmFyIENhcmV0UG9zaXRpb24kMT1DYXJldFBvc2l0aW9uO3ZhciBpc1RleHQkNT1Ob2RlVHlwZS5pc1RleHQ7dmFyIGlzQm9ndXMkMT1Ob2RlVHlwZS5pc0JvZ3VzO3ZhciBub2RlSW5kZXgkMT1ET01VdGlscyQxLm5vZGVJbmRleDt2YXIgbm9ybWFsaXplZFBhcmVudD1mdW5jdGlvbiBub3JtYWxpemVkUGFyZW50KG5vZGUpe3ZhciBwYXJlbnROb2RlPW5vZGUucGFyZW50Tm9kZTtpZihpc0JvZ3VzJDEocGFyZW50Tm9kZSkpe3JldHVybiBub3JtYWxpemVkUGFyZW50KHBhcmVudE5vZGUpO31yZXR1cm4gcGFyZW50Tm9kZTt9O3ZhciBnZXRDaGlsZE5vZGVzPWZ1bmN0aW9uIGdldENoaWxkTm9kZXMobm9kZSl7aWYoIW5vZGUpe3JldHVybltdO31yZXR1cm4gQXJyVXRpbHMucmVkdWNlKG5vZGUuY2hpbGROb2RlcyxmdW5jdGlvbihyZXN1bHQsbm9kZSl7aWYoaXNCb2d1cyQxKG5vZGUpJiZub2RlLm5vZGVOYW1lIT09J0JSJyl7cmVzdWx0PXJlc3VsdC5jb25jYXQoZ2V0Q2hpbGROb2Rlcyhub2RlKSk7fWVsc2V7cmVzdWx0LnB1c2gobm9kZSk7fXJldHVybiByZXN1bHQ7fSxbXSk7fTt2YXIgbm9ybWFsaXplZFRleHRPZmZzZXQ9ZnVuY3Rpb24gbm9ybWFsaXplZFRleHRPZmZzZXQobm9kZSxvZmZzZXQpe3doaWxlKG5vZGU9bm9kZS5wcmV2aW91c1NpYmxpbmcpe2lmKCFpc1RleHQkNShub2RlKSl7YnJlYWs7fW9mZnNldCs9bm9kZS5kYXRhLmxlbmd0aDt9cmV0dXJuIG9mZnNldDt9O3ZhciBlcXVhbD1mdW5jdGlvbiBlcXVhbChhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iO307fTt2YXIgbm9ybWFsaXplZE5vZGVJbmRleD1mdW5jdGlvbiBub3JtYWxpemVkTm9kZUluZGV4KG5vZGUpe3ZhciBub2RlcyxpbmRleCxudW1UZXh0RnJhZ21lbnRzO25vZGVzPWdldENoaWxkTm9kZXMobm9ybWFsaXplZFBhcmVudChub2RlKSk7aW5kZXg9QXJyVXRpbHMuZmluZEluZGV4KG5vZGVzLGVxdWFsKG5vZGUpLG5vZGUpO25vZGVzPW5vZGVzLnNsaWNlKDAsaW5kZXgrMSk7bnVtVGV4dEZyYWdtZW50cz1BcnJVdGlscy5yZWR1Y2Uobm9kZXMsZnVuY3Rpb24ocmVzdWx0LG5vZGUsaSl7aWYoaXNUZXh0JDUobm9kZSkmJmlzVGV4dCQ1KG5vZGVzW2ktMV0pKXtyZXN1bHQrKzt9cmV0dXJuIHJlc3VsdDt9LDApO25vZGVzPUFyclV0aWxzLmZpbHRlcihub2RlcyxOb2RlVHlwZS5tYXRjaE5vZGVOYW1lcyhbbm9kZS5ub2RlTmFtZV0pKTtpbmRleD1BcnJVdGlscy5maW5kSW5kZXgobm9kZXMsZXF1YWwobm9kZSksbm9kZSk7cmV0dXJuIGluZGV4LW51bVRleHRGcmFnbWVudHM7fTt2YXIgY3JlYXRlUGF0aEl0ZW09ZnVuY3Rpb24gY3JlYXRlUGF0aEl0ZW0obm9kZSl7dmFyIG5hbWU7aWYoaXNUZXh0JDUobm9kZSkpe25hbWU9J3RleHQoKSc7fWVsc2V7bmFtZT1ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7fXJldHVybiBuYW1lKydbJytub3JtYWxpemVkTm9kZUluZGV4KG5vZGUpKyddJzt9O3ZhciBwYXJlbnRzVW50aWw9ZnVuY3Rpb24gcGFyZW50c1VudGlsKHJvb3Qsbm9kZSxwcmVkaWNhdGUpe3ZhciBwYXJlbnRzPVtdO2Zvcihub2RlPW5vZGUucGFyZW50Tm9kZTtub2RlIT09cm9vdDtub2RlPW5vZGUucGFyZW50Tm9kZSl7aWYocHJlZGljYXRlJiZwcmVkaWNhdGUobm9kZSkpe2JyZWFrO31wYXJlbnRzLnB1c2gobm9kZSk7fXJldHVybiBwYXJlbnRzO307dmFyIGNyZWF0ZSQyPWZ1bmN0aW9uIGNyZWF0ZSQyKHJvb3QsY2FyZXRQb3NpdGlvbil7dmFyIGNvbnRhaW5lcixvZmZzZXQscGF0aD1bXSxvdXRwdXRPZmZzZXQsY2hpbGROb2RlcyxwYXJlbnRzO2NvbnRhaW5lcj1jYXJldFBvc2l0aW9uLmNvbnRhaW5lcigpO29mZnNldD1jYXJldFBvc2l0aW9uLm9mZnNldCgpO2lmKGlzVGV4dCQ1KGNvbnRhaW5lcikpe291dHB1dE9mZnNldD1ub3JtYWxpemVkVGV4dE9mZnNldChjb250YWluZXIsb2Zmc2V0KTt9ZWxzZXtjaGlsZE5vZGVzPWNvbnRhaW5lci5jaGlsZE5vZGVzO2lmKG9mZnNldD49Y2hpbGROb2Rlcy5sZW5ndGgpe291dHB1dE9mZnNldD0nYWZ0ZXInO29mZnNldD1jaGlsZE5vZGVzLmxlbmd0aC0xO31lbHNle291dHB1dE9mZnNldD0nYmVmb3JlJzt9Y29udGFpbmVyPWNoaWxkTm9kZXNbb2Zmc2V0XTt9cGF0aC5wdXNoKGNyZWF0ZVBhdGhJdGVtKGNvbnRhaW5lcikpO3BhcmVudHM9cGFyZW50c1VudGlsKHJvb3QsY29udGFpbmVyKTtwYXJlbnRzPUFyclV0aWxzLmZpbHRlcihwYXJlbnRzLG5vdChOb2RlVHlwZS5pc0JvZ3VzKSk7cGF0aD1wYXRoLmNvbmNhdChBcnJVdGlscy5tYXAocGFyZW50cyxmdW5jdGlvbihub2RlKXtyZXR1cm4gY3JlYXRlUGF0aEl0ZW0obm9kZSk7fSkpO3JldHVybiBwYXRoLnJldmVyc2UoKS5qb2luKCcvJykrJywnK291dHB1dE9mZnNldDt9O3ZhciByZXNvbHZlUGF0aEl0ZW09ZnVuY3Rpb24gcmVzb2x2ZVBhdGhJdGVtKG5vZGUsbmFtZSxpbmRleCl7dmFyIG5vZGVzPWdldENoaWxkTm9kZXMobm9kZSk7bm9kZXM9QXJyVXRpbHMuZmlsdGVyKG5vZGVzLGZ1bmN0aW9uKG5vZGUsaW5kZXgpe3JldHVybiFpc1RleHQkNShub2RlKXx8IWlzVGV4dCQ1KG5vZGVzW2luZGV4LTFdKTt9KTtub2Rlcz1BcnJVdGlscy5maWx0ZXIobm9kZXMsTm9kZVR5cGUubWF0Y2hOb2RlTmFtZXMoW25hbWVdKSk7cmV0dXJuIG5vZGVzW2luZGV4XTt9O3ZhciBmaW5kVGV4dFBvc2l0aW9uPWZ1bmN0aW9uIGZpbmRUZXh0UG9zaXRpb24oY29udGFpbmVyLG9mZnNldCl7dmFyIG5vZGU9Y29udGFpbmVyLHRhcmdldE9mZnNldD0wLGRhdGFMZW47d2hpbGUoaXNUZXh0JDUobm9kZSkpe2RhdGFMZW49bm9kZS5kYXRhLmxlbmd0aDtpZihvZmZzZXQ+PXRhcmdldE9mZnNldCYmb2Zmc2V0PD10YXJnZXRPZmZzZXQrZGF0YUxlbil7Y29udGFpbmVyPW5vZGU7b2Zmc2V0PW9mZnNldC10YXJnZXRPZmZzZXQ7YnJlYWs7fWlmKCFpc1RleHQkNShub2RlLm5leHRTaWJsaW5nKSl7Y29udGFpbmVyPW5vZGU7b2Zmc2V0PWRhdGFMZW47YnJlYWs7fXRhcmdldE9mZnNldCs9ZGF0YUxlbjtub2RlPW5vZGUubmV4dFNpYmxpbmc7fWlmKGlzVGV4dCQ1KGNvbnRhaW5lcikmJm9mZnNldD5jb250YWluZXIuZGF0YS5sZW5ndGgpe29mZnNldD1jb250YWluZXIuZGF0YS5sZW5ndGg7fXJldHVybiBDYXJldFBvc2l0aW9uJDEoY29udGFpbmVyLG9mZnNldCk7fTt2YXIgcmVzb2x2ZSQxPWZ1bmN0aW9uIHJlc29sdmUkMShyb290LHBhdGgpe3ZhciBwYXJ0cyxjb250YWluZXIsb2Zmc2V0O2lmKCFwYXRoKXtyZXR1cm4gbnVsbDt9cGFydHM9cGF0aC5zcGxpdCgnLCcpO3BhdGg9cGFydHNbMF0uc3BsaXQoJy8nKTtvZmZzZXQ9cGFydHMubGVuZ3RoPjE/cGFydHNbMV06J2JlZm9yZSc7Y29udGFpbmVyPUFyclV0aWxzLnJlZHVjZShwYXRoLGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSl7dmFsdWU9LyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModmFsdWUpO2lmKCF2YWx1ZSl7cmV0dXJuIG51bGw7fWlmKHZhbHVlWzFdPT09J3RleHQoKScpe3ZhbHVlWzFdPScjdGV4dCc7fXJldHVybiByZXNvbHZlUGF0aEl0ZW0ocmVzdWx0LHZhbHVlWzFdLHBhcnNlSW50KHZhbHVlWzJdLDEwKSk7fSxyb290KTtpZighY29udGFpbmVyKXtyZXR1cm4gbnVsbDt9aWYoIWlzVGV4dCQ1KGNvbnRhaW5lcikpe2lmKG9mZnNldD09PSdhZnRlcicpe29mZnNldD1ub2RlSW5kZXgkMShjb250YWluZXIpKzE7fWVsc2V7b2Zmc2V0PW5vZGVJbmRleCQxKGNvbnRhaW5lcik7fXJldHVybiBDYXJldFBvc2l0aW9uJDEoY29udGFpbmVyLnBhcmVudE5vZGUsb2Zmc2V0KTt9cmV0dXJuIGZpbmRUZXh0UG9zaXRpb24oY29udGFpbmVyLHBhcnNlSW50KG9mZnNldCwxMCkpO307dmFyIHRyaW1FbXB0eVRleHROb2RlPWZ1bmN0aW9uIHRyaW1FbXB0eVRleHROb2RlKGRvbSxub2RlKXtpZihOb2RlVHlwZS5pc1RleHQobm9kZSkmJm5vZGUuZGF0YS5sZW5ndGg9PT0wKXtkb20ucmVtb3ZlKG5vZGUpO319O3ZhciBpbnNlcnROb2RlPWZ1bmN0aW9uIGluc2VydE5vZGUoZG9tLHJuZyxub2RlKXtybmcuaW5zZXJ0Tm9kZShub2RlKTt0cmltRW1wdHlUZXh0Tm9kZShkb20sbm9kZS5wcmV2aW91c1NpYmxpbmcpO3RyaW1FbXB0eVRleHROb2RlKGRvbSxub2RlLm5leHRTaWJsaW5nKTt9O3ZhciBpbnNlcnRGcmFnbWVudD1mdW5jdGlvbiBpbnNlcnRGcmFnbWVudChkb20scm5nLGZyYWcpe3ZhciBmaXJzdENoaWxkPU9wdGlvbi5mcm9tKGZyYWcuZmlyc3RDaGlsZCk7dmFyIGxhc3RDaGlsZD1PcHRpb24uZnJvbShmcmFnLmxhc3RDaGlsZCk7cm5nLmluc2VydE5vZGUoZnJhZyk7Zmlyc3RDaGlsZC5lYWNoKGZ1bmN0aW9uKGNoaWxkKXtyZXR1cm4gdHJpbUVtcHR5VGV4dE5vZGUoZG9tLGNoaWxkLnByZXZpb3VzU2libGluZyk7fSk7bGFzdENoaWxkLmVhY2goZnVuY3Rpb24oY2hpbGQpe3JldHVybiB0cmltRW1wdHlUZXh0Tm9kZShkb20sY2hpbGQubmV4dFNpYmxpbmcpO30pO307dmFyIHJhbmdlSW5zZXJ0Tm9kZT1mdW5jdGlvbiByYW5nZUluc2VydE5vZGUoZG9tLHJuZyxub2RlKXtpZihOb2RlVHlwZS5pc0RvY3VtZW50RnJhZ21lbnQobm9kZSkpe2luc2VydEZyYWdtZW50KGRvbSxybmcsbm9kZSk7fWVsc2V7aW5zZXJ0Tm9kZShkb20scm5nLG5vZGUpO319O3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDI9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgZ2V0Tm9ybWFsaXplZFRleHRPZmZzZXQ9ZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZFRleHRPZmZzZXQodHJpbSxjb250YWluZXIsb2Zmc2V0KXt2YXIgbm9kZSx0cmltbWVkT2Zmc2V0O3RyaW1tZWRPZmZzZXQ9dHJpbShjb250YWluZXIuZGF0YS5zbGljZSgwLG9mZnNldCkpLmxlbmd0aDtmb3Iobm9kZT1jb250YWluZXIucHJldmlvdXNTaWJsaW5nO25vZGUmJk5vZGVUeXBlLmlzVGV4dChub2RlKTtub2RlPW5vZGUucHJldmlvdXNTaWJsaW5nKXt0cmltbWVkT2Zmc2V0Kz10cmltKG5vZGUuZGF0YSkubGVuZ3RoO31yZXR1cm4gdHJpbW1lZE9mZnNldDt9O3ZhciBnZXRQb2ludD1mdW5jdGlvbiBnZXRQb2ludChkb20sdHJpbSxub3JtYWxpemVkLHJuZyxzdGFydCl7dmFyIGNvbnRhaW5lcj1ybmdbc3RhcnQ/J3N0YXJ0Q29udGFpbmVyJzonZW5kQ29udGFpbmVyJ107dmFyIG9mZnNldD1ybmdbc3RhcnQ/J3N0YXJ0T2Zmc2V0JzonZW5kT2Zmc2V0J107dmFyIHBvaW50PVtdO3ZhciBjaGlsZE5vZGVzLGFmdGVyPTA7dmFyIHJvb3Q9ZG9tLmdldFJvb3QoKTtpZihOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSl7cG9pbnQucHVzaChub3JtYWxpemVkP2dldE5vcm1hbGl6ZWRUZXh0T2Zmc2V0KHRyaW0sY29udGFpbmVyLG9mZnNldCk6b2Zmc2V0KTt9ZWxzZXtjaGlsZE5vZGVzPWNvbnRhaW5lci5jaGlsZE5vZGVzO2lmKG9mZnNldD49Y2hpbGROb2Rlcy5sZW5ndGgmJmNoaWxkTm9kZXMubGVuZ3RoKXthZnRlcj0xO29mZnNldD1NYXRoLm1heCgwLGNoaWxkTm9kZXMubGVuZ3RoLTEpO31wb2ludC5wdXNoKGRvbS5ub2RlSW5kZXgoY2hpbGROb2Rlc1tvZmZzZXRdLG5vcm1hbGl6ZWQpK2FmdGVyKTt9Zm9yKDtjb250YWluZXImJmNvbnRhaW5lciE9PXJvb3Q7Y29udGFpbmVyPWNvbnRhaW5lci5wYXJlbnROb2RlKXtwb2ludC5wdXNoKGRvbS5ub2RlSW5kZXgoY29udGFpbmVyLG5vcm1hbGl6ZWQpKTt9cmV0dXJuIHBvaW50O307dmFyIGdldExvY2F0aW9uPWZ1bmN0aW9uIGdldExvY2F0aW9uKHRyaW0sc2VsZWN0aW9uLG5vcm1hbGl6ZWQscm5nKXt2YXIgZG9tPXNlbGVjdGlvbi5kb20sYm9va21hcms9e307Ym9va21hcmsuc3RhcnQ9Z2V0UG9pbnQoZG9tLHRyaW0sbm9ybWFsaXplZCxybmcsdHJ1ZSk7aWYoIXNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXtib29rbWFyay5lbmQ9Z2V0UG9pbnQoZG9tLHRyaW0sbm9ybWFsaXplZCxybmcsZmFsc2UpO31yZXR1cm4gYm9va21hcms7fTt2YXIgZmluZEluZGV4JDI9ZnVuY3Rpb24gZmluZEluZGV4JDIoZG9tLG5hbWUsZWxlbWVudCl7dmFyIGNvdW50PTA7VG9vbHMuZWFjaChkb20uc2VsZWN0KG5hbWUpLGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycpPT09J2FsbCcpe3JldHVybjt9aWYobm9kZT09PWVsZW1lbnQpe3JldHVybiBmYWxzZTt9Y291bnQrKzt9KTtyZXR1cm4gY291bnQ7fTt2YXIgbW92ZUVuZFBvaW50PWZ1bmN0aW9uIG1vdmVFbmRQb2ludChybmcsc3RhcnQpe3ZhciBjb250YWluZXIsb2Zmc2V0LGNoaWxkTm9kZXM7dmFyIHByZWZpeD1zdGFydD8nc3RhcnQnOidlbmQnO2NvbnRhaW5lcj1ybmdbcHJlZml4KydDb250YWluZXInXTtvZmZzZXQ9cm5nW3ByZWZpeCsnT2Zmc2V0J107aWYoTm9kZVR5cGUuaXNFbGVtZW50KGNvbnRhaW5lcikmJmNvbnRhaW5lci5ub2RlTmFtZT09PSdUUicpe2NoaWxkTm9kZXM9Y29udGFpbmVyLmNoaWxkTm9kZXM7Y29udGFpbmVyPWNoaWxkTm9kZXNbTWF0aC5taW4oc3RhcnQ/b2Zmc2V0Om9mZnNldC0xLGNoaWxkTm9kZXMubGVuZ3RoLTEpXTtpZihjb250YWluZXIpe29mZnNldD1zdGFydD8wOmNvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aDtybmdbJ3NldCcrKHN0YXJ0PydTdGFydCc6J0VuZCcpXShjb250YWluZXIsb2Zmc2V0KTt9fX07dmFyIG5vcm1hbGl6ZVRhYmxlQ2VsbFNlbGVjdGlvbj1mdW5jdGlvbiBub3JtYWxpemVUYWJsZUNlbGxTZWxlY3Rpb24ocm5nKXttb3ZlRW5kUG9pbnQocm5nLHRydWUpO21vdmVFbmRQb2ludChybmcsZmFsc2UpO3JldHVybiBybmc7fTt2YXIgZmluZFNpYmxpbmc9ZnVuY3Rpb24gZmluZFNpYmxpbmcobm9kZSxvZmZzZXQpe3ZhciBzaWJsaW5nO2lmKE5vZGVUeXBlLmlzRWxlbWVudChub2RlKSl7bm9kZT1nZXROb2RlKG5vZGUsb2Zmc2V0KTtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDIobm9kZSkpe3JldHVybiBub2RlO319aWYoaXNDYXJldENvbnRhaW5lcihub2RlKSl7aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpJiZpc0NhcmV0Q29udGFpbmVyQmxvY2sobm9kZSkpe25vZGU9bm9kZS5wYXJlbnROb2RlO31zaWJsaW5nPW5vZGUucHJldmlvdXNTaWJsaW5nO2lmKGlzQ29udGVudEVkaXRhYmxlRmFsc2UkMihzaWJsaW5nKSl7cmV0dXJuIHNpYmxpbmc7fXNpYmxpbmc9bm9kZS5uZXh0U2libGluZztpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDIoc2libGluZykpe3JldHVybiBzaWJsaW5nO319fTt2YXIgZmluZEFkamFjZW50Q29udGVudEVkaXRhYmxlRmFsc2VFbG09ZnVuY3Rpb24gZmluZEFkamFjZW50Q29udGVudEVkaXRhYmxlRmFsc2VFbG0ocm5nKXtyZXR1cm4gZmluZFNpYmxpbmcocm5nLnN0YXJ0Q29udGFpbmVyLHJuZy5zdGFydE9mZnNldCl8fGZpbmRTaWJsaW5nKHJuZy5lbmRDb250YWluZXIscm5nLmVuZE9mZnNldCk7fTt2YXIgZ2V0T2Zmc2V0Qm9va21hcms9ZnVuY3Rpb24gZ2V0T2Zmc2V0Qm9va21hcmsodHJpbSxub3JtYWxpemVkLHNlbGVjdGlvbil7dmFyIGVsZW1lbnQ9c2VsZWN0aW9uLmdldE5vZGUoKTt2YXIgbmFtZT1lbGVtZW50P2VsZW1lbnQubm9kZU5hbWU6bnVsbDt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDIoZWxlbWVudCl8fG5hbWU9PT0nSU1HJyl7cmV0dXJue25hbWU6bmFtZSxpbmRleDpmaW5kSW5kZXgkMihzZWxlY3Rpb24uZG9tLG5hbWUsZWxlbWVudCl9O312YXIgc2libGluZz1maW5kQWRqYWNlbnRDb250ZW50RWRpdGFibGVGYWxzZUVsbShybmcpO2lmKHNpYmxpbmcpe25hbWU9c2libGluZy50YWdOYW1lO3JldHVybntuYW1lOm5hbWUsaW5kZXg6ZmluZEluZGV4JDIoc2VsZWN0aW9uLmRvbSxuYW1lLHNpYmxpbmcpfTt9cmV0dXJuIGdldExvY2F0aW9uKHRyaW0sc2VsZWN0aW9uLG5vcm1hbGl6ZWQscm5nKTt9O3ZhciBnZXRDYXJldEJvb2ttYXJrPWZ1bmN0aW9uIGdldENhcmV0Qm9va21hcmsoc2VsZWN0aW9uKXt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm57c3RhcnQ6Y3JlYXRlJDIoc2VsZWN0aW9uLmRvbS5nZXRSb290KCksQ2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KHJuZykpLGVuZDpjcmVhdGUkMihzZWxlY3Rpb24uZG9tLmdldFJvb3QoKSxDYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlRW5kKHJuZykpfTt9O3ZhciBnZXRSYW5nZUJvb2ttYXJrPWZ1bmN0aW9uIGdldFJhbmdlQm9va21hcmsoc2VsZWN0aW9uKXtyZXR1cm57cm5nOnNlbGVjdGlvbi5nZXRSbmcoKX07fTt2YXIgY3JlYXRlQm9va21hcmtTcGFuPWZ1bmN0aW9uIGNyZWF0ZUJvb2ttYXJrU3Bhbihkb20saWQsZmlsbGVkKXt2YXIgYXJncz17J2RhdGEtbWNlLXR5cGUnOidib29rbWFyaycsJ2lkJzppZCwnc3R5bGUnOidvdmVyZmxvdzpoaWRkZW47bGluZS1oZWlnaHQ6MHB4J307cmV0dXJuIGZpbGxlZD9kb20uY3JlYXRlKCdzcGFuJyxhcmdzLCcmI3hGRUZGOycpOmRvbS5jcmVhdGUoJ3NwYW4nLGFyZ3MpO307dmFyIGdldFBlcnNpc3RlbnRCb29rbWFyaz1mdW5jdGlvbiBnZXRQZXJzaXN0ZW50Qm9va21hcmsoc2VsZWN0aW9uLGZpbGxlZCl7dmFyIGRvbT1zZWxlY3Rpb24uZG9tO3ZhciBybmc9c2VsZWN0aW9uLmdldFJuZygpO3ZhciBpZD1kb20udW5pcXVlSWQoKTt2YXIgY29sbGFwc2VkPXNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpO3ZhciBlbGVtZW50PXNlbGVjdGlvbi5nZXROb2RlKCk7dmFyIG5hbWU9ZWxlbWVudC5ub2RlTmFtZTtpZihuYW1lPT09J0lNRycpe3JldHVybntuYW1lOm5hbWUsaW5kZXg6ZmluZEluZGV4JDIoZG9tLG5hbWUsZWxlbWVudCl9O312YXIgcm5nMj1ub3JtYWxpemVUYWJsZUNlbGxTZWxlY3Rpb24ocm5nLmNsb25lUmFuZ2UoKSk7aWYoIWNvbGxhcHNlZCl7cm5nMi5jb2xsYXBzZShmYWxzZSk7dmFyIGVuZEJvb2ttYXJrTm9kZT1jcmVhdGVCb29rbWFya1NwYW4oZG9tLGlkKydfZW5kJyxmaWxsZWQpO3JhbmdlSW5zZXJ0Tm9kZShkb20scm5nMixlbmRCb29rbWFya05vZGUpO31ybmc9bm9ybWFsaXplVGFibGVDZWxsU2VsZWN0aW9uKHJuZyk7cm5nLmNvbGxhcHNlKHRydWUpO3ZhciBzdGFydEJvb2ttYXJrTm9kZT1jcmVhdGVCb29rbWFya1NwYW4oZG9tLGlkKydfc3RhcnQnLGZpbGxlZCk7cmFuZ2VJbnNlcnROb2RlKGRvbSxybmcsc3RhcnRCb29rbWFya05vZGUpO3NlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayh7aWQ6aWQsa2VlcDoxfSk7cmV0dXJue2lkOmlkfTt9O3ZhciBnZXRCb29rbWFyaz1mdW5jdGlvbiBnZXRCb29rbWFyayhzZWxlY3Rpb24sdHlwZSxub3JtYWxpemVkKXtpZih0eXBlPT09Mil7cmV0dXJuIGdldE9mZnNldEJvb2ttYXJrKFp3c3AudHJpbSxub3JtYWxpemVkLHNlbGVjdGlvbik7fWVsc2UgaWYodHlwZT09PTMpe3JldHVybiBnZXRDYXJldEJvb2ttYXJrKHNlbGVjdGlvbik7fWVsc2UgaWYodHlwZSl7cmV0dXJuIGdldFJhbmdlQm9va21hcmsoc2VsZWN0aW9uKTt9ZWxzZXtyZXR1cm4gZ2V0UGVyc2lzdGVudEJvb2ttYXJrKHNlbGVjdGlvbixmYWxzZSk7fX07dmFyIEdldEJvb2ttYXJrPXtnZXRCb29rbWFyazpnZXRCb29rbWFyayxnZXRVbmRvQm9va21hcms6Y3VycnkoZ2V0T2Zmc2V0Qm9va21hcmssaWRlbnRpdHksdHJ1ZSksZ2V0UGVyc2lzdGVudEJvb2ttYXJrOmdldFBlcnNpc3RlbnRCb29rbWFya307dmFyIENBUkVUX0lEPSdfbWNlX2NhcmV0Jzt2YXIgaXNDYXJldE5vZGU9ZnVuY3Rpb24gaXNDYXJldE5vZGUobm9kZSl7cmV0dXJuIE5vZGVUeXBlLmlzRWxlbWVudChub2RlKSYmbm9kZS5pZD09PUNBUkVUX0lEO307dmFyIGdldFBhcmVudENhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIGdldFBhcmVudENhcmV0Q29udGFpbmVyKGJvZHksbm9kZSl7d2hpbGUobm9kZSYmbm9kZSE9PWJvZHkpe2lmKG5vZGUuaWQ9PT1DQVJFVF9JRCl7cmV0dXJuIG5vZGU7fW5vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gbnVsbDt9O3ZhciBpc0VsZW1lbnQkND1Ob2RlVHlwZS5pc0VsZW1lbnQ7dmFyIGlzVGV4dCQ2PU5vZGVUeXBlLmlzVGV4dDt2YXIgcmVtb3ZlTm9kZT1mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpe3ZhciBwYXJlbnROb2RlPW5vZGUucGFyZW50Tm9kZTtpZihwYXJlbnROb2RlKXtwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO319O3ZhciBnZXROb2RlVmFsdWU9ZnVuY3Rpb24gZ2V0Tm9kZVZhbHVlKG5vZGUpe3RyeXtyZXR1cm4gbm9kZS5ub2RlVmFsdWU7fWNhdGNoKGV4KXtyZXR1cm4nJzt9fTt2YXIgc2V0Tm9kZVZhbHVlPWZ1bmN0aW9uIHNldE5vZGVWYWx1ZShub2RlLHRleHQpe2lmKHRleHQubGVuZ3RoPT09MCl7cmVtb3ZlTm9kZShub2RlKTt9ZWxzZXtub2RlLm5vZGVWYWx1ZT10ZXh0O319O3ZhciB0cmltQ291bnQ9ZnVuY3Rpb24gdHJpbUNvdW50KHRleHQpe3ZhciB0cmltbWVkVGV4dD1ad3NwLnRyaW0odGV4dCk7cmV0dXJue2NvdW50OnRleHQubGVuZ3RoLXRyaW1tZWRUZXh0Lmxlbmd0aCx0ZXh0OnRyaW1tZWRUZXh0fTt9O3ZhciByZW1vdmVVbmNoYW5nZWQ9ZnVuY3Rpb24gcmVtb3ZlVW5jaGFuZ2VkKGNhcmV0Q29udGFpbmVyLHBvcyl7cmVtb3ZlJDUoY2FyZXRDb250YWluZXIpO3JldHVybiBwb3M7fTt2YXIgcmVtb3ZlVGV4dEFuZFJlcG9zaXRpb249ZnVuY3Rpb24gcmVtb3ZlVGV4dEFuZFJlcG9zaXRpb24oY2FyZXRDb250YWluZXIscG9zKXt2YXIgYmVmb3JlPXRyaW1Db3VudChjYXJldENvbnRhaW5lci5kYXRhLnN1YnN0cigwLHBvcy5vZmZzZXQoKSkpO3ZhciBhZnRlcj10cmltQ291bnQoY2FyZXRDb250YWluZXIuZGF0YS5zdWJzdHIocG9zLm9mZnNldCgpKSk7dmFyIHRleHQ9YmVmb3JlLnRleHQrYWZ0ZXIudGV4dDtpZih0ZXh0Lmxlbmd0aD4wKXtzZXROb2RlVmFsdWUoY2FyZXRDb250YWluZXIsdGV4dCk7cmV0dXJuIENhcmV0UG9zaXRpb24kMShjYXJldENvbnRhaW5lcixwb3Mub2Zmc2V0KCktYmVmb3JlLmNvdW50KTt9ZWxzZXtyZXR1cm4gcG9zO319O3ZhciByZW1vdmVFbGVtZW50QW5kUmVwb3NpdGlvbj1mdW5jdGlvbiByZW1vdmVFbGVtZW50QW5kUmVwb3NpdGlvbihjYXJldENvbnRhaW5lcixwb3Mpe3ZhciBwYXJlbnROb2RlPXBvcy5jb250YWluZXIoKTt2YXIgbmV3UG9zaXRpb249aW5kZXhPZihmcm9tJDEocGFyZW50Tm9kZS5jaGlsZE5vZGVzKSxjYXJldENvbnRhaW5lcikubWFwKGZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gaW5kZXg8cG9zLm9mZnNldCgpP0NhcmV0UG9zaXRpb24kMShwYXJlbnROb2RlLHBvcy5vZmZzZXQoKS0xKTpwb3M7fSkuZ2V0T3IocG9zKTtyZW1vdmUkNShjYXJldENvbnRhaW5lcik7cmV0dXJuIG5ld1Bvc2l0aW9uO307dmFyIHJlbW92ZVRleHRDYXJldENvbnRhaW5lcj1mdW5jdGlvbiByZW1vdmVUZXh0Q2FyZXRDb250YWluZXIoY2FyZXRDb250YWluZXIscG9zKXtyZXR1cm4gaXNUZXh0JDYoY2FyZXRDb250YWluZXIpJiZwb3MuY29udGFpbmVyKCk9PT1jYXJldENvbnRhaW5lcj9yZW1vdmVUZXh0QW5kUmVwb3NpdGlvbihjYXJldENvbnRhaW5lcixwb3MpOnJlbW92ZVVuY2hhbmdlZChjYXJldENvbnRhaW5lcixwb3MpO307dmFyIHJlbW92ZUVsZW1lbnRDYXJldENvbnRhaW5lcj1mdW5jdGlvbiByZW1vdmVFbGVtZW50Q2FyZXRDb250YWluZXIoY2FyZXRDb250YWluZXIscG9zKXtyZXR1cm4gcG9zLmNvbnRhaW5lcigpPT09Y2FyZXRDb250YWluZXIucGFyZW50Tm9kZT9yZW1vdmVFbGVtZW50QW5kUmVwb3NpdGlvbihjYXJldENvbnRhaW5lcixwb3MpOnJlbW92ZVVuY2hhbmdlZChjYXJldENvbnRhaW5lcixwb3MpO307dmFyIHJlbW92ZUFuZFJlcG9zaXRpb249ZnVuY3Rpb24gcmVtb3ZlQW5kUmVwb3NpdGlvbihjb250YWluZXIscG9zKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmlzVGV4dFBvc2l0aW9uKHBvcyk/cmVtb3ZlVGV4dENhcmV0Q29udGFpbmVyKGNvbnRhaW5lcixwb3MpOnJlbW92ZUVsZW1lbnRDYXJldENvbnRhaW5lcihjb250YWluZXIscG9zKTt9O3ZhciByZW1vdmUkNT1mdW5jdGlvbiByZW1vdmUkNShjYXJldENvbnRhaW5lck5vZGUpe2lmKGlzRWxlbWVudCQ0KGNhcmV0Q29udGFpbmVyTm9kZSkmJmlzQ2FyZXRDb250YWluZXIoY2FyZXRDb250YWluZXJOb2RlKSl7aWYoaGFzQ29udGVudChjYXJldENvbnRhaW5lck5vZGUpKXtjYXJldENvbnRhaW5lck5vZGUucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpO31lbHNle3JlbW92ZU5vZGUoY2FyZXRDb250YWluZXJOb2RlKTt9fWlmKGlzVGV4dCQ2KGNhcmV0Q29udGFpbmVyTm9kZSkpe3ZhciB0ZXh0PVp3c3AudHJpbShnZXROb2RlVmFsdWUoY2FyZXRDb250YWluZXJOb2RlKSk7c2V0Tm9kZVZhbHVlKGNhcmV0Q29udGFpbmVyTm9kZSx0ZXh0KTt9fTt2YXIgQ2FyZXRDb250YWluZXJSZW1vdmU9e3JlbW92ZUFuZFJlcG9zaXRpb246cmVtb3ZlQW5kUmVwb3NpdGlvbixyZW1vdmU6cmVtb3ZlJDV9O3ZhciBicm93c2VyJDM9ZGV0ZWN0JDMoKS5icm93c2VyO3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDM9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgaXNUYWJsZUNlbGwkMT1mdW5jdGlvbiBpc1RhYmxlQ2VsbCQxKG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJi9eKFREfFRIKSQvaS50ZXN0KG5vZGUudGFnTmFtZSk7fTt2YXIgZ2V0QWJzb2x1dGVDbGllbnRSZWN0PWZ1bmN0aW9uIGdldEFic29sdXRlQ2xpZW50UmVjdChyb290LGVsZW1lbnQsYmVmb3JlKXt2YXIgY2xpZW50UmVjdD1jb2xsYXBzZShlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGJlZm9yZSk7dmFyIGRvY0VsbSxzY3JvbGxYLHNjcm9sbFksbWFyZ2luLHJvb3RSZWN0O2lmKHJvb3QudGFnTmFtZT09PSdCT0RZJyl7ZG9jRWxtPXJvb3Qub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7c2Nyb2xsWD1yb290LnNjcm9sbExlZnR8fGRvY0VsbS5zY3JvbGxMZWZ0O3Njcm9sbFk9cm9vdC5zY3JvbGxUb3B8fGRvY0VsbS5zY3JvbGxUb3A7fWVsc2V7cm9vdFJlY3Q9cm9vdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzY3JvbGxYPXJvb3Quc2Nyb2xsTGVmdC1yb290UmVjdC5sZWZ0O3Njcm9sbFk9cm9vdC5zY3JvbGxUb3Atcm9vdFJlY3QudG9wO31jbGllbnRSZWN0LmxlZnQrPXNjcm9sbFg7Y2xpZW50UmVjdC5yaWdodCs9c2Nyb2xsWDtjbGllbnRSZWN0LnRvcCs9c2Nyb2xsWTtjbGllbnRSZWN0LmJvdHRvbSs9c2Nyb2xsWTtjbGllbnRSZWN0LndpZHRoPTE7bWFyZ2luPWVsZW1lbnQub2Zmc2V0V2lkdGgtZWxlbWVudC5jbGllbnRXaWR0aDtpZihtYXJnaW4+MCl7aWYoYmVmb3JlKXttYXJnaW4qPS0xO31jbGllbnRSZWN0LmxlZnQrPW1hcmdpbjtjbGllbnRSZWN0LnJpZ2h0Kz1tYXJnaW47fXJldHVybiBjbGllbnRSZWN0O307dmFyIHRyaW1JbmxpbmVDYXJldENvbnRhaW5lcnM9ZnVuY3Rpb24gdHJpbUlubGluZUNhcmV0Q29udGFpbmVycyhyb290KXt2YXIgY29udGVudEVkaXRhYmxlRmFsc2VOb2Rlcyxub2RlLHNpYmxpbmcsaSxkYXRhO2NvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZXM9RG9tUXVlcnkoJypbY29udGVudEVkaXRhYmxlPWZhbHNlXScscm9vdCk7Zm9yKGk9MDtpPGNvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZXMubGVuZ3RoO2krKyl7bm9kZT1jb250ZW50RWRpdGFibGVGYWxzZU5vZGVzW2ldO3NpYmxpbmc9bm9kZS5wcmV2aW91c1NpYmxpbmc7aWYoZW5kc1dpdGhDYXJldENvbnRhaW5lcihzaWJsaW5nKSl7ZGF0YT1zaWJsaW5nLmRhdGE7aWYoZGF0YS5sZW5ndGg9PT0xKXtzaWJsaW5nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2libGluZyk7fWVsc2V7c2libGluZy5kZWxldGVEYXRhKGRhdGEubGVuZ3RoLTEsMSk7fX1zaWJsaW5nPW5vZGUubmV4dFNpYmxpbmc7aWYoc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyKHNpYmxpbmcpKXtkYXRhPXNpYmxpbmcuZGF0YTtpZihkYXRhLmxlbmd0aD09PTEpe3NpYmxpbmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaWJsaW5nKTt9ZWxzZXtzaWJsaW5nLmRlbGV0ZURhdGEoMCwxKTt9fX19O3ZhciBGYWtlQ2FyZXQ9ZnVuY3Rpb24gRmFrZUNhcmV0KHJvb3QsaXNCbG9jayxoYXNGb2N1cyl7dmFyIGxhc3RWaXN1YWxDYXJldD1DZWxsKE9wdGlvbi5ub25lKCkpO3ZhciBjdXJzb3JJbnRlcnZhbCxjYXJldENvbnRhaW5lck5vZGU7dmFyIHNob3c9ZnVuY3Rpb24gc2hvdyhiZWZvcmUsZWxlbWVudCl7dmFyIGNsaWVudFJlY3Qscm5nO2hpZGUoKTtpZihpc1RhYmxlQ2VsbCQxKGVsZW1lbnQpKXtyZXR1cm4gbnVsbDt9aWYoaXNCbG9jayhlbGVtZW50KSl7Y2FyZXRDb250YWluZXJOb2RlPWluc2VydEJsb2NrKCdwJyxlbGVtZW50LGJlZm9yZSk7Y2xpZW50UmVjdD1nZXRBYnNvbHV0ZUNsaWVudFJlY3Qocm9vdCxlbGVtZW50LGJlZm9yZSk7RG9tUXVlcnkoY2FyZXRDb250YWluZXJOb2RlKS5jc3MoJ3RvcCcsY2xpZW50UmVjdC50b3ApO3ZhciBjYXJldD1Eb21RdWVyeSgnPGRpdiBjbGFzcz0ibWNlLXZpc3VhbC1jYXJldCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+PC9kaXY+JykuY3NzKGNsaWVudFJlY3QpLmFwcGVuZFRvKHJvb3QpWzBdO2xhc3RWaXN1YWxDYXJldC5zZXQoT3B0aW9uLnNvbWUoe2NhcmV0OmNhcmV0LGVsZW1lbnQ6ZWxlbWVudCxiZWZvcmU6YmVmb3JlfSkpO2xhc3RWaXN1YWxDYXJldC5nZXQoKS5lYWNoKGZ1bmN0aW9uKGNhcmV0U3RhdGUpe2lmKGJlZm9yZSl7RG9tUXVlcnkoY2FyZXRTdGF0ZS5jYXJldCkuYWRkQ2xhc3MoJ21jZS12aXN1YWwtY2FyZXQtYmVmb3JlJyk7fX0pO3N0YXJ0QmxpbmsoKTtybmc9ZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cm5nLnNldFN0YXJ0KGNhcmV0Q29udGFpbmVyTm9kZSwwKTtybmcuc2V0RW5kKGNhcmV0Q29udGFpbmVyTm9kZSwwKTt9ZWxzZXtjYXJldENvbnRhaW5lck5vZGU9aW5zZXJ0SW5saW5lKGVsZW1lbnQsYmVmb3JlKTtybmc9ZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7aWYoaXNDb250ZW50RWRpdGFibGVGYWxzZSQzKGNhcmV0Q29udGFpbmVyTm9kZS5uZXh0U2libGluZykpe3JuZy5zZXRTdGFydChjYXJldENvbnRhaW5lck5vZGUsMCk7cm5nLnNldEVuZChjYXJldENvbnRhaW5lck5vZGUsMCk7fWVsc2V7cm5nLnNldFN0YXJ0KGNhcmV0Q29udGFpbmVyTm9kZSwxKTtybmcuc2V0RW5kKGNhcmV0Q29udGFpbmVyTm9kZSwxKTt9cmV0dXJuIHJuZzt9cmV0dXJuIHJuZzt9O3ZhciBoaWRlPWZ1bmN0aW9uIGhpZGUoKXt0cmltSW5saW5lQ2FyZXRDb250YWluZXJzKHJvb3QpO2lmKGNhcmV0Q29udGFpbmVyTm9kZSl7Q2FyZXRDb250YWluZXJSZW1vdmUucmVtb3ZlKGNhcmV0Q29udGFpbmVyTm9kZSk7Y2FyZXRDb250YWluZXJOb2RlPW51bGw7fWxhc3RWaXN1YWxDYXJldC5nZXQoKS5lYWNoKGZ1bmN0aW9uKGNhcmV0U3RhdGUpe0RvbVF1ZXJ5KGNhcmV0U3RhdGUuY2FyZXQpLnJlbW92ZSgpO2xhc3RWaXN1YWxDYXJldC5zZXQoT3B0aW9uLm5vbmUoKSk7fSk7RGVsYXkuY2xlYXJJbnRlcnZhbChjdXJzb3JJbnRlcnZhbCk7fTt2YXIgc3RhcnRCbGluaz1mdW5jdGlvbiBzdGFydEJsaW5rKCl7Y3Vyc29ySW50ZXJ2YWw9RGVsYXkuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihoYXNGb2N1cygpKXtEb21RdWVyeSgnZGl2Lm1jZS12aXN1YWwtY2FyZXQnLHJvb3QpLnRvZ2dsZUNsYXNzKCdtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbicpO31lbHNle0RvbVF1ZXJ5KCdkaXYubWNlLXZpc3VhbC1jYXJldCcscm9vdCkuYWRkQ2xhc3MoJ21jZS12aXN1YWwtY2FyZXQtaGlkZGVuJyk7fX0sNTAwKTt9O3ZhciByZXBvc2l0aW9uPWZ1bmN0aW9uIHJlcG9zaXRpb24oKXtsYXN0VmlzdWFsQ2FyZXQuZ2V0KCkuZWFjaChmdW5jdGlvbihjYXJldFN0YXRlKXt2YXIgY2xpZW50UmVjdD1nZXRBYnNvbHV0ZUNsaWVudFJlY3Qocm9vdCxjYXJldFN0YXRlLmVsZW1lbnQsY2FyZXRTdGF0ZS5iZWZvcmUpO0RvbVF1ZXJ5KGNhcmV0U3RhdGUuY2FyZXQpLmNzcyhfYXNzaWduKHt9LGNsaWVudFJlY3QpKTt9KTt9O3ZhciBkZXN0cm95PWZ1bmN0aW9uIGRlc3Ryb3koKXtyZXR1cm4gRGVsYXkuY2xlYXJJbnRlcnZhbChjdXJzb3JJbnRlcnZhbCk7fTt2YXIgZ2V0Q3NzPWZ1bmN0aW9uIGdldENzcygpe3JldHVybicubWNlLXZpc3VhbC1jYXJldCB7JysncG9zaXRpb246IGFic29sdXRlOycrJ2JhY2tncm91bmQtY29sb3I6IGJsYWNrOycrJ2JhY2tncm91bmQtY29sb3I6IGN1cnJlbnRjb2xvcjsnKyd9JysnLm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIHsnKydkaXNwbGF5OiBub25lOycrJ30nKycqW2RhdGEtbWNlLWNhcmV0XSB7JysncG9zaXRpb246IGFic29sdXRlOycrJ2xlZnQ6IC0xMDAwcHg7JysncmlnaHQ6IGF1dG87JysndG9wOiAwOycrJ21hcmdpbjogMDsnKydwYWRkaW5nOiAwOycrJ30nO307cmV0dXJue3Nob3c6c2hvdyxoaWRlOmhpZGUsZ2V0Q3NzOmdldENzcyxyZXBvc2l0aW9uOnJlcG9zaXRpb24sZGVzdHJveTpkZXN0cm95fTt9O3ZhciBpc0Zha2VDYXJldFRhYmxlQnJvd3Nlcj1mdW5jdGlvbiBpc0Zha2VDYXJldFRhYmxlQnJvd3Nlcigpe3JldHVybiBicm93c2VyJDMuaXNJRSgpfHxicm93c2VyJDMuaXNFZGdlKCl8fGJyb3dzZXIkMy5pc0ZpcmVmb3goKTt9O3ZhciBpc0Zha2VDYXJldFRhcmdldD1mdW5jdGlvbiBpc0Zha2VDYXJldFRhcmdldChub2RlKXtyZXR1cm4gaXNDb250ZW50RWRpdGFibGVGYWxzZSQzKG5vZGUpfHxOb2RlVHlwZS5pc1RhYmxlKG5vZGUpJiZpc0Zha2VDYXJldFRhYmxlQnJvd3NlcigpO307dmFyIGlzQ29udGVudEVkaXRhYmxlRmFsc2UkND1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlO3ZhciBpc0Jsb2NrTGlrZT1Ob2RlVHlwZS5tYXRjaFN0eWxlVmFsdWVzKCdkaXNwbGF5JywnYmxvY2sgdGFibGUgdGFibGUtY2VsbCB0YWJsZS1jYXB0aW9uIGxpc3QtaXRlbScpO3ZhciBpc0NhcmV0Q29udGFpbmVyJDI9aXNDYXJldENvbnRhaW5lcjt2YXIgaXNDYXJldENvbnRhaW5lckJsb2NrJDE9aXNDYXJldENvbnRhaW5lckJsb2NrO3ZhciBpc0VsZW1lbnQkNT1Ob2RlVHlwZS5pc0VsZW1lbnQ7dmFyIGlzQ2FyZXRDYW5kaWRhdGUkMj1pc0NhcmV0Q2FuZGlkYXRlO3ZhciBpc0ZvcndhcmRzPWZ1bmN0aW9uIGlzRm9yd2FyZHMoZGlyZWN0aW9uKXtyZXR1cm4gZGlyZWN0aW9uPjA7fTt2YXIgaXNCYWNrd2FyZHM9ZnVuY3Rpb24gaXNCYWNrd2FyZHMoZGlyZWN0aW9uKXtyZXR1cm4gZGlyZWN0aW9uPDA7fTt2YXIgc2tpcENhcmV0Q29udGFpbmVycz1mdW5jdGlvbiBza2lwQ2FyZXRDb250YWluZXJzKHdhbGssc2hhbGxvdyl7dmFyIG5vZGU7d2hpbGUobm9kZT13YWxrKHNoYWxsb3cpKXtpZighaXNDYXJldENvbnRhaW5lckJsb2NrJDEobm9kZSkpe3JldHVybiBub2RlO319cmV0dXJuIG51bGw7fTt2YXIgZmluZE5vZGU9ZnVuY3Rpb24gZmluZE5vZGUobm9kZSxkaXJlY3Rpb24scHJlZGljYXRlRm4scm9vdE5vZGUsc2hhbGxvdyl7dmFyIHdhbGtlcj1uZXcgVHJlZVdhbGtlcihub2RlLHJvb3ROb2RlKTtpZihpc0JhY2t3YXJkcyhkaXJlY3Rpb24pKXtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDQobm9kZSl8fGlzQ2FyZXRDb250YWluZXJCbG9jayQxKG5vZGUpKXtub2RlPXNraXBDYXJldENvbnRhaW5lcnMod2Fsa2VyLnByZXYsdHJ1ZSk7aWYocHJlZGljYXRlRm4obm9kZSkpe3JldHVybiBub2RlO319d2hpbGUobm9kZT1za2lwQ2FyZXRDb250YWluZXJzKHdhbGtlci5wcmV2LHNoYWxsb3cpKXtpZihwcmVkaWNhdGVGbihub2RlKSl7cmV0dXJuIG5vZGU7fX19aWYoaXNGb3J3YXJkcyhkaXJlY3Rpb24pKXtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDQobm9kZSl8fGlzQ2FyZXRDb250YWluZXJCbG9jayQxKG5vZGUpKXtub2RlPXNraXBDYXJldENvbnRhaW5lcnMod2Fsa2VyLm5leHQsdHJ1ZSk7aWYocHJlZGljYXRlRm4obm9kZSkpe3JldHVybiBub2RlO319d2hpbGUobm9kZT1za2lwQ2FyZXRDb250YWluZXJzKHdhbGtlci5uZXh0LHNoYWxsb3cpKXtpZihwcmVkaWNhdGVGbihub2RlKSl7cmV0dXJuIG5vZGU7fX19cmV0dXJuIG51bGw7fTt2YXIgZ2V0UGFyZW50QmxvY2s9ZnVuY3Rpb24gZ2V0UGFyZW50QmxvY2sobm9kZSxyb290Tm9kZSl7d2hpbGUobm9kZSYmbm9kZSE9PXJvb3ROb2RlKXtpZihpc0Jsb2NrTGlrZShub2RlKSl7cmV0dXJuIG5vZGU7fW5vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gbnVsbDt9O3ZhciBpc0luU2FtZUJsb2NrPWZ1bmN0aW9uIGlzSW5TYW1lQmxvY2soY2FyZXRQb3NpdGlvbjEsY2FyZXRQb3NpdGlvbjIscm9vdE5vZGUpe3JldHVybiBnZXRQYXJlbnRCbG9jayhjYXJldFBvc2l0aW9uMS5jb250YWluZXIoKSxyb290Tm9kZSk9PT1nZXRQYXJlbnRCbG9jayhjYXJldFBvc2l0aW9uMi5jb250YWluZXIoKSxyb290Tm9kZSk7fTt2YXIgZ2V0Q2hpbGROb2RlQXRSZWxhdGl2ZU9mZnNldD1mdW5jdGlvbiBnZXRDaGlsZE5vZGVBdFJlbGF0aXZlT2Zmc2V0KHJlbGF0aXZlT2Zmc2V0LGNhcmV0UG9zaXRpb24pe3ZhciBjb250YWluZXIsb2Zmc2V0O2lmKCFjYXJldFBvc2l0aW9uKXtyZXR1cm4gbnVsbDt9Y29udGFpbmVyPWNhcmV0UG9zaXRpb24uY29udGFpbmVyKCk7b2Zmc2V0PWNhcmV0UG9zaXRpb24ub2Zmc2V0KCk7aWYoIWlzRWxlbWVudCQ1KGNvbnRhaW5lcikpe3JldHVybiBudWxsO31yZXR1cm4gY29udGFpbmVyLmNoaWxkTm9kZXNbb2Zmc2V0K3JlbGF0aXZlT2Zmc2V0XTt9O3ZhciBiZWZvcmVBZnRlcj1mdW5jdGlvbiBiZWZvcmVBZnRlcihiZWZvcmUsbm9kZSl7dmFyIHJhbmdlPW5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO2lmKGJlZm9yZSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUobm9kZSk7cmFuZ2Uuc2V0RW5kQmVmb3JlKG5vZGUpO31lbHNle3JhbmdlLnNldFN0YXJ0QWZ0ZXIobm9kZSk7cmFuZ2Uuc2V0RW5kQWZ0ZXIobm9kZSk7fXJldHVybiByYW5nZTt9O3ZhciBpc05vZGVzSW5TYW1lQmxvY2s9ZnVuY3Rpb24gaXNOb2Rlc0luU2FtZUJsb2NrKHJvb3Qsbm9kZTEsbm9kZTIpe3JldHVybiBnZXRQYXJlbnRCbG9jayhub2RlMSxyb290KT09PWdldFBhcmVudEJsb2NrKG5vZGUyLHJvb3QpO307dmFyIGxlYW49ZnVuY3Rpb24gbGVhbihsZWZ0LHJvb3Qsbm9kZSl7dmFyIHNpYmxpbmcsc2libGluZ05hbWU7aWYobGVmdCl7c2libGluZ05hbWU9J3ByZXZpb3VzU2libGluZyc7fWVsc2V7c2libGluZ05hbWU9J25leHRTaWJsaW5nJzt9d2hpbGUobm9kZSYmbm9kZSE9PXJvb3Qpe3NpYmxpbmc9bm9kZVtzaWJsaW5nTmFtZV07aWYoaXNDYXJldENvbnRhaW5lciQyKHNpYmxpbmcpKXtzaWJsaW5nPXNpYmxpbmdbc2libGluZ05hbWVdO31pZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDQoc2libGluZykpe2lmKGlzTm9kZXNJblNhbWVCbG9jayhyb290LHNpYmxpbmcsbm9kZSkpe3JldHVybiBzaWJsaW5nO31icmVhazt9aWYoaXNDYXJldENhbmRpZGF0ZSQyKHNpYmxpbmcpKXticmVhazt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBudWxsO307dmFyIGJlZm9yZSQyPWN1cnJ5KGJlZm9yZUFmdGVyLHRydWUpO3ZhciBhZnRlciQxPWN1cnJ5KGJlZm9yZUFmdGVyLGZhbHNlKTt2YXIgbm9ybWFsaXplUmFuZ2U9ZnVuY3Rpb24gbm9ybWFsaXplUmFuZ2UoZGlyZWN0aW9uLHJvb3QscmFuZ2Upe3ZhciBub2RlLGNvbnRhaW5lcixvZmZzZXQsbG9jYXRpb247dmFyIGxlYW5MZWZ0PWN1cnJ5KGxlYW4sdHJ1ZSxyb290KTt2YXIgbGVhblJpZ2h0PWN1cnJ5KGxlYW4sZmFsc2Uscm9vdCk7Y29udGFpbmVyPXJhbmdlLnN0YXJ0Q29udGFpbmVyO29mZnNldD1yYW5nZS5zdGFydE9mZnNldDtpZihpc0NhcmV0Q29udGFpbmVyQmxvY2soY29udGFpbmVyKSl7aWYoIWlzRWxlbWVudCQ1KGNvbnRhaW5lcikpe2NvbnRhaW5lcj1jb250YWluZXIucGFyZW50Tm9kZTt9bG9jYXRpb249Y29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1tY2UtY2FyZXQnKTtpZihsb2NhdGlvbj09PSdiZWZvcmUnKXtub2RlPWNvbnRhaW5lci5uZXh0U2libGluZztpZihpc0Zha2VDYXJldFRhcmdldChub2RlKSl7cmV0dXJuIGJlZm9yZSQyKG5vZGUpO319aWYobG9jYXRpb249PT0nYWZ0ZXInKXtub2RlPWNvbnRhaW5lci5wcmV2aW91c1NpYmxpbmc7aWYoaXNGYWtlQ2FyZXRUYXJnZXQobm9kZSkpe3JldHVybiBhZnRlciQxKG5vZGUpO319fWlmKCFyYW5nZS5jb2xsYXBzZWQpe3JldHVybiByYW5nZTt9aWYoTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lcikpe2lmKGlzQ2FyZXRDb250YWluZXIkMihjb250YWluZXIpKXtpZihkaXJlY3Rpb249PT0xKXtub2RlPWxlYW5SaWdodChjb250YWluZXIpO2lmKG5vZGUpe3JldHVybiBiZWZvcmUkMihub2RlKTt9bm9kZT1sZWFuTGVmdChjb250YWluZXIpO2lmKG5vZGUpe3JldHVybiBhZnRlciQxKG5vZGUpO319aWYoZGlyZWN0aW9uPT09LTEpe25vZGU9bGVhbkxlZnQoY29udGFpbmVyKTtpZihub2RlKXtyZXR1cm4gYWZ0ZXIkMShub2RlKTt9bm9kZT1sZWFuUmlnaHQoY29udGFpbmVyKTtpZihub2RlKXtyZXR1cm4gYmVmb3JlJDIobm9kZSk7fX1yZXR1cm4gcmFuZ2U7fWlmKGVuZHNXaXRoQ2FyZXRDb250YWluZXIoY29udGFpbmVyKSYmb2Zmc2V0Pj1jb250YWluZXIuZGF0YS5sZW5ndGgtMSl7aWYoZGlyZWN0aW9uPT09MSl7bm9kZT1sZWFuUmlnaHQoY29udGFpbmVyKTtpZihub2RlKXtyZXR1cm4gYmVmb3JlJDIobm9kZSk7fX1yZXR1cm4gcmFuZ2U7fWlmKHN0YXJ0c1dpdGhDYXJldENvbnRhaW5lcihjb250YWluZXIpJiZvZmZzZXQ8PTEpe2lmKGRpcmVjdGlvbj09PS0xKXtub2RlPWxlYW5MZWZ0KGNvbnRhaW5lcik7aWYobm9kZSl7cmV0dXJuIGFmdGVyJDEobm9kZSk7fX1yZXR1cm4gcmFuZ2U7fWlmKG9mZnNldD09PWNvbnRhaW5lci5kYXRhLmxlbmd0aCl7bm9kZT1sZWFuUmlnaHQoY29udGFpbmVyKTtpZihub2RlKXtyZXR1cm4gYmVmb3JlJDIobm9kZSk7fXJldHVybiByYW5nZTt9aWYob2Zmc2V0PT09MCl7bm9kZT1sZWFuTGVmdChjb250YWluZXIpO2lmKG5vZGUpe3JldHVybiBhZnRlciQxKG5vZGUpO31yZXR1cm4gcmFuZ2U7fX1yZXR1cm4gcmFuZ2U7fTt2YXIgZ2V0UmVsYXRpdmVDZWZFbG09ZnVuY3Rpb24gZ2V0UmVsYXRpdmVDZWZFbG0oZm9yd2FyZCxjYXJldFBvc2l0aW9uKXtyZXR1cm4gT3B0aW9uLmZyb20oZ2V0Q2hpbGROb2RlQXRSZWxhdGl2ZU9mZnNldChmb3J3YXJkPzA6LTEsY2FyZXRQb3NpdGlvbikpLmZpbHRlcihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDQpO307dmFyIGdldE5vcm1hbGl6ZWRSYW5nZUVuZFBvaW50PWZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRSYW5nZUVuZFBvaW50KGRpcmVjdGlvbixyb290LHJhbmdlKXt2YXIgbm9ybWFsaXplZFJhbmdlPW5vcm1hbGl6ZVJhbmdlKGRpcmVjdGlvbixyb290LHJhbmdlKTtpZihkaXJlY3Rpb249PT0tMSl7cmV0dXJuIENhcmV0UG9zaXRpb24uZnJvbVJhbmdlU3RhcnQobm9ybWFsaXplZFJhbmdlKTt9cmV0dXJuIENhcmV0UG9zaXRpb24uZnJvbVJhbmdlRW5kKG5vcm1hbGl6ZWRSYW5nZSk7fTt2YXIgZ2V0RWxlbWVudEZyb21Qb3NpdGlvbj1mdW5jdGlvbiBnZXRFbGVtZW50RnJvbVBvc2l0aW9uKHBvcyl7cmV0dXJuIE9wdGlvbi5mcm9tKHBvcy5nZXROb2RlKCkpLm1hcChFbGVtZW50LmZyb21Eb20pO307dmFyIGdldEVsZW1lbnRGcm9tUHJldlBvc2l0aW9uPWZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tUHJldlBvc2l0aW9uKHBvcyl7cmV0dXJuIE9wdGlvbi5mcm9tKHBvcy5nZXROb2RlKHRydWUpKS5tYXAoRWxlbWVudC5mcm9tRG9tKTt9O3ZhciBnZXRWaXN1YWxDYXJldFBvc2l0aW9uPWZ1bmN0aW9uIGdldFZpc3VhbENhcmV0UG9zaXRpb24od2Fsa0ZuLGNhcmV0UG9zaXRpb24pe3doaWxlKGNhcmV0UG9zaXRpb249d2Fsa0ZuKGNhcmV0UG9zaXRpb24pKXtpZihjYXJldFBvc2l0aW9uLmlzVmlzaWJsZSgpKXtyZXR1cm4gY2FyZXRQb3NpdGlvbjt9fXJldHVybiBjYXJldFBvc2l0aW9uO307dmFyIGlzTW92ZUluc2lkZVNhbWVCbG9jaz1mdW5jdGlvbiBpc01vdmVJbnNpZGVTYW1lQmxvY2soZnJvbSx0byl7dmFyIGluU2FtZUJsb2NrPWlzSW5TYW1lQmxvY2soZnJvbSx0byk7aWYoIWluU2FtZUJsb2NrJiZOb2RlVHlwZS5pc0JyKGZyb20uZ2V0Tm9kZSgpKSl7cmV0dXJuIHRydWU7fXJldHVybiBpblNhbWVCbG9jazt9O3ZhciBIRGlyZWN0aW9uOyhmdW5jdGlvbihIRGlyZWN0aW9uKXtIRGlyZWN0aW9uW0hEaXJlY3Rpb25bJ0JhY2t3YXJkcyddPS0xXT0nQmFja3dhcmRzJztIRGlyZWN0aW9uW0hEaXJlY3Rpb25bJ0ZvcndhcmRzJ109MV09J0ZvcndhcmRzJzt9KShIRGlyZWN0aW9ufHwoSERpcmVjdGlvbj17fSkpO3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDU9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgaXNUZXh0JDc9Tm9kZVR5cGUuaXNUZXh0O3ZhciBpc0VsZW1lbnQkNj1Ob2RlVHlwZS5pc0VsZW1lbnQ7dmFyIGlzQnIkND1Ob2RlVHlwZS5pc0JyO3ZhciBpc0NhcmV0Q2FuZGlkYXRlJDM9aXNDYXJldENhbmRpZGF0ZTt2YXIgaXNBdG9taWMkMT1pc0F0b21pYzt2YXIgaXNFZGl0YWJsZUNhcmV0Q2FuZGlkYXRlJDE9aXNFZGl0YWJsZUNhcmV0Q2FuZGlkYXRlO3ZhciBnZXRQYXJlbnRzPWZ1bmN0aW9uIGdldFBhcmVudHMobm9kZSxyb290KXt2YXIgcGFyZW50cz1bXTt3aGlsZShub2RlJiZub2RlIT09cm9vdCl7cGFyZW50cy5wdXNoKG5vZGUpO25vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gcGFyZW50czt9O3ZhciBub2RlQXRJbmRleD1mdW5jdGlvbiBub2RlQXRJbmRleChjb250YWluZXIsb2Zmc2V0KXtpZihjb250YWluZXIuaGFzQ2hpbGROb2RlcygpJiZvZmZzZXQ8Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoKXtyZXR1cm4gY29udGFpbmVyLmNoaWxkTm9kZXNbb2Zmc2V0XTt9cmV0dXJuIG51bGw7fTt2YXIgZ2V0Q2FyZXRDYW5kaWRhdGVQb3NpdGlvbj1mdW5jdGlvbiBnZXRDYXJldENhbmRpZGF0ZVBvc2l0aW9uKGRpcmVjdGlvbixub2RlKXtpZihpc0ZvcndhcmRzKGRpcmVjdGlvbikpe2lmKGlzQ2FyZXRDYW5kaWRhdGUkMyhub2RlLnByZXZpb3VzU2libGluZykmJiFpc1RleHQkNyhub2RlLnByZXZpb3VzU2libGluZykpe3JldHVybiBDYXJldFBvc2l0aW9uJDEuYmVmb3JlKG5vZGUpO31pZihpc1RleHQkNyhub2RlKSl7cmV0dXJuIENhcmV0UG9zaXRpb24kMShub2RlLDApO319aWYoaXNCYWNrd2FyZHMoZGlyZWN0aW9uKSl7aWYoaXNDYXJldENhbmRpZGF0ZSQzKG5vZGUubmV4dFNpYmxpbmcpJiYhaXNUZXh0JDcobm9kZS5uZXh0U2libGluZykpe3JldHVybiBDYXJldFBvc2l0aW9uJDEuYWZ0ZXIobm9kZSk7fWlmKGlzVGV4dCQ3KG5vZGUpKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxKG5vZGUsbm9kZS5kYXRhLmxlbmd0aCk7fX1pZihpc0JhY2t3YXJkcyhkaXJlY3Rpb24pKXtpZihpc0JyJDQobm9kZSkpe3JldHVybiBDYXJldFBvc2l0aW9uJDEuYmVmb3JlKG5vZGUpO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmFmdGVyKG5vZGUpO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShub2RlKTt9O3ZhciBtb3ZlRm9yd2FyZEZyb21Ccj1mdW5jdGlvbiBtb3ZlRm9yd2FyZEZyb21Ccihyb290LG5leHROb2RlKXt2YXIgbmV4dFNpYmxpbmc9bmV4dE5vZGUubmV4dFNpYmxpbmc7aWYobmV4dFNpYmxpbmcmJmlzQ2FyZXRDYW5kaWRhdGUkMyhuZXh0U2libGluZykpe2lmKGlzVGV4dCQ3KG5leHRTaWJsaW5nKSl7cmV0dXJuIENhcmV0UG9zaXRpb24kMShuZXh0U2libGluZywwKTt9ZWxzZXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShuZXh0U2libGluZyk7fX1lbHNle3JldHVybiBmaW5kQ2FyZXRQb3NpdGlvbihIRGlyZWN0aW9uLkZvcndhcmRzLENhcmV0UG9zaXRpb24kMS5hZnRlcihuZXh0Tm9kZSkscm9vdCk7fX07dmFyIGZpbmRDYXJldFBvc2l0aW9uPWZ1bmN0aW9uIGZpbmRDYXJldFBvc2l0aW9uKGRpcmVjdGlvbixzdGFydFBvcyxyb290KXt2YXIgbm9kZSxuZXh0Tm9kZSxpbm5lck5vZGU7dmFyIHJvb3RDb250ZW50RWRpdGFibGVGYWxzZUVsbSxjYXJldFBvc2l0aW9uO2lmKCFpc0VsZW1lbnQkNihyb290KXx8IXN0YXJ0UG9zKXtyZXR1cm4gbnVsbDt9aWYoc3RhcnRQb3MuaXNFcXVhbChDYXJldFBvc2l0aW9uJDEuYWZ0ZXIocm9vdCkpJiZyb290Lmxhc3RDaGlsZCl7Y2FyZXRQb3NpdGlvbj1DYXJldFBvc2l0aW9uJDEuYWZ0ZXIocm9vdC5sYXN0Q2hpbGQpO2lmKGlzQmFja3dhcmRzKGRpcmVjdGlvbikmJmlzQ2FyZXRDYW5kaWRhdGUkMyhyb290Lmxhc3RDaGlsZCkmJmlzRWxlbWVudCQ2KHJvb3QubGFzdENoaWxkKSl7cmV0dXJuIGlzQnIkNChyb290Lmxhc3RDaGlsZCk/Q2FyZXRQb3NpdGlvbiQxLmJlZm9yZShyb290Lmxhc3RDaGlsZCk6Y2FyZXRQb3NpdGlvbjt9fWVsc2V7Y2FyZXRQb3NpdGlvbj1zdGFydFBvczt9dmFyIGNvbnRhaW5lcj1jYXJldFBvc2l0aW9uLmNvbnRhaW5lcigpO3ZhciBvZmZzZXQ9Y2FyZXRQb3NpdGlvbi5vZmZzZXQoKTtpZihpc1RleHQkNyhjb250YWluZXIpKXtpZihpc0JhY2t3YXJkcyhkaXJlY3Rpb24pJiZvZmZzZXQ+MCl7cmV0dXJuIENhcmV0UG9zaXRpb24kMShjb250YWluZXIsLS1vZmZzZXQpO31pZihpc0ZvcndhcmRzKGRpcmVjdGlvbikmJm9mZnNldDxjb250YWluZXIubGVuZ3RoKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxKGNvbnRhaW5lciwrK29mZnNldCk7fW5vZGU9Y29udGFpbmVyO31lbHNle2lmKGlzQmFja3dhcmRzKGRpcmVjdGlvbikmJm9mZnNldD4wKXtuZXh0Tm9kZT1ub2RlQXRJbmRleChjb250YWluZXIsb2Zmc2V0LTEpO2lmKGlzQ2FyZXRDYW5kaWRhdGUkMyhuZXh0Tm9kZSkpe2lmKCFpc0F0b21pYyQxKG5leHROb2RlKSl7aW5uZXJOb2RlPWZpbmROb2RlKG5leHROb2RlLGRpcmVjdGlvbixpc0VkaXRhYmxlQ2FyZXRDYW5kaWRhdGUkMSxuZXh0Tm9kZSk7aWYoaW5uZXJOb2RlKXtpZihpc1RleHQkNyhpbm5lck5vZGUpKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxKGlubmVyTm9kZSxpbm5lck5vZGUuZGF0YS5sZW5ndGgpO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmFmdGVyKGlubmVyTm9kZSk7fX1pZihpc1RleHQkNyhuZXh0Tm9kZSkpe3JldHVybiBDYXJldFBvc2l0aW9uJDEobmV4dE5vZGUsbmV4dE5vZGUuZGF0YS5sZW5ndGgpO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShuZXh0Tm9kZSk7fX1pZihpc0ZvcndhcmRzKGRpcmVjdGlvbikmJm9mZnNldDxjb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGgpe25leHROb2RlPW5vZGVBdEluZGV4KGNvbnRhaW5lcixvZmZzZXQpO2lmKGlzQ2FyZXRDYW5kaWRhdGUkMyhuZXh0Tm9kZSkpe2lmKGlzQnIkNChuZXh0Tm9kZSkpe3JldHVybiBtb3ZlRm9yd2FyZEZyb21Ccihyb290LG5leHROb2RlKTt9aWYoIWlzQXRvbWljJDEobmV4dE5vZGUpKXtpbm5lck5vZGU9ZmluZE5vZGUobmV4dE5vZGUsZGlyZWN0aW9uLGlzRWRpdGFibGVDYXJldENhbmRpZGF0ZSQxLG5leHROb2RlKTtpZihpbm5lck5vZGUpe2lmKGlzVGV4dCQ3KGlubmVyTm9kZSkpe3JldHVybiBDYXJldFBvc2l0aW9uJDEoaW5uZXJOb2RlLDApO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShpbm5lck5vZGUpO319aWYoaXNUZXh0JDcobmV4dE5vZGUpKXtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxKG5leHROb2RlLDApO31yZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmFmdGVyKG5leHROb2RlKTt9fW5vZGU9bmV4dE5vZGU/bmV4dE5vZGU6Y2FyZXRQb3NpdGlvbi5nZXROb2RlKCk7fWlmKGlzRm9yd2FyZHMoZGlyZWN0aW9uKSYmY2FyZXRQb3NpdGlvbi5pc0F0RW5kKCl8fGlzQmFja3dhcmRzKGRpcmVjdGlvbikmJmNhcmV0UG9zaXRpb24uaXNBdFN0YXJ0KCkpe25vZGU9ZmluZE5vZGUobm9kZSxkaXJlY3Rpb24sY29uc3RhbnQodHJ1ZSkscm9vdCx0cnVlKTtpZihpc0VkaXRhYmxlQ2FyZXRDYW5kaWRhdGUkMShub2RlLHJvb3QpKXtyZXR1cm4gZ2V0Q2FyZXRDYW5kaWRhdGVQb3NpdGlvbihkaXJlY3Rpb24sbm9kZSk7fX1uZXh0Tm9kZT1maW5kTm9kZShub2RlLGRpcmVjdGlvbixpc0VkaXRhYmxlQ2FyZXRDYW5kaWRhdGUkMSxyb290KTtyb290Q29udGVudEVkaXRhYmxlRmFsc2VFbG09QXJyVXRpbHMubGFzdChmaWx0ZXIoZ2V0UGFyZW50cyhjb250YWluZXIscm9vdCksaXNDb250ZW50RWRpdGFibGVGYWxzZSQ1KSk7aWYocm9vdENvbnRlbnRFZGl0YWJsZUZhbHNlRWxtJiYoIW5leHROb2RlfHwhcm9vdENvbnRlbnRFZGl0YWJsZUZhbHNlRWxtLmNvbnRhaW5zKG5leHROb2RlKSkpe2lmKGlzRm9yd2FyZHMoZGlyZWN0aW9uKSl7Y2FyZXRQb3NpdGlvbj1DYXJldFBvc2l0aW9uJDEuYWZ0ZXIocm9vdENvbnRlbnRFZGl0YWJsZUZhbHNlRWxtKTt9ZWxzZXtjYXJldFBvc2l0aW9uPUNhcmV0UG9zaXRpb24kMS5iZWZvcmUocm9vdENvbnRlbnRFZGl0YWJsZUZhbHNlRWxtKTt9cmV0dXJuIGNhcmV0UG9zaXRpb247fWlmKG5leHROb2RlKXtyZXR1cm4gZ2V0Q2FyZXRDYW5kaWRhdGVQb3NpdGlvbihkaXJlY3Rpb24sbmV4dE5vZGUpO31yZXR1cm4gbnVsbDt9O3ZhciBDYXJldFdhbGtlcj1mdW5jdGlvbiBDYXJldFdhbGtlcihyb290KXtyZXR1cm57bmV4dDpmdW5jdGlvbiBuZXh0KGNhcmV0UG9zaXRpb24pe3JldHVybiBmaW5kQ2FyZXRQb3NpdGlvbihIRGlyZWN0aW9uLkZvcndhcmRzLGNhcmV0UG9zaXRpb24scm9vdCk7fSxwcmV2OmZ1bmN0aW9uIHByZXYoY2FyZXRQb3NpdGlvbil7cmV0dXJuIGZpbmRDYXJldFBvc2l0aW9uKEhEaXJlY3Rpb24uQmFja3dhcmRzLGNhcmV0UG9zaXRpb24scm9vdCk7fX07fTt2YXIgd2Fsa1RvUG9zaXRpb25Jbj1mdW5jdGlvbiB3YWxrVG9Qb3NpdGlvbkluKGZvcndhcmQscm9vdCxzdGFydCl7dmFyIHBvc2l0aW9uPWZvcndhcmQ/Q2FyZXRQb3NpdGlvbiQxLmJlZm9yZShzdGFydCk6Q2FyZXRQb3NpdGlvbiQxLmFmdGVyKHN0YXJ0KTtyZXR1cm4gZnJvbVBvc2l0aW9uKGZvcndhcmQscm9vdCxwb3NpdGlvbik7fTt2YXIgYWZ0ZXJFbGVtZW50PWZ1bmN0aW9uIGFmdGVyRWxlbWVudChub2RlKXtyZXR1cm4gTm9kZVR5cGUuaXNCcihub2RlKT9DYXJldFBvc2l0aW9uJDEuYmVmb3JlKG5vZGUpOkNhcmV0UG9zaXRpb24kMS5hZnRlcihub2RlKTt9O3ZhciBpc0JlZm9yZU9yU3RhcnQ9ZnVuY3Rpb24gaXNCZWZvcmVPclN0YXJ0KHBvc2l0aW9uKXtpZihDYXJldFBvc2l0aW9uJDEuaXNUZXh0UG9zaXRpb24ocG9zaXRpb24pKXtyZXR1cm4gcG9zaXRpb24ub2Zmc2V0KCk9PT0wO31lbHNle3JldHVybiBpc0NhcmV0Q2FuZGlkYXRlKHBvc2l0aW9uLmdldE5vZGUoKSk7fX07dmFyIGlzQWZ0ZXJPckVuZD1mdW5jdGlvbiBpc0FmdGVyT3JFbmQocG9zaXRpb24pe2lmKENhcmV0UG9zaXRpb24kMS5pc1RleHRQb3NpdGlvbihwb3NpdGlvbikpe3ZhciBjb250YWluZXI9cG9zaXRpb24uY29udGFpbmVyKCk7cmV0dXJuIHBvc2l0aW9uLm9mZnNldCgpPT09Y29udGFpbmVyLmRhdGEubGVuZ3RoO31lbHNle3JldHVybiBpc0NhcmV0Q2FuZGlkYXRlKHBvc2l0aW9uLmdldE5vZGUodHJ1ZSkpO319O3ZhciBpc0JlZm9yZUFmdGVyU2FtZUVsZW1lbnQ9ZnVuY3Rpb24gaXNCZWZvcmVBZnRlclNhbWVFbGVtZW50KGZyb20sdG8pe3JldHVybiFDYXJldFBvc2l0aW9uJDEuaXNUZXh0UG9zaXRpb24oZnJvbSkmJiFDYXJldFBvc2l0aW9uJDEuaXNUZXh0UG9zaXRpb24odG8pJiZmcm9tLmdldE5vZGUoKT09PXRvLmdldE5vZGUodHJ1ZSk7fTt2YXIgaXNBdEJyPWZ1bmN0aW9uIGlzQXRCcihwb3NpdGlvbil7cmV0dXJuIUNhcmV0UG9zaXRpb24kMS5pc1RleHRQb3NpdGlvbihwb3NpdGlvbikmJk5vZGVUeXBlLmlzQnIocG9zaXRpb24uZ2V0Tm9kZSgpKTt9O3ZhciBzaG91bGRTa2lwUG9zaXRpb249ZnVuY3Rpb24gc2hvdWxkU2tpcFBvc2l0aW9uKGZvcndhcmQsZnJvbSx0byl7aWYoZm9yd2FyZCl7cmV0dXJuIWlzQmVmb3JlQWZ0ZXJTYW1lRWxlbWVudChmcm9tLHRvKSYmIWlzQXRCcihmcm9tKSYmaXNBZnRlck9yRW5kKGZyb20pJiZpc0JlZm9yZU9yU3RhcnQodG8pO31lbHNle3JldHVybiFpc0JlZm9yZUFmdGVyU2FtZUVsZW1lbnQodG8sZnJvbSkmJmlzQmVmb3JlT3JTdGFydChmcm9tKSYmaXNBZnRlck9yRW5kKHRvKTt9fTt2YXIgZnJvbVBvc2l0aW9uPWZ1bmN0aW9uIGZyb21Qb3NpdGlvbihmb3J3YXJkLHJvb3QscG9zKXt2YXIgd2Fsa2VyPUNhcmV0V2Fsa2VyKHJvb3QpO3JldHVybiBPcHRpb24uZnJvbShmb3J3YXJkP3dhbGtlci5uZXh0KHBvcyk6d2Fsa2VyLnByZXYocG9zKSk7fTt2YXIgbmF2aWdhdGU9ZnVuY3Rpb24gbmF2aWdhdGUoZm9yd2FyZCxyb290LGZyb20pe3JldHVybiBmcm9tUG9zaXRpb24oZm9yd2FyZCxyb290LGZyb20pLmJpbmQoZnVuY3Rpb24odG8pe2lmKGlzSW5TYW1lQmxvY2soZnJvbSx0byxyb290KSYmc2hvdWxkU2tpcFBvc2l0aW9uKGZvcndhcmQsZnJvbSx0bykpe3JldHVybiBmcm9tUG9zaXRpb24oZm9yd2FyZCxyb290LHRvKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLnNvbWUodG8pO319KTt9O3ZhciBuYXZpZ2F0ZUlnbm9yZT1mdW5jdGlvbiBuYXZpZ2F0ZUlnbm9yZShmb3J3YXJkLHJvb3QsZnJvbSxpZ25vcmVGaWx0ZXIpe3JldHVybiBuYXZpZ2F0ZShmb3J3YXJkLHJvb3QsZnJvbSkuYmluZChmdW5jdGlvbihwb3Mpe3JldHVybiBpZ25vcmVGaWx0ZXIocG9zKT9uYXZpZ2F0ZUlnbm9yZShmb3J3YXJkLHJvb3QscG9zLGlnbm9yZUZpbHRlcik6T3B0aW9uLnNvbWUocG9zKTt9KTt9O3ZhciBwb3NpdGlvbkluPWZ1bmN0aW9uIHBvc2l0aW9uSW4oZm9yd2FyZCxlbGVtZW50KXt2YXIgc3RhcnROb2RlPWZvcndhcmQ/ZWxlbWVudC5maXJzdENoaWxkOmVsZW1lbnQubGFzdENoaWxkO2lmKE5vZGVUeXBlLmlzVGV4dChzdGFydE5vZGUpKXtyZXR1cm4gT3B0aW9uLnNvbWUoQ2FyZXRQb3NpdGlvbiQxKHN0YXJ0Tm9kZSxmb3J3YXJkPzA6c3RhcnROb2RlLmRhdGEubGVuZ3RoKSk7fWVsc2UgaWYoc3RhcnROb2RlKXtpZihpc0NhcmV0Q2FuZGlkYXRlKHN0YXJ0Tm9kZSkpe3JldHVybiBPcHRpb24uc29tZShmb3J3YXJkP0NhcmV0UG9zaXRpb24kMS5iZWZvcmUoc3RhcnROb2RlKTphZnRlckVsZW1lbnQoc3RhcnROb2RlKSk7fWVsc2V7cmV0dXJuIHdhbGtUb1Bvc2l0aW9uSW4oZm9yd2FyZCxlbGVtZW50LHN0YXJ0Tm9kZSk7fX1lbHNle3JldHVybiBPcHRpb24ubm9uZSgpO319O3ZhciBuZXh0UG9zaXRpb249Y3VycnkoZnJvbVBvc2l0aW9uLHRydWUpO3ZhciBwcmV2UG9zaXRpb249Y3VycnkoZnJvbVBvc2l0aW9uLGZhbHNlKTt2YXIgQ2FyZXRGaW5kZXI9e2Zyb21Qb3NpdGlvbjpmcm9tUG9zaXRpb24sbmV4dFBvc2l0aW9uOm5leHRQb3NpdGlvbixwcmV2UG9zaXRpb246cHJldlBvc2l0aW9uLG5hdmlnYXRlOm5hdmlnYXRlLG5hdmlnYXRlSWdub3JlOm5hdmlnYXRlSWdub3JlLHBvc2l0aW9uSW46cG9zaXRpb25JbixmaXJzdFBvc2l0aW9uSW46Y3VycnkocG9zaXRpb25Jbix0cnVlKSxsYXN0UG9zaXRpb25JbjpjdXJyeShwb3NpdGlvbkluLGZhbHNlKX07dmFyIGlzU3RyaW5nUGF0aEJvb2ttYXJrPWZ1bmN0aW9uIGlzU3RyaW5nUGF0aEJvb2ttYXJrKGJvb2ttYXJrKXtyZXR1cm4gdHlwZW9mIGJvb2ttYXJrLnN0YXJ0PT09J3N0cmluZyc7fTt2YXIgaXNSYW5nZUJvb2ttYXJrPWZ1bmN0aW9uIGlzUmFuZ2VCb29rbWFyayhib29rbWFyayl7cmV0dXJuIGJvb2ttYXJrLmhhc093blByb3BlcnR5KCdybmcnKTt9O3ZhciBpc0lkQm9va21hcms9ZnVuY3Rpb24gaXNJZEJvb2ttYXJrKGJvb2ttYXJrKXtyZXR1cm4gYm9va21hcmsuaGFzT3duUHJvcGVydHkoJ2lkJyk7fTt2YXIgaXNJbmRleEJvb2ttYXJrPWZ1bmN0aW9uIGlzSW5kZXhCb29rbWFyayhib29rbWFyayl7cmV0dXJuIGJvb2ttYXJrLmhhc093blByb3BlcnR5KCduYW1lJyk7fTt2YXIgaXNQYXRoQm9va21hcms9ZnVuY3Rpb24gaXNQYXRoQm9va21hcmsoYm9va21hcmspe3JldHVybiBUb29scy5pc0FycmF5KGJvb2ttYXJrLnN0YXJ0KTt9O3ZhciBhZGRCb2d1cz1mdW5jdGlvbiBhZGRCb2d1cyhkb20sbm9kZSl7aWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpJiZkb20uaXNCbG9jayhub2RlKSYmIW5vZGUuaW5uZXJIVE1MJiYhRW52LmllKXtub2RlLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIiAvPic7fXJldHVybiBub2RlO307dmFyIHJlc29sdmVDYXJldFBvc2l0aW9uQm9va21hcms9ZnVuY3Rpb24gcmVzb2x2ZUNhcmV0UG9zaXRpb25Cb29rbWFyayhkb20sYm9va21hcmspe3ZhciBybmcscG9zO3JuZz1kb20uY3JlYXRlUm5nKCk7cG9zPXJlc29sdmUkMShkb20uZ2V0Um9vdCgpLGJvb2ttYXJrLnN0YXJ0KTtybmcuc2V0U3RhcnQocG9zLmNvbnRhaW5lcigpLHBvcy5vZmZzZXQoKSk7cG9zPXJlc29sdmUkMShkb20uZ2V0Um9vdCgpLGJvb2ttYXJrLmVuZCk7cm5nLnNldEVuZChwb3MuY29udGFpbmVyKCkscG9zLm9mZnNldCgpKTtyZXR1cm4gcm5nO307dmFyIGluc2VydFp3c3A9ZnVuY3Rpb24gaW5zZXJ0WndzcChub2RlLHJuZyl7dmFyIHRleHROb2RlPW5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShad3NwLlpXU1ApO25vZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO3JuZy5zZXRTdGFydCh0ZXh0Tm9kZSwwKTtybmcuc2V0RW5kKHRleHROb2RlLDApO307dmFyIGlzRW1wdHk9ZnVuY3Rpb24gaXNFbXB0eShub2RlKXtyZXR1cm4gbm9kZS5oYXNDaGlsZE5vZGVzKCk9PT1mYWxzZTt9O3ZhciB0cnlGaW5kUmFuZ2VQb3NpdGlvbj1mdW5jdGlvbiB0cnlGaW5kUmFuZ2VQb3NpdGlvbihub2RlLHJuZyl7cmV0dXJuIENhcmV0RmluZGVyLmxhc3RQb3NpdGlvbkluKG5vZGUpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7fSxmdW5jdGlvbihwb3Mpe3JuZy5zZXRTdGFydChwb3MuY29udGFpbmVyKCkscG9zLm9mZnNldCgpKTtybmcuc2V0RW5kKHBvcy5jb250YWluZXIoKSxwb3Mub2Zmc2V0KCkpO3JldHVybiB0cnVlO30pO307dmFyIHBhZEVtcHR5Q2FyZXRDb250YWluZXI9ZnVuY3Rpb24gcGFkRW1wdHlDYXJldENvbnRhaW5lcihyb290LG5vZGUscm5nKXtpZihpc0VtcHR5KG5vZGUpJiZnZXRQYXJlbnRDYXJldENvbnRhaW5lcihyb290LG5vZGUpKXtpbnNlcnRad3NwKG5vZGUscm5nKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIHNldEVuZFBvaW50PWZ1bmN0aW9uIHNldEVuZFBvaW50KGRvbSxzdGFydCxib29rbWFyayxybmcpe3ZhciBwb2ludD1ib29rbWFya1tzdGFydD8nc3RhcnQnOidlbmQnXTt2YXIgaSxub2RlLG9mZnNldCxjaGlsZHJlbjt2YXIgcm9vdD1kb20uZ2V0Um9vdCgpO2lmKHBvaW50KXtvZmZzZXQ9cG9pbnRbMF07Zm9yKG5vZGU9cm9vdCxpPXBvaW50Lmxlbmd0aC0xO2k+PTE7aS0tKXtjaGlsZHJlbj1ub2RlLmNoaWxkTm9kZXM7aWYocGFkRW1wdHlDYXJldENvbnRhaW5lcihyb290LG5vZGUscm5nKSl7cmV0dXJuIHRydWU7fWlmKHBvaW50W2ldPmNoaWxkcmVuLmxlbmd0aC0xKXtpZihwYWRFbXB0eUNhcmV0Q29udGFpbmVyKHJvb3Qsbm9kZSxybmcpKXtyZXR1cm4gdHJ1ZTt9cmV0dXJuIHRyeUZpbmRSYW5nZVBvc2l0aW9uKG5vZGUscm5nKTt9bm9kZT1jaGlsZHJlbltwb2ludFtpXV07fWlmKG5vZGUubm9kZVR5cGU9PT0zKXtvZmZzZXQ9TWF0aC5taW4ocG9pbnRbMF0sbm9kZS5ub2RlVmFsdWUubGVuZ3RoKTt9aWYobm9kZS5ub2RlVHlwZT09PTEpe29mZnNldD1NYXRoLm1pbihwb2ludFswXSxub2RlLmNoaWxkTm9kZXMubGVuZ3RoKTt9aWYoc3RhcnQpe3JuZy5zZXRTdGFydChub2RlLG9mZnNldCk7fWVsc2V7cm5nLnNldEVuZChub2RlLG9mZnNldCk7fX1yZXR1cm4gdHJ1ZTt9O3ZhciBpc1ZhbGlkVGV4dE5vZGU9ZnVuY3Rpb24gaXNWYWxpZFRleHROb2RlKG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc1RleHQobm9kZSkmJm5vZGUuZGF0YS5sZW5ndGg+MDt9O3ZhciByZXN0b3JlRW5kUG9pbnQ9ZnVuY3Rpb24gcmVzdG9yZUVuZFBvaW50KGRvbSxzdWZmaXgsYm9va21hcmspe3ZhciBtYXJrZXI9ZG9tLmdldChib29rbWFyay5pZCsnXycrc3VmZml4KSxub2RlLGlkeCxuZXh0LHByZXY7dmFyIGtlZXA9Ym9va21hcmsua2VlcDt2YXIgY29udGFpbmVyLG9mZnNldDtpZihtYXJrZXIpe25vZGU9bWFya2VyLnBhcmVudE5vZGU7aWYoc3VmZml4PT09J3N0YXJ0Jyl7aWYoIWtlZXApe2lkeD1kb20ubm9kZUluZGV4KG1hcmtlcik7fWVsc2V7aWYobWFya2VyLmhhc0NoaWxkTm9kZXMoKSl7bm9kZT1tYXJrZXIuZmlyc3RDaGlsZDtpZHg9MTt9ZWxzZSBpZihpc1ZhbGlkVGV4dE5vZGUobWFya2VyLm5leHRTaWJsaW5nKSl7bm9kZT1tYXJrZXIubmV4dFNpYmxpbmc7aWR4PTA7fWVsc2UgaWYoaXNWYWxpZFRleHROb2RlKG1hcmtlci5wcmV2aW91c1NpYmxpbmcpKXtub2RlPW1hcmtlci5wcmV2aW91c1NpYmxpbmc7aWR4PW1hcmtlci5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGg7fWVsc2V7bm9kZT1tYXJrZXIucGFyZW50Tm9kZTtpZHg9ZG9tLm5vZGVJbmRleChtYXJrZXIpKzE7fX1jb250YWluZXI9bm9kZTtvZmZzZXQ9aWR4O31lbHNle2lmKCFrZWVwKXtpZHg9ZG9tLm5vZGVJbmRleChtYXJrZXIpO31lbHNle2lmKG1hcmtlci5oYXNDaGlsZE5vZGVzKCkpe25vZGU9bWFya2VyLmZpcnN0Q2hpbGQ7aWR4PTE7fWVsc2UgaWYoaXNWYWxpZFRleHROb2RlKG1hcmtlci5wcmV2aW91c1NpYmxpbmcpKXtub2RlPW1hcmtlci5wcmV2aW91c1NpYmxpbmc7aWR4PW1hcmtlci5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGg7fWVsc2V7bm9kZT1tYXJrZXIucGFyZW50Tm9kZTtpZHg9ZG9tLm5vZGVJbmRleChtYXJrZXIpO319Y29udGFpbmVyPW5vZGU7b2Zmc2V0PWlkeDt9aWYoIWtlZXApe3ByZXY9bWFya2VyLnByZXZpb3VzU2libGluZztuZXh0PW1hcmtlci5uZXh0U2libGluZztUb29scy5lYWNoKFRvb2xzLmdyZXAobWFya2VyLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKG5vZGUpe2lmKE5vZGVUeXBlLmlzVGV4dChub2RlKSl7bm9kZS5ub2RlVmFsdWU9bm9kZS5ub2RlVmFsdWUucmVwbGFjZSgvXHVGRUZGL2csJycpO319KTt3aGlsZShtYXJrZXI9ZG9tLmdldChib29rbWFyay5pZCsnXycrc3VmZml4KSl7ZG9tLnJlbW92ZShtYXJrZXIsdHJ1ZSk7fWlmKHByZXYmJm5leHQmJnByZXYubm9kZVR5cGU9PT1uZXh0Lm5vZGVUeXBlJiZOb2RlVHlwZS5pc1RleHQocHJldikmJiFFbnYub3BlcmEpe2lkeD1wcmV2Lm5vZGVWYWx1ZS5sZW5ndGg7cHJldi5hcHBlbmREYXRhKG5leHQubm9kZVZhbHVlKTtkb20ucmVtb3ZlKG5leHQpO2lmKHN1ZmZpeD09PSdzdGFydCcpe2NvbnRhaW5lcj1wcmV2O29mZnNldD1pZHg7fWVsc2V7Y29udGFpbmVyPXByZXY7b2Zmc2V0PWlkeDt9fX1yZXR1cm4gT3B0aW9uLnNvbWUoQ2FyZXRQb3NpdGlvbiQxKGNvbnRhaW5lcixvZmZzZXQpKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLm5vbmUoKTt9fTt2YXIgcmVzb2x2ZVBhdGhzPWZ1bmN0aW9uIHJlc29sdmVQYXRocyhkb20sYm9va21hcmspe3ZhciBybmc9ZG9tLmNyZWF0ZVJuZygpO2lmKHNldEVuZFBvaW50KGRvbSx0cnVlLGJvb2ttYXJrLHJuZykmJnNldEVuZFBvaW50KGRvbSxmYWxzZSxib29rbWFyayxybmcpKXtyZXR1cm4gT3B0aW9uLnNvbWUocm5nKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLm5vbmUoKTt9fTt2YXIgcmVzb2x2ZUlkPWZ1bmN0aW9uIHJlc29sdmVJZChkb20sYm9va21hcmspe3ZhciBzdGFydFBvcz1yZXN0b3JlRW5kUG9pbnQoZG9tLCdzdGFydCcsYm9va21hcmspO3ZhciBlbmRQb3M9cmVzdG9yZUVuZFBvaW50KGRvbSwnZW5kJyxib29rbWFyayk7cmV0dXJuIGxpZnQyKHN0YXJ0UG9zLGVuZFBvcy5vcihzdGFydFBvcyksZnVuY3Rpb24oc3BvcyxlcG9zKXt2YXIgcm5nPWRvbS5jcmVhdGVSbmcoKTtybmcuc2V0U3RhcnQoYWRkQm9ndXMoZG9tLHNwb3MuY29udGFpbmVyKCkpLHNwb3Mub2Zmc2V0KCkpO3JuZy5zZXRFbmQoYWRkQm9ndXMoZG9tLGVwb3MuY29udGFpbmVyKCkpLGVwb3Mub2Zmc2V0KCkpO3JldHVybiBybmc7fSk7fTt2YXIgcmVzb2x2ZUluZGV4JDE9ZnVuY3Rpb24gcmVzb2x2ZUluZGV4JDEoZG9tLGJvb2ttYXJrKXtyZXR1cm4gT3B0aW9uLmZyb20oZG9tLnNlbGVjdChib29rbWFyay5uYW1lKVtib29rbWFyay5pbmRleF0pLm1hcChmdW5jdGlvbihlbG0pe3ZhciBybmc9ZG9tLmNyZWF0ZVJuZygpO3JuZy5zZWxlY3ROb2RlKGVsbSk7cmV0dXJuIHJuZzt9KTt9O3ZhciByZXNvbHZlJDI9ZnVuY3Rpb24gcmVzb2x2ZSQyKHNlbGVjdGlvbixib29rbWFyayl7dmFyIGRvbT1zZWxlY3Rpb24uZG9tO2lmKGJvb2ttYXJrKXtpZihpc1BhdGhCb29rbWFyayhib29rbWFyaykpe3JldHVybiByZXNvbHZlUGF0aHMoZG9tLGJvb2ttYXJrKTt9ZWxzZSBpZihpc1N0cmluZ1BhdGhCb29rbWFyayhib29rbWFyaykpe3JldHVybiBPcHRpb24uc29tZShyZXNvbHZlQ2FyZXRQb3NpdGlvbkJvb2ttYXJrKGRvbSxib29rbWFyaykpO31lbHNlIGlmKGlzSWRCb29rbWFyayhib29rbWFyaykpe3JldHVybiByZXNvbHZlSWQoZG9tLGJvb2ttYXJrKTt9ZWxzZSBpZihpc0luZGV4Qm9va21hcmsoYm9va21hcmspKXtyZXR1cm4gcmVzb2x2ZUluZGV4JDEoZG9tLGJvb2ttYXJrKTt9ZWxzZSBpZihpc1JhbmdlQm9va21hcmsoYm9va21hcmspKXtyZXR1cm4gT3B0aW9uLnNvbWUoYm9va21hcmsucm5nKTt9fXJldHVybiBPcHRpb24ubm9uZSgpO307dmFyIFJlc29sdmVCb29rbWFyaz17cmVzb2x2ZTpyZXNvbHZlJDJ9O3ZhciBnZXRCb29rbWFyayQxPWZ1bmN0aW9uIGdldEJvb2ttYXJrJDEoc2VsZWN0aW9uLHR5cGUsbm9ybWFsaXplZCl7cmV0dXJuIEdldEJvb2ttYXJrLmdldEJvb2ttYXJrKHNlbGVjdGlvbix0eXBlLG5vcm1hbGl6ZWQpO307dmFyIG1vdmVUb0Jvb2ttYXJrPWZ1bmN0aW9uIG1vdmVUb0Jvb2ttYXJrKHNlbGVjdGlvbixib29rbWFyayl7UmVzb2x2ZUJvb2ttYXJrLnJlc29sdmUoc2VsZWN0aW9uLGJvb2ttYXJrKS5lYWNoKGZ1bmN0aW9uKHJuZyl7c2VsZWN0aW9uLnNldFJuZyhybmcpO30pO307dmFyIGlzQm9va21hcmtOb2RlJDE9ZnVuY3Rpb24gaXNCb29rbWFya05vZGUkMShub2RlKXtyZXR1cm4gTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpJiZub2RlLnRhZ05hbWU9PT0nU1BBTicmJm5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS10eXBlJyk9PT0nYm9va21hcmsnO307dmFyIEJvb2ttYXJrcz17Z2V0Qm9va21hcms6Z2V0Qm9va21hcmskMSxtb3ZlVG9Cb29rbWFyazptb3ZlVG9Cb29rbWFyayxpc0Jvb2ttYXJrTm9kZTppc0Jvb2ttYXJrTm9kZSQxfTt2YXIgaXNJbmxpbmVCbG9jaz1mdW5jdGlvbiBpc0lubGluZUJsb2NrKG5vZGUpe3JldHVybiBub2RlJiYvXihJTUcpJC8udGVzdChub2RlLm5vZGVOYW1lKTt9O3ZhciBtb3ZlU3RhcnQ9ZnVuY3Rpb24gbW92ZVN0YXJ0KGRvbSxzZWxlY3Rpb24scm5nKXt2YXIgb2Zmc2V0PXJuZy5zdGFydE9mZnNldDt2YXIgY29udGFpbmVyPXJuZy5zdGFydENvbnRhaW5lcix3YWxrZXIsbm9kZSxub2RlcztpZihybmcuc3RhcnRDb250YWluZXI9PT1ybmcuZW5kQ29udGFpbmVyKXtpZihpc0lubGluZUJsb2NrKHJuZy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF0pKXtyZXR1cm47fX1pZihjb250YWluZXIubm9kZVR5cGU9PT0xKXtub2Rlcz1jb250YWluZXIuY2hpbGROb2RlcztpZihvZmZzZXQ8bm9kZXMubGVuZ3RoKXtjb250YWluZXI9bm9kZXNbb2Zmc2V0XTt3YWxrZXI9bmV3IFRyZWVXYWxrZXIoY29udGFpbmVyLGRvbS5nZXRQYXJlbnQoY29udGFpbmVyLGRvbS5pc0Jsb2NrKSk7fWVsc2V7Y29udGFpbmVyPW5vZGVzW25vZGVzLmxlbmd0aC0xXTt3YWxrZXI9bmV3IFRyZWVXYWxrZXIoY29udGFpbmVyLGRvbS5nZXRQYXJlbnQoY29udGFpbmVyLGRvbS5pc0Jsb2NrKSk7d2Fsa2VyLm5leHQodHJ1ZSk7fWZvcihub2RlPXdhbGtlci5jdXJyZW50KCk7bm9kZTtub2RlPXdhbGtlci5uZXh0KCkpe2lmKG5vZGUubm9kZVR5cGU9PT0zJiYhaXNXaGl0ZVNwYWNlTm9kZShub2RlKSl7cm5nLnNldFN0YXJ0KG5vZGUsMCk7c2VsZWN0aW9uLnNldFJuZyhybmcpO3JldHVybjt9fX19O3ZhciBnZXROb25XaGl0ZVNwYWNlU2libGluZz1mdW5jdGlvbiBnZXROb25XaGl0ZVNwYWNlU2libGluZyhub2RlLG5leHQsaW5jKXtpZihub2RlKXtuZXh0PW5leHQ/J25leHRTaWJsaW5nJzoncHJldmlvdXNTaWJsaW5nJztmb3Iobm9kZT1pbmM/bm9kZTpub2RlW25leHRdO25vZGU7bm9kZT1ub2RlW25leHRdKXtpZihub2RlLm5vZGVUeXBlPT09MXx8IWlzV2hpdGVTcGFjZU5vZGUobm9kZSkpe3JldHVybiBub2RlO319fX07dmFyIGlzVGV4dEJsb2NrJDE9ZnVuY3Rpb24gaXNUZXh0QmxvY2skMShlZGl0b3IsbmFtZSl7aWYobmFtZS5ub2RlVHlwZSl7bmFtZT1uYW1lLm5vZGVOYW1lO31yZXR1cm4hIWVkaXRvci5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVtuYW1lLnRvTG93ZXJDYXNlKCldO307dmFyIGlzVmFsaWQ9ZnVuY3Rpb24gaXNWYWxpZChlZCxwYXJlbnQsY2hpbGQpe3JldHVybiBlZC5zY2hlbWEuaXNWYWxpZENoaWxkKHBhcmVudCxjaGlsZCk7fTt2YXIgaXNXaGl0ZVNwYWNlTm9kZT1mdW5jdGlvbiBpc1doaXRlU3BhY2VOb2RlKG5vZGUpe3JldHVybiBub2RlJiZub2RlLm5vZGVUeXBlPT09MyYmL14oW1x0IFxyXG5dK3wpJC8udGVzdChub2RlLm5vZGVWYWx1ZSk7fTt2YXIgcmVwbGFjZVZhcnM9ZnVuY3Rpb24gcmVwbGFjZVZhcnModmFsdWUsdmFycyl7aWYodHlwZW9mIHZhbHVlIT09J3N0cmluZycpe3ZhbHVlPXZhbHVlKHZhcnMpO31lbHNlIGlmKHZhcnMpe3ZhbHVlPXZhbHVlLnJlcGxhY2UoLyUoXHcrKS9nLGZ1bmN0aW9uKHN0cixuYW1lKXtyZXR1cm4gdmFyc1tuYW1lXXx8c3RyO30pO31yZXR1cm4gdmFsdWU7fTt2YXIgaXNFcT1mdW5jdGlvbiBpc0VxKHN0cjEsc3RyMil7c3RyMT1zdHIxfHwnJztzdHIyPXN0cjJ8fCcnO3N0cjE9JycrKHN0cjEubm9kZU5hbWV8fHN0cjEpO3N0cjI9JycrKHN0cjIubm9kZU5hbWV8fHN0cjIpO3JldHVybiBzdHIxLnRvTG93ZXJDYXNlKCk9PT1zdHIyLnRvTG93ZXJDYXNlKCk7fTt2YXIgbm9ybWFsaXplU3R5bGVWYWx1ZT1mdW5jdGlvbiBub3JtYWxpemVTdHlsZVZhbHVlKGRvbSx2YWx1ZSxuYW1lKXtpZihuYW1lPT09J2NvbG9yJ3x8bmFtZT09PSdiYWNrZ3JvdW5kQ29sb3InKXt2YWx1ZT1kb20udG9IZXgodmFsdWUpO31pZihuYW1lPT09J2ZvbnRXZWlnaHQnJiZ2YWx1ZT09PTcwMCl7dmFsdWU9J2JvbGQnO31pZihuYW1lPT09J2ZvbnRGYW1pbHknKXt2YWx1ZT12YWx1ZS5yZXBsYWNlKC9bXCdcIl0vZywnJykucmVwbGFjZSgvLFxzKy9nLCcsJyk7fXJldHVybicnK3ZhbHVlO307dmFyIGdldFN0eWxlPWZ1bmN0aW9uIGdldFN0eWxlKGRvbSxub2RlLG5hbWUpe3JldHVybiBub3JtYWxpemVTdHlsZVZhbHVlKGRvbSxkb20uZ2V0U3R5bGUobm9kZSxuYW1lKSxuYW1lKTt9O3ZhciBnZXRUZXh0RGVjb3JhdGlvbj1mdW5jdGlvbiBnZXRUZXh0RGVjb3JhdGlvbihkb20sbm9kZSl7dmFyIGRlY29yYXRpb247ZG9tLmdldFBhcmVudChub2RlLGZ1bmN0aW9uKG4pe2RlY29yYXRpb249ZG9tLmdldFN0eWxlKG4sJ3RleHQtZGVjb3JhdGlvbicpO3JldHVybiBkZWNvcmF0aW9uJiZkZWNvcmF0aW9uIT09J25vbmUnO30pO3JldHVybiBkZWNvcmF0aW9uO307dmFyIGdldFBhcmVudHMkMT1mdW5jdGlvbiBnZXRQYXJlbnRzJDEoZG9tLG5vZGUsc2VsZWN0b3Ipe3JldHVybiBkb20uZ2V0UGFyZW50cyhub2RlLHNlbGVjdG9yLGRvbS5nZXRSb290KCkpO307dmFyIEZvcm1hdFV0aWxzPXtpc0lubGluZUJsb2NrOmlzSW5saW5lQmxvY2ssbW92ZVN0YXJ0Om1vdmVTdGFydCxnZXROb25XaGl0ZVNwYWNlU2libGluZzpnZXROb25XaGl0ZVNwYWNlU2libGluZyxpc1RleHRCbG9jazppc1RleHRCbG9jayQxLGlzVmFsaWQ6aXNWYWxpZCxpc1doaXRlU3BhY2VOb2RlOmlzV2hpdGVTcGFjZU5vZGUscmVwbGFjZVZhcnM6cmVwbGFjZVZhcnMsaXNFcTppc0VxLG5vcm1hbGl6ZVN0eWxlVmFsdWU6bm9ybWFsaXplU3R5bGVWYWx1ZSxnZXRTdHlsZTpnZXRTdHlsZSxnZXRUZXh0RGVjb3JhdGlvbjpnZXRUZXh0RGVjb3JhdGlvbixnZXRQYXJlbnRzOmdldFBhcmVudHMkMX07dmFyIGlzQm9va21hcmtOb2RlJDI9Qm9va21hcmtzLmlzQm9va21hcmtOb2RlO3ZhciBnZXRQYXJlbnRzJDI9Rm9ybWF0VXRpbHMuZ2V0UGFyZW50cyxpc1doaXRlU3BhY2VOb2RlJDE9Rm9ybWF0VXRpbHMuaXNXaGl0ZVNwYWNlTm9kZSxpc1RleHRCbG9jayQyPUZvcm1hdFV0aWxzLmlzVGV4dEJsb2NrO3ZhciBmaW5kTGVhZj1mdW5jdGlvbiBmaW5kTGVhZihub2RlLG9mZnNldCl7aWYodHlwZW9mIG9mZnNldD09PSd1bmRlZmluZWQnKXtvZmZzZXQ9bm9kZS5ub2RlVHlwZT09PTM/bm9kZS5sZW5ndGg6bm9kZS5jaGlsZE5vZGVzLmxlbmd0aDt9d2hpbGUobm9kZSYmbm9kZS5oYXNDaGlsZE5vZGVzKCkpe25vZGU9bm9kZS5jaGlsZE5vZGVzW29mZnNldF07aWYobm9kZSl7b2Zmc2V0PW5vZGUubm9kZVR5cGU9PT0zP25vZGUubGVuZ3RoOm5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7fX1yZXR1cm57bm9kZTpub2RlLG9mZnNldDpvZmZzZXR9O307dmFyIGV4Y2x1ZGVUcmFpbGluZ1doaXRlc3BhY2U9ZnVuY3Rpb24gZXhjbHVkZVRyYWlsaW5nV2hpdGVzcGFjZShlbmRDb250YWluZXIsZW5kT2Zmc2V0KXt2YXIgbGVhZj1maW5kTGVhZihlbmRDb250YWluZXIsZW5kT2Zmc2V0KTtpZihsZWFmLm5vZGUpe3doaWxlKGxlYWYubm9kZSYmbGVhZi5vZmZzZXQ9PT0wJiZsZWFmLm5vZGUucHJldmlvdXNTaWJsaW5nKXtsZWFmPWZpbmRMZWFmKGxlYWYubm9kZS5wcmV2aW91c1NpYmxpbmcpO31pZihsZWFmLm5vZGUmJmxlYWYub2Zmc2V0PjAmJmxlYWYubm9kZS5ub2RlVHlwZT09PTMmJmxlYWYubm9kZS5ub2RlVmFsdWUuY2hhckF0KGxlYWYub2Zmc2V0LTEpPT09JyAnKXtpZihsZWFmLm9mZnNldD4xKXtlbmRDb250YWluZXI9bGVhZi5ub2RlO2VuZENvbnRhaW5lci5zcGxpdFRleHQobGVhZi5vZmZzZXQtMSk7fX19cmV0dXJuIGVuZENvbnRhaW5lcjt9O3ZhciBpc0JvZ3VzQnI9ZnVuY3Rpb24gaXNCb2d1c0JyKG5vZGUpe3JldHVybiBub2RlLm5vZGVOYW1lPT09J0JSJyYmbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLWJvZ3VzJykmJiFub2RlLm5leHRTaWJsaW5nO307dmFyIGZpbmRQYXJlbnRDb250ZW50RWRpdGFibGU9ZnVuY3Rpb24gZmluZFBhcmVudENvbnRlbnRFZGl0YWJsZShkb20sbm9kZSl7dmFyIHBhcmVudD1ub2RlO3doaWxlKHBhcmVudCl7aWYocGFyZW50Lm5vZGVUeXBlPT09MSYmZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpKXtyZXR1cm4gZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpPT09J2ZhbHNlJz9wYXJlbnQ6bm9kZTt9cGFyZW50PXBhcmVudC5wYXJlbnROb2RlO31yZXR1cm4gbm9kZTt9O3ZhciBmaW5kU3BhY2U9ZnVuY3Rpb24gZmluZFNwYWNlKHN0YXJ0LHJlbW92ZSxub2RlLG9mZnNldCl7dmFyIHBvcyxwb3MyO3ZhciBzdHI9bm9kZS5ub2RlVmFsdWU7aWYodHlwZW9mIG9mZnNldD09PSd1bmRlZmluZWQnKXtvZmZzZXQ9c3RhcnQ/c3RyLmxlbmd0aDowO31pZihzdGFydCl7cG9zPXN0ci5sYXN0SW5kZXhPZignICcsb2Zmc2V0KTtwb3MyPXN0ci5sYXN0SW5kZXhPZignXHhBMCcsb2Zmc2V0KTtwb3M9cG9zPnBvczI/cG9zOnBvczI7aWYocG9zIT09LTEmJiFyZW1vdmUmJihwb3M8b2Zmc2V0fHwhc3RhcnQpJiZwb3M8PXN0ci5sZW5ndGgpe3BvcysrO319ZWxzZXtwb3M9c3RyLmluZGV4T2YoJyAnLG9mZnNldCk7cG9zMj1zdHIuaW5kZXhPZignXHhBMCcsb2Zmc2V0KTtwb3M9cG9zIT09LTEmJihwb3MyPT09LTF8fHBvczxwb3MyKT9wb3M6cG9zMjt9cmV0dXJuIHBvczt9O3ZhciBmaW5kV29yZEVuZFBvaW50PWZ1bmN0aW9uIGZpbmRXb3JkRW5kUG9pbnQoZG9tLGJvZHksY29udGFpbmVyLG9mZnNldCxzdGFydCxyZW1vdmUpe3ZhciBub2RlLHBvcyxsYXN0VGV4dE5vZGU7aWYoY29udGFpbmVyLm5vZGVUeXBlPT09Myl7cG9zPWZpbmRTcGFjZShzdGFydCxyZW1vdmUsY29udGFpbmVyLG9mZnNldCk7aWYocG9zIT09LTEpe3JldHVybntjb250YWluZXI6Y29udGFpbmVyLG9mZnNldDpwb3N9O31sYXN0VGV4dE5vZGU9Y29udGFpbmVyO312YXIgd2Fsa2VyPW5ldyBUcmVlV2Fsa2VyKGNvbnRhaW5lcixkb20uZ2V0UGFyZW50KGNvbnRhaW5lcixkb20uaXNCbG9jayl8fGJvZHkpO3doaWxlKG5vZGU9d2Fsa2VyW3N0YXJ0PydwcmV2JzonbmV4dCddKCkpe2lmKG5vZGUubm9kZVR5cGU9PT0zJiYhaXNCb29rbWFya05vZGUkMihub2RlLnBhcmVudE5vZGUpKXtsYXN0VGV4dE5vZGU9bm9kZTtwb3M9ZmluZFNwYWNlKHN0YXJ0LHJlbW92ZSxub2RlKTtpZihwb3MhPT0tMSl7cmV0dXJue2NvbnRhaW5lcjpub2RlLG9mZnNldDpwb3N9O319ZWxzZSBpZihkb20uaXNCbG9jayhub2RlKXx8Rm9ybWF0VXRpbHMuaXNFcShub2RlLCdCUicpKXticmVhazt9fWlmKGxhc3RUZXh0Tm9kZSl7aWYoc3RhcnQpe29mZnNldD0wO31lbHNle29mZnNldD1sYXN0VGV4dE5vZGUubGVuZ3RoO31yZXR1cm57Y29udGFpbmVyOmxhc3RUZXh0Tm9kZSxvZmZzZXQ6b2Zmc2V0fTt9fTt2YXIgZmluZFNlbGVjdG9yRW5kUG9pbnQ9ZnVuY3Rpb24gZmluZFNlbGVjdG9yRW5kUG9pbnQoZG9tLGZvcm1hdCxybmcsY29udGFpbmVyLHNpYmxpbmdOYW1lKXt2YXIgcGFyZW50cyxpLHksY3VyRm9ybWF0O2lmKGNvbnRhaW5lci5ub2RlVHlwZT09PTMmJmNvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoPT09MCYmY29udGFpbmVyW3NpYmxpbmdOYW1lXSl7Y29udGFpbmVyPWNvbnRhaW5lcltzaWJsaW5nTmFtZV07fXBhcmVudHM9Z2V0UGFyZW50cyQyKGRvbSxjb250YWluZXIpO2ZvcihpPTA7aTxwYXJlbnRzLmxlbmd0aDtpKyspe2Zvcih5PTA7eTxmb3JtYXQubGVuZ3RoO3krKyl7Y3VyRm9ybWF0PWZvcm1hdFt5XTtpZignY29sbGFwc2VkJ2luIGN1ckZvcm1hdCYmY3VyRm9ybWF0LmNvbGxhcHNlZCE9PXJuZy5jb2xsYXBzZWQpe2NvbnRpbnVlO31pZihkb20uaXMocGFyZW50c1tpXSxjdXJGb3JtYXQuc2VsZWN0b3IpKXtyZXR1cm4gcGFyZW50c1tpXTt9fX1yZXR1cm4gY29udGFpbmVyO307dmFyIGZpbmRCbG9ja0VuZFBvaW50PWZ1bmN0aW9uIGZpbmRCbG9ja0VuZFBvaW50KGVkaXRvcixmb3JtYXQsY29udGFpbmVyLHNpYmxpbmdOYW1lKXt2YXIgbm9kZTt2YXIgZG9tPWVkaXRvci5kb207dmFyIHJvb3Q9ZG9tLmdldFJvb3QoKTtpZighZm9ybWF0WzBdLndyYXBwZXIpe25vZGU9ZG9tLmdldFBhcmVudChjb250YWluZXIsZm9ybWF0WzBdLmJsb2NrLHJvb3QpO31pZighbm9kZSl7dmFyIHNjb3BlUm9vdD1kb20uZ2V0UGFyZW50KGNvbnRhaW5lciwnTEksVEQsVEgnKTtub2RlPWRvbS5nZXRQYXJlbnQoY29udGFpbmVyLm5vZGVUeXBlPT09Mz9jb250YWluZXIucGFyZW50Tm9kZTpjb250YWluZXIsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUhPT1yb290JiZpc1RleHRCbG9jayQyKGVkaXRvcixub2RlKTt9LHNjb3BlUm9vdCk7fWlmKG5vZGUmJmZvcm1hdFswXS53cmFwcGVyKXtub2RlPWdldFBhcmVudHMkMihkb20sbm9kZSwndWwsb2wnKS5yZXZlcnNlKClbMF18fG5vZGU7fWlmKCFub2RlKXtub2RlPWNvbnRhaW5lcjt3aGlsZShub2RlW3NpYmxpbmdOYW1lXSYmIWRvbS5pc0Jsb2NrKG5vZGVbc2libGluZ05hbWVdKSl7bm9kZT1ub2RlW3NpYmxpbmdOYW1lXTtpZihGb3JtYXRVdGlscy5pc0VxKG5vZGUsJ2JyJykpe2JyZWFrO319fXJldHVybiBub2RlfHxjb250YWluZXI7fTt2YXIgZmluZFBhcmVudENvbnRhaW5lcj1mdW5jdGlvbiBmaW5kUGFyZW50Q29udGFpbmVyKGRvbSxmb3JtYXQsc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyLGVuZE9mZnNldCxzdGFydCl7dmFyIGNvbnRhaW5lcixwYXJlbnQsc2libGluZyxzaWJsaW5nTmFtZSxyb290O2NvbnRhaW5lcj1wYXJlbnQ9c3RhcnQ/c3RhcnRDb250YWluZXI6ZW5kQ29udGFpbmVyO3NpYmxpbmdOYW1lPXN0YXJ0PydwcmV2aW91c1NpYmxpbmcnOiduZXh0U2libGluZyc7cm9vdD1kb20uZ2V0Um9vdCgpO2lmKGNvbnRhaW5lci5ub2RlVHlwZT09PTMmJiFpc1doaXRlU3BhY2VOb2RlJDEoY29udGFpbmVyKSl7aWYoc3RhcnQ/c3RhcnRPZmZzZXQ+MDplbmRPZmZzZXQ8Y29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGgpe3JldHVybiBjb250YWluZXI7fX13aGlsZSh0cnVlKXtpZighZm9ybWF0WzBdLmJsb2NrX2V4cGFuZCYmZG9tLmlzQmxvY2socGFyZW50KSl7cmV0dXJuIHBhcmVudDt9Zm9yKHNpYmxpbmc9cGFyZW50W3NpYmxpbmdOYW1lXTtzaWJsaW5nO3NpYmxpbmc9c2libGluZ1tzaWJsaW5nTmFtZV0pe2lmKCFpc0Jvb2ttYXJrTm9kZSQyKHNpYmxpbmcpJiYhaXNXaGl0ZVNwYWNlTm9kZSQxKHNpYmxpbmcpJiYhaXNCb2d1c0JyKHNpYmxpbmcpKXtyZXR1cm4gcGFyZW50O319aWYocGFyZW50PT09cm9vdHx8cGFyZW50LnBhcmVudE5vZGU9PT1yb290KXtjb250YWluZXI9cGFyZW50O2JyZWFrO31wYXJlbnQ9cGFyZW50LnBhcmVudE5vZGU7fXJldHVybiBjb250YWluZXI7fTt2YXIgZXhwYW5kUm5nPWZ1bmN0aW9uIGV4cGFuZFJuZyhlZGl0b3Iscm5nLGZvcm1hdCxyZW1vdmUpe3ZhciBlbmRQb2ludCxzdGFydENvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQ9cm5nLnN0YXJ0T2Zmc2V0LGVuZENvbnRhaW5lcj1ybmcuZW5kQ29udGFpbmVyLGVuZE9mZnNldD1ybmcuZW5kT2Zmc2V0O3ZhciBkb209ZWRpdG9yLmRvbTtpZihzdGFydENvbnRhaW5lci5ub2RlVHlwZT09PTEmJnN0YXJ0Q29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSl7c3RhcnRDb250YWluZXI9Z2V0Tm9kZShzdGFydENvbnRhaW5lcixzdGFydE9mZnNldCk7aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGU9PT0zKXtzdGFydE9mZnNldD0wO319aWYoZW5kQ29udGFpbmVyLm5vZGVUeXBlPT09MSYmZW5kQ29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSl7ZW5kQ29udGFpbmVyPWdldE5vZGUoZW5kQ29udGFpbmVyLHJuZy5jb2xsYXBzZWQ/ZW5kT2Zmc2V0OmVuZE9mZnNldC0xKTtpZihlbmRDb250YWluZXIubm9kZVR5cGU9PT0zKXtlbmRPZmZzZXQ9ZW5kQ29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGg7fX1zdGFydENvbnRhaW5lcj1maW5kUGFyZW50Q29udGVudEVkaXRhYmxlKGRvbSxzdGFydENvbnRhaW5lcik7ZW5kQ29udGFpbmVyPWZpbmRQYXJlbnRDb250ZW50RWRpdGFibGUoZG9tLGVuZENvbnRhaW5lcik7aWYoaXNCb29rbWFya05vZGUkMihzdGFydENvbnRhaW5lci5wYXJlbnROb2RlKXx8aXNCb29rbWFya05vZGUkMihzdGFydENvbnRhaW5lcikpe3N0YXJ0Q29udGFpbmVyPWlzQm9va21hcmtOb2RlJDIoc3RhcnRDb250YWluZXIpP3N0YXJ0Q29udGFpbmVyOnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7aWYocm5nLmNvbGxhcHNlZCl7c3RhcnRDb250YWluZXI9c3RhcnRDb250YWluZXIucHJldmlvdXNTaWJsaW5nfHxzdGFydENvbnRhaW5lcjt9ZWxzZXtzdGFydENvbnRhaW5lcj1zdGFydENvbnRhaW5lci5uZXh0U2libGluZ3x8c3RhcnRDb250YWluZXI7fWlmKHN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT09Myl7c3RhcnRPZmZzZXQ9cm5nLmNvbGxhcHNlZD9zdGFydENvbnRhaW5lci5sZW5ndGg6MDt9fWlmKGlzQm9va21hcmtOb2RlJDIoZW5kQ29udGFpbmVyLnBhcmVudE5vZGUpfHxpc0Jvb2ttYXJrTm9kZSQyKGVuZENvbnRhaW5lcikpe2VuZENvbnRhaW5lcj1pc0Jvb2ttYXJrTm9kZSQyKGVuZENvbnRhaW5lcik/ZW5kQ29udGFpbmVyOmVuZENvbnRhaW5lci5wYXJlbnROb2RlO2lmKHJuZy5jb2xsYXBzZWQpe2VuZENvbnRhaW5lcj1lbmRDb250YWluZXIubmV4dFNpYmxpbmd8fGVuZENvbnRhaW5lcjt9ZWxzZXtlbmRDb250YWluZXI9ZW5kQ29udGFpbmVyLnByZXZpb3VzU2libGluZ3x8ZW5kQ29udGFpbmVyO31pZihlbmRDb250YWluZXIubm9kZVR5cGU9PT0zKXtlbmRPZmZzZXQ9cm5nLmNvbGxhcHNlZD8wOmVuZENvbnRhaW5lci5sZW5ndGg7fX1pZihybmcuY29sbGFwc2VkKXtlbmRQb2ludD1maW5kV29yZEVuZFBvaW50KGRvbSxlZGl0b3IuZ2V0Qm9keSgpLHN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0LHRydWUscmVtb3ZlKTtpZihlbmRQb2ludCl7c3RhcnRDb250YWluZXI9ZW5kUG9pbnQuY29udGFpbmVyO3N0YXJ0T2Zmc2V0PWVuZFBvaW50Lm9mZnNldDt9ZW5kUG9pbnQ9ZmluZFdvcmRFbmRQb2ludChkb20sZWRpdG9yLmdldEJvZHkoKSxlbmRDb250YWluZXIsZW5kT2Zmc2V0LGZhbHNlLHJlbW92ZSk7aWYoZW5kUG9pbnQpe2VuZENvbnRhaW5lcj1lbmRQb2ludC5jb250YWluZXI7ZW5kT2Zmc2V0PWVuZFBvaW50Lm9mZnNldDt9fWlmKGZvcm1hdFswXS5pbmxpbmUpe2VuZENvbnRhaW5lcj1yZW1vdmU/ZW5kQ29udGFpbmVyOmV4Y2x1ZGVUcmFpbGluZ1doaXRlc3BhY2UoZW5kQ29udGFpbmVyLGVuZE9mZnNldCk7fWlmKGZvcm1hdFswXS5pbmxpbmV8fGZvcm1hdFswXS5ibG9ja19leHBhbmQpe2lmKCFmb3JtYXRbMF0uaW5saW5lfHxzdGFydENvbnRhaW5lci5ub2RlVHlwZSE9PTN8fHN0YXJ0T2Zmc2V0PT09MCl7c3RhcnRDb250YWluZXI9ZmluZFBhcmVudENvbnRhaW5lcihkb20sZm9ybWF0LHN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0LGVuZENvbnRhaW5lcixlbmRPZmZzZXQsdHJ1ZSk7fWlmKCFmb3JtYXRbMF0uaW5saW5lfHxlbmRDb250YWluZXIubm9kZVR5cGUhPT0zfHxlbmRPZmZzZXQ9PT1lbmRDb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7ZW5kQ29udGFpbmVyPWZpbmRQYXJlbnRDb250YWluZXIoZG9tLGZvcm1hdCxzdGFydENvbnRhaW5lcixzdGFydE9mZnNldCxlbmRDb250YWluZXIsZW5kT2Zmc2V0LGZhbHNlKTt9fWlmKGZvcm1hdFswXS5zZWxlY3RvciYmZm9ybWF0WzBdLmV4cGFuZCE9PWZhbHNlJiYhZm9ybWF0WzBdLmlubGluZSl7c3RhcnRDb250YWluZXI9ZmluZFNlbGVjdG9yRW5kUG9pbnQoZG9tLGZvcm1hdCxybmcsc3RhcnRDb250YWluZXIsJ3ByZXZpb3VzU2libGluZycpO2VuZENvbnRhaW5lcj1maW5kU2VsZWN0b3JFbmRQb2ludChkb20sZm9ybWF0LHJuZyxlbmRDb250YWluZXIsJ25leHRTaWJsaW5nJyk7fWlmKGZvcm1hdFswXS5ibG9ja3x8Zm9ybWF0WzBdLnNlbGVjdG9yKXtzdGFydENvbnRhaW5lcj1maW5kQmxvY2tFbmRQb2ludChlZGl0b3IsZm9ybWF0LHN0YXJ0Q29udGFpbmVyLCdwcmV2aW91c1NpYmxpbmcnKTtlbmRDb250YWluZXI9ZmluZEJsb2NrRW5kUG9pbnQoZWRpdG9yLGZvcm1hdCxlbmRDb250YWluZXIsJ25leHRTaWJsaW5nJyk7aWYoZm9ybWF0WzBdLmJsb2NrKXtpZighZG9tLmlzQmxvY2soc3RhcnRDb250YWluZXIpKXtzdGFydENvbnRhaW5lcj1maW5kUGFyZW50Q29udGFpbmVyKGRvbSxmb3JtYXQsc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyLGVuZE9mZnNldCx0cnVlKTt9aWYoIWRvbS5pc0Jsb2NrKGVuZENvbnRhaW5lcikpe2VuZENvbnRhaW5lcj1maW5kUGFyZW50Q29udGFpbmVyKGRvbSxmb3JtYXQsc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyLGVuZE9mZnNldCxmYWxzZSk7fX19aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGU9PT0xKXtzdGFydE9mZnNldD1kb20ubm9kZUluZGV4KHN0YXJ0Q29udGFpbmVyKTtzdGFydENvbnRhaW5lcj1zdGFydENvbnRhaW5lci5wYXJlbnROb2RlO31pZihlbmRDb250YWluZXIubm9kZVR5cGU9PT0xKXtlbmRPZmZzZXQ9ZG9tLm5vZGVJbmRleChlbmRDb250YWluZXIpKzE7ZW5kQ29udGFpbmVyPWVuZENvbnRhaW5lci5wYXJlbnROb2RlO31yZXR1cm57c3RhcnRDb250YWluZXI6c3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQ6c3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOmVuZENvbnRhaW5lcixlbmRPZmZzZXQ6ZW5kT2Zmc2V0fTt9O3ZhciBFeHBhbmRSYW5nZT17ZXhwYW5kUm5nOmV4cGFuZFJuZ307dmFyIGVhY2gkOD1Ub29scy5lYWNoO3ZhciBnZXRFbmRDaGlsZD1mdW5jdGlvbiBnZXRFbmRDaGlsZChjb250YWluZXIsaW5kZXgpe3ZhciBjaGlsZE5vZGVzPWNvbnRhaW5lci5jaGlsZE5vZGVzO2luZGV4LS07aWYoaW5kZXg+Y2hpbGROb2Rlcy5sZW5ndGgtMSl7aW5kZXg9Y2hpbGROb2Rlcy5sZW5ndGgtMTt9ZWxzZSBpZihpbmRleDwwKXtpbmRleD0wO31yZXR1cm4gY2hpbGROb2Rlc1tpbmRleF18fGNvbnRhaW5lcjt9O3ZhciB3YWxrJDE9ZnVuY3Rpb24gd2FsayQxKGRvbSxybmcsY2FsbGJhY2spe3ZhciBzdGFydENvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7dmFyIHN0YXJ0T2Zmc2V0PXJuZy5zdGFydE9mZnNldDt2YXIgZW5kQ29udGFpbmVyPXJuZy5lbmRDb250YWluZXI7dmFyIGVuZE9mZnNldD1ybmcuZW5kT2Zmc2V0O3ZhciBhbmNlc3Rvcjt2YXIgc3RhcnRQb2ludDt2YXIgZW5kUG9pbnQ7dmFyIG5vZGU7dmFyIHBhcmVudDt2YXIgc2libGluZ3M7dmFyIG5vZGVzO25vZGVzPWRvbS5zZWxlY3QoJ3RkW2RhdGEtbWNlLXNlbGVjdGVkXSx0aFtkYXRhLW1jZS1zZWxlY3RlZF0nKTtpZihub2Rlcy5sZW5ndGg+MCl7ZWFjaCQ4KG5vZGVzLGZ1bmN0aW9uKG5vZGUpe2NhbGxiYWNrKFtub2RlXSk7fSk7cmV0dXJuO312YXIgZXhjbHVkZT1mdW5jdGlvbiBleGNsdWRlKG5vZGVzKXt2YXIgbm9kZTtub2RlPW5vZGVzWzBdO2lmKG5vZGUubm9kZVR5cGU9PT0zJiZub2RlPT09c3RhcnRDb250YWluZXImJnN0YXJ0T2Zmc2V0Pj1ub2RlLm5vZGVWYWx1ZS5sZW5ndGgpe25vZGVzLnNwbGljZSgwLDEpO31ub2RlPW5vZGVzW25vZGVzLmxlbmd0aC0xXTtpZihlbmRPZmZzZXQ9PT0wJiZub2Rlcy5sZW5ndGg+MCYmbm9kZT09PWVuZENvbnRhaW5lciYmbm9kZS5ub2RlVHlwZT09PTMpe25vZGVzLnNwbGljZShub2Rlcy5sZW5ndGgtMSwxKTt9cmV0dXJuIG5vZGVzO307dmFyIGNvbGxlY3RTaWJsaW5ncz1mdW5jdGlvbiBjb2xsZWN0U2libGluZ3Mobm9kZSxuYW1lLGVuZE5vZGUpe3ZhciBzaWJsaW5ncz1bXTtmb3IoO25vZGUmJm5vZGUhPT1lbmROb2RlO25vZGU9bm9kZVtuYW1lXSl7c2libGluZ3MucHVzaChub2RlKTt9cmV0dXJuIHNpYmxpbmdzO307dmFyIGZpbmRFbmRQb2ludD1mdW5jdGlvbiBmaW5kRW5kUG9pbnQobm9kZSxyb290KXtkb3tpZihub2RlLnBhcmVudE5vZGU9PT1yb290KXtyZXR1cm4gbm9kZTt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXdoaWxlKG5vZGUpO307dmFyIHdhbGtCb3VuZGFyeT1mdW5jdGlvbiB3YWxrQm91bmRhcnkoc3RhcnROb2RlLGVuZE5vZGUsbmV4dCl7dmFyIHNpYmxpbmdOYW1lPW5leHQ/J25leHRTaWJsaW5nJzoncHJldmlvdXNTaWJsaW5nJztmb3Iobm9kZT1zdGFydE5vZGUscGFyZW50PW5vZGUucGFyZW50Tm9kZTtub2RlJiZub2RlIT09ZW5kTm9kZTtub2RlPXBhcmVudCl7cGFyZW50PW5vZGUucGFyZW50Tm9kZTtzaWJsaW5ncz1jb2xsZWN0U2libGluZ3Mobm9kZT09PXN0YXJ0Tm9kZT9ub2RlOm5vZGVbc2libGluZ05hbWVdLHNpYmxpbmdOYW1lKTtpZihzaWJsaW5ncy5sZW5ndGgpe2lmKCFuZXh0KXtzaWJsaW5ncy5yZXZlcnNlKCk7fWNhbGxiYWNrKGV4Y2x1ZGUoc2libGluZ3MpKTt9fX07aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGU9PT0xJiZzdGFydENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpe3N0YXJ0Q29udGFpbmVyPXN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbc3RhcnRPZmZzZXRdO31pZihlbmRDb250YWluZXIubm9kZVR5cGU9PT0xJiZlbmRDb250YWluZXIuaGFzQ2hpbGROb2RlcygpKXtlbmRDb250YWluZXI9Z2V0RW5kQ2hpbGQoZW5kQ29udGFpbmVyLGVuZE9mZnNldCk7fWlmKHN0YXJ0Q29udGFpbmVyPT09ZW5kQ29udGFpbmVyKXtyZXR1cm4gY2FsbGJhY2soZXhjbHVkZShbc3RhcnRDb250YWluZXJdKSk7fWFuY2VzdG9yPWRvbS5maW5kQ29tbW9uQW5jZXN0b3Ioc3RhcnRDb250YWluZXIsZW5kQ29udGFpbmVyKTtmb3Iobm9kZT1zdGFydENvbnRhaW5lcjtub2RlO25vZGU9bm9kZS5wYXJlbnROb2RlKXtpZihub2RlPT09ZW5kQ29udGFpbmVyKXtyZXR1cm4gd2Fsa0JvdW5kYXJ5KHN0YXJ0Q29udGFpbmVyLGFuY2VzdG9yLHRydWUpO31pZihub2RlPT09YW5jZXN0b3Ipe2JyZWFrO319Zm9yKG5vZGU9ZW5kQ29udGFpbmVyO25vZGU7bm9kZT1ub2RlLnBhcmVudE5vZGUpe2lmKG5vZGU9PT1zdGFydENvbnRhaW5lcil7cmV0dXJuIHdhbGtCb3VuZGFyeShlbmRDb250YWluZXIsYW5jZXN0b3IpO31pZihub2RlPT09YW5jZXN0b3Ipe2JyZWFrO319c3RhcnRQb2ludD1maW5kRW5kUG9pbnQoc3RhcnRDb250YWluZXIsYW5jZXN0b3IpfHxzdGFydENvbnRhaW5lcjtlbmRQb2ludD1maW5kRW5kUG9pbnQoZW5kQ29udGFpbmVyLGFuY2VzdG9yKXx8ZW5kQ29udGFpbmVyO3dhbGtCb3VuZGFyeShzdGFydENvbnRhaW5lcixzdGFydFBvaW50LHRydWUpO3NpYmxpbmdzPWNvbGxlY3RTaWJsaW5ncyhzdGFydFBvaW50PT09c3RhcnRDb250YWluZXI/c3RhcnRQb2ludDpzdGFydFBvaW50Lm5leHRTaWJsaW5nLCduZXh0U2libGluZycsZW5kUG9pbnQ9PT1lbmRDb250YWluZXI/ZW5kUG9pbnQubmV4dFNpYmxpbmc6ZW5kUG9pbnQpO2lmKHNpYmxpbmdzLmxlbmd0aCl7Y2FsbGJhY2soZXhjbHVkZShzaWJsaW5ncykpO313YWxrQm91bmRhcnkoZW5kQ29udGFpbmVyLGVuZFBvaW50KTt9O3ZhciBSYW5nZVdhbGs9e3dhbGs6d2FsayQxfTt2YXIgemVyb1dpZHRoPWZ1bmN0aW9uIHplcm9XaWR0aCgpe3JldHVybiJcdUZFRkYiO307ZnVuY3Rpb24gTm9kZVZhbHVlKGlzLG5hbWUpe3ZhciBnZXQ9ZnVuY3Rpb24gZ2V0KGVsZW1lbnQpe2lmKCFpcyhlbGVtZW50KSl7dGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBnZXQgJytuYW1lKycgdmFsdWUgb2YgYSAnK25hbWUrJyBub2RlJyk7fXJldHVybiBnZXRPcHRpb24oZWxlbWVudCkuZ2V0T3IoJycpO307dmFyIGdldE9wdGlvbj1mdW5jdGlvbiBnZXRPcHRpb24oZWxlbWVudCl7cmV0dXJuIGlzKGVsZW1lbnQpP09wdGlvbi5mcm9tKGVsZW1lbnQuZG9tKCkubm9kZVZhbHVlKTpPcHRpb24ubm9uZSgpO307dmFyIHNldD1mdW5jdGlvbiBzZXQoZWxlbWVudCx2YWx1ZSl7aWYoIWlzKGVsZW1lbnQpKXt0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IHNldCByYXcgJytuYW1lKycgdmFsdWUgb2YgYSAnK25hbWUrJyBub2RlJyk7fWVsZW1lbnQuZG9tKCkubm9kZVZhbHVlPXZhbHVlO307cmV0dXJue2dldDpnZXQsZ2V0T3B0aW9uOmdldE9wdGlvbixzZXQ6c2V0fTt9dmFyIGFwaT1Ob2RlVmFsdWUoaXNUZXh0JDEsJ3RleHQnKTt2YXIgZ2V0JDY9ZnVuY3Rpb24gZ2V0JDYoZWxlbWVudCl7cmV0dXJuIGFwaS5nZXQoZWxlbWVudCk7fTt2YXIgaXNaZXJvV2lkdGg9ZnVuY3Rpb24gaXNaZXJvV2lkdGgoZWxlbSl7cmV0dXJuIGlzVGV4dCQxKGVsZW0pJiZnZXQkNihlbGVtKT09PXplcm9XaWR0aCgpO307dmFyIGNvbnRleHQ9ZnVuY3Rpb24gY29udGV4dChlZGl0b3IsZWxlbSx3cmFwTmFtZSxub2RlTmFtZSl7cmV0dXJuIHBhcmVudChlbGVtKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuJ3NraXBwaW5nJzt9LGZ1bmN0aW9uKHBhcmVudCl7aWYobm9kZU5hbWU9PT0nYnInfHxpc1plcm9XaWR0aChlbGVtKSl7cmV0dXJuJ3ZhbGlkJzt9ZWxzZSBpZihpc0Fubm90YXRpb24oZWxlbSkpe3JldHVybidleGlzdGluZyc7fWVsc2UgaWYoaXNDYXJldE5vZGUoZWxlbSkpe3JldHVybidjYXJldCc7fWVsc2UgaWYoIUZvcm1hdFV0aWxzLmlzVmFsaWQoZWRpdG9yLHdyYXBOYW1lLG5vZGVOYW1lKXx8IUZvcm1hdFV0aWxzLmlzVmFsaWQoZWRpdG9yLG5hbWUocGFyZW50KSx3cmFwTmFtZSkpe3JldHVybidpbnZhbGlkLWNoaWxkJzt9ZWxzZXtyZXR1cm4ndmFsaWQnO319KTt9O3ZhciBzaG91bGRBcHBseVRvVHJhaWxpbmdTcGFjZXM9ZnVuY3Rpb24gc2hvdWxkQXBwbHlUb1RyYWlsaW5nU3BhY2VzKHJuZyl7cmV0dXJuIHJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09PTMmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoPj1ybmcuc3RhcnRPZmZzZXQmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVmFsdWVbcm5nLnN0YXJ0T2Zmc2V0XT09PSdceEEwJzt9O3ZhciBhcHBseVdvcmRHcmFiPWZ1bmN0aW9uIGFwcGx5V29yZEdyYWIoZWRpdG9yLHJuZyl7dmFyIHI9RXhwYW5kUmFuZ2UuZXhwYW5kUm5nKGVkaXRvcixybmcsW3tpbmxpbmU6dHJ1ZX1dLHNob3VsZEFwcGx5VG9UcmFpbGluZ1NwYWNlcyhybmcpKTtybmcuc2V0U3RhcnQoci5zdGFydENvbnRhaW5lcixyLnN0YXJ0T2Zmc2V0KTtybmcuc2V0RW5kKHIuZW5kQ29udGFpbmVyLHIuZW5kT2Zmc2V0KTtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhybmcpO307dmFyIG1ha2VBbm5vdGF0aW9uPWZ1bmN0aW9uIG1ha2VBbm5vdGF0aW9uKGVEb2MsX2EsYW5ub3RhdGlvbk5hbWUsZGVjb3JhdGUpe3ZhciBfYj1fYS51aWQsdWlkPV9iPT09dm9pZCAwP2dlbmVyYXRlKCdtY2UtYW5ub3RhdGlvbicpOl9iLGRhdGE9X19yZXN0KF9hLFsndWlkJ10pO3ZhciBtYXN0ZXI9RWxlbWVudC5mcm9tVGFnKCdzcGFuJyxlRG9jKTthZGQkMyhtYXN0ZXIsYW5ub3RhdGlvbigpKTtzZXQobWFzdGVyLCcnK2RhdGFBbm5vdGF0aW9uSWQoKSx1aWQpO3NldChtYXN0ZXIsJycrZGF0YUFubm90YXRpb24oKSxhbm5vdGF0aW9uTmFtZSk7dmFyIF9jPWRlY29yYXRlKHVpZCxkYXRhKSxfZD1fYy5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXM9X2Q9PT12b2lkIDA/e306X2QsX2U9X2MuY2xhc3NlcyxjbGFzc2VzPV9lPT09dm9pZCAwP1tdOl9lO3NldEFsbChtYXN0ZXIsYXR0cmlidXRlcyk7YWRkJDQobWFzdGVyLGNsYXNzZXMpO3JldHVybiBtYXN0ZXI7fTt2YXIgYW5ub3RhdGU9ZnVuY3Rpb24gYW5ub3RhdGUoZWRpdG9yLHJuZyxhbm5vdGF0aW9uTmFtZSxkZWNvcmF0ZSxkYXRhKXt2YXIgbmV3V3JhcHBlcnM9W107dmFyIG1hc3Rlcj1tYWtlQW5ub3RhdGlvbihlZGl0b3IuZ2V0RG9jKCksZGF0YSxhbm5vdGF0aW9uTmFtZSxkZWNvcmF0ZSk7dmFyIHdyYXBwZXI9Q2VsbChPcHRpb24ubm9uZSgpKTt2YXIgZmluaXNoV3JhcHBlcj1mdW5jdGlvbiBmaW5pc2hXcmFwcGVyKCl7d3JhcHBlci5zZXQoT3B0aW9uLm5vbmUoKSk7fTt2YXIgZ2V0T3JPcGVuV3JhcHBlcj1mdW5jdGlvbiBnZXRPck9wZW5XcmFwcGVyKCl7cmV0dXJuIHdyYXBwZXIuZ2V0KCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBudT1zaGFsbG93KG1hc3Rlcik7bmV3V3JhcHBlcnMucHVzaChudSk7d3JhcHBlci5zZXQoT3B0aW9uLnNvbWUobnUpKTtyZXR1cm4gbnU7fSk7fTt2YXIgcHJvY2Vzc0VsZW1lbnRzPWZ1bmN0aW9uIHByb2Nlc3NFbGVtZW50cyhlbGVtcyl7ZWFjaChlbGVtcyxwcm9jZXNzRWxlbWVudCk7fTt2YXIgcHJvY2Vzc0VsZW1lbnQ9ZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZWxlbSl7dmFyIGN0eD1jb250ZXh0KGVkaXRvcixlbGVtLCdzcGFuJyxuYW1lKGVsZW0pKTtzd2l0Y2goY3R4KXtjYXNlJ2ludmFsaWQtY2hpbGQnOntmaW5pc2hXcmFwcGVyKCk7dmFyIGNoaWxkcmVuJDE9Y2hpbGRyZW4oZWxlbSk7cHJvY2Vzc0VsZW1lbnRzKGNoaWxkcmVuJDEpO2ZpbmlzaFdyYXBwZXIoKTticmVhazt9Y2FzZSd2YWxpZCc6e3ZhciB3PWdldE9yT3BlbldyYXBwZXIoKTt3cmFwJDEoZWxlbSx3KTticmVhazt9Y2FzZSdza2lwcGluZyc6Y2FzZSdleGlzdGluZyc6Y2FzZSdjYXJldCc6fX07dmFyIHByb2Nlc3NOb2Rlcz1mdW5jdGlvbiBwcm9jZXNzTm9kZXMobm9kZXMpe3ZhciBlbGVtcz1tYXAobm9kZXMsRWxlbWVudC5mcm9tRG9tKTtwcm9jZXNzRWxlbWVudHMoZWxlbXMpO307UmFuZ2VXYWxrLndhbGsoZWRpdG9yLmRvbSxybmcsZnVuY3Rpb24obm9kZXMpe2ZpbmlzaFdyYXBwZXIoKTtwcm9jZXNzTm9kZXMobm9kZXMpO30pO3JldHVybiBuZXdXcmFwcGVyczt9O3ZhciBhbm5vdGF0ZVdpdGhCb29rbWFyaz1mdW5jdGlvbiBhbm5vdGF0ZVdpdGhCb29rbWFyayhlZGl0b3IsbmFtZSxzZXR0aW5ncyxkYXRhKXtlZGl0b3IudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgaW5pdGlhbFJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO2lmKGluaXRpYWxSbmcuY29sbGFwc2VkKXthcHBseVdvcmRHcmFiKGVkaXRvcixpbml0aWFsUm5nKTt9aWYoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKS5jb2xsYXBzZWQpe3ZhciB3cmFwcGVyPW1ha2VBbm5vdGF0aW9uKGVkaXRvci5nZXREb2MoKSxkYXRhLG5hbWUsc2V0dGluZ3MuZGVjb3JhdGUpO3NldCQxKHdyYXBwZXIsJ1x4QTAnKTtlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpLmluc2VydE5vZGUod3JhcHBlci5kb20oKSk7ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3Qod3JhcHBlci5kb20oKSk7fWVsc2V7dmFyIGJvb2ttYXJrPUdldEJvb2ttYXJrLmdldFBlcnNpc3RlbnRCb29rbWFyayhlZGl0b3Iuc2VsZWN0aW9uLGZhbHNlKTt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7YW5ub3RhdGUoZWRpdG9yLHJuZyxuYW1lLHNldHRpbmdzLmRlY29yYXRlLGRhdGEpO2VkaXRvci5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoYm9va21hcmspO319KTt9O3ZhciBBbm5vdGF0b3I9ZnVuY3Rpb24gQW5ub3RhdG9yKGVkaXRvcil7dmFyIHJlZ2lzdHJ5PWNyZWF0ZSQxKCk7c2V0dXAkMShlZGl0b3IscmVnaXN0cnkpO3ZhciBjaGFuZ2VzPXNldHVwKGVkaXRvcik7cmV0dXJue3JlZ2lzdGVyOmZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsc2V0dGluZ3Mpe3JlZ2lzdHJ5LnJlZ2lzdGVyKG5hbWUsc2V0dGluZ3MpO30sYW5ub3RhdGU6ZnVuY3Rpb24gYW5ub3RhdGUobmFtZSxkYXRhKXtyZWdpc3RyeS5sb29rdXAobmFtZSkuZWFjaChmdW5jdGlvbihzZXR0aW5ncyl7YW5ub3RhdGVXaXRoQm9va21hcmsoZWRpdG9yLG5hbWUsc2V0dGluZ3MsZGF0YSk7fSk7fSxhbm5vdGF0aW9uQ2hhbmdlZDpmdW5jdGlvbiBhbm5vdGF0aW9uQ2hhbmdlZChuYW1lLGNhbGxiYWNrKXtjaGFuZ2VzLmFkZExpc3RlbmVyKG5hbWUsY2FsbGJhY2spO30scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZShuYW1lKXtpZGVudGlmeShlZGl0b3IsT3B0aW9uLnNvbWUobmFtZSkpLmVhY2goZnVuY3Rpb24oX2Epe3ZhciBlbGVtZW50cz1fYS5lbGVtZW50cztlYWNoKGVsZW1lbnRzLHVud3JhcCk7fSk7fSxnZXRBbGw6ZnVuY3Rpb24gZ2V0QWxsKG5hbWUpe3ZhciBkaXJlY3Rvcnk9ZmluZEFsbChlZGl0b3IsbmFtZSk7cmV0dXJuIG1hcCQxKGRpcmVjdG9yeSxmdW5jdGlvbihlbGVtcyl7cmV0dXJuIG1hcChlbGVtcyxmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5kb20oKTt9KTt9KTt9fTt9O3ZhciB3aGl0ZVNwYWNlUmVnRXhwJDM9L15bIFx0XHJcbl0qJC87dmFyIHR5cGVMb29rdXA9eycjdGV4dCc6MywnI2NvbW1lbnQnOjgsJyNjZGF0YSc6NCwnI3BpJzo3LCcjZG9jdHlwZSc6MTAsJyNkb2N1bWVudC1mcmFnbWVudCc6MTF9O3ZhciB3YWxrJDI9ZnVuY3Rpb24gd2FsayQyKG5vZGUscm9vdCxwcmV2KXt2YXIgc3RhcnROYW1lPXByZXY/J2xhc3RDaGlsZCc6J2ZpcnN0Q2hpbGQnO3ZhciBzaWJsaW5nTmFtZT1wcmV2PydwcmV2JzonbmV4dCc7aWYobm9kZVtzdGFydE5hbWVdKXtyZXR1cm4gbm9kZVtzdGFydE5hbWVdO31pZihub2RlIT09cm9vdCl7dmFyIHNpYmxpbmc9bm9kZVtzaWJsaW5nTmFtZV07aWYoc2libGluZyl7cmV0dXJuIHNpYmxpbmc7fWZvcih2YXIgcGFyZW50PW5vZGUucGFyZW50O3BhcmVudCYmcGFyZW50IT09cm9vdDtwYXJlbnQ9cGFyZW50LnBhcmVudCl7c2libGluZz1wYXJlbnRbc2libGluZ05hbWVdO2lmKHNpYmxpbmcpe3JldHVybiBzaWJsaW5nO319fX07dmFyIE5vZGUkMT1mdW5jdGlvbigpe2Z1bmN0aW9uIE5vZGUobmFtZSx0eXBlKXt0aGlzLm5hbWU9bmFtZTt0aGlzLnR5cGU9dHlwZTtpZih0eXBlPT09MSl7dGhpcy5hdHRyaWJ1dGVzPVtdO3RoaXMuYXR0cmlidXRlcy5tYXA9e307fX1Ob2RlLmNyZWF0ZT1mdW5jdGlvbihuYW1lLGF0dHJzKXt2YXIgbm9kZT1uZXcgTm9kZShuYW1lLHR5cGVMb29rdXBbbmFtZV18fDEpO2lmKGF0dHJzKXtmb3IodmFyIGF0dHJOYW1lIGluIGF0dHJzKXtub2RlLmF0dHIoYXR0ck5hbWUsYXR0cnNbYXR0ck5hbWVdKTt9fXJldHVybiBub2RlO307Tm9kZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihub2RlKXt2YXIgc2VsZj10aGlzO2lmKG5vZGUucGFyZW50KXtub2RlLnJlbW92ZSgpO31zZWxmLmluc2VydChub2RlLHNlbGYpO3NlbGYucmVtb3ZlKCk7cmV0dXJuIHNlbGY7fTtOb2RlLnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKG5hbWUsdmFsdWUpe3ZhciBzZWxmPXRoaXM7dmFyIGF0dHJzO2lmKHR5cGVvZiBuYW1lIT09J3N0cmluZycpe2Zvcih2YXIga2V5IGluIG5hbWUpe3NlbGYuYXR0cihrZXksbmFtZVtrZXldKTt9cmV0dXJuIHNlbGY7fWlmKGF0dHJzPXNlbGYuYXR0cmlidXRlcyl7aWYodmFsdWUhPT11bmRlZmluZWQpe2lmKHZhbHVlPT09bnVsbCl7aWYobmFtZSBpbiBhdHRycy5tYXApe2RlbGV0ZSBhdHRycy5tYXBbbmFtZV07dmFyIGk9YXR0cnMubGVuZ3RoO3doaWxlKGktLSl7aWYoYXR0cnNbaV0ubmFtZT09PW5hbWUpe2F0dHJzLnNwbGljZShpLDEpO3JldHVybiBzZWxmO319fXJldHVybiBzZWxmO31pZihuYW1lIGluIGF0dHJzLm1hcCl7dmFyIGk9YXR0cnMubGVuZ3RoO3doaWxlKGktLSl7aWYoYXR0cnNbaV0ubmFtZT09PW5hbWUpe2F0dHJzW2ldLnZhbHVlPXZhbHVlO2JyZWFrO319fWVsc2V7YXR0cnMucHVzaCh7bmFtZTpuYW1lLHZhbHVlOnZhbHVlfSk7fWF0dHJzLm1hcFtuYW1lXT12YWx1ZTtyZXR1cm4gc2VsZjt9cmV0dXJuIGF0dHJzLm1hcFtuYW1lXTt9fTtOb2RlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dmFyIGNsb25lPW5ldyBOb2RlKHNlbGYubmFtZSxzZWxmLnR5cGUpO3ZhciBzZWxmQXR0cnM7aWYoc2VsZkF0dHJzPXNlbGYuYXR0cmlidXRlcyl7dmFyIGNsb25lQXR0cnM9W107Y2xvbmVBdHRycy5tYXA9e307Zm9yKHZhciBpPTAsbD1zZWxmQXR0cnMubGVuZ3RoO2k8bDtpKyspe3ZhciBzZWxmQXR0cj1zZWxmQXR0cnNbaV07aWYoc2VsZkF0dHIubmFtZSE9PSdpZCcpe2Nsb25lQXR0cnNbY2xvbmVBdHRycy5sZW5ndGhdPXtuYW1lOnNlbGZBdHRyLm5hbWUsdmFsdWU6c2VsZkF0dHIudmFsdWV9O2Nsb25lQXR0cnMubWFwW3NlbGZBdHRyLm5hbWVdPXNlbGZBdHRyLnZhbHVlO319Y2xvbmUuYXR0cmlidXRlcz1jbG9uZUF0dHJzO31jbG9uZS52YWx1ZT1zZWxmLnZhbHVlO2Nsb25lLnNob3J0RW5kZWQ9c2VsZi5zaG9ydEVuZGVkO3JldHVybiBjbG9uZTt9O05vZGUucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24od3JhcHBlcil7dmFyIHNlbGY9dGhpcztzZWxmLnBhcmVudC5pbnNlcnQod3JhcHBlcixzZWxmKTt3cmFwcGVyLmFwcGVuZChzZWxmKTtyZXR1cm4gc2VsZjt9O05vZGUucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7Zm9yKHZhciBub2RlPXNlbGYuZmlyc3RDaGlsZDtub2RlOyl7dmFyIG5leHQ9bm9kZS5uZXh0O3NlbGYuaW5zZXJ0KG5vZGUsc2VsZix0cnVlKTtub2RlPW5leHQ7fXNlbGYucmVtb3ZlKCk7fTtOb2RlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLHBhcmVudD1zZWxmLnBhcmVudCxuZXh0PXNlbGYubmV4dCxwcmV2PXNlbGYucHJldjtpZihwYXJlbnQpe2lmKHBhcmVudC5maXJzdENoaWxkPT09c2VsZil7cGFyZW50LmZpcnN0Q2hpbGQ9bmV4dDtpZihuZXh0KXtuZXh0LnByZXY9bnVsbDt9fWVsc2V7cHJldi5uZXh0PW5leHQ7fWlmKHBhcmVudC5sYXN0Q2hpbGQ9PT1zZWxmKXtwYXJlbnQubGFzdENoaWxkPXByZXY7aWYocHJldil7cHJldi5uZXh0PW51bGw7fX1lbHNle25leHQucHJldj1wcmV2O31zZWxmLnBhcmVudD1zZWxmLm5leHQ9c2VsZi5wcmV2PW51bGw7fXJldHVybiBzZWxmO307Tm9kZS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKG5vZGUpe3ZhciBzZWxmPXRoaXM7aWYobm9kZS5wYXJlbnQpe25vZGUucmVtb3ZlKCk7fXZhciBsYXN0PXNlbGYubGFzdENoaWxkO2lmKGxhc3Qpe2xhc3QubmV4dD1ub2RlO25vZGUucHJldj1sYXN0O3NlbGYubGFzdENoaWxkPW5vZGU7fWVsc2V7c2VsZi5sYXN0Q2hpbGQ9c2VsZi5maXJzdENoaWxkPW5vZGU7fW5vZGUucGFyZW50PXNlbGY7cmV0dXJuIG5vZGU7fTtOb2RlLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24obm9kZSxyZWZOb2RlLGJlZm9yZSl7aWYobm9kZS5wYXJlbnQpe25vZGUucmVtb3ZlKCk7fXZhciBwYXJlbnQ9cmVmTm9kZS5wYXJlbnR8fHRoaXM7aWYoYmVmb3JlKXtpZihyZWZOb2RlPT09cGFyZW50LmZpcnN0Q2hpbGQpe3BhcmVudC5maXJzdENoaWxkPW5vZGU7fWVsc2V7cmVmTm9kZS5wcmV2Lm5leHQ9bm9kZTt9bm9kZS5wcmV2PXJlZk5vZGUucHJldjtub2RlLm5leHQ9cmVmTm9kZTtyZWZOb2RlLnByZXY9bm9kZTt9ZWxzZXtpZihyZWZOb2RlPT09cGFyZW50Lmxhc3RDaGlsZCl7cGFyZW50Lmxhc3RDaGlsZD1ub2RlO31lbHNle3JlZk5vZGUubmV4dC5wcmV2PW5vZGU7fW5vZGUubmV4dD1yZWZOb2RlLm5leHQ7bm9kZS5wcmV2PXJlZk5vZGU7cmVmTm9kZS5uZXh0PW5vZGU7fW5vZGUucGFyZW50PXBhcmVudDtyZXR1cm4gbm9kZTt9O05vZGUucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihuYW1lKXt2YXIgc2VsZj10aGlzO3ZhciBjb2xsZWN0aW9uPVtdO2Zvcih2YXIgbm9kZT1zZWxmLmZpcnN0Q2hpbGQ7bm9kZTtub2RlPXdhbGskMihub2RlLHNlbGYpKXtpZihub2RlLm5hbWU9PT1uYW1lKXtjb2xsZWN0aW9uLnB1c2gobm9kZSk7fX1yZXR1cm4gY29sbGVjdGlvbjt9O05vZGUucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcztpZihzZWxmLmZpcnN0Q2hpbGQpe3ZhciBub2Rlcz1bXTtmb3IodmFyIG5vZGU9c2VsZi5maXJzdENoaWxkO25vZGU7bm9kZT13YWxrJDIobm9kZSxzZWxmKSl7bm9kZXMucHVzaChub2RlKTt9dmFyIGk9bm9kZXMubGVuZ3RoO3doaWxlKGktLSl7dmFyIG5vZGU9bm9kZXNbaV07bm9kZS5wYXJlbnQ9bm9kZS5maXJzdENoaWxkPW5vZGUubGFzdENoaWxkPW5vZGUubmV4dD1ub2RlLnByZXY9bnVsbDt9fXNlbGYuZmlyc3RDaGlsZD1zZWxmLmxhc3RDaGlsZD1udWxsO3JldHVybiBzZWxmO307Tm9kZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbihlbGVtZW50cyx3aGl0ZXNwYWNlLHByZWRpY2F0ZSl7aWYod2hpdGVzcGFjZT09PXZvaWQgMCl7d2hpdGVzcGFjZT17fTt9dmFyIHNlbGY9dGhpczt2YXIgbm9kZT1zZWxmLmZpcnN0Q2hpbGQ7aWYobm9kZSl7ZG97aWYobm9kZS50eXBlPT09MSl7aWYobm9kZS5hdHRyKCdkYXRhLW1jZS1ib2d1cycpKXtjb250aW51ZTt9aWYoZWxlbWVudHNbbm9kZS5uYW1lXSl7cmV0dXJuIGZhbHNlO312YXIgaT1ub2RlLmF0dHJpYnV0ZXMubGVuZ3RoO3doaWxlKGktLSl7dmFyIG5hbWU9bm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWU7aWYobmFtZT09PSduYW1lJ3x8bmFtZS5pbmRleE9mKCdkYXRhLW1jZS1ib29rbWFyaycpPT09MCl7cmV0dXJuIGZhbHNlO319fWlmKG5vZGUudHlwZT09PTgpe3JldHVybiBmYWxzZTt9aWYobm9kZS50eXBlPT09MyYmIXdoaXRlU3BhY2VSZWdFeHAkMy50ZXN0KG5vZGUudmFsdWUpKXtyZXR1cm4gZmFsc2U7fWlmKG5vZGUudHlwZT09PTMmJm5vZGUucGFyZW50JiZ3aGl0ZXNwYWNlW25vZGUucGFyZW50Lm5hbWVdJiZ3aGl0ZVNwYWNlUmVnRXhwJDMudGVzdChub2RlLnZhbHVlKSl7cmV0dXJuIGZhbHNlO31pZihwcmVkaWNhdGUmJnByZWRpY2F0ZShub2RlKSl7cmV0dXJuIGZhbHNlO319d2hpbGUobm9kZT13YWxrJDIobm9kZSxzZWxmKSk7fXJldHVybiB0cnVlO307Tm9kZS5wcm90b3R5cGUud2Fsaz1mdW5jdGlvbihwcmV2KXtyZXR1cm4gd2FsayQyKHRoaXMsbnVsbCxwcmV2KTt9O3JldHVybiBOb2RlO30oKTt2YXIgaXNWYWxpZFByZWZpeEF0dHJOYW1lPWZ1bmN0aW9uIGlzVmFsaWRQcmVmaXhBdHRyTmFtZShuYW1lKXtyZXR1cm4gbmFtZS5pbmRleE9mKCdkYXRhLScpPT09MHx8bmFtZS5pbmRleE9mKCdhcmlhLScpPT09MDt9O3ZhciB0cmltQ29tbWVudHM9ZnVuY3Rpb24gdHJpbUNvbW1lbnRzKHRleHQpe3JldHVybiB0ZXh0LnJlcGxhY2UoLzwhLS18LS0+L2csJycpO307dmFyIGlzSW52YWxpZFVyaT1mdW5jdGlvbiBpc0ludmFsaWRVcmkoc2V0dGluZ3MsdXJpKXtpZihzZXR0aW5ncy5hbGxvd19odG1sX2RhdGFfdXJscyl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKC9eZGF0YTppbWFnZVwvL2kudGVzdCh1cmkpKXtyZXR1cm4gc2V0dGluZ3MuYWxsb3dfc3ZnX2RhdGFfdXJscz09PWZhbHNlJiYvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sL2kudGVzdCh1cmkpO31lbHNle3JldHVybiAvXmRhdGE6L2kudGVzdCh1cmkpO319O3ZhciBmaW5kRW5kVGFnSW5kZXg9ZnVuY3Rpb24gZmluZEVuZFRhZ0luZGV4KHNjaGVtYSxodG1sLHN0YXJ0SW5kZXgpe3ZhciBjb3VudD0xLGluZGV4LG1hdGNoZXMsdG9rZW5SZWdFeHAsc2hvcnRFbmRlZEVsZW1lbnRzO3Nob3J0RW5kZWRFbGVtZW50cz1zY2hlbWEuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCk7dG9rZW5SZWdFeHA9LzwoWyE/XC9dKT8oW0EtWmEtejAtOVwtX1w6XC5dKykoKD86XHMrW14iXCc+XSsoPzooPzoiW14iXSoiKXwoPzpcJ1teXCddKlwnKXxbXj5dKikpKnxcL3xccyspPi9nO3Rva2VuUmVnRXhwLmxhc3RJbmRleD1pbmRleD1zdGFydEluZGV4O3doaWxlKG1hdGNoZXM9dG9rZW5SZWdFeHAuZXhlYyhodG1sKSl7aW5kZXg9dG9rZW5SZWdFeHAubGFzdEluZGV4O2lmKG1hdGNoZXNbMV09PT0nLycpe2NvdW50LS07fWVsc2UgaWYoIW1hdGNoZXNbMV0pe2lmKG1hdGNoZXNbMl1pbiBzaG9ydEVuZGVkRWxlbWVudHMpe2NvbnRpbnVlO31jb3VudCsrO31pZihjb3VudD09PTApe2JyZWFrO319cmV0dXJuIGluZGV4O307dmFyIGNoZWNrQm9ndXNBdHRyaWJ1dGU9ZnVuY3Rpb24gY2hlY2tCb2d1c0F0dHJpYnV0ZShyZWdFeHAsYXR0clN0cmluZyl7dmFyIG1hdGNoZXM9cmVnRXhwLmV4ZWMoYXR0clN0cmluZyk7aWYobWF0Y2hlcyl7dmFyIG5hbWU9bWF0Y2hlc1sxXTt2YXIgdmFsdWU9bWF0Y2hlc1syXTtyZXR1cm4gdHlwZW9mIG5hbWU9PT0nc3RyaW5nJyYmbmFtZS50b0xvd2VyQ2FzZSgpPT09J2RhdGEtbWNlLWJvZ3VzJz92YWx1ZTpudWxsO31lbHNle3JldHVybiBudWxsO319O2Z1bmN0aW9uIFNheFBhcnNlcihzZXR0aW5ncyxzY2hlbWEpe2lmKHNjaGVtYT09PXZvaWQgMCl7c2NoZW1hPVNjaGVtYSgpO312YXIgbm9vcD1mdW5jdGlvbiBub29wKCl7fTtzZXR0aW5ncz1zZXR0aW5nc3x8e307aWYoc2V0dGluZ3MuZml4X3NlbGZfY2xvc2luZyE9PWZhbHNlKXtzZXR0aW5ncy5maXhfc2VsZl9jbG9zaW5nPXRydWU7fXZhciBjb21tZW50PXNldHRpbmdzLmNvbW1lbnQ/c2V0dGluZ3MuY29tbWVudDpub29wO3ZhciBjZGF0YT1zZXR0aW5ncy5jZGF0YT9zZXR0aW5ncy5jZGF0YTpub29wO3ZhciB0ZXh0PXNldHRpbmdzLnRleHQ/c2V0dGluZ3MudGV4dDpub29wO3ZhciBzdGFydD1zZXR0aW5ncy5zdGFydD9zZXR0aW5ncy5zdGFydDpub29wO3ZhciBlbmQ9c2V0dGluZ3MuZW5kP3NldHRpbmdzLmVuZDpub29wO3ZhciBwaT1zZXR0aW5ncy5waT9zZXR0aW5ncy5waTpub29wO3ZhciBkb2N0eXBlPXNldHRpbmdzLmRvY3R5cGU/c2V0dGluZ3MuZG9jdHlwZTpub29wO3ZhciBwYXJzZT1mdW5jdGlvbiBwYXJzZShodG1sKXt2YXIgbWF0Y2hlcyxpbmRleD0wLHZhbHVlLGVuZFJlZ0V4cDt2YXIgc3RhY2s9W107dmFyIGF0dHJMaXN0LGksdGV4dERhdGEsbmFtZTt2YXIgaXNJbnRlcm5hbEVsZW1lbnQscmVtb3ZlSW50ZXJuYWxFbGVtZW50cyxzaG9ydEVuZGVkRWxlbWVudHMsZmlsbEF0dHJzTWFwLGlzU2hvcnRFbmRlZDt2YXIgdmFsaWRhdGUsZWxlbWVudFJ1bGUsaXNWYWxpZEVsZW1lbnQsYXR0cixhdHRyaWJzVmFsdWUsdmFsaWRBdHRyaWJ1dGVzTWFwLHZhbGlkQXR0cmlidXRlUGF0dGVybnM7dmFyIGF0dHJpYnV0ZXNSZXF1aXJlZCxhdHRyaWJ1dGVzRGVmYXVsdCxhdHRyaWJ1dGVzRm9yY2VkLHByb2Nlc3NIdG1sO3ZhciBhbnlBdHRyaWJ1dGVzUmVxdWlyZWQsc2VsZkNsb3NpbmcsdG9rZW5SZWdFeHAsYXR0clJlZ0V4cCxzcGVjaWFsRWxlbWVudHMsYXR0clZhbHVlLGlkQ291bnQ9MDt2YXIgZGVjb2RlPUVudGl0aWVzLmRlY29kZTt2YXIgZml4U2VsZkNsb3Npbmc7dmFyIGZpbHRlcmVkVXJsQXR0cnM9VG9vbHMubWFrZU1hcCgnc3JjLGhyZWYsZGF0YSxiYWNrZ3JvdW5kLGZvcm1hY3Rpb24scG9zdGVyLHhsaW5rOmhyZWYnKTt2YXIgc2NyaXB0VXJpUmVnRXhwPS8oKGphdmF8dmIpc2NyaXB0fG1odG1sKTovaTt2YXIgcHJvY2Vzc0VuZFRhZz1mdW5jdGlvbiBwcm9jZXNzRW5kVGFnKG5hbWUpe3ZhciBwb3MsaTtwb3M9c3RhY2subGVuZ3RoO3doaWxlKHBvcy0tKXtpZihzdGFja1twb3NdLm5hbWU9PT1uYW1lKXticmVhazt9fWlmKHBvcz49MCl7Zm9yKGk9c3RhY2subGVuZ3RoLTE7aT49cG9zO2ktLSl7bmFtZT1zdGFja1tpXTtpZihuYW1lLnZhbGlkKXtlbmQobmFtZS5uYW1lKTt9fXN0YWNrLmxlbmd0aD1wb3M7fX07dmFyIHBhcnNlQXR0cmlidXRlPWZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlKG1hdGNoLG5hbWUsdmFsdWUsdmFsMix2YWwzKXt2YXIgYXR0clJ1bGUsaTt2YXIgdHJpbVJlZ0V4cD0vW1xzXHUwMDAwLVx1MDAxRl0rL2c7bmFtZT1uYW1lLnRvTG93ZXJDYXNlKCk7dmFsdWU9bmFtZSBpbiBmaWxsQXR0cnNNYXA/bmFtZTpkZWNvZGUodmFsdWV8fHZhbDJ8fHZhbDN8fCcnKTtpZih2YWxpZGF0ZSYmIWlzSW50ZXJuYWxFbGVtZW50JiZpc1ZhbGlkUHJlZml4QXR0ck5hbWUobmFtZSk9PT1mYWxzZSl7YXR0clJ1bGU9dmFsaWRBdHRyaWJ1dGVzTWFwW25hbWVdO2lmKCFhdHRyUnVsZSYmdmFsaWRBdHRyaWJ1dGVQYXR0ZXJucyl7aT12YWxpZEF0dHJpYnV0ZVBhdHRlcm5zLmxlbmd0aDt3aGlsZShpLS0pe2F0dHJSdWxlPXZhbGlkQXR0cmlidXRlUGF0dGVybnNbaV07aWYoYXR0clJ1bGUucGF0dGVybi50ZXN0KG5hbWUpKXticmVhazt9fWlmKGk9PT0tMSl7YXR0clJ1bGU9bnVsbDt9fWlmKCFhdHRyUnVsZSl7cmV0dXJuO31pZihhdHRyUnVsZS52YWxpZFZhbHVlcyYmISh2YWx1ZSBpbiBhdHRyUnVsZS52YWxpZFZhbHVlcykpe3JldHVybjt9fWlmKGZpbHRlcmVkVXJsQXR0cnNbbmFtZV0mJiFzZXR0aW5ncy5hbGxvd19zY3JpcHRfdXJscyl7dmFyIHVyaT12YWx1ZS5yZXBsYWNlKHRyaW1SZWdFeHAsJycpO3RyeXt1cmk9ZGVjb2RlVVJJQ29tcG9uZW50KHVyaSk7fWNhdGNoKGV4KXt1cmk9dW5lc2NhcGUodXJpKTt9aWYoc2NyaXB0VXJpUmVnRXhwLnRlc3QodXJpKSl7cmV0dXJuO31pZihpc0ludmFsaWRVcmkoc2V0dGluZ3MsdXJpKSl7cmV0dXJuO319aWYoaXNJbnRlcm5hbEVsZW1lbnQmJihuYW1lIGluIGZpbHRlcmVkVXJsQXR0cnN8fG5hbWUuaW5kZXhPZignb24nKT09PTApKXtyZXR1cm47fWF0dHJMaXN0Lm1hcFtuYW1lXT12YWx1ZTthdHRyTGlzdC5wdXNoKHtuYW1lOm5hbWUsdmFsdWU6dmFsdWV9KTt9O3Rva2VuUmVnRXhwPW5ldyBSZWdFeHAoJzwoPzonKycoPzohLS0oW1xcd1xcV10qPyktLSE/Pil8JysnKD86IVxcW0NEQVRBXFxbKFtcXHdcXFddKj8pXFxdXFxdPil8JysnKD86IURPQ1RZUEUoW1xcd1xcV10qPyk+KXwnKycoPzpcXD8oW15cXHNcXC88Pl0rKSA/KFtcXHdcXFddKj8pWz8vXT4pfCcrJyg/OlxcLyhbQS1aYS16XVtBLVphLXowLTlcXC1fXFw6XFwuXSopPil8JysnKD86KFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKikoKD86XFxzK1teIlwnPl0rKD86KD86IlteIl0qIil8KD86XCdbXlwnXSpcJyl8W14+XSopKSp8XFwvfFxccyspPiknKycpJywnZycpO2F0dHJSZWdFeHA9LyhbXHc6XC1dKykoPzpccyo9XHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86XCcoKD86W15cJ10pKilcJyl8KFtePlxzXSspKSk/L2c7c2hvcnRFbmRlZEVsZW1lbnRzPXNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKTtzZWxmQ2xvc2luZz1zZXR0aW5ncy5zZWxmX2Nsb3NpbmdfZWxlbWVudHN8fHNjaGVtYS5nZXRTZWxmQ2xvc2luZ0VsZW1lbnRzKCk7ZmlsbEF0dHJzTWFwPXNjaGVtYS5nZXRCb29sQXR0cnMoKTt2YWxpZGF0ZT1zZXR0aW5ncy52YWxpZGF0ZTtyZW1vdmVJbnRlcm5hbEVsZW1lbnRzPXNldHRpbmdzLnJlbW92ZV9pbnRlcm5hbHM7Zml4U2VsZkNsb3Npbmc9c2V0dGluZ3MuZml4X3NlbGZfY2xvc2luZztzcGVjaWFsRWxlbWVudHM9c2NoZW1hLmdldFNwZWNpYWxFbGVtZW50cygpO3Byb2Nlc3NIdG1sPWh0bWwrJz4nO3doaWxlKG1hdGNoZXM9dG9rZW5SZWdFeHAuZXhlYyhwcm9jZXNzSHRtbCkpe2lmKGluZGV4PG1hdGNoZXMuaW5kZXgpe3RleHQoZGVjb2RlKGh0bWwuc3Vic3RyKGluZGV4LG1hdGNoZXMuaW5kZXgtaW5kZXgpKSk7fWlmKHZhbHVlPW1hdGNoZXNbNl0pe3ZhbHVlPXZhbHVlLnRvTG93ZXJDYXNlKCk7aWYodmFsdWUuY2hhckF0KDApPT09JzonKXt2YWx1ZT12YWx1ZS5zdWJzdHIoMSk7fXByb2Nlc3NFbmRUYWcodmFsdWUpO31lbHNlIGlmKHZhbHVlPW1hdGNoZXNbN10pe2lmKG1hdGNoZXMuaW5kZXgrbWF0Y2hlc1swXS5sZW5ndGg+aHRtbC5sZW5ndGgpe3RleHQoZGVjb2RlKGh0bWwuc3Vic3RyKG1hdGNoZXMuaW5kZXgpKSk7aW5kZXg9bWF0Y2hlcy5pbmRleCttYXRjaGVzWzBdLmxlbmd0aDtjb250aW51ZTt9dmFsdWU9dmFsdWUudG9Mb3dlckNhc2UoKTtpZih2YWx1ZS5jaGFyQXQoMCk9PT0nOicpe3ZhbHVlPXZhbHVlLnN1YnN0cigxKTt9aXNTaG9ydEVuZGVkPXZhbHVlIGluIHNob3J0RW5kZWRFbGVtZW50cztpZihmaXhTZWxmQ2xvc2luZyYmc2VsZkNsb3NpbmdbdmFsdWVdJiZzdGFjay5sZW5ndGg+MCYmc3RhY2tbc3RhY2subGVuZ3RoLTFdLm5hbWU9PT12YWx1ZSl7cHJvY2Vzc0VuZFRhZyh2YWx1ZSk7fXZhciBib2d1c1ZhbHVlPWNoZWNrQm9ndXNBdHRyaWJ1dGUoYXR0clJlZ0V4cCxtYXRjaGVzWzhdKTtpZihib2d1c1ZhbHVlIT09bnVsbCl7aWYoYm9ndXNWYWx1ZT09PSdhbGwnKXtpbmRleD1maW5kRW5kVGFnSW5kZXgoc2NoZW1hLGh0bWwsdG9rZW5SZWdFeHAubGFzdEluZGV4KTt0b2tlblJlZ0V4cC5sYXN0SW5kZXg9aW5kZXg7Y29udGludWU7fWlzVmFsaWRFbGVtZW50PWZhbHNlO31pZighdmFsaWRhdGV8fChlbGVtZW50UnVsZT1zY2hlbWEuZ2V0RWxlbWVudFJ1bGUodmFsdWUpKSl7aXNWYWxpZEVsZW1lbnQ9dHJ1ZTtpZih2YWxpZGF0ZSl7dmFsaWRBdHRyaWJ1dGVzTWFwPWVsZW1lbnRSdWxlLmF0dHJpYnV0ZXM7dmFsaWRBdHRyaWJ1dGVQYXR0ZXJucz1lbGVtZW50UnVsZS5hdHRyaWJ1dGVQYXR0ZXJuczt9aWYoYXR0cmlic1ZhbHVlPW1hdGNoZXNbOF0pe2lzSW50ZXJuYWxFbGVtZW50PWF0dHJpYnNWYWx1ZS5pbmRleE9mKCdkYXRhLW1jZS10eXBlJykhPT0tMTtpZihpc0ludGVybmFsRWxlbWVudCYmcmVtb3ZlSW50ZXJuYWxFbGVtZW50cyl7aXNWYWxpZEVsZW1lbnQ9ZmFsc2U7fWF0dHJMaXN0PVtdO2F0dHJMaXN0Lm1hcD17fTthdHRyaWJzVmFsdWUucmVwbGFjZShhdHRyUmVnRXhwLHBhcnNlQXR0cmlidXRlKTt9ZWxzZXthdHRyTGlzdD1bXTthdHRyTGlzdC5tYXA9e307fWlmKHZhbGlkYXRlJiYhaXNJbnRlcm5hbEVsZW1lbnQpe2F0dHJpYnV0ZXNSZXF1aXJlZD1lbGVtZW50UnVsZS5hdHRyaWJ1dGVzUmVxdWlyZWQ7YXR0cmlidXRlc0RlZmF1bHQ9ZWxlbWVudFJ1bGUuYXR0cmlidXRlc0RlZmF1bHQ7YXR0cmlidXRlc0ZvcmNlZD1lbGVtZW50UnVsZS5hdHRyaWJ1dGVzRm9yY2VkO2FueUF0dHJpYnV0ZXNSZXF1aXJlZD1lbGVtZW50UnVsZS5yZW1vdmVFbXB0eUF0dHJzO2lmKGFueUF0dHJpYnV0ZXNSZXF1aXJlZCYmIWF0dHJMaXN0Lmxlbmd0aCl7aXNWYWxpZEVsZW1lbnQ9ZmFsc2U7fWlmKGF0dHJpYnV0ZXNGb3JjZWQpe2k9YXR0cmlidXRlc0ZvcmNlZC5sZW5ndGg7d2hpbGUoaS0tKXthdHRyPWF0dHJpYnV0ZXNGb3JjZWRbaV07bmFtZT1hdHRyLm5hbWU7YXR0clZhbHVlPWF0dHIudmFsdWU7aWYoYXR0clZhbHVlPT09J3skdWlkfScpe2F0dHJWYWx1ZT0nbWNlXycraWRDb3VudCsrO31hdHRyTGlzdC5tYXBbbmFtZV09YXR0clZhbHVlO2F0dHJMaXN0LnB1c2goe25hbWU6bmFtZSx2YWx1ZTphdHRyVmFsdWV9KTt9fWlmKGF0dHJpYnV0ZXNEZWZhdWx0KXtpPWF0dHJpYnV0ZXNEZWZhdWx0Lmxlbmd0aDt3aGlsZShpLS0pe2F0dHI9YXR0cmlidXRlc0RlZmF1bHRbaV07bmFtZT1hdHRyLm5hbWU7aWYoIShuYW1lIGluIGF0dHJMaXN0Lm1hcCkpe2F0dHJWYWx1ZT1hdHRyLnZhbHVlO2lmKGF0dHJWYWx1ZT09PSd7JHVpZH0nKXthdHRyVmFsdWU9J21jZV8nK2lkQ291bnQrKzt9YXR0ckxpc3QubWFwW25hbWVdPWF0dHJWYWx1ZTthdHRyTGlzdC5wdXNoKHtuYW1lOm5hbWUsdmFsdWU6YXR0clZhbHVlfSk7fX19aWYoYXR0cmlidXRlc1JlcXVpcmVkKXtpPWF0dHJpYnV0ZXNSZXF1aXJlZC5sZW5ndGg7d2hpbGUoaS0tKXtpZihhdHRyaWJ1dGVzUmVxdWlyZWRbaV1pbiBhdHRyTGlzdC5tYXApe2JyZWFrO319aWYoaT09PS0xKXtpc1ZhbGlkRWxlbWVudD1mYWxzZTt9fWlmKGF0dHI9YXR0ckxpc3QubWFwWydkYXRhLW1jZS1ib2d1cyddKXtpZihhdHRyPT09J2FsbCcpe2luZGV4PWZpbmRFbmRUYWdJbmRleChzY2hlbWEsaHRtbCx0b2tlblJlZ0V4cC5sYXN0SW5kZXgpO3Rva2VuUmVnRXhwLmxhc3RJbmRleD1pbmRleDtjb250aW51ZTt9aXNWYWxpZEVsZW1lbnQ9ZmFsc2U7fX1pZihpc1ZhbGlkRWxlbWVudCl7c3RhcnQodmFsdWUsYXR0ckxpc3QsaXNTaG9ydEVuZGVkKTt9fWVsc2V7aXNWYWxpZEVsZW1lbnQ9ZmFsc2U7fWlmKGVuZFJlZ0V4cD1zcGVjaWFsRWxlbWVudHNbdmFsdWVdKXtlbmRSZWdFeHAubGFzdEluZGV4PWluZGV4PW1hdGNoZXMuaW5kZXgrbWF0Y2hlc1swXS5sZW5ndGg7aWYobWF0Y2hlcz1lbmRSZWdFeHAuZXhlYyhodG1sKSl7aWYoaXNWYWxpZEVsZW1lbnQpe3RleHREYXRhPWh0bWwuc3Vic3RyKGluZGV4LG1hdGNoZXMuaW5kZXgtaW5kZXgpO31pbmRleD1tYXRjaGVzLmluZGV4K21hdGNoZXNbMF0ubGVuZ3RoO31lbHNle3RleHREYXRhPWh0bWwuc3Vic3RyKGluZGV4KTtpbmRleD1odG1sLmxlbmd0aDt9aWYoaXNWYWxpZEVsZW1lbnQpe2lmKHRleHREYXRhLmxlbmd0aD4wKXt0ZXh0KHRleHREYXRhLHRydWUpO31lbmQodmFsdWUpO310b2tlblJlZ0V4cC5sYXN0SW5kZXg9aW5kZXg7Y29udGludWU7fWlmKCFpc1Nob3J0RW5kZWQpe2lmKCFhdHRyaWJzVmFsdWV8fGF0dHJpYnNWYWx1ZS5pbmRleE9mKCcvJykhPT1hdHRyaWJzVmFsdWUubGVuZ3RoLTEpe3N0YWNrLnB1c2goe25hbWU6dmFsdWUsdmFsaWQ6aXNWYWxpZEVsZW1lbnR9KTt9ZWxzZSBpZihpc1ZhbGlkRWxlbWVudCl7ZW5kKHZhbHVlKTt9fX1lbHNlIGlmKHZhbHVlPW1hdGNoZXNbMV0pe2lmKHZhbHVlLmNoYXJBdCgwKT09PSc+Jyl7dmFsdWU9JyAnK3ZhbHVlO31pZighc2V0dGluZ3MuYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHMmJnZhbHVlLnN1YnN0cigwLDMpLnRvTG93ZXJDYXNlKCk9PT0nW2lmJyl7dmFsdWU9JyAnK3ZhbHVlO31jb21tZW50KHZhbHVlKTt9ZWxzZSBpZih2YWx1ZT1tYXRjaGVzWzJdKXtjZGF0YSh0cmltQ29tbWVudHModmFsdWUpKTt9ZWxzZSBpZih2YWx1ZT1tYXRjaGVzWzNdKXtkb2N0eXBlKHZhbHVlKTt9ZWxzZSBpZih2YWx1ZT1tYXRjaGVzWzRdKXtwaSh2YWx1ZSxtYXRjaGVzWzVdKTt9aW5kZXg9bWF0Y2hlcy5pbmRleCttYXRjaGVzWzBdLmxlbmd0aDt9aWYoaW5kZXg8aHRtbC5sZW5ndGgpe3RleHQoZGVjb2RlKGh0bWwuc3Vic3RyKGluZGV4KSkpO31mb3IoaT1zdGFjay5sZW5ndGgtMTtpPj0wO2ktLSl7dmFsdWU9c3RhY2tbaV07aWYodmFsdWUudmFsaWQpe2VuZCh2YWx1ZS5uYW1lKTt9fX07cmV0dXJue3BhcnNlOnBhcnNlfTt9KGZ1bmN0aW9uKFNheFBhcnNlcil7U2F4UGFyc2VyLmZpbmRFbmRUYWc9ZmluZEVuZFRhZ0luZGV4O30pKFNheFBhcnNlcnx8KFNheFBhcnNlcj17fSkpO3ZhciBTYXhQYXJzZXIkMT1TYXhQYXJzZXI7dmFyIHRyaW1IdG1sPWZ1bmN0aW9uIHRyaW1IdG1sKHRlbXBBdHRycyxodG1sKXt2YXIgdHJpbUNvbnRlbnRSZWdFeHA9bmV3IFJlZ0V4cChbJ1xccz8oJyt0ZW1wQXR0cnMuam9pbignfCcpKycpPSJbXiJdKyInXS5qb2luKCd8JyksJ2dpJyk7cmV0dXJuIGh0bWwucmVwbGFjZSh0cmltQ29udGVudFJlZ0V4cCwnJyk7fTt2YXIgdHJpbUludGVybmFsPWZ1bmN0aW9uIHRyaW1JbnRlcm5hbChzZXJpYWxpemVyLGh0bWwpe3ZhciBjb250ZW50PWh0bWw7dmFyIGJvZ3VzQWxsUmVnRXhwPS88KFx3KykgW14+XSpkYXRhLW1jZS1ib2d1cz0iYWxsIltePl0qPi9nO3ZhciBlbmRUYWdJbmRleCxpbmRleCxtYXRjaExlbmd0aCxtYXRjaGVzLHNob3J0RW5kZWRFbGVtZW50czt2YXIgc2NoZW1hPXNlcmlhbGl6ZXIuc2NoZW1hO2NvbnRlbnQ9dHJpbUh0bWwoc2VyaWFsaXplci5nZXRUZW1wQXR0cnMoKSxjb250ZW50KTtzaG9ydEVuZGVkRWxlbWVudHM9c2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpO3doaWxlKG1hdGNoZXM9Ym9ndXNBbGxSZWdFeHAuZXhlYyhjb250ZW50KSl7aW5kZXg9Ym9ndXNBbGxSZWdFeHAubGFzdEluZGV4O21hdGNoTGVuZ3RoPW1hdGNoZXNbMF0ubGVuZ3RoO2lmKHNob3J0RW5kZWRFbGVtZW50c1ttYXRjaGVzWzFdXSl7ZW5kVGFnSW5kZXg9aW5kZXg7fWVsc2V7ZW5kVGFnSW5kZXg9U2F4UGFyc2VyJDEuZmluZEVuZFRhZyhzY2hlbWEsY29udGVudCxpbmRleCk7fWNvbnRlbnQ9Y29udGVudC5zdWJzdHJpbmcoMCxpbmRleC1tYXRjaExlbmd0aCkrY29udGVudC5zdWJzdHJpbmcoZW5kVGFnSW5kZXgpO2JvZ3VzQWxsUmVnRXhwLmxhc3RJbmRleD1pbmRleC1tYXRjaExlbmd0aDt9cmV0dXJuIFp3c3AudHJpbShjb250ZW50KTt9O3ZhciB0cmltRXh0ZXJuYWw9dHJpbUludGVybmFsO3ZhciBUcmltSHRtbD17dHJpbUV4dGVybmFsOnRyaW1FeHRlcm5hbCx0cmltSW50ZXJuYWw6dHJpbUludGVybmFsfTt2YXIgZ2V0Qm9keVNldHRpbmc9ZnVuY3Rpb24gZ2V0Qm9keVNldHRpbmcoZWRpdG9yLG5hbWUsZGVmYXVsdFZhbHVlKXt2YXIgdmFsdWU9ZWRpdG9yLmdldFBhcmFtKG5hbWUsZGVmYXVsdFZhbHVlKTtpZih2YWx1ZS5pbmRleE9mKCc9JykhPT0tMSl7dmFyIGJvZHlPYmo9ZWRpdG9yLmdldFBhcmFtKG5hbWUsJycsJ2hhc2gnKTtyZXR1cm4gYm9keU9iai5oYXNPd25Qcm9wZXJ0eShlZGl0b3IuaWQpP2JvZHlPYmpbZWRpdG9yLmlkXTpkZWZhdWx0VmFsdWU7fWVsc2V7cmV0dXJuIHZhbHVlO319O3ZhciBnZXRJZnJhbWVBdHRycz1mdW5jdGlvbiBnZXRJZnJhbWVBdHRycyhlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2lmcmFtZV9hdHRycycse30pO307dmFyIGdldERvY1R5cGU9ZnVuY3Rpb24gZ2V0RG9jVHlwZShlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2RvY3R5cGUnLCc8IURPQ1RZUEUgaHRtbD4nKTt9O3ZhciBnZXREb2N1bWVudEJhc2VVcmw9ZnVuY3Rpb24gZ2V0RG9jdW1lbnRCYXNlVXJsKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnZG9jdW1lbnRfYmFzZV91cmwnLCcnKTt9O3ZhciBnZXRCb2R5SWQ9ZnVuY3Rpb24gZ2V0Qm9keUlkKGVkaXRvcil7cmV0dXJuIGdldEJvZHlTZXR0aW5nKGVkaXRvciwnYm9keV9pZCcsJ3RpbnltY2UnKTt9O3ZhciBnZXRCb2R5Q2xhc3M9ZnVuY3Rpb24gZ2V0Qm9keUNsYXNzKGVkaXRvcil7cmV0dXJuIGdldEJvZHlTZXR0aW5nKGVkaXRvciwnYm9keV9jbGFzcycsJycpO307dmFyIGdldENvbnRlbnRTZWN1cml0eVBvbGljeT1mdW5jdGlvbiBnZXRDb250ZW50U2VjdXJpdHlQb2xpY3koZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdjb250ZW50X3NlY3VyaXR5X3BvbGljeScsJycpO307dmFyIHNob3VsZFB1dEJySW5QcmU9ZnVuY3Rpb24gc2hvdWxkUHV0QnJJblByZShlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2JyX2luX3ByZScsdHJ1ZSk7fTt2YXIgZ2V0Rm9yY2VkUm9vdEJsb2NrPWZ1bmN0aW9uIGdldEZvcmNlZFJvb3RCbG9jayhlZGl0b3Ipe2lmKGVkaXRvci5nZXRQYXJhbSgnZm9yY2VfcF9uZXdsaW5lcycsZmFsc2UpKXtyZXR1cm4ncCc7fXZhciBibG9jaz1lZGl0b3IuZ2V0UGFyYW0oJ2ZvcmNlZF9yb290X2Jsb2NrJywncCcpO2lmKGJsb2NrPT09ZmFsc2Upe3JldHVybicnO31lbHNlIGlmKGJsb2NrPT09dHJ1ZSl7cmV0dXJuJ3AnO31lbHNle3JldHVybiBibG9jazt9fTt2YXIgZ2V0Rm9yY2VkUm9vdEJsb2NrQXR0cnM9ZnVuY3Rpb24gZ2V0Rm9yY2VkUm9vdEJsb2NrQXR0cnMoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdmb3JjZWRfcm9vdF9ibG9ja19hdHRycycse30pO307dmFyIGdldEJyTmV3TGluZVNlbGVjdG9yPWZ1bmN0aW9uIGdldEJyTmV3TGluZVNlbGVjdG9yKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnYnJfbmV3bGluZV9zZWxlY3RvcicsJy5tY2UtdG9jIGgyLGZpZ2NhcHRpb24sY2FwdGlvbicpO307dmFyIGdldE5vTmV3TGluZVNlbGVjdG9yPWZ1bmN0aW9uIGdldE5vTmV3TGluZVNlbGVjdG9yKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnbm9fbmV3bGluZV9zZWxlY3RvcicsJycpO307dmFyIHNob3VsZEtlZXBTdHlsZXM9ZnVuY3Rpb24gc2hvdWxkS2VlcFN0eWxlcyhlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2tlZXBfc3R5bGVzJyx0cnVlKTt9O3ZhciBzaG91bGRFbmRDb250YWluZXJPbkVtcHR5QmxvY2s9ZnVuY3Rpb24gc2hvdWxkRW5kQ29udGFpbmVyT25FbXB0eUJsb2NrKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnZW5kX2NvbnRhaW5lcl9vbl9lbXB0eV9ibG9jaycsZmFsc2UpO307dmFyIGdldEZvbnRTdHlsZVZhbHVlcz1mdW5jdGlvbiBnZXRGb250U3R5bGVWYWx1ZXMoZWRpdG9yKXtyZXR1cm4gVG9vbHMuZXhwbG9kZShlZGl0b3IuZ2V0UGFyYW0oJ2ZvbnRfc2l6ZV9zdHlsZV92YWx1ZXMnLCd4eC1zbWFsbCx4LXNtYWxsLHNtYWxsLG1lZGl1bSxsYXJnZSx4LWxhcmdlLHh4LWxhcmdlJykpO307dmFyIGdldEZvbnRTaXplQ2xhc3Nlcz1mdW5jdGlvbiBnZXRGb250U2l6ZUNsYXNzZXMoZWRpdG9yKXtyZXR1cm4gVG9vbHMuZXhwbG9kZShlZGl0b3IuZ2V0UGFyYW0oJ2ZvbnRfc2l6ZV9jbGFzc2VzJywnJykpO307dmFyIGdldEltYWdlc0RhdGFJbWdGaWx0ZXI9ZnVuY3Rpb24gZ2V0SW1hZ2VzRGF0YUltZ0ZpbHRlcihlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2ltYWdlc19kYXRhaW1nX2ZpbHRlcicsY29uc3RhbnQodHJ1ZSksJ2Z1bmN0aW9uJyk7fTt2YXIgaXNBdXRvbWF0aWNVcGxvYWRzRW5hYmxlZD1mdW5jdGlvbiBpc0F1dG9tYXRpY1VwbG9hZHNFbmFibGVkKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnYXV0b21hdGljX3VwbG9hZHMnLHRydWUsJ2Jvb2xlYW4nKTt9O3ZhciBzaG91bGRSZXVzZUZpbGVOYW1lPWZ1bmN0aW9uIHNob3VsZFJldXNlRmlsZU5hbWUoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdpbWFnZXNfcmV1c2VfZmlsZW5hbWUnLGZhbHNlLCdib29sZWFuJyk7fTt2YXIgc2hvdWxkUmVwbGFjZUJsb2JVcmlzPWZ1bmN0aW9uIHNob3VsZFJlcGxhY2VCbG9iVXJpcyhlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2ltYWdlc19yZXBsYWNlX2Jsb2JfdXJpcycsdHJ1ZSwnYm9vbGVhbicpO307dmFyIGdldEljb25QYWNrTmFtZT1mdW5jdGlvbiBnZXRJY29uUGFja05hbWUoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdpY29ucycsJycsJ3N0cmluZycpO307dmFyIGdldEljb25zVXJsPWZ1bmN0aW9uIGdldEljb25zVXJsKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnaWNvbnNfdXJsJywnJywnc3RyaW5nJyk7fTt2YXIgZ2V0SW1hZ2VVcGxvYWRVcmw9ZnVuY3Rpb24gZ2V0SW1hZ2VVcGxvYWRVcmwoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdpbWFnZXNfdXBsb2FkX3VybCcsJycsJ3N0cmluZycpO307dmFyIGdldEltYWdlVXBsb2FkQmFzZVBhdGg9ZnVuY3Rpb24gZ2V0SW1hZ2VVcGxvYWRCYXNlUGF0aChlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2ltYWdlc191cGxvYWRfYmFzZV9wYXRoJywnJywnc3RyaW5nJyk7fTt2YXIgZ2V0SW1hZ2VzVXBsb2FkQ3JlZGVudGlhbHM9ZnVuY3Rpb24gZ2V0SW1hZ2VzVXBsb2FkQ3JlZGVudGlhbHMoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdpbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzJyxmYWxzZSwnYm9vbGVhbicpO307dmFyIGdldEltYWdlc1VwbG9hZEhhbmRsZXI9ZnVuY3Rpb24gZ2V0SW1hZ2VzVXBsb2FkSGFuZGxlcihlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2ltYWdlc191cGxvYWRfaGFuZGxlcicsbnVsbCwnZnVuY3Rpb24nKTt9O3ZhciBzaG91bGRVc2VDb250ZW50Q3NzQ29ycz1mdW5jdGlvbiBzaG91bGRVc2VDb250ZW50Q3NzQ29ycyhlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2NvbnRlbnRfY3NzX2NvcnMnLGZhbHNlLCdib29sZWFuJyk7fTt2YXIgZ2V0UmVmZXJyZXJQb2xpY3k9ZnVuY3Rpb24gZ2V0UmVmZXJyZXJQb2xpY3koZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdyZWZlcnJlcl9wb2xpY3knLCcnLCdzdHJpbmcnKTt9O3ZhciBnZXRMYW5ndWFnZUNvZGU9ZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VDb2RlKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnbGFuZ3VhZ2UnLCdlbicsJ3N0cmluZycpO307dmFyIGdldExhbmd1YWdlVXJsPWZ1bmN0aW9uIGdldExhbmd1YWdlVXJsKGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnbGFuZ3VhZ2VfdXJsJywnJywnc3RyaW5nJyk7fTt2YXIgc2hvdWxkSW5kZW50VXNlTWFyZ2luPWZ1bmN0aW9uIHNob3VsZEluZGVudFVzZU1hcmdpbihlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2luZGVudF91c2VfbWFyZ2luJyxmYWxzZSk7fTt2YXIgZ2V0SW5kZW50YXRpb249ZnVuY3Rpb24gZ2V0SW5kZW50YXRpb24oZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmdldFBhcmFtKCdpbmRlbnRhdGlvbicsJzQwcHgnLCdzdHJpbmcnKTt9O3ZhciBnZXRDb250ZW50Q3NzPWZ1bmN0aW9uIGdldENvbnRlbnRDc3MoZWRpdG9yKXt2YXIgY29udGVudENzcz1lZGl0b3Iuc2V0dGluZ3MuY29udGVudF9jc3M7aWYoaXNTdHJpbmcoY29udGVudENzcykpe3JldHVybiBtYXAoY29udGVudENzcy5zcGxpdCgnLCcpLHRyaW0pO31lbHNlIGlmKGlzQXJyYXkoY29udGVudENzcykpe3JldHVybiBjb250ZW50Q3NzO31lbHNlIGlmKGNvbnRlbnRDc3M9PT1mYWxzZXx8ZWRpdG9yLmlubGluZSl7cmV0dXJuW107fWVsc2V7cmV0dXJuWydkZWZhdWx0J107fX07dmFyIGdldERpcmVjdGlvbmFsaXR5PWZ1bmN0aW9uIGdldERpcmVjdGlvbmFsaXR5KGVkaXRvcil7cmV0dXJuIGVkaXRvci5nZXRQYXJhbSgnZGlyZWN0aW9uYWxpdHknLEkxOG4uaXNSdGwoKT8ncnRsJzp1bmRlZmluZWQpO307dmFyIGdldElubGluZUJvdW5kYXJ5U2VsZWN0b3I9ZnVuY3Rpb24gZ2V0SW5saW5lQm91bmRhcnlTZWxlY3RvcihlZGl0b3Ipe3JldHVybiBlZGl0b3IuZ2V0UGFyYW0oJ2lubGluZV9ib3VuZGFyaWVzX3NlbGVjdG9yJywnYVtocmVmXSxjb2RlLC5tY2UtYW5ub3RhdGlvbicsJ3N0cmluZycpO307dmFyIFNldHRpbmdzPXtnZXRJZnJhbWVBdHRyczpnZXRJZnJhbWVBdHRycyxnZXREb2NUeXBlOmdldERvY1R5cGUsZ2V0RG9jdW1lbnRCYXNlVXJsOmdldERvY3VtZW50QmFzZVVybCxnZXRCb2R5SWQ6Z2V0Qm9keUlkLGdldEJvZHlDbGFzczpnZXRCb2R5Q2xhc3MsZ2V0Q29udGVudFNlY3VyaXR5UG9saWN5OmdldENvbnRlbnRTZWN1cml0eVBvbGljeSxzaG91bGRQdXRCckluUHJlOnNob3VsZFB1dEJySW5QcmUsZ2V0Rm9yY2VkUm9vdEJsb2NrOmdldEZvcmNlZFJvb3RCbG9jayxnZXRGb3JjZWRSb290QmxvY2tBdHRyczpnZXRGb3JjZWRSb290QmxvY2tBdHRycyxnZXRCck5ld0xpbmVTZWxlY3RvcjpnZXRCck5ld0xpbmVTZWxlY3RvcixnZXROb05ld0xpbmVTZWxlY3RvcjpnZXROb05ld0xpbmVTZWxlY3RvcixzaG91bGRLZWVwU3R5bGVzOnNob3VsZEtlZXBTdHlsZXMsc2hvdWxkRW5kQ29udGFpbmVyT25FbXB0eUJsb2NrOnNob3VsZEVuZENvbnRhaW5lck9uRW1wdHlCbG9jayxnZXRGb250U3R5bGVWYWx1ZXM6Z2V0Rm9udFN0eWxlVmFsdWVzLGdldEZvbnRTaXplQ2xhc3NlczpnZXRGb250U2l6ZUNsYXNzZXMsZ2V0SWNvblBhY2tOYW1lOmdldEljb25QYWNrTmFtZSxnZXRJY29uc1VybDpnZXRJY29uc1VybCxnZXRJbWFnZXNEYXRhSW1nRmlsdGVyOmdldEltYWdlc0RhdGFJbWdGaWx0ZXIsaXNBdXRvbWF0aWNVcGxvYWRzRW5hYmxlZDppc0F1dG9tYXRpY1VwbG9hZHNFbmFibGVkLHNob3VsZFJldXNlRmlsZU5hbWU6c2hvdWxkUmV1c2VGaWxlTmFtZSxzaG91bGRSZXBsYWNlQmxvYlVyaXM6c2hvdWxkUmVwbGFjZUJsb2JVcmlzLGdldEltYWdlVXBsb2FkVXJsOmdldEltYWdlVXBsb2FkVXJsLGdldEltYWdlVXBsb2FkQmFzZVBhdGg6Z2V0SW1hZ2VVcGxvYWRCYXNlUGF0aCxnZXRJbWFnZXNVcGxvYWRDcmVkZW50aWFsczpnZXRJbWFnZXNVcGxvYWRDcmVkZW50aWFscyxnZXRJbWFnZXNVcGxvYWRIYW5kbGVyOmdldEltYWdlc1VwbG9hZEhhbmRsZXIsc2hvdWxkVXNlQ29udGVudENzc0NvcnM6c2hvdWxkVXNlQ29udGVudENzc0NvcnMsZ2V0UmVmZXJyZXJQb2xpY3k6Z2V0UmVmZXJyZXJQb2xpY3ksZ2V0TGFuZ3VhZ2VDb2RlOmdldExhbmd1YWdlQ29kZSxnZXRMYW5ndWFnZVVybDpnZXRMYW5ndWFnZVVybCxzaG91bGRJbmRlbnRVc2VNYXJnaW46c2hvdWxkSW5kZW50VXNlTWFyZ2luLGdldEluZGVudGF0aW9uOmdldEluZGVudGF0aW9uLGdldENvbnRlbnRDc3M6Z2V0Q29udGVudENzcyxnZXREaXJlY3Rpb25hbGl0eTpnZXREaXJlY3Rpb25hbGl0eSxnZXRJbmxpbmVCb3VuZGFyeVNlbGVjdG9yOmdldElubGluZUJvdW5kYXJ5U2VsZWN0b3J9O3ZhciBkZWZhdWx0Rm9ybWF0PSdodG1sJzt2YXIgdHJpbUVtcHR5Q29udGVudHM9ZnVuY3Rpb24gdHJpbUVtcHR5Q29udGVudHMoZWRpdG9yLGh0bWwpe3ZhciBibG9ja05hbWU9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik7dmFyIGVtcHR5UmVnRXhwPW5ldyBSZWdFeHAoJ14oPCcrYmxvY2tOYW1lKydbXj5dKj4oJm5ic3A7fCYjMTYwO3xcXHN8XHhBMHw8YnIgXFwvPnwpPFxcLycrYmxvY2tOYW1lKyc+W1xyXG5dKnw8YnIgXFwvPltcclxuXSopJCcpO3JldHVybiBodG1sLnJlcGxhY2UoZW1wdHlSZWdFeHAsJycpO307dmFyIGdldENvbnRlbnRGcm9tQm9keT1mdW5jdGlvbiBnZXRDb250ZW50RnJvbUJvZHkoZWRpdG9yLGFyZ3MsYm9keSl7dmFyIGNvbnRlbnQ7YXJncy5mb3JtYXQ9YXJncy5mb3JtYXQ/YXJncy5mb3JtYXQ6ZGVmYXVsdEZvcm1hdDthcmdzLmdldD10cnVlO2FyZ3MuZ2V0SW5uZXI9dHJ1ZTtpZighYXJncy5ub19ldmVudHMpe2VkaXRvci5maXJlKCdCZWZvcmVHZXRDb250ZW50JyxhcmdzKTt9aWYoYXJncy5mb3JtYXQ9PT0ncmF3Jyl7Y29udGVudD1Ub29scy50cmltKFRyaW1IdG1sLnRyaW1FeHRlcm5hbChlZGl0b3Iuc2VyaWFsaXplcixib2R5LmlubmVySFRNTCkpO31lbHNlIGlmKGFyZ3MuZm9ybWF0PT09J3RleHQnKXtjb250ZW50PVp3c3AudHJpbShib2R5LmlubmVyVGV4dHx8Ym9keS50ZXh0Q29udGVudCk7fWVsc2UgaWYoYXJncy5mb3JtYXQ9PT0ndHJlZScpe3JldHVybiBlZGl0b3Iuc2VyaWFsaXplci5zZXJpYWxpemUoYm9keSxhcmdzKTt9ZWxzZXtjb250ZW50PXRyaW1FbXB0eUNvbnRlbnRzKGVkaXRvcixlZGl0b3Iuc2VyaWFsaXplci5zZXJpYWxpemUoYm9keSxhcmdzKSk7fWlmKGFyZ3MuZm9ybWF0IT09J3RleHQnJiYhaXNXc1ByZXNlcnZlRWxlbWVudChFbGVtZW50LmZyb21Eb20oYm9keSkpKXthcmdzLmNvbnRlbnQ9VG9vbHMudHJpbShjb250ZW50KTt9ZWxzZXthcmdzLmNvbnRlbnQ9Y29udGVudDt9aWYoIWFyZ3Mubm9fZXZlbnRzKXtlZGl0b3IuZmlyZSgnR2V0Q29udGVudCcsYXJncyk7fXJldHVybiBhcmdzLmNvbnRlbnQ7fTt2YXIgZ2V0Q29udGVudD1mdW5jdGlvbiBnZXRDb250ZW50KGVkaXRvcixhcmdzKXtpZihhcmdzPT09dm9pZCAwKXthcmdzPXt9O31yZXR1cm4gT3B0aW9uLmZyb20oZWRpdG9yLmdldEJvZHkoKSkuZm9sZChjb25zdGFudChhcmdzLmZvcm1hdD09PSd0cmVlJz9uZXcgTm9kZSQxKCdib2R5JywxMSk6JycpLGZ1bmN0aW9uKGJvZHkpe3JldHVybiBnZXRDb250ZW50RnJvbUJvZHkoZWRpdG9yLGFyZ3MsYm9keSk7fSk7fTt2YXIgbWFrZU1hcCQzPVRvb2xzLm1ha2VNYXA7dmFyIFdyaXRlcj1mdW5jdGlvbiBXcml0ZXIoc2V0dGluZ3Mpe3ZhciBodG1sPVtdO3ZhciBpbmRlbnQsaW5kZW50QmVmb3JlLGluZGVudEFmdGVyLGVuY29kZSxodG1sT3V0cHV0O3NldHRpbmdzPXNldHRpbmdzfHx7fTtpbmRlbnQ9c2V0dGluZ3MuaW5kZW50O2luZGVudEJlZm9yZT1tYWtlTWFwJDMoc2V0dGluZ3MuaW5kZW50X2JlZm9yZXx8JycpO2luZGVudEFmdGVyPW1ha2VNYXAkMyhzZXR0aW5ncy5pbmRlbnRfYWZ0ZXJ8fCcnKTtlbmNvZGU9RW50aXRpZXMuZ2V0RW5jb2RlRnVuYyhzZXR0aW5ncy5lbnRpdHlfZW5jb2Rpbmd8fCdyYXcnLHNldHRpbmdzLmVudGl0aWVzKTtodG1sT3V0cHV0PXNldHRpbmdzLmVsZW1lbnRfZm9ybWF0PT09J2h0bWwnO3JldHVybntzdGFydDpmdW5jdGlvbiBzdGFydChuYW1lLGF0dHJzLGVtcHR5KXt2YXIgaSxsLGF0dHIsdmFsdWU7aWYoaW5kZW50JiZpbmRlbnRCZWZvcmVbbmFtZV0mJmh0bWwubGVuZ3RoPjApe3ZhbHVlPWh0bWxbaHRtbC5sZW5ndGgtMV07aWYodmFsdWUubGVuZ3RoPjAmJnZhbHVlIT09J1xuJyl7aHRtbC5wdXNoKCdcbicpO319aHRtbC5wdXNoKCc8JyxuYW1lKTtpZihhdHRycyl7Zm9yKGk9MCxsPWF0dHJzLmxlbmd0aDtpPGw7aSsrKXthdHRyPWF0dHJzW2ldO2h0bWwucHVzaCgnICcsYXR0ci5uYW1lLCc9IicsZW5jb2RlKGF0dHIudmFsdWUsdHJ1ZSksJyInKTt9fWlmKCFlbXB0eXx8aHRtbE91dHB1dCl7aHRtbFtodG1sLmxlbmd0aF09Jz4nO31lbHNle2h0bWxbaHRtbC5sZW5ndGhdPScgLz4nO31pZihlbXB0eSYmaW5kZW50JiZpbmRlbnRBZnRlcltuYW1lXSYmaHRtbC5sZW5ndGg+MCl7dmFsdWU9aHRtbFtodG1sLmxlbmd0aC0xXTtpZih2YWx1ZS5sZW5ndGg+MCYmdmFsdWUhPT0nXG4nKXtodG1sLnB1c2goJ1xuJyk7fX19LGVuZDpmdW5jdGlvbiBlbmQobmFtZSl7dmFyIHZhbHVlO2h0bWwucHVzaCgnPC8nLG5hbWUsJz4nKTtpZihpbmRlbnQmJmluZGVudEFmdGVyW25hbWVdJiZodG1sLmxlbmd0aD4wKXt2YWx1ZT1odG1sW2h0bWwubGVuZ3RoLTFdO2lmKHZhbHVlLmxlbmd0aD4wJiZ2YWx1ZSE9PSdcbicpe2h0bWwucHVzaCgnXG4nKTt9fX0sdGV4dDpmdW5jdGlvbiB0ZXh0KF90ZXh0LHJhdyl7aWYoX3RleHQubGVuZ3RoPjApe2h0bWxbaHRtbC5sZW5ndGhdPXJhdz9fdGV4dDplbmNvZGUoX3RleHQpO319LGNkYXRhOmZ1bmN0aW9uIGNkYXRhKHRleHQpe2h0bWwucHVzaCgnPCFbQ0RBVEFbJyx0ZXh0LCddXT4nKTt9LGNvbW1lbnQ6ZnVuY3Rpb24gY29tbWVudCh0ZXh0KXtodG1sLnB1c2goJzwhLS0nLHRleHQsJy0tPicpO30scGk6ZnVuY3Rpb24gcGkobmFtZSx0ZXh0KXtpZih0ZXh0KXtodG1sLnB1c2goJzw/JyxuYW1lLCcgJyxlbmNvZGUodGV4dCksJz8+Jyk7fWVsc2V7aHRtbC5wdXNoKCc8PycsbmFtZSwnPz4nKTt9aWYoaW5kZW50KXtodG1sLnB1c2goJ1xuJyk7fX0sZG9jdHlwZTpmdW5jdGlvbiBkb2N0eXBlKHRleHQpe2h0bWwucHVzaCgnPCFET0NUWVBFJyx0ZXh0LCc+JyxpbmRlbnQ/J1xuJzonJyk7fSxyZXNldDpmdW5jdGlvbiByZXNldCgpe2h0bWwubGVuZ3RoPTA7fSxnZXRDb250ZW50OmZ1bmN0aW9uIGdldENvbnRlbnQoKXtyZXR1cm4gaHRtbC5qb2luKCcnKS5yZXBsYWNlKC9cbiQvLCcnKTt9fTt9O3ZhciBTZXJpYWxpemVyPWZ1bmN0aW9uIFNlcmlhbGl6ZXIoc2V0dGluZ3Msc2NoZW1hKXtpZihzY2hlbWE9PT12b2lkIDApe3NjaGVtYT1TY2hlbWEoKTt9dmFyIHdyaXRlcj1Xcml0ZXIoc2V0dGluZ3MpO3NldHRpbmdzPXNldHRpbmdzfHx7fTtzZXR0aW5ncy52YWxpZGF0ZT0ndmFsaWRhdGUnaW4gc2V0dGluZ3M/c2V0dGluZ3MudmFsaWRhdGU6dHJ1ZTt2YXIgc2VyaWFsaXplPWZ1bmN0aW9uIHNlcmlhbGl6ZShub2RlKXt2YXIgaGFuZGxlcnMsdmFsaWRhdGU7dmFsaWRhdGU9c2V0dGluZ3MudmFsaWRhdGU7aGFuZGxlcnM9ezM6ZnVuY3Rpb24gXyhub2RlKXt3cml0ZXIudGV4dChub2RlLnZhbHVlLG5vZGUucmF3KTt9LDg6ZnVuY3Rpb24gXyhub2RlKXt3cml0ZXIuY29tbWVudChub2RlLnZhbHVlKTt9LDc6ZnVuY3Rpb24gXyhub2RlKXt3cml0ZXIucGkobm9kZS5uYW1lLG5vZGUudmFsdWUpO30sMTA6ZnVuY3Rpb24gXyhub2RlKXt3cml0ZXIuZG9jdHlwZShub2RlLnZhbHVlKTt9LDQ6ZnVuY3Rpb24gXyhub2RlKXt3cml0ZXIuY2RhdGEobm9kZS52YWx1ZSk7fSwxMTpmdW5jdGlvbiBfKG5vZGUpe2lmKG5vZGU9bm9kZS5maXJzdENoaWxkKXtkb3t3YWxrKG5vZGUpO313aGlsZShub2RlPW5vZGUubmV4dCk7fX19O3dyaXRlci5yZXNldCgpO3ZhciB3YWxrPWZ1bmN0aW9uIHdhbGsobm9kZSl7dmFyIGhhbmRsZXI9aGFuZGxlcnNbbm9kZS50eXBlXTt2YXIgbmFtZSxpc0VtcHR5LGF0dHJzLGF0dHJOYW1lLGF0dHJWYWx1ZSxzb3J0ZWRBdHRycyxpLGwsZWxlbWVudFJ1bGU7aWYoIWhhbmRsZXIpe25hbWU9bm9kZS5uYW1lO2lzRW1wdHk9bm9kZS5zaG9ydEVuZGVkO2F0dHJzPW5vZGUuYXR0cmlidXRlcztpZih2YWxpZGF0ZSYmYXR0cnMmJmF0dHJzLmxlbmd0aD4xKXtzb3J0ZWRBdHRycz1bXTtzb3J0ZWRBdHRycy5tYXA9e307ZWxlbWVudFJ1bGU9c2NoZW1hLmdldEVsZW1lbnRSdWxlKG5vZGUubmFtZSk7aWYoZWxlbWVudFJ1bGUpe2ZvcihpPTAsbD1lbGVtZW50UnVsZS5hdHRyaWJ1dGVzT3JkZXIubGVuZ3RoO2k8bDtpKyspe2F0dHJOYW1lPWVsZW1lbnRSdWxlLmF0dHJpYnV0ZXNPcmRlcltpXTtpZihhdHRyTmFtZSBpbiBhdHRycy5tYXApe2F0dHJWYWx1ZT1hdHRycy5tYXBbYXR0ck5hbWVdO3NvcnRlZEF0dHJzLm1hcFthdHRyTmFtZV09YXR0clZhbHVlO3NvcnRlZEF0dHJzLnB1c2goe25hbWU6YXR0ck5hbWUsdmFsdWU6YXR0clZhbHVlfSk7fX1mb3IoaT0wLGw9YXR0cnMubGVuZ3RoO2k8bDtpKyspe2F0dHJOYW1lPWF0dHJzW2ldLm5hbWU7aWYoIShhdHRyTmFtZSBpbiBzb3J0ZWRBdHRycy5tYXApKXthdHRyVmFsdWU9YXR0cnMubWFwW2F0dHJOYW1lXTtzb3J0ZWRBdHRycy5tYXBbYXR0ck5hbWVdPWF0dHJWYWx1ZTtzb3J0ZWRBdHRycy5wdXNoKHtuYW1lOmF0dHJOYW1lLHZhbHVlOmF0dHJWYWx1ZX0pO319YXR0cnM9c29ydGVkQXR0cnM7fX13cml0ZXIuc3RhcnQobm9kZS5uYW1lLGF0dHJzLGlzRW1wdHkpO2lmKCFpc0VtcHR5KXtpZihub2RlPW5vZGUuZmlyc3RDaGlsZCl7ZG97d2Fsayhub2RlKTt9d2hpbGUobm9kZT1ub2RlLm5leHQpO313cml0ZXIuZW5kKG5hbWUpO319ZWxzZXtoYW5kbGVyKG5vZGUpO319O2lmKG5vZGUudHlwZT09PTEmJiFzZXR0aW5ncy5pbm5lcil7d2Fsayhub2RlKTt9ZWxzZXtoYW5kbGVyc1sxMV0obm9kZSk7fXJldHVybiB3cml0ZXIuZ2V0Q29udGVudCgpO307cmV0dXJue3NlcmlhbGl6ZTpzZXJpYWxpemV9O307dmFyIHRyYXZlcnNlPWZ1bmN0aW9uIHRyYXZlcnNlKG5vZGUsZm4pe2ZuKG5vZGUpO2lmKG5vZGUuZmlyc3RDaGlsZCl7dHJhdmVyc2Uobm9kZS5maXJzdENoaWxkLGZuKTt9aWYobm9kZS5uZXh0KXt0cmF2ZXJzZShub2RlLm5leHQsZm4pO319O3ZhciBmaW5kTWF0Y2hpbmdOb2Rlcz1mdW5jdGlvbiBmaW5kTWF0Y2hpbmdOb2Rlcyhub2RlRmlsdGVycyxhdHRyaWJ1dGVGaWx0ZXJzLG5vZGUpe3ZhciBub2RlTWF0Y2hlcz17fTt2YXIgYXR0ck1hdGNoZXM9e307dmFyIG1hdGNoZXM9W107aWYobm9kZS5maXJzdENoaWxkKXt0cmF2ZXJzZShub2RlLmZpcnN0Q2hpbGQsZnVuY3Rpb24obm9kZSl7ZWFjaChub2RlRmlsdGVycyxmdW5jdGlvbihmaWx0ZXIpe2lmKGZpbHRlci5uYW1lPT09bm9kZS5uYW1lKXtpZihub2RlTWF0Y2hlc1tmaWx0ZXIubmFtZV0pe25vZGVNYXRjaGVzW2ZpbHRlci5uYW1lXS5ub2Rlcy5wdXNoKG5vZGUpO31lbHNle25vZGVNYXRjaGVzW2ZpbHRlci5uYW1lXT17ZmlsdGVyOmZpbHRlcixub2Rlczpbbm9kZV19O319fSk7ZWFjaChhdHRyaWJ1dGVGaWx0ZXJzLGZ1bmN0aW9uKGZpbHRlcil7aWYodHlwZW9mIG5vZGUuYXR0cihmaWx0ZXIubmFtZSk9PT0nc3RyaW5nJyl7aWYoYXR0ck1hdGNoZXNbZmlsdGVyLm5hbWVdKXthdHRyTWF0Y2hlc1tmaWx0ZXIubmFtZV0ubm9kZXMucHVzaChub2RlKTt9ZWxzZXthdHRyTWF0Y2hlc1tmaWx0ZXIubmFtZV09e2ZpbHRlcjpmaWx0ZXIsbm9kZXM6W25vZGVdfTt9fX0pO30pO31mb3IodmFyIG5hbWUgaW4gbm9kZU1hdGNoZXMpe2lmKG5vZGVNYXRjaGVzLmhhc093blByb3BlcnR5KG5hbWUpKXttYXRjaGVzLnB1c2gobm9kZU1hdGNoZXNbbmFtZV0pO319Zm9yKHZhciBuYW1lIGluIGF0dHJNYXRjaGVzKXtpZihhdHRyTWF0Y2hlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7bWF0Y2hlcy5wdXNoKGF0dHJNYXRjaGVzW25hbWVdKTt9fXJldHVybiBtYXRjaGVzO307dmFyIGZpbHRlciQyPWZ1bmN0aW9uIGZpbHRlciQyKG5vZGVGaWx0ZXJzLGF0dHJpYnV0ZUZpbHRlcnMsbm9kZSl7dmFyIG1hdGNoZXM9ZmluZE1hdGNoaW5nTm9kZXMobm9kZUZpbHRlcnMsYXR0cmlidXRlRmlsdGVycyxub2RlKTtlYWNoKG1hdGNoZXMsZnVuY3Rpb24obWF0Y2gpe2VhY2gobWF0Y2guZmlsdGVyLmNhbGxiYWNrcyxmdW5jdGlvbihjYWxsYmFjayl7Y2FsbGJhY2sobWF0Y2gubm9kZXMsbWF0Y2guZmlsdGVyLm5hbWUse30pO30pO30pO307dmFyIGhhc0ZvY3VzPWZ1bmN0aW9uIGhhc0ZvY3VzKGVsZW1lbnQpe3ZhciBkb2M9b3duZXIoZWxlbWVudCkuZG9tKCk7cmV0dXJuIGVsZW1lbnQuZG9tKCk9PT1kb2MuYWN0aXZlRWxlbWVudDt9O3ZhciBhY3RpdmU9ZnVuY3Rpb24gYWN0aXZlKF9kb2Mpe3ZhciBkb2M9X2RvYyE9PXVuZGVmaW5lZD9fZG9jLmRvbSgpOmRvbUdsb2JhbHMuZG9jdW1lbnQ7cmV0dXJuIE9wdGlvbi5mcm9tKGRvYy5hY3RpdmVFbGVtZW50KS5tYXAoRWxlbWVudC5mcm9tRG9tKTt9O3ZhciBzZWFyY2g9ZnVuY3Rpb24gc2VhcmNoKGVsZW1lbnQpe3JldHVybiBhY3RpdmUob3duZXIoZWxlbWVudCkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZWxlbWVudC5kb20oKS5jb250YWlucyhlLmRvbSgpKTt9KTt9O3ZhciBnZW5lcmF0ZSQxPWZ1bmN0aW9uIGdlbmVyYXRlJDEoY2FzZXMpe2lmKCFpc0FycmF5KGNhc2VzKSl7dGhyb3cgbmV3IEVycm9yKCdjYXNlcyBtdXN0IGJlIGFuIGFycmF5Jyk7fWlmKGNhc2VzLmxlbmd0aD09PTApe3Rocm93IG5ldyBFcnJvcigndGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgY2FzZScpO312YXIgY29uc3RydWN0b3JzPVtdO3ZhciBhZHQ9e307ZWFjaChjYXNlcyxmdW5jdGlvbihhY2FzZSxjb3VudCl7dmFyIGtleXMkMT1rZXlzKGFjYXNlKTtpZihrZXlzJDEubGVuZ3RoIT09MSl7dGhyb3cgbmV3IEVycm9yKCdvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2UnKTt9dmFyIGtleT1rZXlzJDFbMF07dmFyIHZhbHVlPWFjYXNlW2tleV07aWYoYWR0W2tleV0hPT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcignZHVwbGljYXRlIGtleSBkZXRlY3RlZDonK2tleSk7fWVsc2UgaWYoa2V5PT09J2NhdGEnKXt0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBoYXZlIGEgY2FzZSBuYW1lZCBjYXRhIChzb3JyeSknKTt9ZWxzZSBpZighaXNBcnJheSh2YWx1ZSkpe3Rocm93IG5ldyBFcnJvcignY2FzZSBhcmd1bWVudHMgbXVzdCBiZSBhbiBhcnJheScpO31jb25zdHJ1Y3RvcnMucHVzaChrZXkpO2FkdFtrZXldPWZ1bmN0aW9uKCl7dmFyIGFyZ0xlbmd0aD1hcmd1bWVudHMubGVuZ3RoO2lmKGFyZ0xlbmd0aCE9PXZhbHVlLmxlbmd0aCl7dGhyb3cgbmV3IEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgJytrZXkrJy4gRXhwZWN0ZWQgJyt2YWx1ZS5sZW5ndGgrJyAoJyt2YWx1ZSsnKSwgZ290ICcrYXJnTGVuZ3RoKTt9dmFyIGFyZ3M9bmV3IEFycmF5KGFyZ0xlbmd0aCk7Zm9yKHZhciBpPTA7aTxhcmdzLmxlbmd0aDtpKyspe2FyZ3NbaV09YXJndW1lbnRzW2ldO312YXIgbWF0Y2g9ZnVuY3Rpb24gbWF0Y2goYnJhbmNoZXMpe3ZhciBicmFuY2hLZXlzPWtleXMoYnJhbmNoZXMpO2lmKGNvbnN0cnVjdG9ycy5sZW5ndGghPT1icmFuY2hLZXlzLmxlbmd0aCl7dGhyb3cgbmV3IEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIG1hdGNoLiBFeHBlY3RlZDogJytjb25zdHJ1Y3RvcnMuam9pbignLCcpKydcbkFjdHVhbDogJyticmFuY2hLZXlzLmpvaW4oJywnKSk7fXZhciBhbGxSZXFkPWZvcmFsbChjb25zdHJ1Y3RvcnMsZnVuY3Rpb24ocmVxS2V5KXtyZXR1cm4gY29udGFpbnMoYnJhbmNoS2V5cyxyZXFLZXkpO30pO2lmKCFhbGxSZXFkKXt0aHJvdyBuZXcgRXJyb3IoJ05vdCBhbGwgYnJhbmNoZXMgd2VyZSBzcGVjaWZpZWQgd2hlbiB1c2luZyBtYXRjaC4gU3BlY2lmaWVkOiAnK2JyYW5jaEtleXMuam9pbignLCAnKSsnXG5SZXF1aXJlZDogJytjb25zdHJ1Y3RvcnMuam9pbignLCAnKSk7fXJldHVybiBicmFuY2hlc1trZXldLmFwcGx5KG51bGwsYXJncyk7fTtyZXR1cm57Zm9sZDpmdW5jdGlvbiBmb2xkKCl7aWYoYXJndW1lbnRzLmxlbmd0aCE9PWNhc2VzLmxlbmd0aCl7dGhyb3cgbmV3IEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGZvbGQuIEV4cGVjdGVkICcrY2FzZXMubGVuZ3RoKycsIGdvdCAnK2FyZ3VtZW50cy5sZW5ndGgpO312YXIgdGFyZ2V0PWFyZ3VtZW50c1tjb3VudF07cmV0dXJuIHRhcmdldC5hcHBseShudWxsLGFyZ3MpO30sbWF0Y2g6bWF0Y2gsbG9nOmZ1bmN0aW9uIGxvZyhsYWJlbCl7ZG9tR2xvYmFscy5jb25zb2xlLmxvZyhsYWJlbCx7Y29uc3RydWN0b3JzOmNvbnN0cnVjdG9ycyxjb25zdHJ1Y3RvcjprZXkscGFyYW1zOmFyZ3N9KTt9fTt9O30pO3JldHVybiBhZHQ7fTt2YXIgQWR0PXtnZW5lcmF0ZTpnZW5lcmF0ZSQxfTt2YXIgY3JlYXRlJDM9SW1tdXRhYmxlKCdzdGFydCcsJ3NvZmZzZXQnLCdmaW5pc2gnLCdmb2Zmc2V0Jyk7dmFyIFNpbVJhbmdlPXtjcmVhdGU6Y3JlYXRlJDN9O3ZhciBhZHQ9QWR0LmdlbmVyYXRlKFt7YmVmb3JlOlsnZWxlbWVudCddfSx7b246WydlbGVtZW50Jywnb2Zmc2V0J119LHthZnRlcjpbJ2VsZW1lbnQnXX1dKTt2YXIgY2F0YT1mdW5jdGlvbiBjYXRhKHN1YmplY3Qsb25CZWZvcmUsb25PbixvbkFmdGVyKXtyZXR1cm4gc3ViamVjdC5mb2xkKG9uQmVmb3JlLG9uT24sb25BZnRlcik7fTt2YXIgZ2V0U3RhcnQ9ZnVuY3Rpb24gZ2V0U3RhcnQoc2l0dSl7cmV0dXJuIHNpdHUuZm9sZChpZGVudGl0eSxpZGVudGl0eSxpZGVudGl0eSk7fTt2YXIgYmVmb3JlJDM9YWR0LmJlZm9yZTt2YXIgb249YWR0Lm9uO3ZhciBhZnRlciQyPWFkdC5hZnRlcjt2YXIgU2l0dT17YmVmb3JlOmJlZm9yZSQzLG9uOm9uLGFmdGVyOmFmdGVyJDIsY2F0YTpjYXRhLGdldFN0YXJ0OmdldFN0YXJ0fTt2YXIgYWR0JDE9QWR0LmdlbmVyYXRlKFt7ZG9tUmFuZ2U6WydybmcnXX0se3JlbGF0aXZlOlsnc3RhcnRTaXR1JywnZmluaXNoU2l0dSddfSx7ZXhhY3Q6WydzdGFydCcsJ3NvZmZzZXQnLCdmaW5pc2gnLCdmb2Zmc2V0J119XSk7dmFyIGV4YWN0RnJvbVJhbmdlPWZ1bmN0aW9uIGV4YWN0RnJvbVJhbmdlKHNpbVJhbmdlKXtyZXR1cm4gYWR0JDEuZXhhY3Qoc2ltUmFuZ2Uuc3RhcnQoKSxzaW1SYW5nZS5zb2Zmc2V0KCksc2ltUmFuZ2UuZmluaXNoKCksc2ltUmFuZ2UuZm9mZnNldCgpKTt9O3ZhciBnZXRTdGFydCQxPWZ1bmN0aW9uIGdldFN0YXJ0JDEoc2VsZWN0aW9uKXtyZXR1cm4gc2VsZWN0aW9uLm1hdGNoKHtkb21SYW5nZTpmdW5jdGlvbiBkb21SYW5nZShybmcpe3JldHVybiBFbGVtZW50LmZyb21Eb20ocm5nLnN0YXJ0Q29udGFpbmVyKTt9LHJlbGF0aXZlOmZ1bmN0aW9uIHJlbGF0aXZlKHN0YXJ0U2l0dSxmaW5pc2hTaXR1KXtyZXR1cm4gU2l0dS5nZXRTdGFydChzdGFydFNpdHUpO30sZXhhY3Q6ZnVuY3Rpb24gZXhhY3Qoc3RhcnQsc29mZnNldCxmaW5pc2gsZm9mZnNldCl7cmV0dXJuIHN0YXJ0O319KTt9O3ZhciBkb21SYW5nZT1hZHQkMS5kb21SYW5nZTt2YXIgcmVsYXRpdmU9YWR0JDEucmVsYXRpdmU7dmFyIGV4YWN0PWFkdCQxLmV4YWN0O3ZhciBnZXRXaW49ZnVuY3Rpb24gZ2V0V2luKHNlbGVjdGlvbil7dmFyIHN0YXJ0PWdldFN0YXJ0JDEoc2VsZWN0aW9uKTtyZXR1cm4gZGVmYXVsdFZpZXcoc3RhcnQpO307dmFyIHJhbmdlPVNpbVJhbmdlLmNyZWF0ZTt2YXIgU2VsZWN0aW9uPXtkb21SYW5nZTpkb21SYW5nZSxyZWxhdGl2ZTpyZWxhdGl2ZSxleGFjdDpleGFjdCxleGFjdEZyb21SYW5nZTpleGFjdEZyb21SYW5nZSxnZXRXaW46Z2V0V2luLHJhbmdlOnJhbmdlfTt2YXIgYnJvd3NlciQ0PWRldGVjdCQzKCkuYnJvd3Nlcjt2YXIgY2xhbXA9ZnVuY3Rpb24gY2xhbXAob2Zmc2V0LGVsZW1lbnQpe3ZhciBtYXg9aXNUZXh0JDEoZWxlbWVudCk/Z2V0JDYoZWxlbWVudCkubGVuZ3RoOmNoaWxkcmVuKGVsZW1lbnQpLmxlbmd0aCsxO2lmKG9mZnNldD5tYXgpe3JldHVybiBtYXg7fWVsc2UgaWYob2Zmc2V0PDApe3JldHVybiAwO31yZXR1cm4gb2Zmc2V0O307dmFyIG5vcm1hbGl6ZVJuZz1mdW5jdGlvbiBub3JtYWxpemVSbmcocm5nKXtyZXR1cm4gU2VsZWN0aW9uLnJhbmdlKHJuZy5zdGFydCgpLGNsYW1wKHJuZy5zb2Zmc2V0KCkscm5nLnN0YXJ0KCkpLHJuZy5maW5pc2goKSxjbGFtcChybmcuZm9mZnNldCgpLHJuZy5maW5pc2goKSkpO307dmFyIGlzT3JDb250YWlucz1mdW5jdGlvbiBpc09yQ29udGFpbnMocm9vdCxlbG0pe3JldHVybiFOb2RlVHlwZS5pc1Jlc3RyaWN0ZWROb2RlKGVsbS5kb20oKSkmJihjb250YWlucyQyKHJvb3QsZWxtKXx8ZXEocm9vdCxlbG0pKTt9O3ZhciBpc1JuZ0luUm9vdD1mdW5jdGlvbiBpc1JuZ0luUm9vdChyb290KXtyZXR1cm4gZnVuY3Rpb24ocm5nKXtyZXR1cm4gaXNPckNvbnRhaW5zKHJvb3Qscm5nLnN0YXJ0KCkpJiZpc09yQ29udGFpbnMocm9vdCxybmcuZmluaXNoKCkpO307fTt2YXIgc2hvdWxkU3RvcmU9ZnVuY3Rpb24gc2hvdWxkU3RvcmUoZWRpdG9yKXtyZXR1cm4gZWRpdG9yLmlubGluZT09PXRydWV8fGJyb3dzZXIkNC5pc0lFKCk7fTt2YXIgbmF0aXZlUmFuZ2VUb1NlbGVjdGlvblJhbmdlPWZ1bmN0aW9uIG5hdGl2ZVJhbmdlVG9TZWxlY3Rpb25SYW5nZShyKXtyZXR1cm4gU2VsZWN0aW9uLnJhbmdlKEVsZW1lbnQuZnJvbURvbShyLnN0YXJ0Q29udGFpbmVyKSxyLnN0YXJ0T2Zmc2V0LEVsZW1lbnQuZnJvbURvbShyLmVuZENvbnRhaW5lciksci5lbmRPZmZzZXQpO307dmFyIHJlYWRSYW5nZT1mdW5jdGlvbiByZWFkUmFuZ2Uod2luKXt2YXIgc2VsZWN0aW9uPXdpbi5nZXRTZWxlY3Rpb24oKTt2YXIgcm5nPSFzZWxlY3Rpb258fHNlbGVjdGlvbi5yYW5nZUNvdW50PT09MD9PcHRpb24ubm9uZSgpOk9wdGlvbi5mcm9tKHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApKTtyZXR1cm4gcm5nLm1hcChuYXRpdmVSYW5nZVRvU2VsZWN0aW9uUmFuZ2UpO307dmFyIGdldEJvb2ttYXJrJDI9ZnVuY3Rpb24gZ2V0Qm9va21hcmskMihyb290KXt2YXIgd2luPWRlZmF1bHRWaWV3KHJvb3QpO3JldHVybiByZWFkUmFuZ2Uod2luLmRvbSgpKS5maWx0ZXIoaXNSbmdJblJvb3Qocm9vdCkpO307dmFyIHZhbGlkYXRlPWZ1bmN0aW9uIHZhbGlkYXRlKHJvb3QsYm9va21hcmspe3JldHVybiBPcHRpb24uZnJvbShib29rbWFyaykuZmlsdGVyKGlzUm5nSW5Sb290KHJvb3QpKS5tYXAobm9ybWFsaXplUm5nKTt9O3ZhciBib29rbWFya1RvTmF0aXZlUm5nPWZ1bmN0aW9uIGJvb2ttYXJrVG9OYXRpdmVSbmcoYm9va21hcmspe3ZhciBybmc9ZG9tR2xvYmFscy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3RyeXtybmcuc2V0U3RhcnQoYm9va21hcmsuc3RhcnQoKS5kb20oKSxib29rbWFyay5zb2Zmc2V0KCkpO3JuZy5zZXRFbmQoYm9va21hcmsuZmluaXNoKCkuZG9tKCksYm9va21hcmsuZm9mZnNldCgpKTtyZXR1cm4gT3B0aW9uLnNvbWUocm5nKTt9Y2F0Y2goXyl7cmV0dXJuIE9wdGlvbi5ub25lKCk7fX07dmFyIHN0b3JlPWZ1bmN0aW9uIHN0b3JlKGVkaXRvcil7dmFyIG5ld0Jvb2ttYXJrPXNob3VsZFN0b3JlKGVkaXRvcik/Z2V0Qm9va21hcmskMihFbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSkpOk9wdGlvbi5ub25lKCk7ZWRpdG9yLmJvb2ttYXJrPW5ld0Jvb2ttYXJrLmlzU29tZSgpP25ld0Jvb2ttYXJrOmVkaXRvci5ib29rbWFyazt9O3ZhciBzdG9yZU5hdGl2ZT1mdW5jdGlvbiBzdG9yZU5hdGl2ZShlZGl0b3Iscm5nKXt2YXIgcm9vdD1FbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSk7dmFyIHJhbmdlPXNob3VsZFN0b3JlKGVkaXRvcik/T3B0aW9uLmZyb20ocm5nKTpPcHRpb24ubm9uZSgpO3ZhciBuZXdCb29rbWFyaz1yYW5nZS5tYXAobmF0aXZlUmFuZ2VUb1NlbGVjdGlvblJhbmdlKS5maWx0ZXIoaXNSbmdJblJvb3Qocm9vdCkpO2VkaXRvci5ib29rbWFyaz1uZXdCb29rbWFyay5pc1NvbWUoKT9uZXdCb29rbWFyazplZGl0b3IuYm9va21hcms7fTt2YXIgZ2V0Um5nPWZ1bmN0aW9uIGdldFJuZyhlZGl0b3Ipe3ZhciBib29rbWFyaz1lZGl0b3IuYm9va21hcms/ZWRpdG9yLmJvb2ttYXJrOk9wdGlvbi5ub25lKCk7cmV0dXJuIGJvb2ttYXJrLmJpbmQoZnVuY3Rpb24oeCl7cmV0dXJuIHZhbGlkYXRlKEVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKSx4KTt9KS5iaW5kKGJvb2ttYXJrVG9OYXRpdmVSbmcpO307dmFyIHJlc3RvcmU9ZnVuY3Rpb24gcmVzdG9yZShlZGl0b3Ipe2dldFJuZyhlZGl0b3IpLmVhY2goZnVuY3Rpb24ocm5nKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhybmcpO30pO307dmFyIFNlbGVjdGlvbkJvb2ttYXJrPXtzdG9yZTpzdG9yZSxzdG9yZU5hdGl2ZTpzdG9yZU5hdGl2ZSxyZWFkUmFuZ2U6cmVhZFJhbmdlLHJlc3RvcmU6cmVzdG9yZSxnZXRSbmc6Z2V0Um5nLGdldEJvb2ttYXJrOmdldEJvb2ttYXJrJDIsdmFsaWRhdGU6dmFsaWRhdGV9O3ZhciBpc0VkaXRvclVJRWxlbWVudD1mdW5jdGlvbiBpc0VkaXRvclVJRWxlbWVudChlbG0pe3ZhciBjbGFzc05hbWU9ZWxtLmNsYXNzTmFtZS50b1N0cmluZygpO3JldHVybiBjbGFzc05hbWUuaW5kZXhPZigndG94LScpIT09LTF8fGNsYXNzTmFtZS5pbmRleE9mKCdtY2UtJykhPT0tMTt9O3ZhciBGb2N1c01hbmFnZXI9e2lzRWRpdG9yVUlFbGVtZW50OmlzRWRpdG9yVUlFbGVtZW50fTt2YXIgaXNNYW51YWxOb2RlQ2hhbmdlPWZ1bmN0aW9uIGlzTWFudWFsTm9kZUNoYW5nZShlKXtyZXR1cm4gZS50eXBlPT09J25vZGVjaGFuZ2UnJiZlLnNlbGVjdGlvbkNoYW5nZTt9O3ZhciByZWdpc3RlclBhZ2VNb3VzZVVwPWZ1bmN0aW9uIHJlZ2lzdGVyUGFnZU1vdXNlVXAoZWRpdG9yLHRocm90dGxlZFN0b3JlKXt2YXIgbW91c2VVcFBhZ2U9ZnVuY3Rpb24gbW91c2VVcFBhZ2UoKXt0aHJvdHRsZWRTdG9yZS50aHJvdHRsZSgpO307RE9NVXRpbHMkMS5ET00uYmluZChkb21HbG9iYWxzLmRvY3VtZW50LCdtb3VzZXVwJyxtb3VzZVVwUGFnZSk7ZWRpdG9yLm9uKCdyZW1vdmUnLGZ1bmN0aW9uKCl7RE9NVXRpbHMkMS5ET00udW5iaW5kKGRvbUdsb2JhbHMuZG9jdW1lbnQsJ21vdXNldXAnLG1vdXNlVXBQYWdlKTt9KTt9O3ZhciByZWdpc3RlckZvY3VzT3V0PWZ1bmN0aW9uIHJlZ2lzdGVyRm9jdXNPdXQoZWRpdG9yKXtlZGl0b3Iub24oJ2ZvY3Vzb3V0JyxmdW5jdGlvbigpe1NlbGVjdGlvbkJvb2ttYXJrLnN0b3JlKGVkaXRvcik7fSk7fTt2YXIgcmVnaXN0ZXJNb3VzZVVwPWZ1bmN0aW9uIHJlZ2lzdGVyTW91c2VVcChlZGl0b3IsdGhyb3R0bGVkU3RvcmUpe2VkaXRvci5vbignbW91c2V1cCB0b3VjaGVuZCcsZnVuY3Rpb24oZSl7dGhyb3R0bGVkU3RvcmUudGhyb3R0bGUoKTt9KTt9O3ZhciByZWdpc3RlckVkaXRvckV2ZW50cz1mdW5jdGlvbiByZWdpc3RlckVkaXRvckV2ZW50cyhlZGl0b3IsdGhyb3R0bGVkU3RvcmUpe3ZhciBicm93c2VyPWRldGVjdCQzKCkuYnJvd3NlcjtpZihicm93c2VyLmlzSUUoKSl7cmVnaXN0ZXJGb2N1c091dChlZGl0b3IpO31lbHNle3JlZ2lzdGVyTW91c2VVcChlZGl0b3IsdGhyb3R0bGVkU3RvcmUpO31lZGl0b3Iub24oJ2tleXVwIE5vZGVDaGFuZ2UnLGZ1bmN0aW9uKGUpe2lmKCFpc01hbnVhbE5vZGVDaGFuZ2UoZSkpe1NlbGVjdGlvbkJvb2ttYXJrLnN0b3JlKGVkaXRvcik7fX0pO307dmFyIHJlZ2lzdGVyPWZ1bmN0aW9uIHJlZ2lzdGVyKGVkaXRvcil7dmFyIHRocm90dGxlZFN0b3JlPWZpcnN0KGZ1bmN0aW9uKCl7U2VsZWN0aW9uQm9va21hcmsuc3RvcmUoZWRpdG9yKTt9LDApO2VkaXRvci5vbignaW5pdCcsZnVuY3Rpb24oKXtpZihlZGl0b3IuaW5saW5lKXtyZWdpc3RlclBhZ2VNb3VzZVVwKGVkaXRvcix0aHJvdHRsZWRTdG9yZSk7fXJlZ2lzdGVyRWRpdG9yRXZlbnRzKGVkaXRvcix0aHJvdHRsZWRTdG9yZSk7fSk7ZWRpdG9yLm9uKCdyZW1vdmUnLGZ1bmN0aW9uKCl7dGhyb3R0bGVkU3RvcmUuY2FuY2VsKCk7fSk7fTt2YXIgU2VsZWN0aW9uUmVzdG9yZT17cmVnaXN0ZXI6cmVnaXN0ZXJ9O3ZhciBkb2N1bWVudEZvY3VzSW5IYW5kbGVyO3ZhciBET00kMT1ET01VdGlscyQxLkRPTTt2YXIgaXNFZGl0b3JVSUVsZW1lbnQkMT1mdW5jdGlvbiBpc0VkaXRvclVJRWxlbWVudCQxKGVsbSl7cmV0dXJuIEZvY3VzTWFuYWdlci5pc0VkaXRvclVJRWxlbWVudChlbG0pO307dmFyIGlzRWRpdG9yQ29udGVudEFyZWFFbGVtZW50PWZ1bmN0aW9uIGlzRWRpdG9yQ29udGVudEFyZWFFbGVtZW50KGVsbSl7dmFyIGNsYXNzTGlzdD1lbG0uY2xhc3NMaXN0O2lmKGNsYXNzTGlzdCE9PXVuZGVmaW5lZCl7cmV0dXJuIGNsYXNzTGlzdC5jb250YWlucygndG94LWVkaXQtYXJlYScpfHxjbGFzc0xpc3QuY29udGFpbnMoJ3RveC1lZGl0LWFyZWFfX2lmcmFtZScpfHxjbGFzc0xpc3QuY29udGFpbnMoJ21jZS1jb250ZW50LWJvZHknKTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIGlzVUlFbGVtZW50PWZ1bmN0aW9uIGlzVUlFbGVtZW50KGVkaXRvcixlbG0pe3ZhciBjdXN0b21TZWxlY3Rvcj1lZGl0b3I/ZWRpdG9yLnNldHRpbmdzLmN1c3RvbV91aV9zZWxlY3RvcjonJzt2YXIgcGFyZW50PURPTSQxLmdldFBhcmVudChlbG0sZnVuY3Rpb24oZWxtKXtyZXR1cm4gaXNFZGl0b3JVSUVsZW1lbnQkMShlbG0pfHwoY3VzdG9tU2VsZWN0b3I/ZWRpdG9yLmRvbS5pcyhlbG0sY3VzdG9tU2VsZWN0b3IpOmZhbHNlKTt9KTtyZXR1cm4gcGFyZW50IT09bnVsbDt9O3ZhciBnZXRBY3RpdmVFbGVtZW50PWZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKXt0cnl7cmV0dXJuIGRvbUdsb2JhbHMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt9Y2F0Y2goZXgpe3JldHVybiBkb21HbG9iYWxzLmRvY3VtZW50LmJvZHk7fX07dmFyIHJlZ2lzdGVyRXZlbnRzPWZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKGVkaXRvck1hbmFnZXIsZSl7dmFyIGVkaXRvcj1lLmVkaXRvcjtTZWxlY3Rpb25SZXN0b3JlLnJlZ2lzdGVyKGVkaXRvcik7ZWRpdG9yLm9uKCdmb2N1c2luJyxmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dmFyIGZvY3VzZWRFZGl0b3I9ZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yO2lmKGZvY3VzZWRFZGl0b3IhPT1zZWxmKXtpZihmb2N1c2VkRWRpdG9yKXtmb2N1c2VkRWRpdG9yLmZpcmUoJ2JsdXInLHtmb2N1c2VkRWRpdG9yOnNlbGZ9KTt9ZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoc2VsZik7ZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yPXNlbGY7c2VsZi5maXJlKCdmb2N1cycse2JsdXJyZWRFZGl0b3I6Zm9jdXNlZEVkaXRvcn0pO3NlbGYuZm9jdXModHJ1ZSk7fX0pO2VkaXRvci5vbignZm9jdXNvdXQnLGZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcztEZWxheS5zZXRFZGl0b3JUaW1lb3V0KHNlbGYsZnVuY3Rpb24oKXt2YXIgZm9jdXNlZEVkaXRvcj1lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I7aWYoIWlzVUlFbGVtZW50KHNlbGYsZ2V0QWN0aXZlRWxlbWVudCgpKSYmZm9jdXNlZEVkaXRvcj09PXNlbGYpe3NlbGYuZmlyZSgnYmx1cicse2ZvY3VzZWRFZGl0b3I6bnVsbH0pO2VkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj1udWxsO319KTt9KTtpZighZG9jdW1lbnRGb2N1c0luSGFuZGxlcil7ZG9jdW1lbnRGb2N1c0luSGFuZGxlcj1mdW5jdGlvbiBkb2N1bWVudEZvY3VzSW5IYW5kbGVyKGUpe3ZhciBhY3RpdmVFZGl0b3I9ZWRpdG9yTWFuYWdlci5hY3RpdmVFZGl0b3I7dmFyIHRhcmdldDt0YXJnZXQ9ZS50YXJnZXQ7aWYoYWN0aXZlRWRpdG9yJiZ0YXJnZXQub3duZXJEb2N1bWVudD09PWRvbUdsb2JhbHMuZG9jdW1lbnQpe2lmKHRhcmdldCE9PWRvbUdsb2JhbHMuZG9jdW1lbnQuYm9keSYmIWlzVUlFbGVtZW50KGFjdGl2ZUVkaXRvcix0YXJnZXQpJiZlZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I9PT1hY3RpdmVFZGl0b3Ipe2FjdGl2ZUVkaXRvci5maXJlKCdibHVyJyx7Zm9jdXNlZEVkaXRvcjpudWxsfSk7ZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yPW51bGw7fX19O0RPTSQxLmJpbmQoZG9tR2xvYmFscy5kb2N1bWVudCwnZm9jdXNpbicsZG9jdW1lbnRGb2N1c0luSGFuZGxlcik7fX07dmFyIHVucmVnaXN0ZXJEb2N1bWVudEV2ZW50cz1mdW5jdGlvbiB1bnJlZ2lzdGVyRG9jdW1lbnRFdmVudHMoZWRpdG9yTWFuYWdlcixlKXtpZihlZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I9PT1lLmVkaXRvcil7ZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yPW51bGw7fWlmKCFlZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvcil7RE9NJDEudW5iaW5kKGRvbUdsb2JhbHMuZG9jdW1lbnQsJ2ZvY3VzaW4nLGRvY3VtZW50Rm9jdXNJbkhhbmRsZXIpO2RvY3VtZW50Rm9jdXNJbkhhbmRsZXI9bnVsbDt9fTt2YXIgc2V0dXAkMj1mdW5jdGlvbiBzZXR1cCQyKGVkaXRvck1hbmFnZXIpe2VkaXRvck1hbmFnZXIub24oJ0FkZEVkaXRvcicsY3VycnkocmVnaXN0ZXJFdmVudHMsZWRpdG9yTWFuYWdlcikpO2VkaXRvck1hbmFnZXIub24oJ1JlbW92ZUVkaXRvcicsY3VycnkodW5yZWdpc3RlckRvY3VtZW50RXZlbnRzLGVkaXRvck1hbmFnZXIpKTt9O3ZhciBGb2N1c0NvbnRyb2xsZXI9e3NldHVwOnNldHVwJDIsaXNFZGl0b3JVSUVsZW1lbnQ6aXNFZGl0b3JVSUVsZW1lbnQkMSxpc0VkaXRvckNvbnRlbnRBcmVhRWxlbWVudDppc0VkaXRvckNvbnRlbnRBcmVhRWxlbWVudCxpc1VJRWxlbWVudDppc1VJRWxlbWVudH07dmFyIGdldENvbnRlbnRFZGl0YWJsZUhvc3Q9ZnVuY3Rpb24gZ2V0Q29udGVudEVkaXRhYmxlSG9zdChlZGl0b3Isbm9kZSl7cmV0dXJuIGVkaXRvci5kb20uZ2V0UGFyZW50KG5vZGUsZnVuY3Rpb24obm9kZSl7cmV0dXJuIGVkaXRvci5kb20uZ2V0Q29udGVudEVkaXRhYmxlKG5vZGUpPT09J3RydWUnO30pO307dmFyIGdldENvbGxhcHNlZE5vZGU9ZnVuY3Rpb24gZ2V0Q29sbGFwc2VkTm9kZShybmcpe3JldHVybiBybmcuY29sbGFwc2VkP09wdGlvbi5mcm9tKGdldE5vZGUocm5nLnN0YXJ0Q29udGFpbmVyLHJuZy5zdGFydE9mZnNldCkpLm1hcChFbGVtZW50LmZyb21Eb20pOk9wdGlvbi5ub25lKCk7fTt2YXIgZ2V0Rm9jdXNJbkVsZW1lbnQ9ZnVuY3Rpb24gZ2V0Rm9jdXNJbkVsZW1lbnQocm9vdCxybmcpe3JldHVybiBnZXRDb2xsYXBzZWROb2RlKHJuZykuYmluZChmdW5jdGlvbihub2RlKXtpZihpc1RhYmxlU2VjdGlvbihub2RlKSl7cmV0dXJuIE9wdGlvbi5zb21lKG5vZGUpO31lbHNlIGlmKGNvbnRhaW5zJDIocm9vdCxub2RlKT09PWZhbHNlKXtyZXR1cm4gT3B0aW9uLnNvbWUocm9vdCk7fWVsc2V7cmV0dXJuIE9wdGlvbi5ub25lKCk7fX0pO307dmFyIG5vcm1hbGl6ZVNlbGVjdGlvbj1mdW5jdGlvbiBub3JtYWxpemVTZWxlY3Rpb24oZWRpdG9yLHJuZyl7Z2V0Rm9jdXNJbkVsZW1lbnQoRWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpLHJuZykuYmluZChmdW5jdGlvbihlbG0pe3JldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZWxtLmRvbSgpKTt9KS5mb2xkKGZ1bmN0aW9uKCl7ZWRpdG9yLnNlbGVjdGlvbi5ub3JtYWxpemUoKTtyZXR1cm47fSxmdW5jdGlvbihjYXJldFBvcyl7cmV0dXJuIGVkaXRvci5zZWxlY3Rpb24uc2V0Um5nKGNhcmV0UG9zLnRvUmFuZ2UoKSk7fSk7fTt2YXIgZm9jdXNCb2R5PWZ1bmN0aW9uIGZvY3VzQm9keShib2R5KXtpZihib2R5LnNldEFjdGl2ZSl7dHJ5e2JvZHkuc2V0QWN0aXZlKCk7fWNhdGNoKGV4KXtib2R5LmZvY3VzKCk7fX1lbHNle2JvZHkuZm9jdXMoKTt9fTt2YXIgaGFzRWxlbWVudEZvY3VzPWZ1bmN0aW9uIGhhc0VsZW1lbnRGb2N1cyhlbG0pe3JldHVybiBoYXNGb2N1cyhlbG0pfHxzZWFyY2goZWxtKS5pc1NvbWUoKTt9O3ZhciBoYXNJZnJhbWVGb2N1cz1mdW5jdGlvbiBoYXNJZnJhbWVGb2N1cyhlZGl0b3Ipe3JldHVybiBlZGl0b3IuaWZyYW1lRWxlbWVudCYmaGFzRm9jdXMoRWxlbWVudC5mcm9tRG9tKGVkaXRvci5pZnJhbWVFbGVtZW50KSk7fTt2YXIgaGFzSW5saW5lRm9jdXM9ZnVuY3Rpb24gaGFzSW5saW5lRm9jdXMoZWRpdG9yKXt2YXIgcmF3Qm9keT1lZGl0b3IuZ2V0Qm9keSgpO3JldHVybiByYXdCb2R5JiZoYXNFbGVtZW50Rm9jdXMoRWxlbWVudC5mcm9tRG9tKHJhd0JvZHkpKTt9O3ZhciBoYXNVaUZvY3VzPWZ1bmN0aW9uIGhhc1VpRm9jdXMoZWRpdG9yKXtyZXR1cm4gYWN0aXZlKCkuZmlsdGVyKGZ1bmN0aW9uKGVsZW0pe3JldHVybiFGb2N1c0NvbnRyb2xsZXIuaXNFZGl0b3JDb250ZW50QXJlYUVsZW1lbnQoZWxlbS5kb20oKSkmJkZvY3VzQ29udHJvbGxlci5pc1VJRWxlbWVudChlZGl0b3IsZWxlbS5kb20oKSk7fSkuaXNTb21lKCk7fTt2YXIgaGFzRm9jdXMkMT1mdW5jdGlvbiBoYXNGb2N1cyQxKGVkaXRvcil7cmV0dXJuIGVkaXRvci5pbmxpbmU/aGFzSW5saW5lRm9jdXMoZWRpdG9yKTpoYXNJZnJhbWVGb2N1cyhlZGl0b3IpO307dmFyIGhhc0VkaXRvck9yVWlGb2N1cz1mdW5jdGlvbiBoYXNFZGl0b3JPclVpRm9jdXMoZWRpdG9yKXtyZXR1cm4gaGFzRm9jdXMkMShlZGl0b3IpfHxoYXNVaUZvY3VzKGVkaXRvcik7fTt2YXIgZm9jdXNFZGl0b3I9ZnVuY3Rpb24gZm9jdXNFZGl0b3IoZWRpdG9yKXt2YXIgc2VsZWN0aW9uPWVkaXRvci5zZWxlY3Rpb247dmFyIGJvZHk9ZWRpdG9yLmdldEJvZHkoKTt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTtlZGl0b3IucXVpcmtzLnJlZnJlc2hDb250ZW50RWRpdGFibGUoKTtpZihlZGl0b3IuYm9va21hcmshPT11bmRlZmluZWQmJmhhc0ZvY3VzJDEoZWRpdG9yKT09PWZhbHNlKXtTZWxlY3Rpb25Cb29rbWFyay5nZXRSbmcoZWRpdG9yKS5lYWNoKGZ1bmN0aW9uKGJvb2ttYXJrUm5nKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhib29rbWFya1JuZyk7cm5nPWJvb2ttYXJrUm5nO30pO312YXIgY29udGVudEVkaXRhYmxlSG9zdD1nZXRDb250ZW50RWRpdGFibGVIb3N0KGVkaXRvcixzZWxlY3Rpb24uZ2V0Tm9kZSgpKTtpZihlZGl0b3IuJC5jb250YWlucyhib2R5LGNvbnRlbnRFZGl0YWJsZUhvc3QpKXtmb2N1c0JvZHkoY29udGVudEVkaXRhYmxlSG9zdCk7bm9ybWFsaXplU2VsZWN0aW9uKGVkaXRvcixybmcpO2FjdGl2YXRlRWRpdG9yKGVkaXRvcik7cmV0dXJuO31pZighZWRpdG9yLmlubGluZSl7aWYoIUVudi5vcGVyYSl7Zm9jdXNCb2R5KGJvZHkpO31lZGl0b3IuZ2V0V2luKCkuZm9jdXMoKTt9aWYoRW52LmdlY2tvfHxlZGl0b3IuaW5saW5lKXtmb2N1c0JvZHkoYm9keSk7bm9ybWFsaXplU2VsZWN0aW9uKGVkaXRvcixybmcpO31hY3RpdmF0ZUVkaXRvcihlZGl0b3IpO307dmFyIGFjdGl2YXRlRWRpdG9yPWZ1bmN0aW9uIGFjdGl2YXRlRWRpdG9yKGVkaXRvcil7cmV0dXJuIGVkaXRvci5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShlZGl0b3IpO307dmFyIGZvY3VzPWZ1bmN0aW9uIGZvY3VzKGVkaXRvcixza2lwRm9jdXMpe2lmKGVkaXRvci5yZW1vdmVkKXtyZXR1cm47fXNraXBGb2N1cz9hY3RpdmF0ZUVkaXRvcihlZGl0b3IpOmZvY3VzRWRpdG9yKGVkaXRvcik7fTt2YXIgRWRpdG9yRm9jdXM9e2ZvY3VzOmZvY3VzLGhhc0ZvY3VzOmhhc0ZvY3VzJDEsaGFzRWRpdG9yT3JVaUZvY3VzOmhhc0VkaXRvck9yVWlGb2N1c307dmFyIGRlZmF1bHRGb3JtYXQkMT0naHRtbCc7dmFyIGlzVHJlZU5vZGU9ZnVuY3Rpb24gaXNUcmVlTm9kZShjb250ZW50KXtyZXR1cm4gY29udGVudCBpbnN0YW5jZW9mIE5vZGUkMTt9O3ZhciBtb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uIG1vdmVTZWxlY3Rpb24oZWRpdG9yKXtpZihFZGl0b3JGb2N1cy5oYXNGb2N1cyhlZGl0b3IpKXtDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZWRpdG9yLmdldEJvZHkoKSkuZWFjaChmdW5jdGlvbihwb3Mpe3ZhciBub2RlPXBvcy5nZXROb2RlKCk7dmFyIGNhcmV0UG9zPU5vZGVUeXBlLmlzVGFibGUobm9kZSk/Q2FyZXRGaW5kZXIuZmlyc3RQb3NpdGlvbkluKG5vZGUpLmdldE9yKHBvcyk6cG9zO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKGNhcmV0UG9zLnRvUmFuZ2UoKSk7fSk7fX07dmFyIHNldEVkaXRvckh0bWw9ZnVuY3Rpb24gc2V0RWRpdG9ySHRtbChlZGl0b3IsaHRtbCl7ZWRpdG9yLmRvbS5zZXRIVE1MKGVkaXRvci5nZXRCb2R5KCksaHRtbCk7bW92ZVNlbGVjdGlvbihlZGl0b3IpO307dmFyIHNldENvbnRlbnRTdHJpbmc9ZnVuY3Rpb24gc2V0Q29udGVudFN0cmluZyhlZGl0b3IsYm9keSxjb250ZW50LGFyZ3Mpe3ZhciBmb3JjZWRSb290QmxvY2tOYW1lLHBhZGQ7aWYoY29udGVudC5sZW5ndGg9PT0wfHwvXlxzKyQvLnRlc3QoY29udGVudCkpe3BhZGQ9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JztpZihib2R5Lm5vZGVOYW1lPT09J1RBQkxFJyl7Y29udGVudD0nPHRyPjx0ZD4nK3BhZGQrJzwvdGQ+PC90cj4nO31lbHNlIGlmKC9eKFVMfE9MKSQvLnRlc3QoYm9keS5ub2RlTmFtZSkpe2NvbnRlbnQ9JzxsaT4nK3BhZGQrJzwvbGk+Jzt9Zm9yY2VkUm9vdEJsb2NrTmFtZT1TZXR0aW5ncy5nZXRGb3JjZWRSb290QmxvY2soZWRpdG9yKTtpZihmb3JjZWRSb290QmxvY2tOYW1lJiZlZGl0b3Iuc2NoZW1hLmlzVmFsaWRDaGlsZChib2R5Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZm9yY2VkUm9vdEJsb2NrTmFtZS50b0xvd2VyQ2FzZSgpKSl7Y29udGVudD1wYWRkO2NvbnRlbnQ9ZWRpdG9yLmRvbS5jcmVhdGVIVE1MKGZvcmNlZFJvb3RCbG9ja05hbWUsZWRpdG9yLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzLGNvbnRlbnQpO31lbHNlIGlmKCFjb250ZW50KXtjb250ZW50PSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPic7fXNldEVkaXRvckh0bWwoZWRpdG9yLGNvbnRlbnQpO2VkaXRvci5maXJlKCdTZXRDb250ZW50JyxhcmdzKTt9ZWxzZXtpZihhcmdzLmZvcm1hdCE9PSdyYXcnKXtjb250ZW50PVNlcmlhbGl6ZXIoe3ZhbGlkYXRlOmVkaXRvci52YWxpZGF0ZX0sZWRpdG9yLnNjaGVtYSkuc2VyaWFsaXplKGVkaXRvci5wYXJzZXIucGFyc2UoY29udGVudCx7aXNSb290Q29udGVudDp0cnVlLGluc2VydDp0cnVlfSkpO31hcmdzLmNvbnRlbnQ9aXNXc1ByZXNlcnZlRWxlbWVudChFbGVtZW50LmZyb21Eb20oYm9keSkpP2NvbnRlbnQ6VG9vbHMudHJpbShjb250ZW50KTtzZXRFZGl0b3JIdG1sKGVkaXRvcixhcmdzLmNvbnRlbnQpO2lmKCFhcmdzLm5vX2V2ZW50cyl7ZWRpdG9yLmZpcmUoJ1NldENvbnRlbnQnLGFyZ3MpO319cmV0dXJuIGFyZ3MuY29udGVudDt9O3ZhciBzZXRDb250ZW50VHJlZT1mdW5jdGlvbiBzZXRDb250ZW50VHJlZShlZGl0b3IsYm9keSxjb250ZW50LGFyZ3Mpe2ZpbHRlciQyKGVkaXRvci5wYXJzZXIuZ2V0Tm9kZUZpbHRlcnMoKSxlZGl0b3IucGFyc2VyLmdldEF0dHJpYnV0ZUZpbHRlcnMoKSxjb250ZW50KTt2YXIgaHRtbD1TZXJpYWxpemVyKHt2YWxpZGF0ZTplZGl0b3IudmFsaWRhdGV9LGVkaXRvci5zY2hlbWEpLnNlcmlhbGl6ZShjb250ZW50KTthcmdzLmNvbnRlbnQ9aXNXc1ByZXNlcnZlRWxlbWVudChFbGVtZW50LmZyb21Eb20oYm9keSkpP2h0bWw6VG9vbHMudHJpbShodG1sKTtzZXRFZGl0b3JIdG1sKGVkaXRvcixhcmdzLmNvbnRlbnQpO2lmKCFhcmdzLm5vX2V2ZW50cyl7ZWRpdG9yLmZpcmUoJ1NldENvbnRlbnQnLGFyZ3MpO31yZXR1cm4gY29udGVudDt9O3ZhciBzZXRDb250ZW50PWZ1bmN0aW9uIHNldENvbnRlbnQoZWRpdG9yLGNvbnRlbnQsYXJncyl7aWYoYXJncz09PXZvaWQgMCl7YXJncz17fTt9YXJncy5mb3JtYXQ9YXJncy5mb3JtYXQ/YXJncy5mb3JtYXQ6ZGVmYXVsdEZvcm1hdCQxO2FyZ3Muc2V0PXRydWU7YXJncy5jb250ZW50PWlzVHJlZU5vZGUoY29udGVudCk/Jyc6Y29udGVudDtpZighaXNUcmVlTm9kZShjb250ZW50KSYmIWFyZ3Mubm9fZXZlbnRzKXtlZGl0b3IuZmlyZSgnQmVmb3JlU2V0Q29udGVudCcsYXJncyk7Y29udGVudD1hcmdzLmNvbnRlbnQ7fXJldHVybiBPcHRpb24uZnJvbShlZGl0b3IuZ2V0Qm9keSgpKS5mb2xkKGNvbnN0YW50KGNvbnRlbnQpLGZ1bmN0aW9uKGJvZHkpe3JldHVybiBpc1RyZWVOb2RlKGNvbnRlbnQpP3NldENvbnRlbnRUcmVlKGVkaXRvcixib2R5LGNvbnRlbnQsYXJncyk6c2V0Q29udGVudFN0cmluZyhlZGl0b3IsYm9keSxjb250ZW50LGFyZ3MpO30pO307dmFyIGZpcmVQcmVQcm9jZXNzPWZ1bmN0aW9uIGZpcmVQcmVQcm9jZXNzKGVkaXRvcixhcmdzKXtyZXR1cm4gZWRpdG9yLmZpcmUoJ1ByZVByb2Nlc3MnLGFyZ3MpO307dmFyIGZpcmVQb3N0UHJvY2Vzcz1mdW5jdGlvbiBmaXJlUG9zdFByb2Nlc3MoZWRpdG9yLGFyZ3Mpe3JldHVybiBlZGl0b3IuZmlyZSgnUG9zdFByb2Nlc3MnLGFyZ3MpO307dmFyIGZpcmVSZW1vdmU9ZnVuY3Rpb24gZmlyZVJlbW92ZShlZGl0b3Ipe3JldHVybiBlZGl0b3IuZmlyZSgncmVtb3ZlJyk7fTt2YXIgZmlyZURldGFjaD1mdW5jdGlvbiBmaXJlRGV0YWNoKGVkaXRvcil7cmV0dXJuIGVkaXRvci5maXJlKCdkZXRhY2gnKTt9O3ZhciBmaXJlU3dpdGNoTW9kZT1mdW5jdGlvbiBmaXJlU3dpdGNoTW9kZShlZGl0b3IsbW9kZSl7cmV0dXJuIGVkaXRvci5maXJlKCdTd2l0Y2hNb2RlJyx7bW9kZTptb2RlfSk7fTt2YXIgZmlyZU9iamVjdFJlc2l6ZVN0YXJ0PWZ1bmN0aW9uIGZpcmVPYmplY3RSZXNpemVTdGFydChlZGl0b3IsdGFyZ2V0LHdpZHRoLGhlaWdodCl7ZWRpdG9yLmZpcmUoJ09iamVjdFJlc2l6ZVN0YXJ0Jyx7dGFyZ2V0OnRhcmdldCx3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fSk7fTt2YXIgZmlyZU9iamVjdFJlc2l6ZWQ9ZnVuY3Rpb24gZmlyZU9iamVjdFJlc2l6ZWQoZWRpdG9yLHRhcmdldCx3aWR0aCxoZWlnaHQpe2VkaXRvci5maXJlKCdPYmplY3RSZXNpemVkJyx7dGFyZ2V0OnRhcmdldCx3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fSk7fTt2YXIgRXZlbnRzPXtmaXJlUHJlUHJvY2VzczpmaXJlUHJlUHJvY2VzcyxmaXJlUG9zdFByb2Nlc3M6ZmlyZVBvc3RQcm9jZXNzLGZpcmVSZW1vdmU6ZmlyZVJlbW92ZSxmaXJlRGV0YWNoOmZpcmVEZXRhY2gsZmlyZVN3aXRjaE1vZGU6ZmlyZVN3aXRjaE1vZGUsZmlyZU9iamVjdFJlc2l6ZVN0YXJ0OmZpcmVPYmplY3RSZXNpemVTdGFydCxmaXJlT2JqZWN0UmVzaXplZDpmaXJlT2JqZWN0UmVzaXplZH07dmFyIERPTSQyPURPTVV0aWxzJDEuRE9NO3ZhciByZXN0b3JlT3JpZ2luYWxTdHlsZXM9ZnVuY3Rpb24gcmVzdG9yZU9yaWdpbmFsU3R5bGVzKGVkaXRvcil7RE9NJDIuc2V0U3R5bGUoZWRpdG9yLmlkLCdkaXNwbGF5JyxlZGl0b3Iub3JnRGlzcGxheSk7fTt2YXIgc2FmZURlc3Ryb3k9ZnVuY3Rpb24gc2FmZURlc3Ryb3koeCl7cmV0dXJuIE9wdGlvbi5mcm9tKHgpLmVhY2goZnVuY3Rpb24oeCl7cmV0dXJuIHguZGVzdHJveSgpO30pO307dmFyIGNsZWFyRG9tUmVmZXJlbmNlcz1mdW5jdGlvbiBjbGVhckRvbVJlZmVyZW5jZXMoZWRpdG9yKXtlZGl0b3IuY29udGVudEFyZWFDb250YWluZXI9ZWRpdG9yLmZvcm1FbGVtZW50PWVkaXRvci5jb250YWluZXI9ZWRpdG9yLmVkaXRvckNvbnRhaW5lcj1udWxsO2VkaXRvci5ib2R5RWxlbWVudD1lZGl0b3IuY29udGVudERvY3VtZW50PWVkaXRvci5jb250ZW50V2luZG93PW51bGw7ZWRpdG9yLmlmcmFtZUVsZW1lbnQ9ZWRpdG9yLnRhcmdldEVsbT1udWxsO2lmKGVkaXRvci5zZWxlY3Rpb24pe2VkaXRvci5zZWxlY3Rpb249ZWRpdG9yLnNlbGVjdGlvbi53aW49ZWRpdG9yLnNlbGVjdGlvbi5kb209ZWRpdG9yLnNlbGVjdGlvbi5kb20uZG9jPW51bGw7fX07dmFyIHJlc3RvcmVGb3JtPWZ1bmN0aW9uIHJlc3RvcmVGb3JtKGVkaXRvcil7dmFyIGZvcm09ZWRpdG9yLmZvcm1FbGVtZW50O2lmKGZvcm0pe2lmKGZvcm0uX21jZU9sZFN1Ym1pdCl7Zm9ybS5zdWJtaXQ9Zm9ybS5fbWNlT2xkU3VibWl0O2Zvcm0uX21jZU9sZFN1Ym1pdD1udWxsO31ET00kMi51bmJpbmQoZm9ybSwnc3VibWl0IHJlc2V0JyxlZGl0b3IuZm9ybUV2ZW50RGVsZWdhdGUpO319O3ZhciByZW1vdmUkNj1mdW5jdGlvbiByZW1vdmUkNihlZGl0b3Ipe2lmKCFlZGl0b3IucmVtb3ZlZCl7dmFyIF9zZWxlY3Rpb25PdmVycmlkZXM9ZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMsZWRpdG9yVXBsb2FkPWVkaXRvci5lZGl0b3JVcGxvYWQ7dmFyIGJvZHk9ZWRpdG9yLmdldEJvZHkoKTt2YXIgZWxlbWVudD1lZGl0b3IuZ2V0RWxlbWVudCgpO2lmKGJvZHkpe2VkaXRvci5zYXZlKHtpc19yZW1vdmluZzp0cnVlfSk7fWVkaXRvci5yZW1vdmVkPXRydWU7ZWRpdG9yLnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpO2lmKGVkaXRvci5oYXNIaWRkZW5JbnB1dCYmZWxlbWVudCl7RE9NJDIucmVtb3ZlKGVsZW1lbnQubmV4dFNpYmxpbmcpO31FdmVudHMuZmlyZVJlbW92ZShlZGl0b3IpO2VkaXRvci5lZGl0b3JNYW5hZ2VyLnJlbW92ZShlZGl0b3IpO2lmKCFlZGl0b3IuaW5saW5lJiZib2R5KXtyZXN0b3JlT3JpZ2luYWxTdHlsZXMoZWRpdG9yKTt9RXZlbnRzLmZpcmVEZXRhY2goZWRpdG9yKTtET00kMi5yZW1vdmUoZWRpdG9yLmdldENvbnRhaW5lcigpKTtzYWZlRGVzdHJveShfc2VsZWN0aW9uT3ZlcnJpZGVzKTtzYWZlRGVzdHJveShlZGl0b3JVcGxvYWQpO2VkaXRvci5kZXN0cm95KCk7fX07dmFyIGRlc3Ryb3k9ZnVuY3Rpb24gZGVzdHJveShlZGl0b3IsYXV0b21hdGljKXt2YXIgc2VsZWN0aW9uPWVkaXRvci5zZWxlY3Rpb24sZG9tPWVkaXRvci5kb207aWYoZWRpdG9yLmRlc3Ryb3llZCl7cmV0dXJuO31pZighYXV0b21hdGljJiYhZWRpdG9yLnJlbW92ZWQpe2VkaXRvci5yZW1vdmUoKTtyZXR1cm47fWlmKCFhdXRvbWF0aWMpe2VkaXRvci5lZGl0b3JNYW5hZ2VyLm9mZignYmVmb3JldW5sb2FkJyxlZGl0b3IuX2JlZm9yZVVubG9hZCk7aWYoZWRpdG9yLnRoZW1lJiZlZGl0b3IudGhlbWUuZGVzdHJveSl7ZWRpdG9yLnRoZW1lLmRlc3Ryb3koKTt9c2FmZURlc3Ryb3koc2VsZWN0aW9uKTtzYWZlRGVzdHJveShkb20pO31yZXN0b3JlRm9ybShlZGl0b3IpO2NsZWFyRG9tUmVmZXJlbmNlcyhlZGl0b3IpO2VkaXRvci5kZXN0cm95ZWQ9dHJ1ZTt9O3ZhciBoYXNPd25Qcm9wZXJ0eSQyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHNoYWxsb3ckMT1mdW5jdGlvbiBzaGFsbG93JDEob2xkLG51KXtyZXR1cm4gbnU7fTt2YXIgZGVlcCQxPWZ1bmN0aW9uIGRlZXAkMShvbGQsbnUpe3ZhciBib3RoT2JqZWN0cz1pc09iamVjdChvbGQpJiZpc09iamVjdChudSk7cmV0dXJuIGJvdGhPYmplY3RzP2RlZXBNZXJnZShvbGQsbnUpOm51O307dmFyIGJhc2VNZXJnZT1mdW5jdGlvbiBiYXNlTWVyZ2UobWVyZ2VyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgb2JqZWN0cz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxvYmplY3RzLmxlbmd0aDtpKyspe29iamVjdHNbaV09YXJndW1lbnRzW2ldO31pZihvYmplY3RzLmxlbmd0aD09PTApe3Rocm93IG5ldyBFcnJvcignQ2FuXCd0IG1lcmdlIHplcm8gb2JqZWN0cycpO312YXIgcmV0PXt9O2Zvcih2YXIgaj0wO2o8b2JqZWN0cy5sZW5ndGg7aisrKXt2YXIgY3VyT2JqZWN0PW9iamVjdHNbal07Zm9yKHZhciBrZXkgaW4gY3VyT2JqZWN0KXtpZihoYXNPd25Qcm9wZXJ0eSQyLmNhbGwoY3VyT2JqZWN0LGtleSkpe3JldFtrZXldPW1lcmdlcihyZXRba2V5XSxjdXJPYmplY3Rba2V5XSk7fX19cmV0dXJuIHJldDt9O307dmFyIGRlZXBNZXJnZT1iYXNlTWVyZ2UoZGVlcCQxKTt2YXIgbWVyZ2U9YmFzZU1lcmdlKHNoYWxsb3ckMSk7dmFyIHNlY3Rpb25SZXN1bHQ9SW1tdXRhYmxlKCdzZWN0aW9ucycsJ3NldHRpbmdzJyk7dmFyIGRldmljZURldGVjdGlvbj1kZXRlY3QkMygpLmRldmljZVR5cGU7dmFyIGlzVG91Y2g9ZGV2aWNlRGV0ZWN0aW9uLmlzVG91Y2goKTt2YXIgaXNQaG9uZT1kZXZpY2VEZXRlY3Rpb24uaXNQaG9uZSgpO3ZhciBpc1RhYmxldD1kZXZpY2VEZXRlY3Rpb24uaXNUYWJsZXQoKTt2YXIgbGVnYWN5TW9iaWxlUGx1Z2lucz1bJ2xpc3RzJywnYXV0b2xpbmsnLCdhdXRvc2F2ZSddO3ZhciBkZWZhdWx0VG91Y2hTZXR0aW5ncz17dGFibGVfZ3JpZDpmYWxzZSxvYmplY3RfcmVzaXppbmc6ZmFsc2UscmVzaXplOmZhbHNlfTt2YXIgbm9ybWFsaXplUGx1Z2lucz1mdW5jdGlvbiBub3JtYWxpemVQbHVnaW5zKHBsdWdpbnMpe3ZhciBwbHVnaW5OYW1lcz1pc0FycmF5KHBsdWdpbnMpP3BsdWdpbnMuam9pbignICcpOnBsdWdpbnM7dmFyIHRyaW1tZWRQbHVnaW5zPW1hcChpc1N0cmluZyhwbHVnaW5OYW1lcyk/cGx1Z2luTmFtZXMuc3BsaXQoJyAnKTpbXSx0cmltKTtyZXR1cm4gZmlsdGVyKHRyaW1tZWRQbHVnaW5zLGZ1bmN0aW9uKGl0ZW0pe3JldHVybiBpdGVtLmxlbmd0aD4wO30pO307dmFyIGZpbHRlckxlZ2FjeU1vYmlsZVBsdWdpbnM9ZnVuY3Rpb24gZmlsdGVyTGVnYWN5TW9iaWxlUGx1Z2lucyhwbHVnaW5zKXtyZXR1cm4gZmlsdGVyKHBsdWdpbnMsY3VycnkoY29udGFpbnMsbGVnYWN5TW9iaWxlUGx1Z2lucykpO307dmFyIGV4dHJhY3RTZWN0aW9ucz1mdW5jdGlvbiBleHRyYWN0U2VjdGlvbnMoa2V5cyxzZXR0aW5ncyl7dmFyIHJlc3VsdD1iaWZpbHRlcihzZXR0aW5ncyxmdW5jdGlvbih2YWx1ZSxrZXkpe3JldHVybiBjb250YWlucyhrZXlzLGtleSk7fSk7cmV0dXJuIHNlY3Rpb25SZXN1bHQocmVzdWx0LnQscmVzdWx0LmYpO307dmFyIGdldFNlY3Rpb249ZnVuY3Rpb24gZ2V0U2VjdGlvbihzZWN0aW9uUmVzdWx0LG5hbWUsZGVmYXVsdHMpe2lmKGRlZmF1bHRzPT09dm9pZCAwKXtkZWZhdWx0cz17fTt9dmFyIHNlY3Rpb25zPXNlY3Rpb25SZXN1bHQuc2VjdGlvbnMoKTt2YXIgc2VjdGlvblNldHRpbmdzPXNlY3Rpb25zLmhhc093blByb3BlcnR5KG5hbWUpP3NlY3Rpb25zW25hbWVdOnt9O3JldHVybiBUb29scy5leHRlbmQoe30sZGVmYXVsdHMsc2VjdGlvblNldHRpbmdzKTt9O3ZhciBoYXNTZWN0aW9uPWZ1bmN0aW9uIGhhc1NlY3Rpb24oc2VjdGlvblJlc3VsdCxuYW1lKXtyZXR1cm4gc2VjdGlvblJlc3VsdC5zZWN0aW9ucygpLmhhc093blByb3BlcnR5KG5hbWUpO307dmFyIGlzU2VjdGlvblRoZW1lPWZ1bmN0aW9uIGlzU2VjdGlvblRoZW1lKHNlY3Rpb25SZXN1bHQsbmFtZSx0aGVtZSl7dmFyIHNlY3Rpb249c2VjdGlvblJlc3VsdC5zZWN0aW9ucygpO3JldHVybiBoYXNTZWN0aW9uKHNlY3Rpb25SZXN1bHQsbmFtZSkmJnNlY3Rpb25bbmFtZV0udGhlbWU9PT10aGVtZTt9O3ZhciBnZXRTZWN0aW9uQ29uZmlnPWZ1bmN0aW9uIGdldFNlY3Rpb25Db25maWcoc2VjdGlvblJlc3VsdCxuYW1lKXtyZXR1cm4gaGFzU2VjdGlvbihzZWN0aW9uUmVzdWx0LG5hbWUpP3NlY3Rpb25SZXN1bHQuc2VjdGlvbnMoKVtuYW1lXTp7fTt9O3ZhciBnZXREZWZhdWx0U2V0dGluZ3M9ZnVuY3Rpb24gZ2V0RGVmYXVsdFNldHRpbmdzKGlkLGRvY3VtZW50QmFzZVVybCxpc1RvdWNoLGVkaXRvcil7dmFyIGJhc2VEZWZhdWx0cz17aWQ6aWQsdGhlbWU6J3NpbHZlcicsdG9vbGJhcl9kcmF3ZXI6J2Zsb2F0aW5nJyxwbHVnaW5zOicnLGRvY3VtZW50X2Jhc2VfdXJsOmRvY3VtZW50QmFzZVVybCxhZGRfZm9ybV9zdWJtaXRfdHJpZ2dlcjp0cnVlLHN1Ym1pdF9wYXRjaDp0cnVlLGFkZF91bmxvYWRfdHJpZ2dlcjp0cnVlLGNvbnZlcnRfdXJsczp0cnVlLHJlbGF0aXZlX3VybHM6dHJ1ZSxyZW1vdmVfc2NyaXB0X2hvc3Q6dHJ1ZSxvYmplY3RfcmVzaXppbmc6dHJ1ZSxkb2N0eXBlOic8IURPQ1RZUEUgaHRtbD4nLHZpc3VhbDp0cnVlLGZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzOid4eC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSwzMDAlJyxmb3JjZWRfcm9vdF9ibG9jazoncCcsaGlkZGVuX2lucHV0OnRydWUsaW5saW5lX3N0eWxlczp0cnVlLGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6dHJ1ZSxpbmRlbnQ6dHJ1ZSxpbmRlbnRfYmVmb3JlOidwLGgxLGgyLGgzLGg0LGg1LGg2LGJsb2NrcXVvdGUsZGl2LHRpdGxlLHN0eWxlLHByZSxzY3JpcHQsdGQsdGgsdWwsb2wsbGksZGwsZHQsZGQsYXJlYSx0YWJsZSx0aGVhZCwnKyd0Zm9vdCx0Ym9keSx0cixzZWN0aW9uLHN1bW1hcnksYXJ0aWNsZSxoZ3JvdXAsYXNpZGUsZmlndXJlLGZpZ2NhcHRpb24sb3B0aW9uLG9wdGdyb3VwLGRhdGFsaXN0JyxpbmRlbnRfYWZ0ZXI6J3AsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLCcrJ3Rmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QnLGVudGl0eV9lbmNvZGluZzonbmFtZWQnLHVybF9jb252ZXJ0ZXI6ZWRpdG9yLmNvbnZlcnRVUkwsdXJsX2NvbnZlcnRlcl9zY29wZTplZGl0b3J9O3JldHVybiBfYXNzaWduKF9hc3NpZ24oe30sYmFzZURlZmF1bHRzKSxpc1RvdWNoP2RlZmF1bHRUb3VjaFNldHRpbmdzOnt9KTt9O3ZhciBnZXREZWZhdWx0TW9iaWxlU2V0dGluZ3M9ZnVuY3Rpb24gZ2V0RGVmYXVsdE1vYmlsZVNldHRpbmdzKGlzUGhvbmUpe3ZhciBkZWZhdWx0TW9iaWxlU2V0dGluZ3M9e3Jlc2l6ZTpmYWxzZSx0b29sYmFyX2RyYXdlcjonc2Nyb2xsaW5nJyx0b29sYmFyX3N0aWNreTpmYWxzZX07dmFyIGRlZmF1bHRQaG9uZVNldHRpbmdzPXttZW51YmFyOmZhbHNlfTtyZXR1cm4gX2Fzc2lnbihfYXNzaWduKF9hc3NpZ24oe30sZGVmYXVsdFRvdWNoU2V0dGluZ3MpLGRlZmF1bHRNb2JpbGVTZXR0aW5ncyksaXNQaG9uZT9kZWZhdWx0UGhvbmVTZXR0aW5nczp7fSk7fTt2YXIgZ2V0RXh0ZXJuYWxQbHVnaW5zPWZ1bmN0aW9uIGdldEV4dGVybmFsUGx1Z2lucyhvdmVycmlkZVNldHRpbmdzLHNldHRpbmdzKXt2YXIgdXNlckRlZmluZWRFeHRlcm5hbFBsdWdpbnM9c2V0dGluZ3MuZXh0ZXJuYWxfcGx1Z2lucz9zZXR0aW5ncy5leHRlcm5hbF9wbHVnaW5zOnt9O2lmKG92ZXJyaWRlU2V0dGluZ3MmJm92ZXJyaWRlU2V0dGluZ3MuZXh0ZXJuYWxfcGx1Z2lucyl7cmV0dXJuIFRvb2xzLmV4dGVuZCh7fSxvdmVycmlkZVNldHRpbmdzLmV4dGVybmFsX3BsdWdpbnMsdXNlckRlZmluZWRFeHRlcm5hbFBsdWdpbnMpO31lbHNle3JldHVybiB1c2VyRGVmaW5lZEV4dGVybmFsUGx1Z2luczt9fTt2YXIgY29tYmluZVBsdWdpbnM9ZnVuY3Rpb24gY29tYmluZVBsdWdpbnMoZm9yY2VkUGx1Z2lucyxwbHVnaW5zKXtyZXR1cm5bXS5jb25jYXQobm9ybWFsaXplUGx1Z2lucyhmb3JjZWRQbHVnaW5zKSkuY29uY2F0KG5vcm1hbGl6ZVBsdWdpbnMocGx1Z2lucykpO307dmFyIHByb2Nlc3NQbHVnaW5zPWZ1bmN0aW9uIHByb2Nlc3NQbHVnaW5zKGlzTW9iaWxlRGV2aWNlLHNlY3Rpb25SZXN1bHQsZGVmYXVsdE92ZXJyaWRlU2V0dGluZ3Msc2V0dGluZ3Mpe3ZhciBmb3JjZWRQbHVnaW5zPW5vcm1hbGl6ZVBsdWdpbnMoZGVmYXVsdE92ZXJyaWRlU2V0dGluZ3MuZm9yY2VkX3BsdWdpbnMpO3ZhciBkZXNrdG9wUGx1Z2lucz1ub3JtYWxpemVQbHVnaW5zKHNldHRpbmdzLnBsdWdpbnMpO3ZhciBtb2JpbGVDb25maWc9Z2V0U2VjdGlvbkNvbmZpZyhzZWN0aW9uUmVzdWx0LCdtb2JpbGUnKTt2YXIgbW9iaWxlUGx1Z2lucz1tb2JpbGVDb25maWcucGx1Z2lucz9ub3JtYWxpemVQbHVnaW5zKG1vYmlsZUNvbmZpZy5wbHVnaW5zKTpkZXNrdG9wUGx1Z2luczt2YXIgcGxhdGZvcm1QbHVnaW5zPWlzTW9iaWxlRGV2aWNlJiZpc1NlY3Rpb25UaGVtZShzZWN0aW9uUmVzdWx0LCdtb2JpbGUnLCdtb2JpbGUnKT9maWx0ZXJMZWdhY3lNb2JpbGVQbHVnaW5zKG1vYmlsZVBsdWdpbnMpOmlzTW9iaWxlRGV2aWNlJiZoYXNTZWN0aW9uKHNlY3Rpb25SZXN1bHQsJ21vYmlsZScpP21vYmlsZVBsdWdpbnM6ZGVza3RvcFBsdWdpbnM7dmFyIGNvbWJpbmVkUGx1Z2lucz1jb21iaW5lUGx1Z2lucyhmb3JjZWRQbHVnaW5zLHBsYXRmb3JtUGx1Z2lucyk7cmV0dXJuIFRvb2xzLmV4dGVuZChzZXR0aW5ncyx7cGx1Z2luczpjb21iaW5lZFBsdWdpbnMuam9pbignICcpfSk7fTt2YXIgaXNPbk1vYmlsZT1mdW5jdGlvbiBpc09uTW9iaWxlKGlzTW9iaWxlRGV2aWNlLHNlY3Rpb25SZXN1bHQpe3JldHVybiBpc01vYmlsZURldmljZSYmaGFzU2VjdGlvbihzZWN0aW9uUmVzdWx0LCdtb2JpbGUnKTt9O3ZhciBjb21iaW5lU2V0dGluZ3M9ZnVuY3Rpb24gY29tYmluZVNldHRpbmdzKGlzTW9iaWxlRGV2aWNlLGlzUGhvbmUsZGVmYXVsdFNldHRpbmdzLGRlZmF1bHRPdmVycmlkZVNldHRpbmdzLHNldHRpbmdzKXt2YXIgZGVmYXVsdERldmljZVNldHRpbmdzPWlzTW9iaWxlRGV2aWNlP3ttb2JpbGU6Z2V0RGVmYXVsdE1vYmlsZVNldHRpbmdzKGlzUGhvbmUpfTp7fTt2YXIgc2VjdGlvblJlc3VsdD1leHRyYWN0U2VjdGlvbnMoWydtb2JpbGUnXSxkZWVwTWVyZ2UoZGVmYXVsdERldmljZVNldHRpbmdzLHNldHRpbmdzKSk7dmFyIGV4dGVuZGVkU2V0dGluZ3M9VG9vbHMuZXh0ZW5kKGRlZmF1bHRTZXR0aW5ncyxkZWZhdWx0T3ZlcnJpZGVTZXR0aW5ncyxzZWN0aW9uUmVzdWx0LnNldHRpbmdzKCksaXNPbk1vYmlsZShpc01vYmlsZURldmljZSxzZWN0aW9uUmVzdWx0KT9nZXRTZWN0aW9uKHNlY3Rpb25SZXN1bHQsJ21vYmlsZScpOnt9LHt2YWxpZGF0ZTp0cnVlLGV4dGVybmFsX3BsdWdpbnM6Z2V0RXh0ZXJuYWxQbHVnaW5zKGRlZmF1bHRPdmVycmlkZVNldHRpbmdzLHNlY3Rpb25SZXN1bHQuc2V0dGluZ3MoKSl9KTtyZXR1cm4gcHJvY2Vzc1BsdWdpbnMoaXNNb2JpbGVEZXZpY2Usc2VjdGlvblJlc3VsdCxkZWZhdWx0T3ZlcnJpZGVTZXR0aW5ncyxleHRlbmRlZFNldHRpbmdzKTt9O3ZhciBnZXRFZGl0b3JTZXR0aW5ncz1mdW5jdGlvbiBnZXRFZGl0b3JTZXR0aW5ncyhlZGl0b3IsaWQsZG9jdW1lbnRCYXNlVXJsLGRlZmF1bHRPdmVycmlkZVNldHRpbmdzLHNldHRpbmdzKXt2YXIgZGVmYXVsdFNldHRpbmdzPWdldERlZmF1bHRTZXR0aW5ncyhpZCxkb2N1bWVudEJhc2VVcmwsaXNUb3VjaCxlZGl0b3IpO3JldHVybiBjb21iaW5lU2V0dGluZ3MoaXNQaG9uZXx8aXNUYWJsZXQsaXNQaG9uZSxkZWZhdWx0U2V0dGluZ3MsZGVmYXVsdE92ZXJyaWRlU2V0dGluZ3Msc2V0dGluZ3MpO307dmFyIGdldEZpbHRlcmVkPWZ1bmN0aW9uIGdldEZpbHRlcmVkKHByZWRpY2F0ZSxlZGl0b3IsbmFtZSl7cmV0dXJuIE9wdGlvbi5mcm9tKGVkaXRvci5zZXR0aW5nc1tuYW1lXSkuZmlsdGVyKHByZWRpY2F0ZSk7fTt2YXIgZ2V0UGFyYW1PYmplY3Q9ZnVuY3Rpb24gZ2V0UGFyYW1PYmplY3QodmFsdWUpe3ZhciBvdXRwdXQ9e307aWYodHlwZW9mIHZhbHVlPT09J3N0cmluZycpe2VhY2godmFsdWUuaW5kZXhPZignPScpPjA/dmFsdWUuc3BsaXQoL1s7LF0oPyFbXj07LF0qKD86WzssXXwkKSkvKTp2YWx1ZS5zcGxpdCgnLCcpLGZ1bmN0aW9uKHZhbCl7dmFyIGFycj12YWwuc3BsaXQoJz0nKTtpZihhcnIubGVuZ3RoPjEpe291dHB1dFtUb29scy50cmltKGFyclswXSldPVRvb2xzLnRyaW0oYXJyWzFdKTt9ZWxzZXtvdXRwdXRbVG9vbHMudHJpbShhcnJbMF0pXT1Ub29scy50cmltKGFyclswXSk7fX0pO31lbHNle291dHB1dD12YWx1ZTt9cmV0dXJuIG91dHB1dDt9O3ZhciBpc0FycmF5T2Y9ZnVuY3Rpb24gaXNBcnJheU9mKHApe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gaXNBcnJheShhKSYmZm9yYWxsKGEscCk7fTt9O3ZhciBnZXRQYXJhbT1mdW5jdGlvbiBnZXRQYXJhbShlZGl0b3IsbmFtZSxkZWZhdWx0VmFsLHR5cGUpe3ZhciB2YWx1ZT1uYW1lIGluIGVkaXRvci5zZXR0aW5ncz9lZGl0b3Iuc2V0dGluZ3NbbmFtZV06ZGVmYXVsdFZhbDtpZih0eXBlPT09J2hhc2gnKXtyZXR1cm4gZ2V0UGFyYW1PYmplY3QodmFsdWUpO31lbHNlIGlmKHR5cGU9PT0nc3RyaW5nJyl7cmV0dXJuIGdldEZpbHRlcmVkKGlzU3RyaW5nLGVkaXRvcixuYW1lKS5nZXRPcihkZWZhdWx0VmFsKTt9ZWxzZSBpZih0eXBlPT09J251bWJlcicpe3JldHVybiBnZXRGaWx0ZXJlZChpc051bWJlcixlZGl0b3IsbmFtZSkuZ2V0T3IoZGVmYXVsdFZhbCk7fWVsc2UgaWYodHlwZT09PSdib29sZWFuJyl7cmV0dXJuIGdldEZpbHRlcmVkKGlzQm9vbGVhbixlZGl0b3IsbmFtZSkuZ2V0T3IoZGVmYXVsdFZhbCk7fWVsc2UgaWYodHlwZT09PSdvYmplY3QnKXtyZXR1cm4gZ2V0RmlsdGVyZWQoaXNPYmplY3QsZWRpdG9yLG5hbWUpLmdldE9yKGRlZmF1bHRWYWwpO31lbHNlIGlmKHR5cGU9PT0nYXJyYXknKXtyZXR1cm4gZ2V0RmlsdGVyZWQoaXNBcnJheSxlZGl0b3IsbmFtZSkuZ2V0T3IoZGVmYXVsdFZhbCk7fWVsc2UgaWYodHlwZT09PSdzdHJpbmdbXScpe3JldHVybiBnZXRGaWx0ZXJlZChpc0FycmF5T2YoaXNTdHJpbmcpLGVkaXRvcixuYW1lKS5nZXRPcihkZWZhdWx0VmFsKTt9ZWxzZSBpZih0eXBlPT09J2Z1bmN0aW9uJyl7cmV0dXJuIGdldEZpbHRlcmVkKGlzRnVuY3Rpb24sZWRpdG9yLG5hbWUpLmdldE9yKGRlZmF1bHRWYWwpO31lbHNle3JldHVybiB2YWx1ZTt9fTt2YXIgZ2V0UHJvcD1mdW5jdGlvbiBnZXRQcm9wKHByb3BOYW1lLGVsbSl7dmFyIHJhd0VsbT1lbG0uZG9tKCk7cmV0dXJuIHJhd0VsbVtwcm9wTmFtZV07fTt2YXIgZ2V0Q29tcHV0ZWRTaXplUHJvcD1mdW5jdGlvbiBnZXRDb21wdXRlZFNpemVQcm9wKHByb3BOYW1lLGVsbSl7cmV0dXJuIHBhcnNlSW50KGdldCQyKGVsbSxwcm9wTmFtZSksMTApO307dmFyIGdldENsaWVudFdpZHRoPWN1cnJ5KGdldFByb3AsJ2NsaWVudFdpZHRoJyk7dmFyIGdldENsaWVudEhlaWdodD1jdXJyeShnZXRQcm9wLCdjbGllbnRIZWlnaHQnKTt2YXIgZ2V0TWFyZ2luVG9wPWN1cnJ5KGdldENvbXB1dGVkU2l6ZVByb3AsJ21hcmdpbi10b3AnKTt2YXIgZ2V0TWFyZ2luTGVmdD1jdXJyeShnZXRDb21wdXRlZFNpemVQcm9wLCdtYXJnaW4tbGVmdCcpO3ZhciBnZXRCb3VuZGluZ0NsaWVudFJlY3QkMT1mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QkMShlbG0pe3JldHVybiBlbG0uZG9tKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7fTt2YXIgaXNJbnNpZGVFbGVtZW50Q29udGVudEFyZWE9ZnVuY3Rpb24gaXNJbnNpZGVFbGVtZW50Q29udGVudEFyZWEoYm9keUVsbSxjbGllbnRYLGNsaWVudFkpe3ZhciBjbGllbnRXaWR0aD1nZXRDbGllbnRXaWR0aChib2R5RWxtKTt2YXIgY2xpZW50SGVpZ2h0PWdldENsaWVudEhlaWdodChib2R5RWxtKTtyZXR1cm4gY2xpZW50WD49MCYmY2xpZW50WT49MCYmY2xpZW50WDw9Y2xpZW50V2lkdGgmJmNsaWVudFk8PWNsaWVudEhlaWdodDt9O3ZhciB0cmFuc3Bvc2U9ZnVuY3Rpb24gdHJhbnNwb3NlKGlubGluZSxlbG0sY2xpZW50WCxjbGllbnRZKXt2YXIgY2xpZW50UmVjdD1nZXRCb3VuZGluZ0NsaWVudFJlY3QkMShlbG0pO3ZhciBkZWx0YVg9aW5saW5lP2NsaWVudFJlY3QubGVmdCtlbG0uZG9tKCkuY2xpZW50TGVmdCtnZXRNYXJnaW5MZWZ0KGVsbSk6MDt2YXIgZGVsdGFZPWlubGluZT9jbGllbnRSZWN0LnRvcCtlbG0uZG9tKCkuY2xpZW50VG9wK2dldE1hcmdpblRvcChlbG0pOjA7dmFyIHg9Y2xpZW50WC1kZWx0YVg7dmFyIHk9Y2xpZW50WS1kZWx0YVk7cmV0dXJue3g6eCx5Onl9O307dmFyIGlzWFlJbkNvbnRlbnRBcmVhPWZ1bmN0aW9uIGlzWFlJbkNvbnRlbnRBcmVhKGVkaXRvcixjbGllbnRYLGNsaWVudFkpe3ZhciBib2R5RWxtPUVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKTt2YXIgdGFyZ2V0RWxtPWVkaXRvci5pbmxpbmU/Ym9keUVsbTpkb2N1bWVudEVsZW1lbnQoYm9keUVsbSk7dmFyIHRyYW5zcG9zZWRQb2ludD10cmFuc3Bvc2UoZWRpdG9yLmlubGluZSx0YXJnZXRFbG0sY2xpZW50WCxjbGllbnRZKTtyZXR1cm4gaXNJbnNpZGVFbGVtZW50Q29udGVudEFyZWEodGFyZ2V0RWxtLHRyYW5zcG9zZWRQb2ludC54LHRyYW5zcG9zZWRQb2ludC55KTt9O3ZhciBmcm9tRG9tU2FmZT1mdW5jdGlvbiBmcm9tRG9tU2FmZShub2RlKXtyZXR1cm4gT3B0aW9uLmZyb20obm9kZSkubWFwKEVsZW1lbnQuZnJvbURvbSk7fTt2YXIgaXNFZGl0b3JBdHRhY2hlZFRvRG9tPWZ1bmN0aW9uIGlzRWRpdG9yQXR0YWNoZWRUb0RvbShlZGl0b3Ipe3ZhciByYXdDb250YWluZXI9ZWRpdG9yLmlubGluZT9lZGl0b3IuZ2V0Qm9keSgpOmVkaXRvci5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpO3JldHVybiBmcm9tRG9tU2FmZShyYXdDb250YWluZXIpLm1hcChmdW5jdGlvbihjb250YWluZXIpe3JldHVybiBjb250YWlucyQyKG93bmVyKGNvbnRhaW5lciksY29udGFpbmVyKTt9KS5nZXRPcihmYWxzZSk7fTt2YXIgRWRpdG9yVmlldz17aXNYWUluQ29udGVudEFyZWE6aXNYWUluQ29udGVudEFyZWEsaXNFZGl0b3JBdHRhY2hlZFRvRG9tOmlzRWRpdG9yQXR0YWNoZWRUb0RvbX07ZnVuY3Rpb24gTm90aWZpY2F0aW9uTWFuYWdlckltcGwoKXt2YXIgdW5pbXBsZW1lbnRlZD1mdW5jdGlvbiB1bmltcGxlbWVudGVkKCl7dGhyb3cgbmV3IEVycm9yKCdUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLicpO307cmV0dXJue29wZW46dW5pbXBsZW1lbnRlZCxjbG9zZTp1bmltcGxlbWVudGVkLHJlcG9zaXRpb246dW5pbXBsZW1lbnRlZCxnZXRBcmdzOnVuaW1wbGVtZW50ZWR9O31mdW5jdGlvbiBOb3RpZmljYXRpb25NYW5hZ2VyKGVkaXRvcil7dmFyIG5vdGlmaWNhdGlvbnM9W107dmFyIGdldEltcGxlbWVudGF0aW9uPWZ1bmN0aW9uIGdldEltcGxlbWVudGF0aW9uKCl7dmFyIHRoZW1lPWVkaXRvci50aGVtZTtyZXR1cm4gdGhlbWUmJnRoZW1lLmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsP3RoZW1lLmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsKCk6Tm90aWZpY2F0aW9uTWFuYWdlckltcGwoKTt9O3ZhciBnZXRUb3BOb3RpZmljYXRpb249ZnVuY3Rpb24gZ2V0VG9wTm90aWZpY2F0aW9uKCl7cmV0dXJuIE9wdGlvbi5mcm9tKG5vdGlmaWNhdGlvbnNbMF0pO307dmFyIGlzRXF1YWw9ZnVuY3Rpb24gaXNFcXVhbChhLGIpe3JldHVybiBhLnR5cGU9PT1iLnR5cGUmJmEudGV4dD09PWIudGV4dCYmIWEucHJvZ3Jlc3NCYXImJiFhLnRpbWVvdXQmJiFiLnByb2dyZXNzQmFyJiYhYi50aW1lb3V0O307dmFyIHJlcG9zaXRpb249ZnVuY3Rpb24gcmVwb3NpdGlvbigpe2lmKG5vdGlmaWNhdGlvbnMubGVuZ3RoPjApe2dldEltcGxlbWVudGF0aW9uKCkucmVwb3NpdGlvbihub3RpZmljYXRpb25zKTt9fTt2YXIgYWRkTm90aWZpY2F0aW9uPWZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pe25vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO307dmFyIGNsb3NlTm90aWZpY2F0aW9uPWZ1bmN0aW9uIGNsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbil7ZmluZEluZGV4KG5vdGlmaWNhdGlvbnMsZnVuY3Rpb24ob3RoZXJOb3RpZmljYXRpb24pe3JldHVybiBvdGhlck5vdGlmaWNhdGlvbj09PW5vdGlmaWNhdGlvbjt9KS5lYWNoKGZ1bmN0aW9uKGluZGV4KXtub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwxKTt9KTt9O3ZhciBvcGVuPWZ1bmN0aW9uIG9wZW4oc3BlYyl7aWYoZWRpdG9yLnJlbW92ZWR8fCFFZGl0b3JWaWV3LmlzRWRpdG9yQXR0YWNoZWRUb0RvbShlZGl0b3IpKXtyZXR1cm47fXJldHVybiBmaW5kKG5vdGlmaWNhdGlvbnMsZnVuY3Rpb24obm90aWZpY2F0aW9uKXtyZXR1cm4gaXNFcXVhbChnZXRJbXBsZW1lbnRhdGlvbigpLmdldEFyZ3Mobm90aWZpY2F0aW9uKSxzcGVjKTt9KS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7ZWRpdG9yLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKGVkaXRvcik7dmFyIG5vdGlmaWNhdGlvbj1nZXRJbXBsZW1lbnRhdGlvbigpLm9wZW4oc3BlYyxmdW5jdGlvbigpe2Nsb3NlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7cmVwb3NpdGlvbigpO30pO2FkZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO3JlcG9zaXRpb24oKTtyZXR1cm4gbm90aWZpY2F0aW9uO30pO307dmFyIGNsb3NlPWZ1bmN0aW9uIGNsb3NlKCl7Z2V0VG9wTm90aWZpY2F0aW9uKCkuZWFjaChmdW5jdGlvbihub3RpZmljYXRpb24pe2dldEltcGxlbWVudGF0aW9uKCkuY2xvc2Uobm90aWZpY2F0aW9uKTtjbG9zZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO3JlcG9zaXRpb24oKTt9KTt9O3ZhciBnZXROb3RpZmljYXRpb25zPWZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbnMoKXtyZXR1cm4gbm90aWZpY2F0aW9uczt9O3ZhciByZWdpc3RlckV2ZW50cz1mdW5jdGlvbiByZWdpc3RlckV2ZW50cyhlZGl0b3Ipe2VkaXRvci5vbignU2tpbkxvYWRlZCcsZnVuY3Rpb24oKXt2YXIgc2VydmljZU1lc3NhZ2U9ZWRpdG9yLnNldHRpbmdzLnNlcnZpY2VfbWVzc2FnZTtpZihzZXJ2aWNlTWVzc2FnZSl7b3Blbih7dGV4dDpzZXJ2aWNlTWVzc2FnZSx0eXBlOid3YXJuaW5nJyx0aW1lb3V0OjB9KTt9fSk7ZWRpdG9yLm9uKCdSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IE5vZGVDaGFuZ2UnLGZ1bmN0aW9uKCl7RGVsYXkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlcG9zaXRpb24pO30pO2VkaXRvci5vbigncmVtb3ZlJyxmdW5jdGlvbigpe2VhY2gobm90aWZpY2F0aW9ucy5zbGljZSgpLGZ1bmN0aW9uKG5vdGlmaWNhdGlvbil7Z2V0SW1wbGVtZW50YXRpb24oKS5jbG9zZShub3RpZmljYXRpb24pO30pO30pO307cmVnaXN0ZXJFdmVudHMoZWRpdG9yKTtyZXR1cm57b3BlbjpvcGVuLGNsb3NlOmNsb3NlLGdldE5vdGlmaWNhdGlvbnM6Z2V0Tm90aWZpY2F0aW9uc307fWZ1bmN0aW9uIFdpbmRvd01hbmFnZXJJbXBsKCl7dmFyIHVuaW1wbGVtZW50ZWQ9ZnVuY3Rpb24gdW5pbXBsZW1lbnRlZCgpe3Rocm93IG5ldyBFcnJvcignVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgV2luZG93TWFuYWdlciBpbXBsZW1lbnRhdGlvbi4nKTt9O3JldHVybntvcGVuOnVuaW1wbGVtZW50ZWQsb3BlblVybDp1bmltcGxlbWVudGVkLGFsZXJ0OnVuaW1wbGVtZW50ZWQsY29uZmlybTp1bmltcGxlbWVudGVkLGNsb3NlOnVuaW1wbGVtZW50ZWQsZ2V0UGFyYW1zOnVuaW1wbGVtZW50ZWQsc2V0UGFyYW1zOnVuaW1wbGVtZW50ZWR9O312YXIgV2luZG93TWFuYWdlcj1mdW5jdGlvbiBXaW5kb3dNYW5hZ2VyKGVkaXRvcil7dmFyIGRpYWxvZ3M9W107dmFyIGdldEltcGxlbWVudGF0aW9uPWZ1bmN0aW9uIGdldEltcGxlbWVudGF0aW9uKCl7dmFyIHRoZW1lPWVkaXRvci50aGVtZTtyZXR1cm4gdGhlbWUmJnRoZW1lLmdldFdpbmRvd01hbmFnZXJJbXBsP3RoZW1lLmdldFdpbmRvd01hbmFnZXJJbXBsKCk6V2luZG93TWFuYWdlckltcGwoKTt9O3ZhciBmdW5jQmluZD1mdW5jdGlvbiBmdW5jQmluZChzY29wZSxmKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZj9mLmFwcGx5KHNjb3BlLGFyZ3VtZW50cyk6dW5kZWZpbmVkO307fTt2YXIgZmlyZU9wZW5FdmVudD1mdW5jdGlvbiBmaXJlT3BlbkV2ZW50KGRpYWxvZyl7ZWRpdG9yLmZpcmUoJ09wZW5XaW5kb3cnLHtkaWFsb2c6ZGlhbG9nfSk7fTt2YXIgZmlyZUNsb3NlRXZlbnQ9ZnVuY3Rpb24gZmlyZUNsb3NlRXZlbnQoZGlhbG9nKXtlZGl0b3IuZmlyZSgnQ2xvc2VXaW5kb3cnLHtkaWFsb2c6ZGlhbG9nfSk7fTt2YXIgYWRkRGlhbG9nPWZ1bmN0aW9uIGFkZERpYWxvZyhkaWFsb2cpe2RpYWxvZ3MucHVzaChkaWFsb2cpO2ZpcmVPcGVuRXZlbnQoZGlhbG9nKTt9O3ZhciBjbG9zZURpYWxvZz1mdW5jdGlvbiBjbG9zZURpYWxvZyhkaWFsb2cpe2ZpcmVDbG9zZUV2ZW50KGRpYWxvZyk7ZGlhbG9ncz1maWx0ZXIoZGlhbG9ncyxmdW5jdGlvbihvdGhlckRpYWxvZyl7cmV0dXJuIG90aGVyRGlhbG9nIT09ZGlhbG9nO30pO2lmKGRpYWxvZ3MubGVuZ3RoPT09MCl7ZWRpdG9yLmZvY3VzKCk7fX07dmFyIGdldFRvcERpYWxvZz1mdW5jdGlvbiBnZXRUb3BEaWFsb2coKXtyZXR1cm4gT3B0aW9uLmZyb20oZGlhbG9nc1tkaWFsb2dzLmxlbmd0aC0xXSk7fTt2YXIgc3RvcmVTZWxlY3Rpb25BbmRPcGVuRGlhbG9nPWZ1bmN0aW9uIHN0b3JlU2VsZWN0aW9uQW5kT3BlbkRpYWxvZyhvcGVuRGlhbG9nKXtlZGl0b3IuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoZWRpdG9yKTtTZWxlY3Rpb25Cb29rbWFyay5zdG9yZShlZGl0b3IpO3ZhciBkaWFsb2c9b3BlbkRpYWxvZygpO2FkZERpYWxvZyhkaWFsb2cpO3JldHVybiBkaWFsb2c7fTt2YXIgb3Blbj1mdW5jdGlvbiBvcGVuKGFyZ3MscGFyYW1zKXtyZXR1cm4gc3RvcmVTZWxlY3Rpb25BbmRPcGVuRGlhbG9nKGZ1bmN0aW9uKCl7cmV0dXJuIGdldEltcGxlbWVudGF0aW9uKCkub3BlbihhcmdzLHBhcmFtcyxjbG9zZURpYWxvZyk7fSk7fTt2YXIgb3BlblVybD1mdW5jdGlvbiBvcGVuVXJsKGFyZ3Mpe3JldHVybiBzdG9yZVNlbGVjdGlvbkFuZE9wZW5EaWFsb2coZnVuY3Rpb24oKXtyZXR1cm4gZ2V0SW1wbGVtZW50YXRpb24oKS5vcGVuVXJsKGFyZ3MsY2xvc2VEaWFsb2cpO30pO307dmFyIGFsZXJ0PWZ1bmN0aW9uIGFsZXJ0KG1lc3NhZ2UsY2FsbGJhY2ssc2NvcGUpe2dldEltcGxlbWVudGF0aW9uKCkuYWxlcnQobWVzc2FnZSxmdW5jQmluZChzY29wZT9zY29wZTp0aGlzLGNhbGxiYWNrKSk7fTt2YXIgY29uZmlybT1mdW5jdGlvbiBjb25maXJtKG1lc3NhZ2UsY2FsbGJhY2ssc2NvcGUpe2dldEltcGxlbWVudGF0aW9uKCkuY29uZmlybShtZXNzYWdlLGZ1bmNCaW5kKHNjb3BlP3Njb3BlOnRoaXMsY2FsbGJhY2spKTt9O3ZhciBjbG9zZT1mdW5jdGlvbiBjbG9zZSgpe2dldFRvcERpYWxvZygpLmVhY2goZnVuY3Rpb24oZGlhbG9nKXtnZXRJbXBsZW1lbnRhdGlvbigpLmNsb3NlKGRpYWxvZyk7Y2xvc2VEaWFsb2coZGlhbG9nKTt9KTt9O2VkaXRvci5vbigncmVtb3ZlJyxmdW5jdGlvbigpe2VhY2goZGlhbG9ncyxmdW5jdGlvbihkaWFsb2cpe2dldEltcGxlbWVudGF0aW9uKCkuY2xvc2UoZGlhbG9nKTt9KTt9KTtyZXR1cm57b3BlbjpvcGVuLG9wZW5Vcmw6b3BlblVybCxhbGVydDphbGVydCxjb25maXJtOmNvbmZpcm0sY2xvc2U6Y2xvc2V9O307dmFyIGRpc3BsYXlOb3RpZmljYXRpb249ZnVuY3Rpb24gZGlzcGxheU5vdGlmaWNhdGlvbihlZGl0b3IsbWVzc2FnZSl7ZWRpdG9yLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dHlwZTonZXJyb3InLHRleHQ6bWVzc2FnZX0pO307dmFyIGRpc3BsYXlFcnJvcj1mdW5jdGlvbiBkaXNwbGF5RXJyb3IoZWRpdG9yLG1lc3NhZ2Upe2lmKGVkaXRvci5fc2tpbkxvYWRlZCl7ZGlzcGxheU5vdGlmaWNhdGlvbihlZGl0b3IsbWVzc2FnZSk7fWVsc2V7ZWRpdG9yLm9uKCdTa2luTG9hZGVkJyxmdW5jdGlvbigpe2Rpc3BsYXlOb3RpZmljYXRpb24oZWRpdG9yLG1lc3NhZ2UpO30pO319O3ZhciB1cGxvYWRFcnJvcj1mdW5jdGlvbiB1cGxvYWRFcnJvcihlZGl0b3IsbWVzc2FnZSl7ZGlzcGxheUVycm9yKGVkaXRvcixJMThuLnRyYW5zbGF0ZShbJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2U6IHswfScsbWVzc2FnZV0pKTt9O3ZhciBsb2dFcnJvcj1mdW5jdGlvbiBsb2dFcnJvcihtc2cpe2RvbUdsb2JhbHMuY29uc29sZS5lcnJvcihtc2cpO307dmFyIGNyZWF0ZUxvYWRFcnJvcj1mdW5jdGlvbiBjcmVhdGVMb2FkRXJyb3IodHlwZSx1cmwsbmFtZSl7cmV0dXJuIG5hbWU/J0ZhaWxlZCB0byBsb2FkICcrdHlwZSsnOiAnK25hbWUrJyBmcm9tIHVybCAnK3VybDonRmFpbGVkIHRvIGxvYWQgJyt0eXBlKycgdXJsOiAnK3VybDt9O3ZhciBwbHVnaW5Mb2FkRXJyb3I9ZnVuY3Rpb24gcGx1Z2luTG9hZEVycm9yKHVybCxuYW1lKXtsb2dFcnJvcihjcmVhdGVMb2FkRXJyb3IoJ3BsdWdpbicsdXJsLG5hbWUpKTt9O3ZhciBpY29uc0xvYWRFcnJvcj1mdW5jdGlvbiBpY29uc0xvYWRFcnJvcih1cmwsbmFtZSl7bG9nRXJyb3IoY3JlYXRlTG9hZEVycm9yKCdpY29ucycsdXJsLG5hbWUpKTt9O3ZhciBsYW5ndWFnZUxvYWRFcnJvcj1mdW5jdGlvbiBsYW5ndWFnZUxvYWRFcnJvcih1cmwsbmFtZSl7bG9nRXJyb3IoY3JlYXRlTG9hZEVycm9yKCdsYW5ndWFnZScsdXJsLG5hbWUpKTt9O3ZhciBwbHVnaW5Jbml0RXJyb3I9ZnVuY3Rpb24gcGx1Z2luSW5pdEVycm9yKGVkaXRvcixuYW1lLGVycil7dmFyIG1lc3NhZ2U9STE4bi50cmFuc2xhdGUoWydGYWlsZWQgdG8gaW5pdGlhbGl6ZSBwbHVnaW46IHswfScsbmFtZV0pO2luaXRFcnJvcihtZXNzYWdlLGVycik7ZGlzcGxheUVycm9yKGVkaXRvcixtZXNzYWdlKTt9O3ZhciBpbml0RXJyb3I9ZnVuY3Rpb24gaW5pdEVycm9yKG1lc3NhZ2Upe3ZhciB4PVtdO2Zvcih2YXIgX2k9MTtfaTxhcmd1bWVudHMubGVuZ3RoO19pKyspe3hbX2ktMV09YXJndW1lbnRzW19pXTt9dmFyIGNvbnNvbGU9ZG9tR2xvYmFscy53aW5kb3cuY29uc29sZTtpZihjb25zb2xlKXtpZihjb25zb2xlLmVycm9yKXtjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKTt9ZWxzZXtjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyk7fX19O3ZhciBFcnJvclJlcG9ydGVyPXtwbHVnaW5Mb2FkRXJyb3I6cGx1Z2luTG9hZEVycm9yLGljb25zTG9hZEVycm9yOmljb25zTG9hZEVycm9yLGxhbmd1YWdlTG9hZEVycm9yOmxhbmd1YWdlTG9hZEVycm9yLHBsdWdpbkluaXRFcnJvcjpwbHVnaW5Jbml0RXJyb3IsdXBsb2FkRXJyb3I6dXBsb2FkRXJyb3IsZGlzcGxheUVycm9yOmRpc3BsYXlFcnJvcixpbml0RXJyb3I6aW5pdEVycm9yfTt2YXIgZ2V0QWxsPWZ1bmN0aW9uIGdldEFsbCgpe3JldHVybnsnYWNjZXNzaWJpbGl0eS1jaGVjayc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMmEyIDIgMCAwIDEgMiAyIDIgMiAwIDAgMS0yIDIgMiAyIDAgMCAxLTItMmMwLTEuMS45LTIgMi0yem04IDdoLTV2MTJjMCAuNi0uNCAxLTEgMWExIDEgMCAwIDEtMS0xdi01YzAtLjYtLjQtMS0xLTFhMSAxIDAgMCAwLTEgMXY1YzAgLjYtLjQgMS0xIDFhMSAxIDAgMCAxLTEtMVY5SDRhMSAxIDAgMSAxIDAtMmgxNmMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMXoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2FjdGlvbi1uZXh0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTUuNyA3LjNhMSAxIDAgMCAwLTEuNCAxLjRsNy43IDcuNyA3LjctNy43YTEgMSAwIDEgMC0xLjQtMS40TDEyIDEzLjYgNS43IDcuM3oiLz48L3N2Zz4nLCdhY3Rpb24tcHJldic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xOC4zIDE1LjdhMSAxIDAgMCAwIDEuNC0xLjRMMTIgNi42bC03LjcgNy43YTEgMSAwIDAgMCAxLjQgMS40TDEyIDkuNGw2LjMgNi4zeiIvPjwvc3ZnPicsJ2FsaWduLWNlbnRlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSA1aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMSAxIDAtMnptMyA0aDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFIOGExIDEgMCAxIDEgMC0yem0wIDhoOGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg4YTEgMSAwIDAgMSAwLTJ6bS0zLTRoMTRjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFINWExIDEgMCAwIDEgMC0yeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYWxpZ24tanVzdGlmeSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSA1aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMSAxIDAtMnptMCA0aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMSAxIDAtMnptMCA0aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMCAxIDAtMnptMCA0aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMCAxIDAtMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2FsaWduLWxlZnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTUgNWgxNGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg1YTEgMSAwIDEgMSAwLTJ6bTAgNGg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMSAxIDAtMnptMCA4aDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFINWExIDEgMCAwIDEgMC0yem0wLTRoMTRjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFINWExIDEgMCAwIDEgMC0yeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYWxpZ24tbm9uZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTQuMiA1TDEzIDdINWExIDEgMCAxIDEgMC0yaDkuMnptNCAwaC44YTEgMSAwIDAgMSAwIDJoLTJsMS4yLTJ6bS02LjQgNGwtMS4yIDJINWExIDEgMCAwIDEgMC0yaDYuOHptNCAwSDE5YTEgMSAwIDAgMSAwIDJoLTQuNGwxLjItMnptLTYuNCA0bC0xLjIgMkg1YTEgMSAwIDAgMSAwLTJoNC40em00IDBIMTlhMSAxIDAgMCAxIDAgMmgtNi44bDEuMi0yek03IDE3bC0xLjIgMkg1YTEgMSAwIDAgMSAwLTJoMnptNCAwaDhhMSAxIDAgMCAxIDAgMkg5LjhsMS4yLTJ6bTUuMi0xMy41bDEuMy43LTkuNyAxNi4zLTEuMy0uNyA5LjctMTYuM3oiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2FsaWduLXJpZ2h0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik01IDVoMTRjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFINWExIDEgMCAxIDEgMC0yem02IDRoOGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtOGExIDEgMCAwIDEgMC0yem0wIDhoOGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtOGExIDEgMCAwIDEgMC0yem0tNi00aDE0Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMCAxIDAtMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2Fycm93LWxlZnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTUuNiAxM2wxMiA2YTEgMSAwIDAgMCAxLjQtMVY2YTEgMSAwIDAgMC0xLjQtLjlsLTEyIDZhMSAxIDAgMCAwIDAgMS44eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYXJyb3ctcmlnaHQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4LjUgMTNsLTEyIDZBMSAxIDAgMCAxIDUgMThWNmExIDEgMCAwIDEgMS40LS45bDEyIDZhMSAxIDAgMCAxIDAgMS44eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYm9sZCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNy44IDE5Yy0uMyAwLS41IDAtLjYtLjJsLS4yLS41VjUuN2MwLS4yIDAtLjQuMi0uNWwuNi0uMmg1YzEuNSAwIDIuNy4zIDMuNSAxIC43LjYgMS4xIDEuNCAxLjEgMi41YTMgMyAwIDAgMS0uNiAxLjljLS40LjYtMSAxLTEuNiAxLjIuNC4xLjkuMyAxLjMuNnMuOC43IDEgMS4yYy40LjQuNSAxIC41IDEuNiAwIDEuMy0uNCAyLjMtMS4zIDMtLjguNy0yLjEgMS0zLjggMUg3Ljh6bTUtOC4zYy42IDAgMS4yLS4xIDEuNi0uNS40LS4zLjYtLjcuNi0xLjMgMC0xLjEtLjgtMS43LTIuMy0xLjdIOS4zdjMuNWgzLjR6bS41IDZjLjcgMCAxLjMtLjEgMS43LS40LjQtLjQuNi0uOS42LTEuNXMtLjItMS0uNy0xLjRjLS40LS4zLTEtLjQtMi0uNEg5LjR2My44aDR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdib29rbWFyayc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNiA0djE3bDYtNCA2IDRWNGMwLS42LS40LTEtMS0xSDdhMSAxIDAgMCAwLTEgMXoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2JvcmRlci13aWR0aCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSAxNC44aDE0YTEgMSAwIDAgMSAwIDJINWExIDEgMCAwIDEgMC0yem0tLjUgMy43aDE1Yy4zIDAgLjUuMi41LjVzLS4yLjUtLjUuNWgtMTVhLjUuNSAwIDEgMSAwLTF6bS41LTguM2gxNGMuNiAwIDEgLjQgMSAxdjFjMCAuNS0uNCAxLTEgMUg1YTEgMSAwIDAgMS0xLTF2LTFjMC0uNi40LTEgMS0xem0wLTUuN2gxNGMuNiAwIDEgLjQgMSAxdjJjMCAuNi0uNCAxLTEgMUg1YTEgMSAwIDAgMS0xLTF2LTJjMC0uNi40LTEgMS0xeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYnJpZ2h0bmVzcyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMTdjLjMgMCAuNS4xLjcuMy4yLjIuMy40LjMuN3YxYzAgLjMtLjEuNS0uMy43YTEgMSAwIDAgMS0uNy4zIDEgMSAwIDAgMS0uNy0uMyAxIDEgMCAwIDEtLjMtLjd2LTFjMC0uMy4xLS41LjMtLjcuMi0uMi40LS4zLjctLjN6bTAtMTBhMSAxIDAgMCAxLS43LS4zQTEgMSAwIDAgMSAxMSA2VjVjMC0uMy4xLS41LjMtLjcuMi0uMi40LS4zLjctLjMuMyAwIC41LjEuNy4zLjIuMi4zLjQuMy43djFjMCAuMy0uMS41LS4zLjdhMSAxIDAgMCAxLS43LjN6bTcgNGMuMyAwIC41LjEuNy4zLjIuMi4zLjQuMy43IDAgLjMtLjEuNS0uMy43YTEgMSAwIDAgMS0uNy4zaC0xYTEgMSAwIDAgMS0uNy0uMyAxIDEgMCAwIDEtLjMtLjdjMC0uMy4xLS41LjMtLjcuMi0uMi40LS4zLjctLjNoMXpNNyAxMmMwIC4zLS4xLjUtLjMuN2ExIDEgMCAwIDEtLjcuM0g1YTEgMSAwIDAgMS0uNy0uM0ExIDEgMCAwIDEgNCAxMmMwLS4zLjEtLjUuMy0uNy4yLS4yLjQtLjMuNy0uM2gxYy4zIDAgLjUuMS43LjMuMi4yLjMuNC4zLjd6bTEwIDMuNWwuNy44Yy4yLjEuMy40LjMuNiAwIC4zLS4xLjYtLjMuOGExIDEgMCAwIDEtLjguMyAxIDEgMCAwIDEtLjYtLjNsLS44LS43YTEgMSAwIDAgMS0uMy0uOGMwLS4yLjEtLjUuMy0uN2ExIDEgMCAwIDEgMS40IDB6bS0xMC03bC0uNy0uOGExIDEgMCAwIDEtLjMtLjZjMC0uMy4xLS42LjMtLjguMi0uMi41LS4zLjgtLjMuMiAwIC41LjEuNy4zbC43LjdjLjIuMi4zLjUuMy44IDAgLjItLjEuNS0uMy43YTEgMSAwIDAgMS0uNy4zIDEgMSAwIDAgMS0uOC0uM3ptMTAgMGExIDEgMCAwIDEtLjguMyAxIDEgMCAwIDEtLjctLjMgMSAxIDAgMCAxLS4zLS43YzAtLjMuMS0uNi4zLS44bC44LS43Yy4xLS4yLjQtLjMuNi0uMy4zIDAgLjYuMS44LjMuMi4yLjMuNS4zLjggMCAuMi0uMS41LS4zLjdsLS43Ljd6bS0xMCA3Yy4yLS4yLjUtLjMuOC0uMy4yIDAgLjUuMS43LjNhMSAxIDAgMCAxIDAgMS40bC0uOC44YTEgMSAwIDAgMS0uNi4zIDEgMSAwIDAgMS0uOC0uMyAxIDEgMCAwIDEtLjMtLjhjMC0uMi4xLS41LjMtLjZsLjctLjh6TTEyIDhhNCA0IDAgMCAxIDMuNyAyLjQgNCA0IDAgMCAxIDAgMy4yQTQgNCAwIDAgMSAxMiAxNmE0IDQgMCAwIDEtMy43LTIuNCA0IDQgMCAwIDEgMC0zLjJBNCA0IDAgMCAxIDEyIDh6bTAgNi41Yy43IDAgMS4zLS4yIDEuOC0uNy41LS41LjctMS4xLjctMS44cy0uMi0xLjMtLjctMS44Yy0uNS0uNS0xLjEtLjctMS44LS43cy0xLjMuMi0xLjguN2MtLjUuNS0uNyAxLjEtLjcgMS44cy4yIDEuMy43IDEuOGMuNS41IDEuMS43IDEuOC43eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnYnJvd3NlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xOSA0YTIgMiAwIDAgMSAyIDJ2MTJhMiAyIDAgMCAxLTIgMmgtNHYtMmg0VjhINXYxMGg0djJINWEyIDIgMCAwIDEtMi0yVjZjMC0xLjEuOS0yIDItMmgxNHptLTggOS40bC0yLjMgMi4zYTEgMSAwIDEgMS0xLjQtMS40bDQtNGExIDEgMCAwIDEgMS40IDBsNCA0YTEgMSAwIDAgMS0xLjQgMS40TDEzIDEzLjRWMjBhMSAxIDAgMCAxLTIgMHYtNi42eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY2FuY2VsJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMiA0LjZhNy40IDcuNCAwIDEgMSAwIDE0LjggNy40IDcuNCAwIDAgMSAwLTE0Ljh6TTEyIDNhOSA5IDAgMSAwIDAgMTggOSA5IDAgMCAwIDAtMTh6bTAgOEwxNC44IDhsMSAxLjEtMi43IDIuOCAyLjcgMi43LTEuMSAxLjEtMi43LTIuNy0yLjcgMi43LTEtMS4xIDIuNi0yLjctMi43LTIuNyAxLTEuMSAyLjggMi43eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY2hhbmdlLWNhc2UnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4LjQgMTguMnYtLjZjLS41LjgtMS4zIDEuMi0yLjQgMS4yLTIuMiAwLTMuMy0xLjYtMy4zLTQuOCAwLTMuMSAxLTQuNyAzLjMtNC43IDEuMSAwIDEuOC4zIDIuNCAxLjF2LS42YzAtLjUuNC0uOC44LS44cy44LjMuOC44djguNGMwIC41LS40LjgtLjguOGEuOC44IDAgMCAxLS44LS44em0tMi03LjRjLTEuMyAwLTEuOC45LTEuOCAzLjIgMCAyLjQuNSAzLjMgMS43IDMuMyAxLjMgMCAxLjgtLjkgMS44LTMuMiAwLTIuNC0uNS0zLjMtMS43LTMuM3pNMTAgMTUuN0g1LjVsLS44IDIuNmExIDEgMCAwIDEtMSAuN2gtLjJhLjcuNyAwIDAgMS0uNy0xbDQtMTJhMSAxIDAgMSAxIDIgMGw0IDEyYS43LjcgMCAwIDEtLjggMWgtLjJhMSAxIDAgMCAxLTEtLjdsLS44LTIuNnptLS4zLTEuNWwtMi02LjUtMS45IDYuNWgzLjl6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdjaGFyYWN0ZXItY291bnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTQgMTEuNWgxNnYxSDR2LTF6bTQuOC02LjhWMTBINy43VjUuOGgtMXYtMWgyek0xMSA4LjNWOWgydjFoLTNWNy43bDItMXYtLjloLTJ2LTFoM3YyLjRsLTIgMXptNi4zLTMuNFYxMGgtMy4xVjloMi4xVjhoLTIuMVY2LjhoMi4xdi0xaC0yLjF2LTFoMy4xek01LjggMTYuNGMwLS41LjItLjguNS0xIC4yLS4yLjYtLjMgMS4yLS4zbC44LjFjLjIgMCAuNC4yLjUuM2wuNC40djIuOGwuMi4zSDguMnYtLjEtLjJsLS42LjNIN2MtLjQgMC0uNyAwLTEtLjJhMSAxIDAgMCAxLS4zLS45YzAtLjMgMC0uNi4zLS44LjMtLjIuNy0uNCAxLjItLjRsLjYtLjJoLjN2LS4ybC0uMS0uMmEuOC44IDAgMCAwLS41LS4xIDEgMSAwIDAgMC0uNCAwbC0uMy40aC0xem0yLjMuOGgtLjJsLS4yLjEtLjQuMWExIDEgMCAwIDAtLjQuMmwtLjIuMi4xLjMuNS4xaC40bC40LS40di0uNnptMi0zLjRoMS4ydjEuN2wuNS0uM2guNWMuNSAwIC45LjEgMS4yLjUuMy40LjUuOC41IDEuNCAwIC42LS4yIDEuMS0uNSAxLjUtLjMuNC0uNy42LTEuMy42bC0uNi0uMS0uNC0uNHYuNGgtMS4xdi01LjR6bTEuMSAzLjNjMCAuMyAwIC42LjIuOGEuNy43IDAgMCAwIDEuMiAwbC4yLS44YzAtLjQgMC0uNi0uMi0uOGEuNy43IDAgMCAwLS42LS4zbC0uNi4zLS4yLjh6bTYuMS0uNWMwLS4yIDAtLjMtLjItLjRhLjguOCAwIDAgMC0uNS0uMmMtLjMgMC0uNS4xLS42LjNsLS4yLjljMCAuMyAwIC42LjIuOC4xLjIuMy4zLjYuMy4yIDAgLjQgMCAuNS0uMmwuMi0uNGgxLjFjMCAuNS0uMy44LS42IDEuMWEyIDIgMCAwIDEtMS4zLjRjLS41IDAtMS0uMi0xLjMtLjZhMiAyIDAgMCAxLS41LTEuNGMwLS42LjEtMS4xLjUtMS41LjMtLjQuOC0uNSAxLjQtLjUuNSAwIDEgMCAxLjIuMy40LjMuNS43LjUgMS4yaC0xdi0uMXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2NoZWNrbGlzdC1ydGwnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTUgMTdoOGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg1YTEgMSAwIDAgMSAwLTJ6bTAtNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDVhMSAxIDAgMCAxIDAtMnptMC02aDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFINWExIDEgMCAxIDEgMC0yem0xNC4yIDExYy4yLS40LjYtLjUuOS0uMy4zLjIuNC42LjIgMUwxOCAyMGMtLjIuMy0uNy40LTEgMGwtMS4zLTEuM2EuNy43IDAgMCAxIDAtMWMuMy0uMi43LS4yIDEgMGwuNy45IDEuNy0yLjh6bTAtNmMuMi0uNC42LS41LjktLjMuMy4yLjQuNi4yIDFMMTggMTRjLS4yLjMtLjcuNC0xIDBsLTEuMy0xLjNhLjcuNyAwIDAgMSAwLTFjLjMtLjIuNy0uMiAxIDBsLjcuOSAxLjctMi44em0wLTZjLjItLjQuNi0uNS45LS4zLjMuMi40LjYuMiAxTDE4IDhjLS4yLjMtLjcuNC0xIDBsLTEuMy0xLjNhLjcuNyAwIDAgMSAwLTFjLjMtLjIuNy0uMiAxIDBsLjcuOSAxLjctMi44eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnY2hlY2tsaXN0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMSAxN2g4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAtNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAtNmg4YTEgMSAwIDAgMSAwIDJoLThhMSAxIDAgMCAxIDAtMnpNNy4yIDE2Yy4yLS40LjYtLjUuOS0uMy4zLjIuNC42LjIgMUw2IDIwYy0uMi4zLS43LjQtMSAwbC0xLjMtMS4zYS43LjcgMCAwIDEgMC0xYy4zLS4yLjctLjIgMSAwbC43LjkgMS43LTIuOHptMC02Yy4yLS40LjYtLjUuOS0uMy4zLjIuNC42LjIgMUw2IDE0Yy0uMi4zLS43LjQtMSAwbC0xLjMtMS4zYS43LjcgMCAwIDEgMC0xYy4zLS4yLjctLjIgMSAwbC43LjkgMS43LTIuOHptMC02Yy4yLS40LjYtLjUuOS0uMy4zLjIuNC42LjIgMUw2IDhjLS4yLjMtLjcuNC0xIDBMMy44IDYuOWEuNy43IDAgMCAxIDAtMWMuMy0uMi43LS4yIDEgMGwuNy45IDEuNy0yLjh6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdjaGVja21hcmsnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4LjIgNS40YTEgMSAwIDAgMSAxLjYgMS4ybC04IDEyYTEgMSAwIDAgMS0xLjUuMWwtNS01YTEgMSAwIDEgMSAxLjQtMS40bDQuMSA0LjEgNy40LTExeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY2hldnJvbi1kb3duJzonPHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiPjxwYXRoIGQ9Ik04LjcgMi4yYy4zLS4zLjgtLjMgMSAwIC40LjQuNC45IDAgMS4yTDUuNyA3LjhjLS4zLjMtLjkuMy0xLjIgMEwuMiAzLjRhLjguOCAwIDAgMSAwLTEuMmMuMy0uMy44LS4zIDEuMSAwTDUgNmwzLjctMy44eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY2hldnJvbi1sZWZ0JzonPHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiPjxwYXRoIGQ9Ik03LjggMS4zTDQgNWwzLjggMy43Yy4zLjMuMy44IDAgMS0uNC40LS45LjQtMS4yIDBMMi4yIDUuN2EuOC44IDAgMCAxIDAtMS4yTDYuNi4yQzcgMCA3LjQgMCA3LjguMmMuMy4zLjMuOCAwIDEuMXoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2NoZXZyb24tcmlnaHQnOic8c3ZnIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCI+PHBhdGggZD0iTTIuMiAxLjNhLjguOCAwIDAgMSAwLTFjLjQtLjQuOS0uNCAxLjIgMGw0LjQgNC4xYy4zLjQuMy45IDAgMS4yTDMuNCA5LjhjLS4zLjMtLjguMy0xLjIgMGEuOC44IDAgMCAxIDAtMS4xTDYgNSAyLjIgMS4zeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY2hldnJvbi11cCc6Jzxzdmcgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIj48cGF0aCBkPSJNOC43IDcuOEw1IDQgMS4zIDcuOGMtLjMuMy0uOC4zLTEgMGEuOC44IDAgMCAxIDAtMS4ybDQuMS00LjRjLjMtLjMuOS0uMyAxLjIgMGw0LjIgNC40Yy4zLjMuMy45IDAgMS4yLS4zLjMtLjguMy0xLjEgMHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2Nsb3NlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNy4zIDguMkwxMy40IDEybDMuOSAzLjhhMSAxIDAgMCAxLTEuNSAxLjVMMTIgMTMuNGwtMy44IDMuOWExIDEgMCAwIDEtMS41LTEuNWwzLjktMy44LTMuOS0zLjhhMSAxIDAgMCAxIDEuNS0xLjVsMy44IDMuOSAzLjgtMy45YTEgMSAwIDAgMSAxLjUgMS41eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnY29kZS1zYW1wbGUnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNiI+PHBhdGggZD0iTTcuMSAxMWEyLjggMi44IDAgMCAxLS44IDIgMi44IDIuOCAwIDAgMSAuOCAydjEuN2MwIC4zLjEuNi40LjguMi4zLjUuNC44LjQuMyAwIC40LjIuNC40di44YzAgLjItLjEuNC0uNC40LS43IDAtMS40LS4zLTItLjgtLjUtLjYtLjgtMS4zLS44LTJWMTVjMC0uMy0uMS0uNi0uNC0uOC0uMi0uMy0uNS0uNC0uOC0uNGEuNC40IDAgMCAxLS40LS40di0uOGMwLS4yLjItLjQuNC0uNC4zIDAgLjYtLjEuOC0uNC4zLS4yLjQtLjUuNC0uOFY5LjNjMC0uNy4zLTEuNC44LTIgLjYtLjUgMS4zLS44IDItLjguMyAwIC40LjIuNC40di44YzAgLjItLjEuNC0uNC40LS4zIDAtLjYuMS0uOC40LS4zLjItLjQuNS0uNC44VjExem05LjggMFY5LjNjMC0uMy0uMS0uNi0uNC0uOC0uMi0uMy0uNS0uNC0uOC0uNGEuNC40IDAgMCAxLS40LS40VjdjMC0uMi4xLS40LjQtLjQuNyAwIDEuNC4zIDIgLjguNS42LjggMS4zLjggMlYxMWMwIC4zLjEuNi40LjguMi4zLjUuNC44LjQuMiAwIC40LjIuNC40di44YzAgLjItLjIuNC0uNC40LS4zIDAtLjYuMS0uOC40LS4zLjItLjQuNS0uNC44djEuN2MwIC43LS4zIDEuNC0uOCAyLS42LjUtMS4zLjgtMiAuOGEuNC40IDAgMCAxLS40LS40di0uOGMwLS4yLjEtLjQuNC0uNC4zIDAgLjYtLjEuOC0uNC4zLS4yLjQtLjUuNC0uOFYxNWEyLjggMi44IDAgMCAxIC44LTIgMi44IDIuOCAwIDAgMS0uOC0yem0tMy4zLS40YzAgLjQtLjEuOC0uNSAxLjEtLjMuMy0uNy41LTEuMS41LS40IDAtLjgtLjItMS4xLS41LS40LS4zLS41LS43LS41LTEuMSAwLS41LjEtLjkuNS0xLjIuMy0uMy43LS40IDEuMS0uNC40IDAgLjguMSAxLjEuNC40LjMuNS43LjUgMS4yek0xMiAxM2MuNCAwIC44LjEgMS4xLjUuNC4zLjUuNy41IDEuMSAwIDEtLjEgMS42LS41IDJhMyAzIDAgMCAxLTEuMSAxYy0uNC4zLS44LjQtMS4xLjRhLjUuNSAwIDAgMS0uNS0uNVYxN2EzIDMgMCAwIDAgMS0uMmwuNi0uNmMtLjYgMC0xLS4yLTEuMy0uNS0uMi0uMy0uMy0uNy0uMy0xIDAtLjUuMS0xIC41LTEuMi4zLS40LjctLjUgMS4xLS41eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnY29sb3ItbGV2ZWxzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNy41IDExLjRBOSA5IDAgMCAxIDE4IDE0YzAgLjUgMCAxLS4yIDEuNCAwIC40LS4zLjktLjUgMS4zYTYuMiA2LjIgMCAwIDEtMy43IDMgNS43IDUuNyAwIDAgMS0zLjIgMEE1LjkgNS45IDAgMCAxIDcuNiAxOGE2LjIgNi4yIDAgMCAxLTEuNC0yLjYgNi43IDYuNyAwIDAgMSAwLTIuOGMwLS40LjEtLjkuMy0xLjNhMTMuNiAxMy42IDAgMCAxIDIuMy00QTIwIDIwIDAgMCAxIDEyIDRhMjYuNCAyNi40IDAgMCAxIDMuMiAzLjQgMTguMiAxOC4yIDAgMCAxIDIuMyA0em0tMiA0LjVjLjQtLjcuNS0xLjQuNS0yYTcuMyA3LjMgMCAwIDAtMS0zLjJjLjIuNi4yIDEuMi4yIDEuOWE0LjUgNC41IDAgMCAxLTEuMyAzIDUuMyA1LjMgMCAwIDEtMi4zIDEuNSA0LjkgNC45IDAgMCAxLTIgLjEgNC4zIDQuMyAwIDAgMCAyLjQuOCA0IDQgMCAwIDAgMi0uNiA0IDQgMCAwIDAgMS41LTEuNXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2NvbG9yLXBpY2tlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgM2E5IDkgMCAwIDAgMCAxOCAxLjUgMS41IDAgMCAwIDEuMS0yLjVjLS4yLS4zLS40LS42LS40LTEgMC0uOC43LTEuNSAxLjUtMS41SDE2YTUgNSAwIDAgMCA1LTVjMC00LjQtNC04LTktOHptLTUuNSA5YTEuNSAxLjUgMCAxIDEgMC0zIDEuNSAxLjUgMCAwIDEgMCAzem0zLTRhMS41IDEuNSAwIDEgMSAwLTMgMS41IDEuNSAwIDAgMSAwIDN6bTUgMGExLjUgMS41IDAgMSAxIDAtMyAxLjUgMS41IDAgMCAxIDAgM3ptMyA0YTEuNSAxLjUgMCAxIDEgMC0zIDEuNSAxLjUgMCAwIDEgMCAzeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY29sb3Itc3dhdGNoLXJlbW92ZS1jb2xvcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIxIDNMMyAyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnY29sb3Itc3dhdGNoJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxyZWN0IHg9IjMiIHk9IjMiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgcng9IjEiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2NvbW1lbnQtYWRkJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTkgMTlsMy0yaDdjLjYgMCAxLS40IDEtMVY2YzAtLjYtLjQtMS0xLTFINWExIDEgMCAwIDAtMSAxdjEwYzAgLjYuNCAxIDEgMWg0djJ6bS0yIDR2LTRINWEzIDMgMCAwIDEtMy0zVjZhMyAzIDAgMCAxIDMtM2gxNGEzIDMgMCAwIDEgMyAzdjEwYTMgMyAwIDAgMS0zIDNoLTYuNEw3IDIzeiIvPjxwYXRoIGQ9Ik0xMyAxMGgyYTEgMSAwIDAgMSAwIDJoLTJ2MmExIDEgMCAwIDEtMiAwdi0ySDlhMSAxIDAgMCAxIDAtMmgyVjhhMSAxIDAgMCAxIDIgMHYyeiIvPjwvZz48L3N2Zz4nLCdjb21tZW50JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTkgMTlsMy0yaDdjLjYgMCAxLS40IDEtMVY2YzAtLjYtLjQtMS0xLTFINWExIDEgMCAwIDAtMSAxdjEwYzAgLjYuNCAxIDEgMWg0djJ6bS0yIDR2LTRINWEzIDMgMCAwIDEtMy0zVjZhMyAzIDAgMCAxIDMtM2gxNGEzIDMgMCAwIDEgMyAzdjEwYTMgMyAwIDAgMS0zIDNoLTYuNEw3IDIzeiIvPjwvc3ZnPicsJ2NvbnRyYXN0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMiA0YTcuOCA3LjggMCAwIDEgNS43IDIuM0E4IDggMCAxIDEgMTIgNHptLTYgOGE2IDYgMCAwIDAgNiA2VjZhNiA2IDAgMCAwLTYgNnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2NvcHknOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE2IDNINmEyIDIgMCAwIDAtMiAydjExaDJWNWgxMFYzem0xIDRhMiAyIDAgMCAxIDIgMnYxMGEyIDIgMCAwIDEtMiAyaC03YTIgMiAwIDAgMS0yLTJWOWMwLTEuMi45LTIgMi0yaDd6bTAgMTJWOWgtN3YxMGg3eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnY3JvcCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTcgOHY3aDJjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFoLTJ2MmMwIC42LS40IDEtMSAxYTEgMSAwIDAgMS0xLTF2LTJIN1Y5SDVhMSAxIDAgMSAxIDAtMmgyVjVjMC0uNi40LTEgMS0xczEgLjQgMSAxdjJoN2wzLTMgMSAxLTMgM3pNOSA5djVsNS01SDl6bTEgNmg1di01bC01IDV6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdjdXQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDE1Yy42LjcgMSAxLjQgMSAyLjMgMCAuOC0uMiAxLjUtLjcgMmwtLjguNS0xIC4yYy0uNCAwLS44IDAtMS4yLS4zYTMuOSAzLjkgMCAwIDEtMi4xLTIuMmMtLjItLjUtLjMtMS0uMi0xLjVsLTEtMS0xIDFjMCAuNSAwIDEtLjIgMS41LS4xLjUtLjQgMS0uOSAxLjQtLjMuNC0uNy42LTEuMi44bC0xLjIuM2MtLjQgMC0uNyAwLTEtLjItLjMgMC0uNi0uMy0uOC0uNS0uNS0uNS0uOC0xLjItLjctMiAwLS45LjQtMS42IDEtMi4yQTMuNyAzLjcgMCAwIDEgOC42IDE0SDlsMS0xLTQtNC0uNS0xYTMuMyAzLjMgMCAwIDEgMC0yYzAtLjQuMy0uNy41LTFsNiA2IDYtNiAuNSAxYTMuMyAzLjMgMCAwIDEgMCAyYzAgLjQtLjMuNy0uNSAxbC00IDQgMSAxaC41Yy40IDAgLjggMCAxLjIuMy41LjIuOS40IDEuMi44em0tOC41IDIuMmwuMS0uNHYtLjMtLjRhMSAxIDAgMCAwLS4yLS41IDEgMSAwIDAgMC0uNC0uMiAxLjYgMS42IDAgMCAwLS44IDAgMi42IDIuNiAwIDAgMC0uOC4zIDIuNSAyLjUgMCAwIDAtLjkgMS4xbC0uMS40di43bC4yLjUuNS4yaC43YTIuNSAyLjUgMCAwIDAgLjgtLjMgMi44IDIuOCAwIDAgMCAxLTF6bTIuNS0yLjhjLjQgMCAuNy0uMSAxLS40LjMtLjMuNC0uNi40LTFzLS4xLS43LS40LTFjLS4zLS4zLS42LS40LTEtLjRzLS43LjEtMSAuNGMtLjMuMy0uNC42LS40IDFzLjEuNy40IDFjLjMuMy42LjQgMSAuNHptNS40IDRsLjItLjV2LS40LS4zYTIuNiAyLjYgMCAwIDAtLjMtLjggMi40IDIuNCAwIDAgMC0uNy0uNyAyLjUgMi41IDAgMCAwLS44LS4zIDEuNSAxLjUgMCAwIDAtLjggMCAxIDEgMCAwIDAtLjQuMiAxIDEgMCAwIDAtLjIuNSAxLjUgMS41IDAgMCAwIDAgLjd2LjRsLjMuNC4zLjRhMi44IDIuOCAwIDAgMCAuOC41bC40LjFoLjdsLjUtLjJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdkb2N1bWVudC1wcm9wZXJ0aWVzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNC40IDNIN2EyIDIgMCAwIDAtMiAydjE0YzAgMS4xLjkgMiAyIDJoMTBhMiAyIDAgMCAwIDItMlY3LjZMMTQuNCAzek0xNyAxOUg3VjVoNnY0aDR2MTB6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdkcmFnJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMyA1aDJ2MmgtMlY1em0wIDRoMnYyaC0yVjl6TTkgOWgydjJIOVY5em00IDRoMnYyaC0ydi0yem0tNCAwaDJ2Mkg5di0yem0wIDRoMnYySDl2LTJ6bTQgMGgydjJoLTJ2LTJ6TTkgNWgydjJIOVY1eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnZHVwbGljYXRlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTE2IDN2Mkg2djExSDRWNWMwLTEuMS45LTIgMi0yaDEwem0zIDhoLTJWOWgtN3YxMGg5YTIgMiAwIDAgMS0yIDJoLTdhMiAyIDAgMCAxLTItMlY5YzAtMS4yLjktMiAyLTJoN2EyIDIgMCAwIDEgMiAydjJ6Ii8+PHBhdGggZD0iTTE3IDE0aDFhMSAxIDAgMCAxIDAgMmgtMXYxYTEgMSAwIDAgMS0yIDB2LTFoLTFhMSAxIDAgMCAxIDAtMmgxdi0xYTEgMSAwIDAgMSAyIDB2MXoiLz48L2c+PC9zdmc+JywnZWRpdC1ibG9jayc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xOS44IDguOGwtOS40IDkuNGMtLjIuMi0uNS40LS45LjRsLTUuNCAxLjIgMS4yLTUuNC41LS44IDkuNC05LjRjLjctLjcgMS44LS43IDIuNSAwbDIuMSAyLjFjLjcuNy43IDEuOCAwIDIuNXptLTItLjJsMS0uOXYtLjNsLTIuMi0yLjJhLjMuMyAwIDAgMC0uMyAwbC0xIDFMMTggOC41em0tMSAxbC0yLjUtMi40LTYgNiAyLjUgMi41IDYtNnptLTcgNy4xbC0yLjYtMi40LS4zLjMtLjEuMi0uNyAzIDMuMS0uNmguMWwuNC0uNXoiLz48L3N2Zz4nLCdlZGl0LWltYWdlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xOCAxNmgyVjdhMiAyIDAgMCAwLTItMkg3djJoMTF2OXpNNiAxN2gxNWExIDEgMCAwIDEgMCAyaC0xdjFhMSAxIDAgMCAxLTIgMHYtMUg2YTIgMiAwIDAgMS0yLTJWN0gzYTEgMSAwIDEgMSAwLTJoMVY0YTEgMSAwIDEgMSAyIDB2MTN6bTMtNS4zbDEuMyAyIDMtNC43IDMuNyA2SDdsMi0zLjN6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdlbWJlZC1wYWdlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xOSA2VjVINXYxNGgyQTEzIDEzIDAgMCAxIDE5IDZ6bTAgMS40Yy0uOC44LTEuNiAyLjQtMi4yIDQuNkgxOVY3LjR6bTAgNS42aC0yLjRjLS40IDEuOC0uNiAzLjgtLjYgNmgzdi02em0tNCA2YzAtMi4yLjItNC4yLjYtNkgxM2MtLjcgMS44LTEuMSAzLjgtMS4xIDZoM3ptLTQgMGMwLTIuMi40LTQuMiAxLTZIOS42QTEyIDEyIDAgMCAwIDggMTloM3pNNCAzaDE2Yy42IDAgMSAuNCAxIDF2MTZjMCAuNi0uNCAxLTEgMUg0YTEgMSAwIDAgMS0xLTFWNGMwLS42LjQtMSAxLTF6bTExLjggOWMuNC0xLjkgMS0zLjQgMS44LTQuNWE5LjIgOS4yIDAgMCAwLTQgNC41aDIuMnptLTMuNCAwYTEyIDEyIDAgMCAxIDIuOC00IDEyIDEyIDAgMCAwLTUgNGgyLjJ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdlbWJlZCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCAzaDE2Yy42IDAgMSAuNCAxIDF2MTZjMCAuNi0uNCAxLTEgMUg0YTEgMSAwIDAgMS0xLTFWNGMwLS42LjQtMSAxLTF6bTEgMnYxNGgxNFY1SDV6bTQuOCAyLjZsNS42IDRhLjUuNSAwIDAgMSAwIC44bC01LjYgNEEuNS41IDAgMCAxIDkgMTZWOGEuNS41IDAgMCAxIC44LS40eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnZW1vamknOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTkgMTFjLjYgMCAxLS40IDEtMXMtLjQtMS0xLTFhMSAxIDAgMCAwLTEgMWMwIC42LjQgMSAxIDF6bTYgMGMuNiAwIDEtLjQgMS0xcy0uNC0xLTEtMWExIDEgMCAwIDAtMSAxYzAgLjYuNCAxIDEgMXptLTMgNS41YzIuMSAwIDQtMS41IDQuNC0zLjVINy42Yy41IDIgMi4zIDMuNSA0LjQgMy41ek0xMiA0YTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2em0wIDE0LjVhNi41IDYuNSAwIDEgMSAwLTEzIDYuNSA2LjUgMCAwIDEgMCAxM3oiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2ZpbGwnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNiI+PHBhdGggZD0iTTE2LjYgMTJsLTktOS0xLjQgMS40IDIuNCAyLjQtNS4yIDUuMWMtLjUuNi0uNSAxLjYgMCAyLjJMOSAxOS42YTEuNSAxLjUgMCAwIDAgMi4yIDBsNS41LTUuNWMuNS0uNi41LTEuNiAwLTIuMnpNNS4yIDEzTDEwIDguMmw0LjggNC44SDUuMnpNMTkgMTQuNXMtMiAyLjItMiAzLjVjMCAxLjEuOSAyIDIgMmEyIDIgMCAwIDAgMi0yYzAtMS4zLTItMy41LTItMy41eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnZmxpcC1ob3Jpem9udGFsbHknOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE0IDE5aDJ2LTJoLTJ2MnptNC04aDJWOWgtMnYyek00IDd2MTBjMCAxLjEuOSAyIDIgMmgzdi0ySDZWN2gzVjVINmEyIDIgMCAwIDAtMiAyem0xNC0ydjJoMmEyIDIgMCAwIDAtMi0yem0tNyAxNmgyVjNoLTJ2MTh6bTctNmgydi0yaC0ydjJ6bS00LThoMlY1aC0ydjJ6bTQgMTJhMiAyIDAgMCAwIDItMmgtMnYyeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnZmxpcC12ZXJ0aWNhbGx5JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik01IDE0djJoMnYtMkg1em04IDR2Mmgydi0yaC0yem00LTE0SDdhMiAyIDAgMCAwLTIgMnYzaDJWNmgxMHYzaDJWNmEyIDIgMCAwIDAtMi0yem0yIDE0aC0ydjJhMiAyIDAgMCAwIDItMnpNMyAxMXYyaDE4di0ySDN6bTYgN3YyaDJ2LTJIOXptOC00djJoMnYtMmgtMnpNNSAxOGMwIDEuMS45IDIgMiAydi0ySDV6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdmb3JtYXQtcGFpbnRlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTggNVY0YzAtLjUtLjQtMS0xLTFINWExIDEgMCAwIDAtMSAxdjRjMCAuNi41IDEgMSAxaDEyYy42IDAgMS0uNCAxLTFWN2gxdjRIOXY5YzAgLjYuNCAxIDEgMWgyYy42IDAgMS0uNCAxLTF2LTdoOFY1aC0zeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnZnVsbHNjcmVlbic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTUuMyAxMGwtMS4yLTEuMyAyLjktM2gtMi4zYS45LjkgMCAxIDEgMC0xLjdIMTljLjUgMCAuOS40LjkuOXY0LjRhLjkuOSAwIDEgMS0xLjggMFY3bC0yLjkgM3ptMCA0bDMgM3YtMi4zYS45LjkgMCAxIDEgMS43IDBWMTljMCAuNS0uNC45LS45LjloLTQuNGEuOS45IDAgMSAxIDAtMS44SDE3bC0zLTIuOSAxLjMtMS4yek0xMCAxNS40bC0yLjkgM2gyLjNhLjkuOSAwIDEgMSAwIDEuN0g1YS45LjkgMCAwIDEtLjktLjl2LTQuNGEuOS45IDAgMSAxIDEuOCAwVjE3bDIuOS0zIDEuMiAxLjN6TTguNyAxMEw1LjcgN3YyLjNhLjkuOSAwIDAgMS0xLjcgMFY1YzAtLjUuNC0uOS45LS45aDQuNGEuOS45IDAgMCAxIDAgMS44SDdsMyAyLjktMS4zIDEuMnoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ2dhbGxlcnknOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNNSAxNS43bDIuMy0yLjJjLjMtLjMuNy0uMyAxIDBMMTEgMTZsNS4xLTVjLjMtLjQuOC0uNCAxIDBsMiAxLjlWOEg1djcuN3pNNSAxOFYxOWgzbDEuOC0xLjktMi0yTDUgMTcuOXptMTQtM2wtMi41LTIuNC02LjQgNi41SDE5di00ek00IDZoMTZjLjYgMCAxIC40IDEgMXYxM2MwIC42LS40IDEtMSAxSDRhMSAxIDAgMCAxLTEtMVY3YzAtLjYuNC0xIDEtMXptNiA3YTIgMiAwIDEgMSAwLTQgMiAyIDAgMCAxIDAgNHpNNC41IDRoMTVhLjUuNSAwIDEgMSAwIDFoLTE1YS41LjUgMCAwIDEgMC0xem0yLTJoMTFhLjUuNSAwIDEgMSAwIDFoLTExYS41LjUgMCAwIDEgMC0xeiIvPjwvc3ZnPicsJ2dhbW1hJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik00IDNoMTZjLjYgMCAxIC40IDEgMXYxNmMwIC42LS40IDEtMSAxSDRhMSAxIDAgMCAxLTEtMVY0YzAtLjYuNC0xIDEtMXptMSAydjE0aDE0VjVINXptNi41IDExLjhWMTRMOS4yIDguN2E1LjEgNS4xIDAgMCAwLS40LS44bC0uMS0uMkg4IDh2LTFsLjMtLjEuMy0uMWguN2ExIDEgMCAwIDEgLjYuNWwuMS4zYTguNSA4LjUgMCAwIDEgLjMuNmwxLjkgNC42IDItNS4yYTEgMSAwIDAgMSAxLS42LjUuNSAwIDAgMSAuNS42TDEzIDE0djIuOGEuNy43IDAgMCAxLTEuNCAweiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnaGVscCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiA1LjVhNi41IDYuNSAwIDAgMC02IDkgNi4zIDYuMyAwIDAgMCAxLjQgMmwxIDFhNi4zIDYuMyAwIDAgMCAzLjYgMSA2LjUgNi41IDAgMCAwIDYtOSA2LjMgNi4zIDAgMCAwLTEuNC0ybC0xLTFhNi4zIDYuMyAwIDAgMC0zLjYtMXpNMTIgNGE3LjggNy44IDAgMCAxIDUuNyAyLjNBOCA4IDAgMSAxIDEyIDR6Ii8+PHBhdGggZD0iTTkuNiA5LjdhLjcuNyAwIDAgMS0uNy0uOGMwLTEuMSAxLjUtMS44IDMuMi0xLjggMS44IDAgMy4yLjggMy4yIDIuNCAwIDEuNC0uNCAyLjEtMS41IDIuOC0uMiAwLS4zLjEtLjMuMmEyIDIgMCAwIDAtLjguOC44LjggMCAwIDEtMS40LS42Yy4zLS43LjgtMSAxLjMtMS41bC40LS4yYy43LS40LjgtLjYuOC0xLjUgMC0uNS0uNi0uOS0xLjctLjktLjUgMC0xIC4xLTEuNC4zLS4yIDAtLjMuMS0uMy4ydi0uMmMwIC40LS40LjgtLjguOHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTYiIHI9IjEiLz48L2c+PC9zdmc+JywnaGlnaGxpZ2h0LWJnLWNvbG9yJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggaWQ9InRveC1pY29uLWhpZ2hsaWdodC1iZy1jb2xvcl9fY29sb3IiIGQ9Ik0zIDE4aDE4djNIM3oiLz48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik03LjcgMTYuN0gzbDMuMy0zLjMtLjctLjhMMTAuMiA4bDQgNC4xLTQgNC4yYy0uMi4yLS42LjItLjggMGwtLjYtLjctMS4xIDEuMXptNS03LjVMMTEgNy40bDMtMi45YTIgMiAwIDAgMSAyLjYgMEwxOCA2Yy43LjcuNyAyIDAgMi43bC0yLjkgMi45LTEuOC0xLjgtLjUtLjYiLz48L2c+PC9zdmc+JywnaG9tZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMCAyMHYtNmg0djZoNXYtOGgzTDEyIDMgMiAxMmgzdjh6Ii8+PC9zdmc+JywnaG9yaXpvbnRhbC1ydWxlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik00IDExaDE2djJINHoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2ltYWdlLW9wdGlvbnMnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTYgMTBhMiAyIDAgMCAwLTIgMmMwIDEuMS45IDIgMiAyYTIgMiAwIDAgMCAyLTIgMiAyIDAgMCAwLTItMnptMTIgMGEyIDIgMCAwIDAtMiAyYzAgMS4xLjkgMiAyIDJhMiAyIDAgMCAwIDItMiAyIDIgMCAwIDAtMi0yem0tNiAwYTIgMiAwIDAgMC0yIDJjMCAxLjEuOSAyIDIgMmEyIDIgMCAwIDAgMi0yIDIgMiAwIDAgMC0yLTJ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdpbWFnZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSAxNS43bDMuMy0zLjJjLjMtLjMuNy0uMyAxIDBMMTIgMTVsNC4xLTRjLjMtLjQuOC0uNCAxIDBsMiAxLjlWNUg1djEwLjd6TTUgMThWMTloM2wyLjgtMi45LTItMkw1IDE3Ljl6bTE0LTNsLTIuNS0yLjQtNi40IDYuNUgxOXYtNHpNNCAzaDE2Yy42IDAgMSAuNCAxIDF2MTZjMCAuNi0uNCAxLTEgMUg0YTEgMSAwIDAgMS0xLTFWNGMwLS42LjQtMSAxLTF6bTYgOGEyIDIgMCAxIDAgMC00IDIgMiAwIDAgMCAwIDR6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdpbmRlbnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTcgNWgxMmMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg3YTEgMSAwIDEgMSAwLTJ6bTUgNGg3Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC03YTEgMSAwIDAgMSAwLTJ6bTAgNGg3Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC03YTEgMSAwIDAgMSAwLTJ6bS01IDRoMTJhMSAxIDAgMCAxIDAgMkg3YTEgMSAwIDAgMSAwLTJ6bS0yLjYtMy44TDYuMiAxMmwtMS44LTEuMmExIDEgMCAwIDEgMS4yLTEuNmwzIDJhMSAxIDAgMCAxIDAgMS42bC0zIDJhMSAxIDAgMSAxLTEuMi0xLjZ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdpbmZvJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMiA0YTcuOCA3LjggMCAwIDEgNS43IDIuM0E4IDggMCAxIDEgMTIgNHptLTEgM3YyaDJWN2gtMnptMyAxMHYtMWgtMXYtNWgtM3YxaDF2NGgtMXYxaDR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdpbnNlcnQtY2hhcmFjdGVyJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNSAxOGg0bDEtMnY0aC02di0zLjNsMS40LTFhNiA2IDAgMCAwIDEuOC0yLjkgNi4zIDYuMyAwIDAgMC0uMS00LjEgNS44IDUuOCAwIDAgMC0zLTMuMmMtLjYtLjMtMS4zLS41LTIuMS0uNWE1LjEgNS4xIDAgMCAwLTMuOSAxLjggNi4zIDYuMyAwIDAgMC0xLjMgNiA2LjIgNi4yIDAgMCAwIDEuOCAzbDEuNC45VjIwSDR2LTRsMSAyaDR2LS41bC0yLTFMNS40IDE1QTYuNSA2LjUgMCAwIDEgNCAxMWMwLTEgLjItMS45LjYtMi43QTcgNyAwIDAgMSA2LjMgNkM3LjEgNS40IDggNSA5IDQuNWMxLS4zIDItLjUgMy4xLS41YTguOCA4LjggMCAwIDEgNS43IDIgNyA3IDAgMCAxIDEuNyAyLjMgNiA2IDAgMCAxIC4yIDQuOGMtLjIuNy0uNiAxLjMtMSAxLjlhNy42IDcuNiAwIDAgMS0zLjYgMi41di41eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnaW5zZXJ0LXRpbWUnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTIgMTlhNyA3IDAgMSAwIDAtMTQgNyA3IDAgMCAwIDAgMTR6bTAgMmE5IDkgMCAxIDEgMC0xOCA5IDkgMCAwIDEgMCAxOHoiLz48cGF0aCBkPSJNMTYgMTJoLTNWN2MwLS42LS40LTEtMS0xYTEgMSAwIDAgMC0xIDF2N2g1Yy42IDAgMS0uNCAxLTFzLS40LTEtMS0xeiIvPjwvZz48L3N2Zz4nLCdpbnZlcnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDE5LjNMMTYuNSAxOGE1LjggNS44IDAgMCAxLTMuMSAxLjkgNi4xIDYuMSAwIDAgMS01LjUtMS42QTUuOCA1LjggMCAwIDEgNiAxNHYtLjNsLjEtMS4yQTEzLjkgMTMuOSAwIDAgMSA3LjcgOWwtMy0zIC43LS44IDIuOCAyLjkgOSA4LjkgMS41IDEuNi0uNy42em0wLTUuNXYuM2wtLjEgMS4xLS40IDEtMS4yLTEuMmE0LjMgNC4zIDAgMCAwIC4yLTF2LS4yYzAtLjQgMC0uOC0uMi0xLjNsLS41LTEuNGExNC44IDE0LjggMCAwIDAtMy00LjJMMTIgNmEyNi4xIDI2LjEgMCAwIDAtMi4yIDIuNWwtMS0xYTIwLjkgMjAuOSAwIDAgMSAyLjktMy4zTDEyIDRsMSAuOGEyMi4yIDIyLjIgMCAwIDEgNCA1LjRjLjYgMS4yIDEgMi40IDEgMy42eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnaXRhbGljJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNi43IDQuN2wtLjEuOWgtLjNjLS42IDAtMSAwLTEuNC4zLS4zLjMtLjQuNi0uNSAxLjFsLTIuMSA5Ljh2LjZjMCAuNS40LjggMS40LjhoLjJsLS4yLjhIOGwuMi0uOGguMmMxLjEgMCAxLjgtLjUgMi0xLjVsMi05LjguMS0uNWMwLS42LS40LS44LTEuNC0uOGgtLjNsLjItLjloNS44eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnbGluZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTUgOWwtOCA4SDR2LTNsOC04IDMgM3ptMS0xbC0zLTMgMS0xaDFjLS4yIDAgMCAwIDAgMGwyIDJzMCAuMiAwIDB2MWwtMSAxek00IDE4aDE2djJINHYtMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ2xpbmsnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTYuMiAxMi4zYTEgMSAwIDAgMSAxLjQgMS40bC0yLjEgMmEyIDIgMCAxIDAgMi43IDIuOGw0LjgtNC44YTEgMSAwIDAgMCAwLTEuNCAxIDEgMCAxIDEgMS40LTEuMyAyLjkgMi45IDAgMCAxIDAgNEw5LjYgMjBhMy45IDMuOSAwIDAgMS01LjUtNS41bDItMnptMTEuNi0uNmExIDEgMCAwIDEtMS40LTEuNGwyLTJhMiAyIDAgMSAwLTIuNi0yLjhMMTEgMTAuM2ExIDEgMCAwIDAgMCAxLjRBMSAxIDAgMSAxIDkuNiAxM2EyLjkgMi45IDAgMCAxIDAtNEwxNC40IDRhMy45IDMuOSAwIDAgMSA1LjUgNS41bC0yIDJ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdsaXN0LWJ1bGwtY2lyY2xlJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTExIDE2YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNHptMCAxYTMgMyAwIDEgMSAwLTYgMyAzIDAgMCAxIDAgNnpNMTEgMjZhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0em0wIDFhMyAzIDAgMSAxIDAtNiAzIDMgMCAwIDEgMCA2ek0xMSAzNmEyIDIgMCAxIDAgMC00IDIgMiAwIDAgMCAwIDR6bTAgMWEzIDMgMCAxIDEgMC02IDMgMyAwIDAgMSAwIDZ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBvcGFjaXR5PSIuMiIgZD0iTTE4IDEyaDIydjRIMTh6TTE4IDIyaDIydjRIMTh6TTE4IDMyaDIydjRIMTh6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtYnVsbC1kZWZhdWx0JzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxNCIgcj0iMyIvPjxjaXJjbGUgY3g9IjExIiBjeT0iMjQiIHI9IjMiLz48Y2lyY2xlIGN4PSIxMSIgY3k9IjM0IiByPSIzIi8+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjwvZz48L3N2Zz4nLCdsaXN0LWJ1bGwtc3F1YXJlJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTggMTFoNnY2SDh6TTggMjFoNnY2SDh6TTggMzFoNnY2SDh6Ii8+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjwvZz48L3N2Zz4nLCdsaXN0LW51bS1kZWZhdWx0LXJ0bCc6Jzxzdmcgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIG9wYWNpdHk9Ii4yIiBkPSJNOCAxMmgyMnY0SDh6TTggMjJoMjJ2NEg4ek04IDMyaDIydjRIOHoiLz48cGF0aCBkPSJNMzcuNCAxN3YtNC44bC0xLjYgMXYtMS4xbDEuNi0xaDEuMlYxN3pNMzMuMyAxNy4xYy0uNSAwLS44LS4zLS44LS43IDAtLjQuMy0uNy44LS43LjQgMCAuNy4zLjcuNyAwIC40LS4zLjctLjcuN3ptMS43IDUuN2MwLTEuMiAxLTIgMi4yLTIgMS4zIDAgMi4xLjggMi4xIDEuOCAwIC43LS4zIDEuMi0xLjMgMi4ybC0xLjIgMXYuMmgyLjZ2MWgtNC4zdi0uOWwyLTEuOWMuOC0uOCAxLTEuMSAxLTEuNSAwLS41LS40LS44LTEtLjgtLjUgMC0uOS4zLS45LjlIMzV6bS0xLjcgNC4zYy0uNSAwLS44LS4zLS44LS43IDAtLjQuMy0uNy44LS43LjQgMCAuNy4zLjcuNyAwIC40LS4zLjctLjcuN3ptMy4yIDcuM3YtMWguN2MuNiAwIDEtLjMgMS0uOCAwLS40LS40LS43LTEtLjdzLTEgLjMtMSAuOEgzNWMwLTEuMSAxLTEuOCAyLjItMS44IDEuMiAwIDIuMS42IDIuMSAxLjYgMCAuNy0uNCAxLjItMSAxLjN2LjFjLjcuMSAxLjMuNyAxLjMgMS40IDAgMS0xIDEuOS0yLjQgMS45LTEuMyAwLTIuMi0uOC0yLjMtMmgxLjJjMCAuNi41IDEgMS4xIDEgLjYgMCAxLS40IDEtMSAwLS41LS4zLS44LTEtLjhoLS43em0tMy4zIDIuN2MtLjQgMC0uNy0uMy0uNy0uNyAwLS40LjMtLjcuNy0uNy41IDAgLjguMy44LjcgMCAuNC0uMy43LS44Ljd6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLWRlZmF1bHQnOic8c3ZnIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBvcGFjaXR5PSIuMiIgZD0iTTE4IDEyaDIydjRIMTh6TTE4IDIyaDIydjRIMTh6TTE4IDMyaDIydjRIMTh6Ii8+PHBhdGggZD0iTTEwIDE3di00LjhsLTEuNSAxdi0xLjFsMS42LTFoMS4yVjE3aC0xLjJ6bTMuNi4xYy0uNCAwLS43LS4zLS43LS43IDAtLjQuMy0uNy43LS43LjUgMCAuNy4zLjcuNyAwIC40LS4yLjctLjcuN3ptLTUgNS43YzAtMS4yLjgtMiAyLjEtMnMyLjEuOCAyLjEgMS44YzAgLjctLjMgMS4yLTEuNCAyLjJsLTEuMSAxdi4yaDIuNnYxSDguNnYtLjlsMi0xLjljLjgtLjggMS0xLjEgMS0xLjUgMC0uNS0uNC0uOC0xLS44LS41IDAtLjkuMy0uOS45SDguNXptNi4zIDQuM2MtLjUgMC0uNy0uMy0uNy0uNyAwLS40LjItLjcuNy0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6TTEwIDM0LjR2LTFoLjdjLjYgMCAxLS4zIDEtLjggMC0uNC0uNC0uNy0xLS43cy0xIC4zLTEgLjhIOC42YzAtMS4xIDEtMS44IDIuMi0xLjggMS4zIDAgMi4xLjYgMi4xIDEuNiAwIC43LS40IDEuMi0xIDEuM3YuMWMuOC4xIDEuMy43IDEuMyAxLjQgMCAxLTEgMS45LTIuNCAxLjktMS4zIDAtMi4yLS44LTIuMy0yaDEuMmMwIC42LjUgMSAxLjEgMSAuNyAwIDEtLjQgMS0xIDAtLjUtLjMtLjgtMS0uOGgtLjd6bTQuNyAyLjdjLS40IDAtLjctLjMtLjctLjcgMC0uNC4zLS43LjctLjcuNSAwIC44LjMuOC43IDAgLjQtLjMuNy0uOC43eiIvPjwvZz48L3N2Zz4nLCdsaXN0LW51bS1sb3dlci1hbHBoYS1ydGwnOic8c3ZnIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBvcGFjaXR5PSIuMiIgZD0iTTggMTJoMjJ2NEg4ek04IDIyaDIydjRIOHpNOCAzMmgyMnY0SDh6Ii8+PHBhdGggZD0iTTM2LjUgMTZjLS45IDAtMS41LS41LTEuNS0xLjNzLjYtMS4zIDEuOC0xLjRoMXYtLjRjMC0uNC0uMi0uNi0uNy0uNi0uNCAwLS43LjEtLjguNGgtMS4xYzAtLjguOC0xLjQgMi0xLjRTMzkgMTIgMzkgMTNWMTZoLTEuMnYtLjZjLS4zLjQtLjguNy0xLjQuN3ptLjQtLjhjLjYgMCAxLS40IDEtLjlWMTRoLTFjLS41LjEtLjcuMy0uNy42IDAgLjQuMy42LjcuNnpNMzMuMSAxNi4xYy0uNCAwLS43LS4zLS43LS43IDAtLjQuMy0uNy43LS43LjUgMCAuOC4zLjguNyAwIC40LS4zLjctLjguN3pNMzcuNyAyNmMtLjcgMC0xLjItLjItMS41LS43di43SDM1di02LjNoMS4ydjIuNWMuMy0uNS44LS45IDEuNS0uOSAxLjEgMCAxLjggMSAxLjggMi40IDAgMS41LS43IDIuNC0xLjggMi40em0tLjUtMy42Yy0uNiAwLTEgLjUtMSAxLjNzLjQgMS40IDEgMS40Yy43IDAgMS0uNiAxLTEuNCAwLS44LS4zLTEuMy0xLTEuM3pNMzMuMiAyNi4xYy0uNCAwLS43LS4zLS43LS43IDAtLjQuMy0uNy43LS43LjUgMCAuOC4zLjguNyAwIC40LS4zLjctLjguN3ptNiA3aC0xYy0uMS0uNS0uNC0uOC0xLS44cy0xIC41LTEgMS40YzAgMSAuNCAxLjQgMSAxLjQuNSAwIC45LS4yIDEtLjdoMWMwIDEtLjggMS43LTIgMS43LTEuNCAwLTIuMi0uOS0yLjItMi40cy44LTIuNCAyLjItMi40YzEuMiAwIDIgLjcgMiAxLjd6bS02LjEgM2MtLjUgMC0uNy0uMy0uNy0uNyAwLS40LjItLjcuNy0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLWxvd2VyLWFscGhhJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjxwYXRoIGQ9Ik0xMC4zIDE1LjJjLjUgMCAxLS40IDEtLjlWMTRoLTFjLS41LjEtLjguMy0uOC42IDAgLjQuMy42LjguNnptLS40LjljLTEgMC0xLjUtLjYtMS41LTEuNCAwLS44LjYtMS4zIDEuNy0xLjRoMS4xdi0uNGMwLS40LS4yLS42LS43LS42LS41IDAtLjguMS0uOS40aC0xYzAtLjguOC0xLjQgMi0xLjQgMS4xIDAgMS44LjYgMS44IDEuNlYxNmgtMS4xdi0uNmgtLjFjLS4yLjQtLjcuNy0xLjMuN3ptNC42IDBjLS41IDAtLjctLjMtLjctLjcgMC0uNC4yLS43LjctLjcuNCAwIC43LjMuNy43IDAgLjQtLjMuNy0uNy43em0tMy4yIDEwYy0uNiAwLTEuMi0uMy0xLjQtLjh2LjdIOC41di02LjNIMTB2Mi41Yy4zLS41LjgtLjkgMS40LS45IDEuMiAwIDEuOSAxIDEuOSAyLjQgMCAxLjUtLjcgMi40LTEuOSAyLjR6bS0uNC0zLjdjLS43IDAtMSAuNS0xIDEuM3MuMyAxLjQgMSAxLjRjLjYgMCAxLS42IDEtMS40IDAtLjgtLjQtMS4zLTEtMS4zem00IDMuN2MtLjUgMC0uNy0uMy0uNy0uNyAwLS40LjItLjcuNy0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6bS0yLjIgN2gtMS4yYzAtLjUtLjQtLjgtLjktLjgtLjYgMC0xIC41LTEgMS40IDAgMSAuNCAxLjQgMSAxLjQuNSAwIC44LS4yIDEtLjdoMWMwIDEtLjggMS43LTIgMS43LTEuNCAwLTIuMi0uOS0yLjItMi40cy44LTIuNCAyLjItMi40YzEuMiAwIDIgLjcgMiAxLjd6bTEuOCAzYy0uNSAwLS44LS4zLS44LS43IDAtLjQuMy0uNy44LS43LjQgMCAuNy4zLjcuNyAwIC40LS4zLjctLjcuN3oiLz48L2c+PC9zdmc+JywnbGlzdC1udW0tbG93ZXItZ3JlZWstcnRsJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik04IDEyaDIydjRIOHpNOCAyMmgyMnY0SDh6TTggMzJoMjJ2NEg4eiIvPjxwYXRoIGQ9Ik0zNy40IDE2Yy0xLjIgMC0yLS44LTItMi4zIDAtMS41LjgtMi40IDItMi40LjYgMCAxIC40IDEuMyAxdi0uOUg0MHYzLjJjMCAuNC4xLjUuNC41aC4ydi45aC0uNmMtLjYgMC0xLS4yLTEtLjdoLS4yYy0uMi40LS43LjgtMS4zLjh6bS4zLTFjLjYgMCAxLS41IDEtMS4zcy0uNC0xLjMtMS0xLjMtMSAuNS0xIDEuMy40IDEuNCAxIDEuNHpNMzMuMyAxNi4xYy0uNSAwLS44LS4zLS44LS43IDAtLjQuMy0uNy44LS43LjQgMCAuNy4zLjcuNyAwIC40LS4zLjctLjcuN3pNMzYgMjEuOWMwLTEuNS44LTIuMyAyLjEtMi4zIDEuMiAwIDIgLjYgMiAxLjYgMCAuNi0uMyAxLS45IDEuMy45LjMgMS4zLjggMS4zIDEuNyAwIDEuMi0uNyAxLjktMS44IDEuOS0uNiAwLTEuMS0uMy0xLjQtLjh2Mi4ySDM2VjIyem0xLjggMS4ydi0xaC4zYy41IDAgLjktLjIuOS0uNyAwLS41LS4zLS44LS45LS44LS41IDAtLjguMy0uOCAxdjIuMmMwIC44LjQgMS4zIDEgMS4zczEtLjQgMS0xLS40LTEtMS4yLTFoLS4zek0zMy4zIDI2LjFjLS41IDAtLjgtLjMtLjgtLjcgMC0uNC4zLS43LjgtLjcuNCAwIC43LjMuNy43IDAgLjQtLjMuNy0uNy43ek0zNy4xIDM0LjZMMzQuOCAzMGgxLjRsMS43IDMuNSAxLjctMy41aDEuMWwtMi4yIDQuNnYuMWMuNS44LjcgMS40LjcgMS44IDAgLjQtLjIuOC0uNCAxLS4yLjItLjYuMy0xIC4zLS45IDAtMS4zLS40LTEuMy0xLjIgMC0uNS4yLTEgLjUtMS43bC4xLS4yem0uNyAxYTIgMiAwIDAgMC0uNC45YzAgLjMuMS40LjQuNC4zIDAgLjQtLjEuNC0uNCAwLS4yLS4xLS42LS40LTF6TTMzLjMgMzYuMWMtLjUgMC0uOC0uMy0uOC0uNyAwLS40LjMtLjcuOC0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLWxvd2VyLWdyZWVrJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjxwYXRoIGQ9Ik0xMC41IDE1Yy43IDAgMS0uNSAxLTEuM3MtLjMtMS4zLTEtMS4zYy0uNSAwLS45LjUtLjkgMS4zcy40IDEuNCAxIDEuNHptLS4zIDFjLTEuMSAwLTEuOC0uOC0xLjgtMi4zIDAtMS41LjctMi40IDEuOC0yLjQuNyAwIDEuMS40IDEuMyAxaC4xdi0uOWgxLjJ2My4yYzAgLjQuMS41LjQuNWguMnYuOWgtLjZjLS42IDAtMS0uMi0xLjEtLjdoLS4xYy0uMi40LS43LjgtMS40Ljh6bTUgLjFjLS41IDAtLjgtLjMtLjgtLjcgMC0uNC4zLS43LjctLjcuNSAwIC44LjMuOC43IDAgLjQtLjMuNy0uOC43em0tNC45IDd2LTFoLjNjLjYgMCAxLS4yIDEtLjcgMC0uNS0uNC0uOC0xLS44LS41IDAtLjguMy0uOCAxdjIuMmMwIC44LjQgMS4zIDEuMSAxLjMuNiAwIDEtLjQgMS0xcy0uNS0xLTEuMy0xaC0uM3pNOC42IDIyYzAtMS41LjctMi4zIDItMi4zIDEuMiAwIDIgLjYgMiAxLjYgMCAuNi0uMyAxLS44IDEuMy44LjMgMS4zLjggMS4zIDEuNyAwIDEuMi0uOCAxLjktMS45IDEuOS0uNiAwLTEuMS0uMy0xLjMtLjh2Mi4ySDguNVYyMnptNi4yIDQuMmMtLjQgMC0uNy0uMy0uNy0uNyAwLS40LjMtLjcuNy0uNy41IDAgLjcuMy43LjcgMCAuNC0uMi43LS43Ljd6bS00LjUgOC41TDggMzBoMS40bDEuNyAzLjUgMS43LTMuNWgxLjFsLTIuMiA0LjZ2LjFjLjUuOC43IDEuNC43IDEuOCAwIC40LS4xLjgtLjQgMS0uMi4yLS42LjMtMSAuMy0uOSAwLTEuMy0uNC0xLjMtMS4yIDAtLjUuMi0xIC41LTEuN2wuMS0uMnptLjcgMWEyIDIgMCAwIDAtLjQuOWMwIC4zLjEuNC40LjQuMyAwIC40LS4xLjQtLjQgMC0uMi0uMS0uNi0uNC0xem00LjUuNWMtLjUgMC0uOC0uMy0uOC0uNyAwLS40LjMtLjcuOC0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLWxvd2VyLXJvbWFuLXJ0bCc6Jzxzdmcgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIG9wYWNpdHk9Ii4yIiBkPSJNOCAxMmgyMnY0SDh6TTggMjJoMjJ2NEg4ek04IDMyaDIydjRIOHoiLz48cGF0aCBkPSJNMzIuOSAxNnYtMS4yaC0xLjNWMTZIMzN6bTAgMTB2LTEuMmgtMS4zVjI2SDMzem0wIDEwdi0xLjJoLTEuM1YzNkgzM3oiLz48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zNiAyMWgtMS41djVIMzZ6TTM2IDMxaC0xLjV2NUgzNnpNMzkgMjFoLTEuNXY1SDM5ek0zOSAzMWgtMS41djVIMzl6TTQyIDMxaC0xLjV2NUg0MnpNMzYgMTFoLTEuNXY1SDM2ek0zNiAxOWgtMS41djFIMzZ6TTM2IDI5aC0xLjV2MUgzNnpNMzkgMTloLTEuNXYxSDM5ek0zOSAyOWgtMS41djFIMzl6TTQyIDI5aC0xLjV2MUg0MnpNMzYgOWgtMS41djFIMzZ6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLWxvd2VyLXJvbWFuJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjxwYXRoIGQ9Ik0xNS4xIDE2di0xLjJoMS4zVjE2SDE1em0wIDEwdi0xLjJoMS4zVjI2SDE1em0wIDEwdi0xLjJoMS4zVjM2SDE1eiIvPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTEyIDIxaDEuNXY1SDEyek0xMiAzMWgxLjV2NUgxMnpNOSAyMWgxLjV2NUg5ek05IDMxaDEuNXY1SDl6TTYgMzFoMS41djVINnpNMTIgMTFoMS41djVIMTJ6TTEyIDE5aDEuNXYxSDEyek0xMiAyOWgxLjV2MUgxMnpNOSAxOWgxLjV2MUg5ek05IDI5aDEuNXYxSDl6TTYgMjloMS41djFINnpNMTIgOWgxLjV2MUgxMnoiLz48L2c+PC9zdmc+JywnbGlzdC1udW0tdXBwZXItYWxwaGEtcnRsJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik04IDEyaDIydjRIOHpNOCAyMmgyMnY0SDh6TTggMzJoMjJ2NEg4eiIvPjxwYXRoIGQ9Ik0zOS4zIDE3bC0uNS0xLjRoLTJsLS41IDEuNEgzNWwyLTZoMS42bDIgNmgtMS4zem0tMS42LTQuN2wtLjcgMi4zaDEuNmwtLjgtMi4zek0zMy40IDE3Yy0uNCAwLS43LS4zLS43LS43IDAtLjQuMy0uNy43LS43LjUgMCAuNy4zLjcuNyAwIC40LS4yLjctLjcuN3ptNC43IDkuOWgtMi43di02SDM4YzEuMiAwIDEuOS42IDEuOSAxLjUgMCAuNi0uNSAxLjItMSAxLjMuNy4xIDEuMy43IDEuMyAxLjUgMCAxLS44IDEuNy0yIDEuN3ptLTEuNC01djEuNWgxYy42IDAgMS0uMyAxLS44IDAtLjQtLjQtLjctMS0uN2gtMXptMCA0aDEuMWMuNyAwIDEuMS0uMyAxLjEtLjggMC0uNi0uNC0uOS0xLjEtLjloLTEuMVYyNnpNMzMgMjcuMWMtLjUgMC0uOC0uMy0uOC0uNyAwLS40LjMtLjcuOC0uNy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43Ljd6bTQuOSAxMGMtMS44IDAtMi44LTEuMS0yLjgtMy4xczEtMy4xIDIuOC0zLjFjMS40IDAgMi41LjkgMi42IDIuMmgtMS4zYzAtLjctLjYtMS4xLTEuMy0xLjEtMSAwLTEuNi43LTEuNiAycy42IDIgMS42IDJjLjcgMCAxLjItLjQgMS40LTFoMS4yYy0uMSAxLjMtMS4yIDIuMi0yLjYgMi4yem0tNC41IDBjLS41IDAtLjgtLjMtLjgtLjcgMC0uNC4zLS43LjgtLjcuNCAwIC43LjMuNy43IDAgLjQtLjMuNy0uNy43eiIvPjwvZz48L3N2Zz4nLCdsaXN0LW51bS11cHBlci1hbHBoYSc6Jzxzdmcgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIG9wYWNpdHk9Ii4yIiBkPSJNMTggMTJoMjJ2NEgxOHpNMTggMjJoMjJ2NEgxOHpNMTggMzJoMjJ2NEgxOHoiLz48cGF0aCBkPSJNMTIuNiAxN2wtLjUtMS40aC0yTDkuNSAxN0g4LjNsMi02SDEybDIgNmgtMS4zek0xMSAxMi4zbC0uNyAyLjNoMS42bC0uOC0yLjN6bTQuNyA0LjhjLS40IDAtLjctLjMtLjctLjcgMC0uNC4zLS43LjctLjcuNSAwIC43LjMuNy43IDAgLjQtLjIuNy0uNy43ek0xMS40IDI3SDguN3YtNmgyLjZjMS4yIDAgMS45LjYgMS45IDEuNSAwIC42LS41IDEuMi0xIDEuMy43LjEgMS4zLjcgMS4zIDEuNSAwIDEtLjggMS43LTIgMS43ek0xMCAyMnYxLjVoMWMuNiAwIDEtLjMgMS0uOCAwLS40LS40LS43LTEtLjdoLTF6bTAgNEgxMWMuNyAwIDEuMS0uMyAxLjEtLjggMC0uNi0uNC0uOS0xLjEtLjlIMTBWMjZ6bTUuNCAxLjFjLS41IDAtLjgtLjMtLjgtLjcgMC0uNC4zLS43LjgtLjcuNCAwIC43LjMuNy43IDAgLjQtLjMuNy0uNy43em0tNC4xIDEwYy0xLjggMC0yLjgtMS4xLTIuOC0zLjFzMS0zLjEgMi44LTMuMWMxLjQgMCAyLjUuOSAyLjYgMi4yaC0xLjNjMC0uNy0uNi0xLjEtMS4zLTEuMS0xIDAtMS42LjctMS42IDJzLjYgMiAxLjYgMmMuNyAwIDEuMi0uNCAxLjQtMWgxLjJjLS4xIDEuMy0xLjIgMi4yLTIuNiAyLjJ6bTQuNSAwYy0uNSAwLS44LS4zLS44LS43IDAtLjQuMy0uNy44LS43LjQgMCAuNy4zLjcuNyAwIC40LS4zLjctLjcuN3oiLz48L2c+PC9zdmc+JywnbGlzdC1udW0tdXBwZXItcm9tYW4tcnRsJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik04IDEyaDIydjRIOHpNOCAyMmgyMnY0SDh6TTggMzJoMjJ2NEg4eiIvPjxwYXRoIGQ9Ik0zMS42IDE3di0xLjJIMzNWMTdoLTEuM3ptMCAxMHYtMS4ySDMzVjI3aC0xLjN6bTAgMTB2LTEuMkgzM1YzN2gtMS4zeiIvPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTM0LjUgMjBIMzZ2N2gtMS41ek0zNC41IDMwSDM2djdoLTEuNXpNMzcuNSAyMEgzOXY3aC0xLjV6TTM3LjUgMzBIMzl2N2gtMS41ek00MC41IDMwSDQydjdoLTEuNXpNMzQuNSAxMEgzNnY3aC0xLjV6Ii8+PC9nPjwvc3ZnPicsJ2xpc3QtbnVtLXVwcGVyLXJvbWFuJzonPHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggb3BhY2l0eT0iLjIiIGQ9Ik0xOCAxMmgyMnY0SDE4ek0xOCAyMmgyMnY0SDE4ek0xOCAzMmgyMnY0SDE4eiIvPjxwYXRoIGQ9Ik0xNS4xIDE3di0xLjJoMS4zVjE3SDE1em0wIDEwdi0xLjJoMS4zVjI3SDE1em0wIDEwdi0xLjJoMS4zVjM3SDE1eiIvPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTEyIDIwaDEuNXY3SDEyek0xMiAzMGgxLjV2N0gxMnpNOSAyMGgxLjV2N0g5ek05IDMwaDEuNXY3SDl6TTYgMzBoMS41djdINnpNMTIgMTBoMS41djdIMTJ6Ii8+PC9nPjwvc3ZnPicsJ2xvY2snOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE2LjMgMTFjLjIgMCAuMyAwIC41LjJsLjIuNnY3LjRjMCAuMyAwIC40LS4yLjZsLS42LjJINy44Yy0uMyAwLS40IDAtLjYtLjJhLjcuNyAwIDAgMS0uMi0uNnYtNy40YzAtLjMgMC0uNC4yLS42bC41LS4ySDhWOGMwLS44LjMtMS41LjktMi4xLjYtLjYgMS4zLS45IDIuMS0uOWgyYy44IDAgMS41LjMgMi4xLjkuNi42LjkgMS4zLjkgMi4xdjNoLjN6TTEwIDh2M2g0VjhhMSAxIDAgMCAwLS4zLS43QTEgMSAwIDAgMCAxMyA3aC0yYTEgMSAwIDAgMC0uNy4zIDEgMSAwIDAgMC0uMy43eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywnbHRyJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMSA1aDdhMSAxIDAgMCAxIDAgMmgtMXYxMWExIDEgMCAwIDEtMiAwVjdoLTJ2MTFhMSAxIDAgMCAxLTIgMHYtNmMtLjUgMC0xIDAtMS40LS4zQTMuNCAzLjQgMCAwIDEgNy44IDEwYTMuMyAzLjMgMCAwIDEgMC0yLjggMy40IDMuNCAwIDAgMSAxLjgtMS44TDExIDV6TTQuNCAxNi4yTDYuMiAxNWwtMS44LTEuMmExIDEgMCAwIDEgMS4yLTEuNmwzIDJhMSAxIDAgMCAxIDAgMS42bC0zIDJhMSAxIDAgMSAxLTEuMi0xLjZ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdtb3JlLWRyYXdlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNiAxMGEyIDIgMCAwIDAtMiAyYzAgMS4xLjkgMiAyIDJhMiAyIDAgMCAwIDItMiAyIDIgMCAwIDAtMi0yem0xMiAwYTIgMiAwIDAgMC0yIDJjMCAxLjEuOSAyIDIgMmEyIDIgMCAwIDAgMi0yIDIgMiAwIDAgMC0yLTJ6bS02IDBhMiAyIDAgMCAwLTIgMmMwIDEuMS45IDIgMiAyYTIgMiAwIDAgMCAyLTIgMiAyIDAgMCAwLTItMnoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ25ldy1kb2N1bWVudCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTQuNCAzSDdhMiAyIDAgMCAwLTIgMnYxNGMwIDEuMS45IDIgMiAyaDEwYTIgMiAwIDAgMCAyLTJWNy42TDE0LjQgM3pNMTcgMTlIN1Y1aDZ2NGg0djEweiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywnbmV3LXRhYic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTUgMTNsMi0ydjhINVY3aDhsLTIgMkg3djhoOHYtNHptNC04djUuNWwtMi0yLTUuNiA1LjVIMTB2LTEuNEwxNS41IDdsLTItMkgxOXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ25vbi1icmVha2luZyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTEgMTFIOGExIDEgMCAxIDEgMC0yaDNWNmMwLS42LjQtMSAxLTFzMSAuNCAxIDF2M2gzYy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC0zdjNjMCAuNi0uNCAxLTEgMWExIDEgMCAwIDEtMS0xdi0zem0xMCA0djVIM3YtNWMwLS42LjQtMSAxLTFzMSAuNCAxIDF2M2gxNHYtM2MwLS42LjQtMSAxLTFzMSAuNCAxIDF6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdub3RpY2UnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE3LjggOS44TDE1LjQgNCAyMCA4LjV2N0wxNS41IDIwaC03TDQgMTUuNXYtN0w4LjUgNGg3bDIuMyA1Ljh6bTAgMGwyLjIgNS43LTIuMy01Ljh6TTEzIDE3di0yaC0ydjJoMnptMC00VjdoLTJ2NmgyeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Jywnb3JkZXJlZC1saXN0LXJ0bCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNiAxN2g4YTEgMSAwIDAgMSAwIDJINmExIDEgMCAwIDEgMC0yem0wLTZoOGExIDEgMCAwIDEgMCAySDZhMSAxIDAgMCAxIDAtMnptMC02aDhhMSAxIDAgMCAxIDAgMkg2YTEgMSAwIDEgMSAwLTJ6bTEzLTF2My41YS41LjUgMCAxIDEtMSAwVjVoLS41YS41LjUgMCAxIDEgMC0xSDE5em0tMSA4LjhsLjIuMmgxLjNhLjUuNSAwIDEgMSAwIDFoLTEuNmExIDEgMCAwIDEtLjktMVYxM2MwLS40LjMtLjguNi0xbDEuMi0uNC4yLS4zYS4yLjIgMCAwIDAtLjItLjJoLTEuM2EuNS41IDAgMCAxLS41LS41YzAtLjMuMi0uNS41LS41aDEuNmMuNSAwIC45LjQuOSAxdi4xYzAgLjQtLjMuOC0uNiAxbC0xLjIuNC0uMi4zem0yIDQuMnYyYzAgLjYtLjQgMS0xIDFoLTEuNWEuNS41IDAgMCAxIDAtMWgxLjJhLjMuMyAwIDEgMCAwLS42aC0xLjNhLjQuNCAwIDEgMSAwLS44aDEuM2EuMy4zIDAgMCAwIDAtLjZoLTEuMmEuNS41IDAgMSAxIDAtMUgxOWMuNiAwIDEgLjQgMSAxeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Jywnb3JkZXJlZC1saXN0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMCAxN2g4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAtNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAtNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDEgMSAwLTJ6TTYgNHYzLjVjMCAuMy0uMi41LS41LjVhLjUuNSAwIDAgMS0uNS0uNVY1aC0uNWEuNS41IDAgMCAxIDAtMUg2em0tMSA4LjhsLjIuMmgxLjNjLjMgMCAuNS4yLjUuNXMtLjIuNS0uNS41SDQuOWExIDEgMCAwIDEtLjktMVYxM2MwLS40LjMtLjguNi0xbDEuMi0uNC4yLS4zYS4yLjIgMCAwIDAtLjItLjJINC41YS41LjUgMCAwIDEtLjUtLjVjMC0uMy4yLS41LjUtLjVoMS42Yy41IDAgLjkuNC45IDF2LjFjMCAuNC0uMy44LS42IDFsLTEuMi40LS4yLjN6TTcgMTd2MmMwIC42LS40IDEtMSAxSDQuNWEuNS41IDAgMCAxIDAtMWgxLjJjLjIgMCAuMy0uMS4zLS4zIDAtLjItLjEtLjMtLjMtLjNINC40YS40LjQgMCAxIDEgMC0uOGgxLjNjLjIgMCAuMy0uMS4zLS4zIDAtLjItLjEtLjMtLjMtLjNINC41YS41LjUgMCAxIDEgMC0xSDZjLjYgMCAxIC40IDEgMXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ29yaWVudGF0aW9uJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik03LjMgNi40TDEgMTNsNi40IDYuNSA2LjUtNi41LTYuNS02LjV6TTMuNyAxM2wzLjYtMy43TDExIDEzbC0zLjcgMy43LTMuNi0zLjd6TTEyIDZsMi44IDIuN2MuMy4zLjMuOCAwIDEtLjMuNC0uOS40LTEuMiAwTDkuMiA1LjdhLjguOCAwIDAgMSAwLTEuMkwxMy42LjJjLjMtLjMuOS0uMyAxLjIgMCAuMy4zLjMuOCAwIDEuMUwxMiA0aDFhOSA5IDAgMSAxLTQuMyAxNi45bDEuNS0xLjVBNyA3IDAgMSAwIDEzIDZoLTF6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdvdXRkZW50JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik03IDVoMTJjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFIN2ExIDEgMCAxIDEgMC0yem01IDRoN2MuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtN2ExIDEgMCAwIDEgMC0yem0wIDRoN2MuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtN2ExIDEgMCAwIDEgMC0yem0tNSA0aDEyYTEgMSAwIDAgMSAwIDJIN2ExIDEgMCAwIDEgMC0yem0xLjYtMy44YTEgMSAwIDAgMS0xLjIgMS42bC0zLTJhMSAxIDAgMCAxIDAtMS42bDMtMmExIDEgMCAwIDEgMS4yIDEuNkw2LjggMTJsMS44IDEuMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3BhZ2UtYnJlYWsnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNSAxMWMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWExIDEgMCAwIDEgMC0yem0zIDBoMWMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg4YTEgMSAwIDAgMSAwLTJ6bTQgMGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWExIDEgMCAwIDEgMC0yem0zIDBoMWMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtMWExIDEgMCAwIDEgMC0yem00IDBjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFhMSAxIDAgMCAxIDAtMnpNNyAzdjVoMTBWM2MwLS42LjQtMSAxLTFzMSAuNCAxIDF2N0g1VjNjMC0uNi40LTEgMS0xczEgLjQgMSAxek02IDIyYTEgMSAwIDAgMS0xLTF2LTdoMTR2N2MwIC42LS40IDEtMSAxYTEgMSAwIDAgMS0xLTF2LTVIN3Y1YzAgLjYtLjQgMS0xIDF6Ii8+PC9nPjwvc3ZnPicsJ3Bhc3RlLXRleHQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDlWNWgtMnYxYzAgLjYtLjQgMS0xIDFIOWExIDEgMCAwIDEtMS0xVjVINnYxM2gzVjloOXpNOSAyMEg2YTIgMiAwIDAgMS0yLTJWNWMwLTEuMS45LTIgMi0yaDMuMkEzIDMgMCAwIDEgMTIgMWEzIDMgMCAwIDEgMi44IDJIMThhMiAyIDAgMCAxIDIgMnY0aDF2MTJIOXYtMXptMS41LTkuNXY5aDl2LTloLTl6TTEyIDNhMSAxIDAgMCAwLTEgMWMwIC41LjQgMSAxIDFzMS0uNSAxLTEtLjQtMS0xLTF6bTAgOWg2djJoLS41bC0uNS0xaC0xdjRoLjh2MWgtMy42di0xaC44di00aC0xbC0uNSAxSDEydi0yeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywncGFzdGUnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDlWNWgtMnYxYzAgLjYtLjQgMS0xIDFIOWExIDEgMCAwIDEtMS0xVjVINnYxM2gzVjloOXpNOSAyMEg2YTIgMiAwIDAgMS0yLTJWNWMwLTEuMS45LTIgMi0yaDMuMkEzIDMgMCAwIDEgMTIgMWEzIDMgMCAwIDEgMi44IDJIMThhMiAyIDAgMCAxIDIgMnY0aDF2MTJIOXYtMXptMS41LTkuNXY5aDl2LTloLTl6TTEyIDNhMSAxIDAgMCAwLTEgMWMwIC41LjQgMSAxIDFzMS0uNSAxLTEtLjQtMS0xLTF6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdwZXJtYW5lbnQtcGVuJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMC41IDE3LjVMOCAyMEgzdi0zbDMuNS0zLjVhMiAyIDAgMCAxIDAtM0wxNCAzbDEgMS03LjMgNy4zYTEgMSAwIDAgMCAwIDEuNGwzLjYgMy42Yy40LjQgMSAuNCAxLjQgMEwyMCA5bDEgMS03LjYgNy42YTIgMiAwIDAgMS0yLjggMGwtLjEtLjF6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdwbHVzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiI+PHBhdGggZD0iTTEyIDV2MTRNNSAxMmgxNCIvPjwvZz48L3N2Zz4nLCdwcmVmZXJlbmNlcyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMjAuMSAxMy41bC0xLjkuMmE1LjggNS44IDAgMCAxLS42IDEuNWwxLjIgMS41Yy40LjQuMyAxIDAgMS40bC0uNy43YTEgMSAwIDAgMS0xLjQgMGwtMS41LTEuMmE2LjIgNi4yIDAgMCAxLTEuNS42bC0uMiAxLjljMCAuNS0uNS45LTEgLjloLTFhMSAxIDAgMCAxLTEtLjlsLS4yLTEuOWE1LjggNS44IDAgMCAxLTEuNS0uNmwtMS41IDEuMmExIDEgMCAwIDEtMS40IDBsLS43LS43YTEgMSAwIDAgMSAwLTEuNGwxLjItMS41YTYuMiA2LjIgMCAwIDEtLjYtMS41bC0xLjktLjJhMSAxIDAgMCAxLS45LTF2LTFjMC0uNS40LTEgLjktMWwxLjktLjJhNS44IDUuOCAwIDAgMSAuNi0xLjVMNS4yIDcuM2ExIDEgMCAwIDEgMC0xLjRsLjctLjdhMSAxIDAgMCAxIDEuNCAwbDEuNSAxLjJhNi4yIDYuMiAwIDAgMSAxLjUtLjZsLjItMS45YzAtLjUuNS0uOSAxLS45aDFjLjUgMCAxIC40IDEgLjlsLjIgMS45YTUuOCA1LjggMCAwIDEgMS41LjZsMS41LTEuMmExIDEgMCAwIDEgMS40IDBsLjcuN2MuMy40LjQgMSAwIDEuNGwtMS4yIDEuNWE2LjIgNi4yIDAgMCAxIC42IDEuNWwxLjkuMmMuNSAwIC45LjUuOSAxdjFjMCAuNS0uNCAxLS45IDF6TTEyIDE1YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3ByZXZpZXcnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTMuNSAxMi41Yy41LjggMS4xIDEuNiAxLjggMi4zIDIgMiA0LjIgMy4yIDYuNyAzLjJzNC43LTEuMiA2LjctMy4yYTE2LjIgMTYuMiAwIDAgMCAyLjEtMi44IDE1LjcgMTUuNyAwIDAgMC0yLjEtMi44Yy0yLTItNC4yLTMuMi02LjctMy4yYTkuMyA5LjMgMCAwIDAtNi43IDMuMkExNi4yIDE2LjIgMCAwIDAgMy4yIDEyYzAgLjIuMi4zLjMuNXptLTIuNC0xbC43LTEuMkw0IDcuOEM2LjIgNS40IDguOSA0IDEyIDRjMyAwIDUuOCAxLjQgOC4xIDMuOGExOC4yIDE4LjIgMCAwIDEgMi44IDMuN3YxbC0uNyAxLjItMi4xIDIuNWMtMi4zIDIuNC01IDMuOC04LjEgMy44LTMgMC01LjgtMS40LTguMS0zLjhhMTguMiAxOC4yIDAgMCAxLTIuOC0zLjcgMSAxIDAgMCAxIDAtMXptMTItMy4zYTIgMiAwIDEgMCAyLjcgMi42IDQgNCAwIDEgMS0yLjYtMi42eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywncHJpbnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDhINmEzIDMgMCAwIDAtMyAzdjZoMnYzaDE0di0zaDJ2LTZhMyAzIDAgMCAwLTMtM3ptLTEgMTBIN3YtNGgxMHY0em0uNS01Yy0uOCAwLTEuNS0uNy0xLjUtMS41cy43LTEuNSAxLjUtMS41IDEuNS43IDEuNSAxLjUtLjcgMS41LTEuNSAxLjV6bS41LThINnYyaDEyVjV6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdxdW90ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNy41IDE3aC45Yy40IDAgLjctLjIuOS0uNkwxMSAxM1Y4YzAtLjYtLjQtMS0xLTFINmExIDEgMCAwIDAtMSAxdjRjMCAuNi40IDEgMSAxaDJsLTEuMyAyLjdhMSAxIDAgMCAwIC44IDEuM3ptOCAwaC45Yy40IDAgLjctLjIuOS0uNkwxOSAxM1Y4YzAtLjYtLjQtMS0xLTFoLTRhMSAxIDAgMCAwLTEgMXY0YzAgLjYuNCAxIDEgMWgybC0xLjMgMi43YTEgMSAwIDAgMCAuOCAxLjN6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdyZWRvJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNy42IDEwSDEyYy0yLjggMC00LjQgMS40LTQuOSAzLjUtLjQgMiAuMyA0IDEuNCA0LjZhMSAxIDAgMSAxLTEgMS44Yy0yLTEuMi0yLjktNC4xLTIuMy02LjguNi0zIDMtNS4xIDYuOC01LjFoNS42bC0zLjMtMy4zYTEgMSAwIDEgMSAxLjQtMS40bDUgNWExIDEgMCAwIDEgMCAxLjRsLTUgNWExIDEgMCAwIDEtMS40LTEuNGwzLjMtMy4zeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywncmVsb2FkJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTUgMjIuMWwtMS4yLTQuN3YtLjJhMSAxIDAgMCAxIDEtMWw1IC40YTEgMSAwIDEgMS0uMiAybC0yLjItLjJhNy44IDcuOCAwIDAgMCA4LjQuMiA3LjUgNy41IDAgMCAwIDMuNS02LjQgMSAxIDAgMSAxIDIgMCA5LjUgOS41IDAgMCAxLTQuNSA4IDkuOSA5LjkgMCAwIDEtMTAuMiAwbC40IDEuNGExIDEgMCAxIDEtMiAuNXpNMTMuNiA3LjRjMC0uNS41LTEgMS0uOWwyLjguMmE4IDggMCAwIDAtOS41LTEgNy41IDcuNSAwIDAgMC0zLjYgNyAxIDEgMCAwIDEtMiAwIDkuNSA5LjUgMCAwIDEgNC41LTguNiAxMCAxMCAwIDAgMSAxMC45LjNsLS4zLTFhMSAxIDAgMCAxIDItLjVsMS4xIDQuOGExIDEgMCAwIDEtMSAxLjJsLTUtLjRhMSAxIDAgMCAxLS45LTF6Ii8+PC9nPjwvc3ZnPicsJ3JlbW92ZS1mb3JtYXR0aW5nJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMy4yIDZhMSAxIDAgMCAxIDAgLjJsLTIuNiAxMGExIDEgMCAwIDEtMSAuOGgtLjJhLjguOCAwIDAgMS0uOC0xbDIuNi0xMEg4YTEgMSAwIDEgMSAwLTJoOWExIDEgMCAwIDEgMCAyaC0zLjh6TTUgMThoN2ExIDEgMCAwIDEgMCAySDVhMSAxIDAgMCAxIDAtMnptMTMgMS41TDE2LjUgMTggMTUgMTkuNWEuNy43IDAgMCAxLTEtMWwxLjUtMS41LTEuNS0xLjVhLjcuNyAwIDAgMSAxLTFsMS41IDEuNSAxLjUtMS41YS43LjcgMCAwIDEgMSAxTDE3LjUgMTdsMS41IDEuNWEuNy43IDAgMCAxLTEgMXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3JlbW92ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTYgN2gzYTEgMSAwIDAgMSAwIDJoLTF2OWEzIDMgMCAwIDEtMyAzSDlhMyAzIDAgMCAxLTMtM1Y5SDVhMSAxIDAgMSAxIDAtMmgzVjZhMyAzIDAgMCAxIDMtM2gyYTMgMyAwIDAgMSAzIDN2MXptLTIgMFY2YzAtLjYtLjQtMS0xLTFoLTJhMSAxIDAgMCAwLTEgMXYxaDR6bTIgMkg4djljMCAuNi40IDEgMSAxaDZjLjYgMCAxLS40IDEtMVY5em0tNyAzYTEgMSAwIDAgMSAyIDB2NGExIDEgMCAwIDEtMiAwdi00em00IDBhMSAxIDAgMCAxIDIgMHY0YTEgMSAwIDAgMS0yIDB2LTR6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdyZXNpemUtaGFuZGxlJzonPHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiPjxnIGZpbGwtcnVsZT0ibm9uemVybyI+PHBhdGggZD0iTTguMSAxLjFBLjUuNSAwIDEgMSA5IDJsLTcgN0EuNS41IDAgMSAxIDEgOGw3LTd6TTguMSA1LjFBLjUuNSAwIDEgMSA5IDZsLTMgM0EuNS41IDAgMSAxIDUgOGwzLTN6Ii8+PC9nPjwvc3ZnPicsJ3Jlc2l6ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCA1YzAtLjMuMS0uNS4zLS43LjItLjIuNC0uMy43LS4zaDZjLjMgMCAuNS4xLjcuMy4yLjIuMy40LjMuNyAwIC4zLS4xLjUtLjMuN2ExIDEgMCAwIDEtLjcuM0g3LjRMMTggMTYuNlYxM2MwLS4zLjEtLjUuMy0uNy4yLS4yLjQtLjMuNy0uMy4zIDAgLjUuMS43LjMuMi4yLjMuNC4zLjd2NmMwIC4zLS4xLjUtLjMuN2ExIDEgMCAwIDEtLjcuM2gtNmExIDEgMCAwIDEtLjctLjMgMSAxIDAgMCAxLS4zLS43YzAtLjMuMS0uNS4zLS43LjItLjIuNC0uMy43LS4zaDMuNkw2IDcuNFYxMWMwIC4zLS4xLjUtLjMuN2ExIDEgMCAwIDEtLjcuMyAxIDEgMCAwIDEtLjctLjNBMSAxIDAgMCAxIDQgMTFWNXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3Jlc3RvcmUtZHJhZnQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcgMTNjMCAuNi0uNCAxLTEgMWgtNFY4YzAtLjYuNC0xIDEtMXMxIC40IDEgMXY0aDJjLjYgMCAxIC40IDEgMXoiLz48cGF0aCBkPSJNNC43IDEwSDlhMSAxIDAgMCAxIDAgMkgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAxIDEgMiAwdjNsMi41LTIuNGE5LjIgOS4yIDAgMCAxIDEwLjgtMS41QTkgOSAwIDAgMSAxMy40IDIxYy0yLjQuMS00LjctLjctNi41LTIuMmExIDEgMCAxIDEgMS4zLTEuNSA3LjIgNy4yIDAgMCAwIDExLjYtMy43IDcgNyAwIDAgMC0zLjUtNy43QTcuMiA3LjIgMCAwIDAgOCA3TDQuNyAxMHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L3N2Zz4nLCdyb3RhdGUtbGVmdCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNC43IDEwSDlhMSAxIDAgMCAxIDAgMkgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAxIDEgMiAwdjNsMi41LTIuNGE5LjIgOS4yIDAgMCAxIDEwLjgtMS41QTkgOSAwIDAgMSAxMy40IDIxYy0yLjQuMS00LjctLjctNi41LTIuMmExIDEgMCAxIDEgMS4zLTEuNSA3LjIgNy4yIDAgMCAwIDExLjYtMy43IDcgNyAwIDAgMC0zLjUtNy43QTcuMiA3LjIgMCAwIDAgOCA3TDQuNyAxMHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3JvdGF0ZS1yaWdodCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMjAgOFY1YTEgMSAwIDAgMSAyIDB2NmMwIC42LS40IDEtMSAxaC02YTEgMSAwIDAgMSAwLTJoNC4zTDE2IDdBNy4yIDcuMiAwIDAgMCA3LjcgNmE3IDcgMCAwIDAgMyAxMy4xYzEuOS4xIDMuNy0uNSA1LTEuN2ExIDEgMCAwIDEgMS40IDEuNUE5LjIgOS4yIDAgMCAxIDIuMiAxNGMtLjktMy45IDEtOCA0LjUtOS45IDMuNS0xLjkgOC0xLjMgMTAuOCAxLjVMMjAgOHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3J0bCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNOCA1aDh2MmgtMnYxMmgtMlY3aC0ydjEySDh2LTdjLS41IDAtMSAwLTEuNC0uM0EzLjQgMy40IDAgMCAxIDQuOCAxMGEzLjMgMy4zIDAgMCAxIDAtMi44IDMuNCAzLjQgMCAwIDEgMS44LTEuOEw4IDV6bTEyIDExLjJhMSAxIDAgMSAxLTEgMS42bC0zLTJhMSAxIDAgMCAxIDAtMS42bDMtMmExIDEgMCAxIDEgMSAxLjZMMTguNCAxNWwxLjggMS4yeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Jywnc2F2ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSAxNmgxNGEyIDIgMCAwIDEgMiAydjJhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ2LTJjMC0xLjEuOS0yIDItMnptMCAydjJoMTR2LTJINXptMTAgMGgydjJoLTJ2LTJ6bS00LTYuNEw4LjcgOS4zYTEgMSAwIDEgMC0xLjQgMS40bDQgNGMuNC40IDEgLjQgMS40IDBsNC00YTEgMSAwIDEgMC0xLjQtMS40TDEzIDExLjZWNGExIDEgMCAwIDAtMiAwdjcuNnoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3NlYXJjaCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTYgMTcuM2E4IDggMCAxIDEgMS40LTEuNGw0LjMgNC40YTEgMSAwIDAgMS0xLjQgMS40bC00LjQtNC4zem0tNS0uM2E2IDYgMCAxIDAgMC0xMiA2IDYgMCAwIDAgMCAxMnoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3NlbGVjdC1hbGwnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTMgNWgyVjNhMiAyIDAgMCAwLTIgMnptMCA4aDJ2LTJIM3Yyem00IDhoMnYtMkg3djJ6TTMgOWgyVjdIM3Yyem0xMC02aC0ydjJoMlYzem02IDB2MmgyYTIgMiAwIDAgMC0yLTJ6TTUgMjF2LTJIM2MwIDEuMS45IDIgMiAyem0tMi00aDJ2LTJIM3Yyek05IDNIN3YyaDJWM3ptMiAxOGgydi0yaC0ydjJ6bTgtOGgydi0yaC0ydjJ6bTAgOGEyIDIgMCAwIDAgMi0yaC0ydjJ6bTAtMTJoMlY3aC0ydjJ6bTAgOGgydi0yaC0ydjJ6bS00IDRoMnYtMmgtMnYyem0wLTE2aDJWM2gtMnYyek03IDE3aDEwVjdIN3YxMHptMi04aDZ2Nkg5Vjl6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCdzZWxlY3RlZCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik02IDRoMTJhMiAyIDAgMCAxIDIgMnYxMmEyIDIgMCAwIDEtMiAySDZhMiAyIDAgMCAxLTItMlY2YzAtMS4xLjktMiAyLTJ6bTMuNiAxMC45TDcgMTIuM2EuNy43IDAgMCAwLTEgMUw5LjYgMTcgMTggOC42YS43LjcgMCAwIDAgMC0xIC43LjcgMCAwIDAtMSAwbC03LjQgNy4zeiIvPjwvc3ZnPicsJ3NldHRpbmdzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xMSA2aDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFoLTh2LjNjMCAuMiAwIC4zLS4yLjVsLS42LjJINy44Yy0uMyAwLS40IDAtLjYtLjJhLjcuNyAwIDAgMS0uMi0uNlY4SDVhMSAxIDAgMSAxIDAtMmgydi0uM2MwLS4yIDAtLjMuMi0uNWwuNS0uMmgyLjVjLjMgMCAuNCAwIC42LjJsLjIuNVY2ek04IDhoMlY2SDh2MnptOSAyLjh2LjJoMmMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMWgtMnYuM2MwIC4yIDAgLjMtLjIuNWwtLjYuMmgtMi40Yy0uMyAwLS40IDAtLjYtLjJhLjcuNyAwIDAgMS0uMi0uNlYxM0g1YTEgMSAwIDAgMSAwLTJoOHYtLjNjMC0uMiAwLS4zLjItLjVsLjYtLjJoMi40Yy4zIDAgLjQgMCAuNi4ybC4yLjZ6TTE0IDEzaDJ2LTJoLTJ2MnptLTMgMi44di4yaDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFoLTh2LjNjMCAuMiAwIC4zLS4yLjVsLS42LjJINy44Yy0uMyAwLS40IDAtLjYtLjJhLjcuNyAwIDAgMS0uMi0uNlYxOEg1YTEgMSAwIDAgMSAwLTJoMnYtLjNjMC0uMiAwLS4zLjItLjVsLjUtLjJoMi41Yy4zIDAgLjQgMCAuNi4ybC4yLjZ6TTggMThoMnYtMkg4djJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCdzaGFycGVuJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNiA2bDQgNC04IDktOC05IDQtNGg4em0tNCAxMC4ybDUuNS02LjItLjEtLjFIMTJ2LS4zaDUuMWwtLjItLjJIMTJWOWg0LjZsLS4yLS4ySDEydi0uM2g0LjFsLS4yLS4ySDEyVjhoMy42bC0uMi0uMkg4LjdMNi41IDEwbC4xLjFIMTJ2LjNINi45bC4yLjJIMTJ2LjNINy4zbC4yLjJIMTJ2LjNINy43bC4zLjJoNHYuM0g4LjJsLjIuMkgxMnYuM0g4LjZsLjMuMkgxMnYuM0g5bC4zLjJIMTJ2LjNIOS41bC4yLjJIMTJ2LjNoLTJsLjIuMkgxMnYuM2gtMS42bC4yLjJIMTJ2LjNoLTEuMWwuMi4yaC45di4zaC0uN2wuMi4yaC41di4zaC0uM2wuMy4yeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Jywnc291cmNlY29kZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGQ9Ik05LjggMTUuN2MuMy4zLjMuOCAwIDEtLjMuNC0uOS40LTEuMiAwbC00LjQtNC4xYS44LjggMCAwIDEgMC0xLjJsNC40LTQuMmMuMy0uMy45LS4zIDEuMiAwIC4zLjMuMy44IDAgMS4xTDYgMTJsMy44IDMuN3pNMTQuMiAxNS43Yy0uMy4zLS4zLjggMCAxIC40LjQuOS40IDEuMiAwbDQuNC00LjFjLjMtLjMuMy0uOSAwLTEuMmwtNC40LTQuMmEuOC44IDAgMCAwLTEuMiAwYy0uMy4zLS4zLjggMCAxLjFMMTggMTJsLTMuOCAzLjd6Ii8+PC9nPjwvc3ZnPicsJ3NwZWxsLWNoZWNrJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik02IDh2M0g1VjVjMC0uMy4xLS41LjMtLjcuMi0uMi40LS4zLjctLjNoMmMuMyAwIC41LjEuNy4zLjIuMi4zLjQuMy43djZIOFY4SDZ6bTAtM3YyaDJWNUg2em0xMyAwaC0zdjVoM3YxaC0zYTEgMSAwIDAgMS0uNy0uMyAxIDEgMCAwIDEtLjMtLjdWNWMwLS4zLjEtLjUuMy0uNy4yLS4yLjQtLjMuNy0uM2gzdjF6bS01IDEuNWwtLjEuN2MtLjEuMi0uMy4zLS42LjMuMyAwIC41LjEuNi4zbC4xLjdWMTBjMCAuMy0uMS41LS4zLjdhMSAxIDAgMCAxLS43LjNoLTNWNGgzYy4zIDAgLjUuMS43LjMuMi4yLjMuNC4zLjd2MS41ek0xMyAxMFY4aC0ydjJoMnptMC0zVjVoLTJ2Mmgyem0zIDVsMSAxLTYuNSA3TDcgMTUuNWwxLjMtMSAyLjIgMi4yTDE2IDEyeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Jywnc3RyaWtlLXRocm91Z2gnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTUuNiA4LjVjLS41LS43LTEtMS4xLTEuMy0xLjMtLjYtLjQtMS4zLS42LTItLjYtMi43IDAtMi44IDEuNy0yLjggMi4xIDAgMS42IDEuOCAyIDMuMiAyLjMgNC40LjkgNC42IDIuOCA0LjYgMy45IDAgMS40LS43IDQuMS01IDQuMUE2LjIgNi4yIDAgMCAxIDcgMTYuNGwxLjUtMS4xYy40LjYgMS42IDIgMy43IDIgMS42IDAgMi41LS40IDMtMS4yLjQtLjguMy0yLS44LTIuNi0uNy0uNC0xLjYtLjctMi45LTEtMS0uMi0zLjktLjgtMy45LTMuNkM3LjYgNiAxMC4zIDUgMTIuNCA1YzIuOSAwIDQuMiAxLjYgNC43IDIuNGwtMS41IDEuMXoiLz48cGF0aCBkPSJNNSAxMWgxNGExIDEgMCAwIDEgMCAySDVhMSAxIDAgMCAxIDAtMnoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L3N2Zz4nLCdzdWJzY3JpcHQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTEwLjQgMTBsNC42IDQuNi0xLjQgMS40TDkgMTEuNCA0LjQgMTYgMyAxNC42IDcuNiAxMCAzIDUuNCA0LjQgNCA5IDguNiAxMy42IDQgMTUgNS40IDEwLjQgMTB6TTIxIDE5aC01di0xbDEtLjggMS43LTEuNmMuMy0uNC41LS44LjUtMS4yIDAtLjMgMC0uNi0uMi0uNy0uMi0uMi0uNS0uMy0uOS0uM2EyIDIgMCAwIDAtLjguMmwtLjcuMy0uNC0xLjEgMS0uNiAxLjItLjJjLjggMCAxLjQuMyAxLjguNy40LjQuNi45LjYgMS41cy0uMiAxLjEtLjUgMS42YTggOCAwIDAgMS0xLjMgMS4zbC0uNi42aDIuNlYxOXoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3N1cGVyc2NyaXB0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNSA5LjRMMTAuNCAxNGw0LjYgNC42LTEuNCAxLjRMOSAxNS40IDQuNCAyMCAzIDE4LjYgNy42IDE0IDMgOS40IDQuNCA4IDkgMTIuNiAxMy42IDggMTUgOS40em01LjkgMS42aC01di0xbDEtLjggMS43LTEuNmMuMy0uNS41LS45LjUtMS4zIDAtLjMgMC0uNS0uMi0uNy0uMi0uMi0uNS0uMy0uOS0uM2wtLjguMi0uNy40LS40LTEuMmMuMi0uMi41LS40IDEtLjUuMy0uMi44LS4yIDEuMi0uMi44IDAgMS40LjIgMS44LjYuNC40LjYgMSAuNiAxLjYgMCAuNS0uMiAxLS41IDEuNWwtMS4zIDEuNC0uNi41aDIuNlYxMXoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3RhYmxlLWNlbGwtcHJvcGVydGllcyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCA1aDE2djE0SDRWNXptMTAgMTBoLTR2M2g0di0zem0wLThoLTR2M2g0Vjd6TTkgN0g1djNoNFY3em0tNCA0djNoNHYtM0g1em0xMCAwdjNoNHYtM2gtNHptMC0xaDRWN2gtNHYzek01IDE1djNoNHYtM0g1em0xMCAzaDR2LTNoLTR2M3oiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3RhYmxlLWNlbGwtc2VsZWN0LWFsbCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIuNSA1LjV2Nmg2di02aC02em0tMSAwaC02djZoNnYtNnptMSAxM2g2di02aC02djZ6bS0xIDB2LTZoLTZ2Nmg2em0tNy0xNGgxNXYxNWgtMTV2LTE1eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywndGFibGUtY2VsbC1zZWxlY3QtaW5uZXInOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNNS41IDUuNXYxM2gxM3YtMTNoLTEzem0tMS0xaDE1djE1aC0xNXYtMTV6IiBvcGFjaXR5PSIuMiIvPjxwYXRoIGQ9Ik0xMS41IDExLjV2LTdoMXY3aDd2MWgtN3Y3aC0xdi03aC03di0xaDd6Ii8+PC9nPjwvc3ZnPicsJ3RhYmxlLWRlbGV0ZS1jb2x1bW4nOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTkgMTEuMmwxIDF2LjJsLTEgMXYtMi4yem01IDFsMS0xdjIuMmwtMS0xdi0uMnpNMjAgNXYxNEg0VjVoMTZ6bS0xIDJoLTR2LjhsLS4yLS4yLS44LjhWN2gtNHYxLjRsLS44LS44LS4yLjJWN0g1djExaDR2LTEuOGwuNS41LjUtLjRWMThoNHYtMS44bC44LjguMi0uM1YxOGg0Vjd6bS0zLjkgMy40bC0xLjggMS45IDEuOCAxLjljLjQuMy40LjkgMCAxLjItLjMuMy0uOC4zLTEuMiAwTDEyIDEzLjVsLTEuOCAxLjlhLjguOCAwIDAgMS0xLjIgMCAuOS45IDAgMCAxIDAtMS4ybDEuOC0xLjktMS45LTJhLjkuOSAwIDAgMSAxLjItMS4ybDIgMiAxLjgtMS44Yy4zLS40LjktLjQgMS4yIDBhLjguOCAwIDAgMSAwIDEuMXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3RhYmxlLWRlbGV0ZS1yb3cnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE2LjcgOC44bDEuMSAxLjItMi40IDIuNUwxOCAxNWwtMS4yIDEuMi0yLjUtMi41LTIuNCAyLjUtMS4zLTEuMiAyLjUtMi41LTIuNS0yLjUgMS4yLTEuMyAyLjYgMi42IDIuNC0yLjV6TTQgNWgxNnYxNEg0VjV6bTE1IDVWN0g1djNoNC44bDEgMUg1djNoNS44bC0xIDFINXYzaDE0di0zaC0uNGwtMS0xSDE5di0zaC0xLjNsMS0xaC4zeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGFibGUtZGVsZXRlLXRhYmxlJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjYiPjxwYXRoIGQ9Ik00IDZoMTZ2MTRINFY2em0xIDJ2MTFoMTRWOEg1em0xMS43IDguN2wtMS41IDEuNUwxMiAxNWwtMy4zIDMuMi0xLjQtMS41IDMuMi0zLjItMy4zLTMuMiAxLjUtMS41TDEyIDEybDMuMi0zLjIgMS41IDEuNS0zLjIgMy4yIDMuMiAzLjJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd0YWJsZS1pbnNlcnQtY29sdW1uLWFmdGVyJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNC4zIDljLjQgMCAuNy4zLjcuNnYyLjJoMi4xYy40IDAgLjcuMy43LjcgMCAuNC0uMy43LS43LjdIMTV2Mi4yYzAgLjMtLjMuNi0uNy42YS43LjcgMCAwIDEtLjYtLjZ2LTIuMmgtMi4yYS43LjcgMCAwIDEgMC0xLjRoMi4yVjkuNmMwLS4zLjMtLjYuNi0uNnpNNCA1aDE2djE0SDRWNXptNSAxM3YtM0g1djNoNHptMC00di0zSDV2M2g0em0wLTRWN0g1djNoNHptMTAgOFY3aC05djExaDl6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd0YWJsZS1pbnNlcnQtY29sdW1uLWJlZm9yZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNOS43IDE2YS43LjcgMCAwIDEtLjctLjZ2LTIuMkg2LjlhLjcuNyAwIDAgMSAwLTEuNEg5VjkuNmMwLS4zLjMtLjYuNy0uNi4zIDAgLjYuMy42LjZ2Mi4yaDIuMmMuNCAwIC44LjMuOC43IDAgLjQtLjQuNy0uOC43aC0yLjJ2Mi4yYzAgLjMtLjMuNi0uNi42ek00IDVoMTZ2MTRINFY1em0xMCAxM1Y3SDV2MTFoOXptNSAwdi0zaC00djNoNHptMC00di0zaC00djNoNHptMC00VjdoLTR2M2g0eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGFibGUtaW5zZXJ0LXJvdy1hYm92ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTQuOCAxMC41YzAgLjMtLjIuNS0uNS41aC0xLjh2MS44YzAgLjMtLjIuNS0uNS41YS41LjUgMCAwIDEtLjUtLjZWMTFIOS43YS41LjUgMCAwIDEgMC0xaDEuOFY4LjNjMC0uMy4yLS42LjUtLjZzLjUuMy41LjZWMTBoMS44Yy4zIDAgLjUuMi41LjV6TTQgNWgxNnYxNEg0VjV6bTUgMTN2LTNINXYzaDR6bTUgMHYtM2gtNHYzaDR6bTUgMHYtM2gtNHYzaDR6bTAtNFY3SDV2N2gxNHoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3RhYmxlLWluc2VydC1yb3ctYWZ0ZXInOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTkuMiAxNC41YzAtLjMuMi0uNS41LS41aDEuOHYtMS44YzAtLjMuMi0uNS41LS41cy41LjIuNS42VjE0aDEuOGMuMyAwIC41LjIuNS41cy0uMi41LS41LjVoLTEuOHYxLjdjMCAuMy0uMi42LS41LjZhLjUuNSAwIDAgMS0uNS0uNlYxNUg5LjdhLjUuNSAwIDAgMS0uNS0uNXpNNCA1aDE2djE0SDRWNXptNiAydjNoNFY3aC00ek01IDd2M2g0VjdINXptMTQgMTF2LTdINXY3aDE0em0wLThWN2gtNHYzaDR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd0YWJsZS1sZWZ0LWhlYWRlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCA1aDE2djEzSDRWNXptMTAgMTJ2LTNoLTR2M2g0em0wLTR2LTNoLTR2M2g0em0wLTRWNmgtNHYzaDR6bTUgOHYtM2gtNHYzaDR6bTAtNHYtM2gtNHYzaDR6bTAtNFY2aC00djNoNHoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3RhYmxlLW1lcmdlLWNlbGxzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik00IDVoMTZ2MTRINFY1em02IDEzaDl2LTdoLTl2N3ptNC0xMWgtNHYzaDRWN3pNOSA3SDV2M2g0Vjd6bS00IDR2M2g0di0zSDV6bTEwLTFoNFY3aC00djN6TTUgMTV2M2g0di0zSDV6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd0YWJsZS1yb3ctcHJvcGVydGllcyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCA1aDE2djE0SDRWNXptMTAgMTBoLTR2M2g0di0zem0wLThoLTR2M2g0Vjd6TTkgN0g1djNoNFY3em02IDNoNFY3aC00djN6TTUgMTV2M2g0di0zSDV6bTEwIDNoNHYtM2gtNHYzeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGFibGUtc3BsaXQtY2VsbHMnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTQgNWgxNnYxNEg0VjV6bTYgMnYzaDRWN2gtNHpNOSAxOHYtM0g1djNoNHptMC00di0zSDV2M2g0em0wLTRWN0g1djNoNHptMTAgOHYtN2gtOXY3aDl6bTAtOFY3aC00djNoNHptLTMuNSA0LjVsMS41IDEuNmMuMy4yLjMuNyAwIDEtLjIuMi0uNy4yLTEgMGwtMS41LTEuNi0xLjYgMS41Yy0uMi4zLS43LjMtMSAwYS43LjcgMCAwIDEgMC0xbDEuNi0xLjUtMS41LTEuNmEuNy43IDAgMCAxIDEtMWwxLjUgMS42IDEuNi0xLjVjLjItLjMuNy0uMyAxIDAgLjIuMi4yLjcgMCAxbC0xLjYgMS41eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGFibGUtdG9wLWhlYWRlcic6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNCA1aDE2djEzSDRWNXptNSAxMnYtM0g1djNoNHptMC00di0zSDV2M2g0em01IDR2LTNoLTR2M2g0em0wLTR2LTNoLTR2M2g0em01IDR2LTNoLTR2M2g0em0wLTR2LTNoLTR2M2g0eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGFibGUnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTQgNWgxNnYxNEg0VjV6bTYgOWg0di0zaC00djN6bTQgMWgtNHYzaDR2LTN6bTAtOGgtNHYzaDRWN3pNOSA3SDV2M2g0Vjd6bS00IDR2M2g0di0zSDV6bTEwIDB2M2g0di0zaC00em0wLTFoNFY3aC00djN6TTUgMTV2M2g0di0zSDV6bTEwIDNoNHYtM2gtNHYzeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndGVtcGxhdGUnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE5IDE5di0xSDV2MWgxNHpNOSAxNnYtNGE1IDUgMCAxIDEgNiAwdjRoNGEyIDIgMCAwIDEgMiAydjNIM3YtM2MwLTEuMS45LTIgMi0yaDR6bTQgMHYtNWwuOC0uNmEzIDMgMCAxIDAtMy42IDBsLjguNnY1aDJ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCd0ZW1wb3JhcnktcGxhY2Vob2xkZXInOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNOSA3LjZWNmgyLjVWNC41YS41LjUgMCAxIDEgMSAwVjZIMTV2MS42YTggOCAwIDEgMS02IDB6bS0yLjYgNS4zYS41LjUgMCAwIDAgLjMuNmMuMyAwIC42IDAgLjYtLjNsLjEtLjJhNSA1IDAgMCAxIDMuMy0yLjhjLjMtLjEuNC0uNC40LS42LS4xLS4zLS40LS41LS42LS40YTYgNiAwIDAgMC00LjEgMy43eiIvPjxjaXJjbGUgY3g9IjE0IiBjeT0iNCIgcj0iMSIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMiIgcj0iMSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iNCIgcj0iMSIvPjwvZz48L3N2Zz4nLCd0ZXh0LWNvbG9yJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggaWQ9InRveC1pY29uLXRleHQtY29sb3JfX2NvbG9yIiBkPSJNMyAxOGgxOHYzSDN6Ii8+PHBhdGggZD0iTTguNyAxNmgtLjhhLjUuNSAwIDAgMS0uNS0uNmwyLjctOWMuMS0uMy4zLS40LjUtLjRoMi44Yy4yIDAgLjQuMS41LjRsMi43IDlhLjUuNSAwIDAgMS0uNS42aC0uOGEuNS41IDAgMCAxLS40LS40bC0uNy0yLjJjMC0uMy0uMy0uNC0uNS0uNGgtMy40Yy0uMiAwLS40LjEtLjUuNGwtLjcgMi4yYzAgLjMtLjIuNC0uNC40em0yLjYtNy42bC0uNiAyYS41LjUgMCAwIDAgLjUuNmgxLjZhLjUuNSAwIDAgMCAuNS0uNmwtLjYtMmMwLS4zLS4zLS40LS41LS40aC0uNGMtLjIgMC0uNC4xLS41LjR6Ii8+PC9nPjwvc3ZnPicsJ3RvYyc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNNSA1Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxYTEgMSAwIDEgMSAwLTJ6bTMgMGgxMWMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg4YTEgMSAwIDEgMSAwLTJ6bS0zIDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFhMSAxIDAgMCAxIDAtMnptMyAwaDExYy42IDAgMSAuNCAxIDFzLS40IDEtMSAxSDhhMSAxIDAgMCAxIDAtMnptMC00Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxYTEgMSAwIDEgMSAwLTJ6bTMgMGg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bS0zIDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFhMSAxIDAgMCAxIDAtMnptMyAwaDhjLjYgMCAxIC40IDEgMXMtLjQgMS0xIDFoLThhMSAxIDAgMCAxIDAtMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3RyYW5zbGF0ZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIuNyAxNC4zbC0uMy43LS40LjctMi4yLTIuMi0zLjEgM2MtLjMuNC0uOC40LTEgMGEuNy43IDAgMCAxIDAtMWwzLjEtM0ExMi40IDEyLjQgMCAwIDEgNi43IDlIOGExMC4xIDEwLjEgMCAwIDAgMS43IDIuNGMuNS0uNSAxLTEuMSAxLjQtMS44bC45LTJINC43YS43LjcgMCAxIDEgMC0xLjVoNC40di0uN2MwLS40LjMtLjguNy0uOC40IDAgLjcuNC43Ljh2LjdIMTVjLjQgMCAuOC4zLjguNyAwIC40LS40LjgtLjguOGgtMS40YTEyLjMgMTIuMyAwIDAgMS0xIDIuNCAxMy41IDEzLjUgMCAwIDEtMS43IDIuM2wxLjkgMS44em00LjMtM2wyLjcgNy4zYS41LjUgMCAwIDEtLjQuNyAxIDEgMCAwIDEtMS0uN2wtLjYtMS41aC0zLjRsLS42IDEuNWExIDEgMCAwIDEtMSAuNy41LjUgMCAwIDEtLjQtLjdsMi43LTcuNGExIDEgMCAxIDEgMiAwem0tMi4yIDQuNGgyLjRMMTYgMTIuNWwtMS4yIDMuMnoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3VuZGVybGluZSc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTYgNWMuNiAwIDEgLjQgMSAxdjUuNWE0IDQgMCAwIDEtLjQgMS44bC0xIDEuNGE1LjMgNS4zIDAgMCAxLTUuNSAxIDUgNSAwIDAgMS0xLjYtMWMtLjUtLjQtLjgtLjktMS4xLTEuNGE0IDQgMCAwIDEtLjQtMS44VjZjMC0uNi40LTEgMS0xczEgLjQgMSAxdjUuNWMwIC4zIDAgLjYuMiAxbC42LjdhMy4zIDMuMyAwIDAgMCAyLjIuOCAzLjQgMy40IDAgMCAwIDIuMi0uOGMuMy0uMi40LS41LjYtLjhsLjItLjlWNmMwLS42LjQtMSAxLTF6TTggMTdoOGMuNiAwIDEgLjQgMSAxcy0uNCAxLTEgMUg4YTEgMSAwIDAgMSAwLTJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd1bmRvJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik02LjQgOEgxMmMzLjcgMCA2LjIgMiA2LjggNS4xLjYgMi43LS40IDUuNi0yLjMgNi44YTEgMSAwIDAgMS0xLTEuOGMxLjEtLjYgMS44LTIuNyAxLjQtNC42LS41LTIuMS0yLjEtMy41LTQuOS0zLjVINi40bDMuMyAzLjNhMSAxIDAgMSAxLTEuNCAxLjRsLTUtNWExIDEgMCAwIDEgMC0xLjRsNS01YTEgMSAwIDAgMSAxLjQgMS40TDYuNCA4eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywndW5saW5rJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik02LjIgMTIuM2ExIDEgMCAwIDEgMS40IDEuNGwtMiAyYTIgMiAwIDEgMCAyLjYgMi44bDQuOC00LjhhMSAxIDAgMCAwIDAtMS40IDEgMSAwIDEgMSAxLjQtMS4zIDIuOSAyLjkgMCAwIDEgMCA0TDkuNiAyMGEzLjkgMy45IDAgMCAxLTUuNS01LjVsMi0yem0xMS42LS42YTEgMSAwIDAgMS0xLjQtMS40bDIuMS0yYTIgMiAwIDEgMC0yLjctMi44TDExIDEwLjNhMSAxIDAgMCAwIDAgMS40QTEgMSAwIDEgMSA5LjYgMTNhMi45IDIuOSAwIDAgMSAwLTRMMTQuNCA0YTMuOSAzLjkgMCAwIDEgNS41IDUuNWwtMiAyek03LjYgNi4zYS44LjggMCAwIDEtMSAxLjFMMy4zIDQuMmEuNy43IDAgMSAxIDEtMWwzLjIgMy4xek01LjEgOC42YS44LjggMCAwIDEgMCAxLjVIM2EuOC44IDAgMCAxIDAtMS41SDV6bTUtMy41YS44LjggMCAwIDEtMS41IDBWM2EuOC44IDAgMCAxIDEuNSAwVjV6bTYgMTEuOGEuOC44IDAgMCAxIDEtMWwzLjIgMy4yYS44LjggMCAwIDEtMSAxTDE2IDE3em0tMi4yIDJhLjguOCAwIDAgMSAxLjUgMFYyMWEuOC44IDAgMCAxLTEuNSAwVjE5em01LTMuNWEuNy43IDAgMSAxIDAtMS41SDIxYS44LjggMCAwIDEgMCAxLjVIMTl6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nLCd1bmxvY2snOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE2IDVjLjggMCAxLjUuMyAyLjEuOS42LjYuOSAxLjMuOSAyLjF2M2gtMlY4YTEgMSAwIDAgMC0uMy0uN0ExIDEgMCAwIDAgMTYgN2gtMmExIDEgMCAwIDAtLjcuMyAxIDEgMCAwIDAtLjMuN3YzaC4zYy4yIDAgLjMgMCAuNS4ybC4yLjZ2Ny40YzAgLjMgMCAuNC0uMi42bC0uNi4ySDQuOGMtLjMgMC0uNCAwLS42LS4yYS43LjcgMCAwIDEtLjItLjZ2LTcuNGMwLS4zIDAtLjQuMi0uNmwuNS0uMkgxMVY4YzAtLjguMy0xLjUuOS0yLjEuNi0uNiAxLjMtLjkgMi4xLS45aDJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd1bm9yZGVyZWQtbGlzdCc6Jzxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTEgNWg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAgNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6bTAgNmg4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxaC04YTEgMSAwIDAgMSAwLTJ6TTQuNSA2YzAtLjQuMS0uOC40LTEgLjMtLjQuNy0uNSAxLjEtLjUuNCAwIC44LjEgMSAuNC40LjMuNS43LjUgMS4xIDAgLjQtLjEuOC0uNCAxLS4zLjQtLjcuNS0xLjEuNS0uNCAwLS44LS4xLTEtLjQtLjQtLjMtLjUtLjctLjUtMS4xem0wIDZjMC0uNC4xLS44LjQtMSAuMy0uNC43LS41IDEuMS0uNS40IDAgLjguMSAxIC40LjQuMy41LjcuNSAxLjEgMCAuNC0uMS44LS40IDEtLjMuNC0uNy41LTEuMS41LS40IDAtLjgtLjEtMS0uNC0uNC0uMy0uNS0uNy0uNS0xLjF6bTAgNmMwLS40LjEtLjguNC0xIC4zLS40LjctLjUgMS4xLS41LjQgMCAuOC4xIDEgLjQuNC4zLjUuNy41IDEuMSAwIC40LS4xLjgtLjQgMS0uMy40LS43LjUtMS4xLjUtLjQgMC0uOC0uMS0xLS40LS40LS4zLS41LS43LS41LTEuMXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3Vuc2VsZWN0ZWQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNNiA0aDEyYTIgMiAwIDAgMSAyIDJ2MTJhMiAyIDAgMCAxLTIgMkg2YTIgMiAwIDAgMS0yLTJWNmMwLTEuMS45LTIgMi0yem0wIDFhMSAxIDAgMCAwLTEgMXYxMmMwIC42LjQgMSAxIDFoMTJjLjYgMCAxLS40IDEtMVY2YzAtLjYtLjQtMS0xLTFINnoiLz48L3N2Zz4nLCd1cGxvYWQnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE4IDE5di0yYTEgMSAwIDAgMSAyIDB2M2MwIC42LS40IDEtMSAxSDVhMSAxIDAgMCAxLTEtMXYtM2ExIDEgMCAwIDEgMiAwdjJoMTJ6TTExIDYuNEw4LjcgOC43YTEgMSAwIDAgMS0xLjQtMS40bDQtNGExIDEgMCAwIDEgMS40IDBsNCA0YTEgMSAwIDEgMS0xLjQgMS40TDEzIDYuNFYxNmExIDEgMCAwIDEtMiAwVjYuNHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3VzZXInOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTEyIDI0YTEyIDEyIDAgMSAxIDAtMjQgMTIgMTIgMCAwIDEgMCAyNHptLTguNy01LjNhMTEgMTEgMCAwIDAgMTcuNCAwQzE5LjQgMTYuMyAxNC42IDE1IDEyIDE1Yy0yLjYgMC03LjQgMS4zLTguNyAzLjd6TTEyIDEzYzIuMiAwIDQtMiA0LTQuNVMxNC4yIDQgMTIgNCA4IDYgOCA4LjUgOS44IDEzIDEyIDEzeiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+JywndmlzdWFsYmxvY2tzJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik05IDE5djJIN3YtMmgyem0tNCAwdjJhMiAyIDAgMCAxLTItMmgyem04IDB2MmgtMnYtMmgyem04IDBhMiAyIDAgMCAxLTIgMnYtMmgyem0tNCAwdjJoLTJ2LTJoMnpNMTUgN2ExIDEgMCAwIDEgMCAydjdhMSAxIDAgMCAxLTIgMFY5aC0xdjdhMSAxIDAgMCAxLTIgMHYtNGEyLjUgMi41IDAgMCAxLS4yLTVIMTV6TTUgMTV2Mkgzdi0yaDJ6bTE2IDB2MmgtMnYtMmgyek01IDExdjJIM3YtMmgyem0xNiAwdjJoLTJ2LTJoMnpNNSA3djJIM1Y3aDJ6bTE2IDB2MmgtMlY3aDJ6TTUgM3YySDNjMC0xLjEuOS0yIDItMnptOCAwdjJoLTJWM2gyem02IDBhMiAyIDAgMCAxIDIgMmgtMlYzek05IDN2Mkg3VjNoMnptOCAwdjJoLTJWM2gyeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+JywndmlzdWFsY2hhcnMnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTEwIDVoN2ExIDEgMCAwIDEgMCAyaC0xdjExYTEgMSAwIDAgMS0yIDBWN2gtMnYxMWExIDEgMCAwIDEtMiAwdi02Yy0uNSAwLTEgMC0xLjQtLjNBMy40IDMuNCAwIDAgMSA2LjggMTBhMy4zIDMuMyAwIDAgMSAwLTIuOCAzLjQgMy40IDAgMCAxIDEuOC0xLjhMMTAgNXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPicsJ3dhcm5pbmcnOic8c3ZnIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE5LjggMTguM2MuMi41LjMuOSAwIDEuMi0uMS4zLS41LjUtMSAuNUg1LjJjLS41IDAtLjktLjItMS0uNS0uMy0uMy0uMi0uNyAwLTEuMkwxMSA0LjdsLjUtLjUuNS0uMmMuMiAwIC4zIDAgLjUuMi4yIDAgLjMuMy41LjVsNi44IDEzLjZ6TTEyIDE4Yy4zIDAgLjUtLjEuNy0uMy4yLS4yLjMtLjQuMy0uN2ExIDEgMCAwIDAtLjMtLjcgMSAxIDAgMCAwLS43LS4zIDEgMSAwIDAgMC0uNy4zIDEgMSAwIDAgMC0uMy43YzAgLjMuMS41LjMuNy4yLjIuNC4zLjcuM3ptLjctM2wuMy00YTEgMSAwIDAgMC0uMy0uNyAxIDEgMCAwIDAtLjctLjMgMSAxIDAgMCAwLS43LjMgMSAxIDAgMCAwLS4zLjdsLjMgNGgxLjR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4nLCd6b29tLWluJzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNiAxNy4zYTggOCAwIDEgMSAxLjQtMS40bDQuMyA0LjRhMSAxIDAgMCAxLTEuNCAxLjRsLTQuNC00LjN6bS01LS4zYTYgNiAwIDEgMCAwLTEyIDYgNiAwIDAgMCAwIDEyem0tMS05YTEgMSAwIDAgMSAyIDB2NmExIDEgMCAwIDEtMiAwVjh6bS0yIDRhMSAxIDAgMCAxIDAtMmg2YTEgMSAwIDAgMSAwIDJIOHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPicsJ3pvb20tb3V0JzonPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik0xNiAxNy4zYTggOCAwIDEgMSAxLjQtMS40bDQuMyA0LjRhMSAxIDAgMCAxLTEuNCAxLjRsLTQuNC00LjN6bS01LS4zYTYgNiAwIDEgMCAwLTEyIDYgNiAwIDAgMCAwIDEyem0tMy01YTEgMSAwIDAgMSAwLTJoNmExIDEgMCAwIDEgMCAySDh6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4nfTt9O3ZhciBDcmVhdGVJY29uTWFuYWdlcj1mdW5jdGlvbiBDcmVhdGVJY29uTWFuYWdlcigpe3ZhciBsb29rdXA9e307dmFyIGFkZD1mdW5jdGlvbiBhZGQoaWQsaWNvblBhY2spe2xvb2t1cFtpZF09aWNvblBhY2s7fTt2YXIgZ2V0PWZ1bmN0aW9uIGdldChpZCl7aWYobG9va3VwW2lkXSl7cmV0dXJuIGxvb2t1cFtpZF07fXJldHVybntpY29uczp7fX07fTt2YXIgaGFzJDE9ZnVuY3Rpb24gaGFzJDEoaWQpe3JldHVybiBoYXMobG9va3VwLGlkKTt9O3JldHVybnthZGQ6YWRkLGdldDpnZXQsaGFzOmhhcyQxfTt9O3ZhciBJY29uTWFuYWdlcj1DcmVhdGVJY29uTWFuYWdlcigpO3ZhciBQbHVnaW5NYW5hZ2VyPUFkZE9uTWFuYWdlciQxLlBsdWdpbk1hbmFnZXI7dmFyIFRoZW1lTWFuYWdlcj1BZGRPbk1hbmFnZXIkMS5UaGVtZU1hbmFnZXI7ZnVuY3Rpb24gVXBsb2FkZXIodXBsb2FkU3RhdHVzLHNldHRpbmdzKXt2YXIgcGVuZGluZ1Byb21pc2VzPXt9O3ZhciBwYXRoSm9pbj1mdW5jdGlvbiBwYXRoSm9pbihwYXRoMSxwYXRoMil7aWYocGF0aDEpe3JldHVybiBwYXRoMS5yZXBsYWNlKC9cLyQvLCcnKSsnLycrcGF0aDIucmVwbGFjZSgvXlwvLywnJyk7fXJldHVybiBwYXRoMjt9O3ZhciBkZWZhdWx0SGFuZGxlcj1mdW5jdGlvbiBkZWZhdWx0SGFuZGxlcihibG9iSW5mbyxzdWNjZXNzLGZhaWx1cmUscHJvZ3Jlc3Mpe3ZhciB4aHIsZm9ybURhdGE7eGhyPW5ldyBkb21HbG9iYWxzLlhNTEh0dHBSZXF1ZXN0KCk7eGhyLm9wZW4oJ1BPU1QnLHNldHRpbmdzLnVybCk7eGhyLndpdGhDcmVkZW50aWFscz1zZXR0aW5ncy5jcmVkZW50aWFsczt4aHIudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7cHJvZ3Jlc3MoZS5sb2FkZWQvZS50b3RhbCoxMDApO307eGhyLm9uZXJyb3I9ZnVuY3Rpb24oKXtmYWlsdXJlKCdJbWFnZSB1cGxvYWQgZmFpbGVkIGR1ZSB0byBhIFhIUiBUcmFuc3BvcnQgZXJyb3IuIENvZGU6ICcreGhyLnN0YXR1cyk7fTt4aHIub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGpzb247aWYoeGhyLnN0YXR1czwyMDB8fHhoci5zdGF0dXM+PTMwMCl7ZmFpbHVyZSgnSFRUUCBFcnJvcjogJyt4aHIuc3RhdHVzKTtyZXR1cm47fWpzb249SlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtpZighanNvbnx8dHlwZW9mIGpzb24ubG9jYXRpb24hPT0nc3RyaW5nJyl7ZmFpbHVyZSgnSW52YWxpZCBKU09OOiAnK3hoci5yZXNwb25zZVRleHQpO3JldHVybjt9c3VjY2VzcyhwYXRoSm9pbihzZXR0aW5ncy5iYXNlUGF0aCxqc29uLmxvY2F0aW9uKSk7fTtmb3JtRGF0YT1uZXcgZG9tR2xvYmFscy5Gb3JtRGF0YSgpO2Zvcm1EYXRhLmFwcGVuZCgnZmlsZScsYmxvYkluZm8uYmxvYigpLGJsb2JJbmZvLmZpbGVuYW1lKCkpO3hoci5zZW5kKGZvcm1EYXRhKTt9O3ZhciBub1VwbG9hZD1mdW5jdGlvbiBub1VwbG9hZCgpe3JldHVybiBuZXcgcHJvbWlzZU9iaihmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKFtdKTt9KTt9O3ZhciBoYW5kbGVyU3VjY2Vzcz1mdW5jdGlvbiBoYW5kbGVyU3VjY2VzcyhibG9iSW5mbyx1cmwpe3JldHVybnt1cmw6dXJsLGJsb2JJbmZvOmJsb2JJbmZvLHN0YXR1czp0cnVlfTt9O3ZhciBoYW5kbGVyRmFpbHVyZT1mdW5jdGlvbiBoYW5kbGVyRmFpbHVyZShibG9iSW5mbyxlcnJvcil7cmV0dXJue3VybDonJyxibG9iSW5mbzpibG9iSW5mbyxzdGF0dXM6ZmFsc2UsZXJyb3I6ZXJyb3J9O307dmFyIHJlc29sdmVQZW5kaW5nPWZ1bmN0aW9uIHJlc29sdmVQZW5kaW5nKGJsb2JVcmkscmVzdWx0KXtUb29scy5lYWNoKHBlbmRpbmdQcm9taXNlc1tibG9iVXJpXSxmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHJlc3VsdCk7fSk7ZGVsZXRlIHBlbmRpbmdQcm9taXNlc1tibG9iVXJpXTt9O3ZhciB1cGxvYWRCbG9iSW5mbz1mdW5jdGlvbiB1cGxvYWRCbG9iSW5mbyhibG9iSW5mbyxoYW5kbGVyLG9wZW5Ob3RpZmljYXRpb24pe3VwbG9hZFN0YXR1cy5tYXJrUGVuZGluZyhibG9iSW5mby5ibG9iVXJpKCkpO3JldHVybiBuZXcgcHJvbWlzZU9iaihmdW5jdGlvbihyZXNvbHZlKXt2YXIgbm90aWZpY2F0aW9uLHByb2dyZXNzO3ZhciBub29wPWZ1bmN0aW9uIG5vb3AoKXt9O3RyeXt2YXIgY2xvc2VOb3RpZmljYXRpb25fMT1mdW5jdGlvbiBjbG9zZU5vdGlmaWNhdGlvbl8xKCl7aWYobm90aWZpY2F0aW9uKXtub3RpZmljYXRpb24uY2xvc2UoKTtwcm9ncmVzcz1ub29wO319O3ZhciBzdWNjZXNzPWZ1bmN0aW9uIHN1Y2Nlc3ModXJsKXtjbG9zZU5vdGlmaWNhdGlvbl8xKCk7dXBsb2FkU3RhdHVzLm1hcmtVcGxvYWRlZChibG9iSW5mby5ibG9iVXJpKCksdXJsKTtyZXNvbHZlUGVuZGluZyhibG9iSW5mby5ibG9iVXJpKCksaGFuZGxlclN1Y2Nlc3MoYmxvYkluZm8sdXJsKSk7cmVzb2x2ZShoYW5kbGVyU3VjY2VzcyhibG9iSW5mbyx1cmwpKTt9O3ZhciBmYWlsdXJlPWZ1bmN0aW9uIGZhaWx1cmUoZXJyb3Ipe2Nsb3NlTm90aWZpY2F0aW9uXzEoKTt1cGxvYWRTdGF0dXMucmVtb3ZlRmFpbGVkKGJsb2JJbmZvLmJsb2JVcmkoKSk7cmVzb2x2ZVBlbmRpbmcoYmxvYkluZm8uYmxvYlVyaSgpLGhhbmRsZXJGYWlsdXJlKGJsb2JJbmZvLGVycm9yKSk7cmVzb2x2ZShoYW5kbGVyRmFpbHVyZShibG9iSW5mbyxlcnJvcikpO307cHJvZ3Jlc3M9ZnVuY3Rpb24gcHJvZ3Jlc3MocGVyY2VudCl7aWYocGVyY2VudDwwfHxwZXJjZW50PjEwMCl7cmV0dXJuO31pZighbm90aWZpY2F0aW9uKXtub3RpZmljYXRpb249b3Blbk5vdGlmaWNhdGlvbigpO31ub3RpZmljYXRpb24ucHJvZ3Jlc3NCYXIudmFsdWUocGVyY2VudCk7fTtoYW5kbGVyKGJsb2JJbmZvLHN1Y2Nlc3MsZmFpbHVyZSxwcm9ncmVzcyk7fWNhdGNoKGV4KXtyZXNvbHZlKGhhbmRsZXJGYWlsdXJlKGJsb2JJbmZvLGV4Lm1lc3NhZ2UpKTt9fSk7fTt2YXIgaXNEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbiBpc0RlZmF1bHRIYW5kbGVyKGhhbmRsZXIpe3JldHVybiBoYW5kbGVyPT09ZGVmYXVsdEhhbmRsZXI7fTt2YXIgcGVuZGluZ1VwbG9hZEJsb2JJbmZvPWZ1bmN0aW9uIHBlbmRpbmdVcGxvYWRCbG9iSW5mbyhibG9iSW5mbyl7dmFyIGJsb2JVcmk9YmxvYkluZm8uYmxvYlVyaSgpO3JldHVybiBuZXcgcHJvbWlzZU9iaihmdW5jdGlvbihyZXNvbHZlKXtwZW5kaW5nUHJvbWlzZXNbYmxvYlVyaV09cGVuZGluZ1Byb21pc2VzW2Jsb2JVcmldfHxbXTtwZW5kaW5nUHJvbWlzZXNbYmxvYlVyaV0ucHVzaChyZXNvbHZlKTt9KTt9O3ZhciB1cGxvYWRCbG9icz1mdW5jdGlvbiB1cGxvYWRCbG9icyhibG9iSW5mb3Msb3Blbk5vdGlmaWNhdGlvbil7YmxvYkluZm9zPVRvb2xzLmdyZXAoYmxvYkluZm9zLGZ1bmN0aW9uKGJsb2JJbmZvKXtyZXR1cm4hdXBsb2FkU3RhdHVzLmlzVXBsb2FkZWQoYmxvYkluZm8uYmxvYlVyaSgpKTt9KTtyZXR1cm4gcHJvbWlzZU9iai5hbGwoVG9vbHMubWFwKGJsb2JJbmZvcyxmdW5jdGlvbihibG9iSW5mbyl7cmV0dXJuIHVwbG9hZFN0YXR1cy5pc1BlbmRpbmcoYmxvYkluZm8uYmxvYlVyaSgpKT9wZW5kaW5nVXBsb2FkQmxvYkluZm8oYmxvYkluZm8pOnVwbG9hZEJsb2JJbmZvKGJsb2JJbmZvLHNldHRpbmdzLmhhbmRsZXIsb3Blbk5vdGlmaWNhdGlvbik7fSkpO307dmFyIHVwbG9hZD1mdW5jdGlvbiB1cGxvYWQoYmxvYkluZm9zLG9wZW5Ob3RpZmljYXRpb24pe3JldHVybiFzZXR0aW5ncy51cmwmJmlzRGVmYXVsdEhhbmRsZXIoc2V0dGluZ3MuaGFuZGxlcik/bm9VcGxvYWQoKTp1cGxvYWRCbG9icyhibG9iSW5mb3Msb3Blbk5vdGlmaWNhdGlvbik7fTtpZihpc0Z1bmN0aW9uKHNldHRpbmdzLmhhbmRsZXIpPT09ZmFsc2Upe3NldHRpbmdzLmhhbmRsZXI9ZGVmYXVsdEhhbmRsZXI7fXJldHVybnt1cGxvYWQ6dXBsb2FkfTt9dmFyIGJsb2JVcmlUb0Jsb2I9ZnVuY3Rpb24gYmxvYlVyaVRvQmxvYih1cmwpe3JldHVybiBuZXcgcHJvbWlzZU9iaihmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHJlamVjdFdpdGhFcnJvcj1mdW5jdGlvbiByZWplY3RXaXRoRXJyb3IoKXtyZWplY3QoJ0Nhbm5vdCBjb252ZXJ0ICcrdXJsKycgdG8gQmxvYi4gUmVzb3VyY2UgbWlnaHQgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZS4nKTt9O3RyeXt2YXIgeGhyPW5ldyBkb21HbG9iYWxzLlhNTEh0dHBSZXF1ZXN0KCk7eGhyLm9wZW4oJ0dFVCcsdXJsLHRydWUpO3hoci5yZXNwb25zZVR5cGU9J2Jsb2InO3hoci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXR1cz09PTIwMCl7cmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTt9ZWxzZXtyZWplY3RXaXRoRXJyb3IoKTt9fTt4aHIub25lcnJvcj1yZWplY3RXaXRoRXJyb3I7eGhyLnNlbmQoKTt9Y2F0Y2goZXgpe3JlamVjdFdpdGhFcnJvcigpO319KTt9O3ZhciBwYXJzZURhdGFVcmk9ZnVuY3Rpb24gcGFyc2VEYXRhVXJpKHVyaSl7dmFyIHR5cGUsbWF0Y2hlczt2YXIgdXJpUGFydHM9ZGVjb2RlVVJJQ29tcG9uZW50KHVyaSkuc3BsaXQoJywnKTttYXRjaGVzPS9kYXRhOihbXjtdKykvLmV4ZWModXJpUGFydHNbMF0pO2lmKG1hdGNoZXMpe3R5cGU9bWF0Y2hlc1sxXTt9cmV0dXJue3R5cGU6dHlwZSxkYXRhOnVyaVBhcnRzWzFdfTt9O3ZhciBkYXRhVXJpVG9CbG9iPWZ1bmN0aW9uIGRhdGFVcmlUb0Jsb2IodXJpKXtyZXR1cm4gbmV3IHByb21pc2VPYmooZnVuY3Rpb24ocmVzb2x2ZSl7dmFyIHN0cixhcnIsaTt2YXIgdXJpUGFydHM9cGFyc2VEYXRhVXJpKHVyaSk7dHJ5e3N0cj1kb21HbG9iYWxzLmF0b2IodXJpUGFydHMuZGF0YSk7fWNhdGNoKGUpe3Jlc29sdmUobmV3IGRvbUdsb2JhbHMuQmxvYihbXSkpO3JldHVybjt9YXJyPW5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGgpO2ZvcihpPTA7aTxhcnIubGVuZ3RoO2krKyl7YXJyW2ldPXN0ci5jaGFyQ29kZUF0KGkpO31yZXNvbHZlKG5ldyBkb21HbG9iYWxzLkJsb2IoW2Fycl0se3R5cGU6dXJpUGFydHMudHlwZX0pKTt9KTt9O3ZhciB1cmlUb0Jsb2I9ZnVuY3Rpb24gdXJpVG9CbG9iKHVybCl7aWYodXJsLmluZGV4T2YoJ2Jsb2I6Jyk9PT0wKXtyZXR1cm4gYmxvYlVyaVRvQmxvYih1cmwpO31pZih1cmwuaW5kZXhPZignZGF0YTonKT09PTApe3JldHVybiBkYXRhVXJpVG9CbG9iKHVybCk7fXJldHVybiBudWxsO307dmFyIGJsb2JUb0RhdGFVcmk9ZnVuY3Rpb24gYmxvYlRvRGF0YVVyaShibG9iKXtyZXR1cm4gbmV3IHByb21pc2VPYmooZnVuY3Rpb24ocmVzb2x2ZSl7dmFyIHJlYWRlcj1uZXcgZG9tR2xvYmFscy5GaWxlUmVhZGVyKCk7cmVhZGVyLm9ubG9hZGVuZD1mdW5jdGlvbigpe3Jlc29sdmUocmVhZGVyLnJlc3VsdCk7fTtyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTt9KTt9O3ZhciBDb252ZXJzaW9ucz17dXJpVG9CbG9iOnVyaVRvQmxvYixibG9iVG9EYXRhVXJpOmJsb2JUb0RhdGFVcmkscGFyc2VEYXRhVXJpOnBhcnNlRGF0YVVyaX07dmFyIGNvdW50PTA7dmFyIHVuaXF1ZUlkPWZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCl7cmV0dXJuKHByZWZpeHx8J2Jsb2JpZCcpK2NvdW50Kys7fTt2YXIgaW1hZ2VUb0Jsb2JJbmZvPWZ1bmN0aW9uIGltYWdlVG9CbG9iSW5mbyhibG9iQ2FjaGUsaW1nLHJlc29sdmUscmVqZWN0KXt2YXIgYmFzZTY0LGJsb2JJbmZvO2lmKGltZy5zcmMuaW5kZXhPZignYmxvYjonKT09PTApe2Jsb2JJbmZvPWJsb2JDYWNoZS5nZXRCeVVyaShpbWcuc3JjKTtpZihibG9iSW5mbyl7cmVzb2x2ZSh7aW1hZ2U6aW1nLGJsb2JJbmZvOmJsb2JJbmZvfSk7fWVsc2V7Q29udmVyc2lvbnMudXJpVG9CbG9iKGltZy5zcmMpLnRoZW4oZnVuY3Rpb24oYmxvYil7Q29udmVyc2lvbnMuYmxvYlRvRGF0YVVyaShibG9iKS50aGVuKGZ1bmN0aW9uKGRhdGFVcmkpe2Jhc2U2ND1Db252ZXJzaW9ucy5wYXJzZURhdGFVcmkoZGF0YVVyaSkuZGF0YTtibG9iSW5mbz1ibG9iQ2FjaGUuY3JlYXRlKHVuaXF1ZUlkKCksYmxvYixiYXNlNjQpO2Jsb2JDYWNoZS5hZGQoYmxvYkluZm8pO3Jlc29sdmUoe2ltYWdlOmltZyxibG9iSW5mbzpibG9iSW5mb30pO30pO30sZnVuY3Rpb24oZXJyKXtyZWplY3QoZXJyKTt9KTt9cmV0dXJuO31iYXNlNjQ9Q29udmVyc2lvbnMucGFyc2VEYXRhVXJpKGltZy5zcmMpLmRhdGE7YmxvYkluZm89YmxvYkNhY2hlLmZpbmRGaXJzdChmdW5jdGlvbihjYWNoZWRCbG9iSW5mbyl7cmV0dXJuIGNhY2hlZEJsb2JJbmZvLmJhc2U2NCgpPT09YmFzZTY0O30pO2lmKGJsb2JJbmZvKXtyZXNvbHZlKHtpbWFnZTppbWcsYmxvYkluZm86YmxvYkluZm99KTt9ZWxzZXtDb252ZXJzaW9ucy51cmlUb0Jsb2IoaW1nLnNyYykudGhlbihmdW5jdGlvbihibG9iKXtibG9iSW5mbz1ibG9iQ2FjaGUuY3JlYXRlKHVuaXF1ZUlkKCksYmxvYixiYXNlNjQpO2Jsb2JDYWNoZS5hZGQoYmxvYkluZm8pO3Jlc29sdmUoe2ltYWdlOmltZyxibG9iSW5mbzpibG9iSW5mb30pO30sZnVuY3Rpb24oZXJyKXtyZWplY3QoZXJyKTt9KTt9fTt2YXIgZ2V0QWxsSW1hZ2VzPWZ1bmN0aW9uIGdldEFsbEltYWdlcyhlbG0pe3JldHVybiBlbG0/ZnJvbSQxKGVsbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJykpOltdO307ZnVuY3Rpb24gSW1hZ2VTY2FubmVyKHVwbG9hZFN0YXR1cyxibG9iQ2FjaGUpe3ZhciBjYWNoZWRQcm9taXNlcz17fTt2YXIgZmluZEFsbD1mdW5jdGlvbiBmaW5kQWxsKGVsbSxwcmVkaWNhdGUpe3ZhciBpbWFnZXM7aWYoIXByZWRpY2F0ZSl7cHJlZGljYXRlPWNvbnN0YW50KHRydWUpO31pbWFnZXM9ZmlsdGVyKGdldEFsbEltYWdlcyhlbG0pLGZ1bmN0aW9uKGltZyl7dmFyIHNyYz1pbWcuc3JjO2lmKCFFbnYuZmlsZUFwaSl7cmV0dXJuIGZhbHNlO31pZihpbWcuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycpKXtyZXR1cm4gZmFsc2U7fWlmKGltZy5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWNlLXBsYWNlaG9sZGVyJykpe3JldHVybiBmYWxzZTt9aWYoIXNyY3x8c3JjPT09RW52LnRyYW5zcGFyZW50U3JjKXtyZXR1cm4gZmFsc2U7fWlmKHNyYy5pbmRleE9mKCdibG9iOicpPT09MCl7cmV0dXJuIXVwbG9hZFN0YXR1cy5pc1VwbG9hZGVkKHNyYykmJnByZWRpY2F0ZShpbWcpO31pZihzcmMuaW5kZXhPZignZGF0YTonKT09PTApe3JldHVybiBwcmVkaWNhdGUoaW1nKTt9cmV0dXJuIGZhbHNlO30pO3ZhciBwcm9taXNlcz1tYXAoaW1hZ2VzLGZ1bmN0aW9uKGltZyl7aWYoY2FjaGVkUHJvbWlzZXNbaW1nLnNyY10pe3JldHVybiBuZXcgcHJvbWlzZU9iaihmdW5jdGlvbihyZXNvbHZlKXtjYWNoZWRQcm9taXNlc1tpbWcuc3JjXS50aGVuKGZ1bmN0aW9uKGltYWdlSW5mbyl7aWYodHlwZW9mIGltYWdlSW5mbz09PSdzdHJpbmcnKXtyZXR1cm4gaW1hZ2VJbmZvO31yZXNvbHZlKHtpbWFnZTppbWcsYmxvYkluZm86aW1hZ2VJbmZvLmJsb2JJbmZvfSk7fSk7fSk7fXZhciBuZXdQcm9taXNlPW5ldyBwcm9taXNlT2JqKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpbWFnZVRvQmxvYkluZm8oYmxvYkNhY2hlLGltZyxyZXNvbHZlLHJlamVjdCk7fSkudGhlbihmdW5jdGlvbihyZXN1bHQpe2RlbGV0ZSBjYWNoZWRQcm9taXNlc1tyZXN1bHQuaW1hZ2Uuc3JjXTtyZXR1cm4gcmVzdWx0O30pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtkZWxldGUgY2FjaGVkUHJvbWlzZXNbaW1nLnNyY107cmV0dXJuIGVycm9yO30pO2NhY2hlZFByb21pc2VzW2ltZy5zcmNdPW5ld1Byb21pc2U7cmV0dXJuIG5ld1Byb21pc2U7fSk7cmV0dXJuIHByb21pc2VPYmouYWxsKHByb21pc2VzKTt9O3JldHVybntmaW5kQWxsOmZpbmRBbGx9O312YXIgY291bnQkMT0wO3ZhciBzZWVkPWZ1bmN0aW9uIHNlZWQoKXt2YXIgcm5kPWZ1bmN0aW9uIHJuZCgpe3JldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NSkudG9TdHJpbmcoMzYpO307dmFyIG5vdz1uZXcgRGF0ZSgpLmdldFRpbWUoKTtyZXR1cm4ncycrbm93LnRvU3RyaW5nKDM2KStybmQoKStybmQoKStybmQoKTt9O3ZhciB1dWlkPWZ1bmN0aW9uIHV1aWQocHJlZml4KXtyZXR1cm4gcHJlZml4K2NvdW50JDErKyArc2VlZCgpO307dmFyIFV1aWQ9e3V1aWQ6dXVpZH07dmFyIEJsb2JDYWNoZT1mdW5jdGlvbiBCbG9iQ2FjaGUoKXt2YXIgY2FjaGU9W107dmFyIG1pbWVUb0V4dD1mdW5jdGlvbiBtaW1lVG9FeHQobWltZSl7dmFyIG1pbWVzPXsnaW1hZ2UvanBlZyc6J2pwZycsJ2ltYWdlL2pwZyc6J2pwZycsJ2ltYWdlL2dpZic6J2dpZicsJ2ltYWdlL3BuZyc6J3BuZyd9O3JldHVybiBtaW1lc1ttaW1lLnRvTG93ZXJDYXNlKCldfHwnZGF0Jzt9O3ZhciBjcmVhdGU9ZnVuY3Rpb24gY3JlYXRlKG8sYmxvYixiYXNlNjQsZmlsZW5hbWUpe2lmKGlzU3RyaW5nKG8pKXt2YXIgaWQ9bztyZXR1cm4gdG9CbG9iSW5mbyh7aWQ6aWQsbmFtZTpmaWxlbmFtZSxibG9iOmJsb2IsYmFzZTY0OmJhc2U2NH0pO31lbHNlIGlmKGlzT2JqZWN0KG8pKXtyZXR1cm4gdG9CbG9iSW5mbyhvKTt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gaW5wdXQgdHlwZScpO319O3ZhciB0b0Jsb2JJbmZvPWZ1bmN0aW9uIHRvQmxvYkluZm8obyl7dmFyIGlkLG5hbWU7aWYoIW8uYmxvYnx8IW8uYmFzZTY0KXt0aHJvdyBuZXcgRXJyb3IoJ2Jsb2IgYW5kIGJhc2U2NCByZXByZXNlbnRhdGlvbnMgb2YgdGhlIGltYWdlIGFyZSByZXF1aXJlZCBmb3IgQmxvYkluZm8gdG8gYmUgY3JlYXRlZCcpO31pZD1vLmlkfHxVdWlkLnV1aWQoJ2Jsb2JpZCcpO25hbWU9by5uYW1lfHxpZDtyZXR1cm57aWQ6Y29uc3RhbnQoaWQpLG5hbWU6Y29uc3RhbnQobmFtZSksZmlsZW5hbWU6Y29uc3RhbnQobmFtZSsnLicrbWltZVRvRXh0KG8uYmxvYi50eXBlKSksYmxvYjpjb25zdGFudChvLmJsb2IpLGJhc2U2NDpjb25zdGFudChvLmJhc2U2NCksYmxvYlVyaTpjb25zdGFudChvLmJsb2JVcml8fGRvbUdsb2JhbHMuVVJMLmNyZWF0ZU9iamVjdFVSTChvLmJsb2IpKSx1cmk6Y29uc3RhbnQoby51cmkpfTt9O3ZhciBhZGQ9ZnVuY3Rpb24gYWRkKGJsb2JJbmZvKXtpZighZ2V0KGJsb2JJbmZvLmlkKCkpKXtjYWNoZS5wdXNoKGJsb2JJbmZvKTt9fTt2YXIgZ2V0PWZ1bmN0aW9uIGdldChpZCl7cmV0dXJuIGZpbmRGaXJzdChmdW5jdGlvbihjYWNoZWRCbG9iSW5mbyl7cmV0dXJuIGNhY2hlZEJsb2JJbmZvLmlkKCk9PT1pZDt9KTt9O3ZhciBmaW5kRmlyc3Q9ZnVuY3Rpb24gZmluZEZpcnN0KHByZWRpY2F0ZSl7cmV0dXJuIGZpbHRlcihjYWNoZSxwcmVkaWNhdGUpWzBdO307dmFyIGdldEJ5VXJpPWZ1bmN0aW9uIGdldEJ5VXJpKGJsb2JVcmkpe3JldHVybiBmaW5kRmlyc3QoZnVuY3Rpb24oYmxvYkluZm8pe3JldHVybiBibG9iSW5mby5ibG9iVXJpKCk9PT1ibG9iVXJpO30pO307dmFyIHJlbW92ZUJ5VXJpPWZ1bmN0aW9uIHJlbW92ZUJ5VXJpKGJsb2JVcmkpe2NhY2hlPWZpbHRlcihjYWNoZSxmdW5jdGlvbihibG9iSW5mbyl7aWYoYmxvYkluZm8uYmxvYlVyaSgpPT09YmxvYlVyaSl7ZG9tR2xvYmFscy5VUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JJbmZvLmJsb2JVcmkoKSk7cmV0dXJuIGZhbHNlO31yZXR1cm4gdHJ1ZTt9KTt9O3ZhciBkZXN0cm95PWZ1bmN0aW9uIGRlc3Ryb3koKXtlYWNoKGNhY2hlLGZ1bmN0aW9uKGNhY2hlZEJsb2JJbmZvKXtkb21HbG9iYWxzLlVSTC5yZXZva2VPYmplY3RVUkwoY2FjaGVkQmxvYkluZm8uYmxvYlVyaSgpKTt9KTtjYWNoZT1bXTt9O3JldHVybntjcmVhdGU6Y3JlYXRlLGFkZDphZGQsZ2V0OmdldCxnZXRCeVVyaTpnZXRCeVVyaSxmaW5kRmlyc3Q6ZmluZEZpcnN0LHJlbW92ZUJ5VXJpOnJlbW92ZUJ5VXJpLGRlc3Ryb3k6ZGVzdHJveX07fTtmdW5jdGlvbiBVcGxvYWRTdGF0dXMoKXt2YXIgUEVORElORz0xLFVQTE9BREVEPTI7dmFyIGJsb2JVcmlTdGF0dXNlcz17fTt2YXIgY3JlYXRlU3RhdHVzPWZ1bmN0aW9uIGNyZWF0ZVN0YXR1cyhzdGF0dXMscmVzdWx0VXJpKXtyZXR1cm57c3RhdHVzOnN0YXR1cyxyZXN1bHRVcmk6cmVzdWx0VXJpfTt9O3ZhciBoYXNCbG9iVXJpPWZ1bmN0aW9uIGhhc0Jsb2JVcmkoYmxvYlVyaSl7cmV0dXJuIGJsb2JVcmkgaW4gYmxvYlVyaVN0YXR1c2VzO307dmFyIGdldFJlc3VsdFVyaT1mdW5jdGlvbiBnZXRSZXN1bHRVcmkoYmxvYlVyaSl7dmFyIHJlc3VsdD1ibG9iVXJpU3RhdHVzZXNbYmxvYlVyaV07cmV0dXJuIHJlc3VsdD9yZXN1bHQucmVzdWx0VXJpOm51bGw7fTt2YXIgaXNQZW5kaW5nPWZ1bmN0aW9uIGlzUGVuZGluZyhibG9iVXJpKXtyZXR1cm4gaGFzQmxvYlVyaShibG9iVXJpKT9ibG9iVXJpU3RhdHVzZXNbYmxvYlVyaV0uc3RhdHVzPT09UEVORElORzpmYWxzZTt9O3ZhciBpc1VwbG9hZGVkPWZ1bmN0aW9uIGlzVXBsb2FkZWQoYmxvYlVyaSl7cmV0dXJuIGhhc0Jsb2JVcmkoYmxvYlVyaSk/YmxvYlVyaVN0YXR1c2VzW2Jsb2JVcmldLnN0YXR1cz09PVVQTE9BREVEOmZhbHNlO307dmFyIG1hcmtQZW5kaW5nPWZ1bmN0aW9uIG1hcmtQZW5kaW5nKGJsb2JVcmkpe2Jsb2JVcmlTdGF0dXNlc1tibG9iVXJpXT1jcmVhdGVTdGF0dXMoUEVORElORyxudWxsKTt9O3ZhciBtYXJrVXBsb2FkZWQ9ZnVuY3Rpb24gbWFya1VwbG9hZGVkKGJsb2JVcmkscmVzdWx0VXJpKXtibG9iVXJpU3RhdHVzZXNbYmxvYlVyaV09Y3JlYXRlU3RhdHVzKFVQTE9BREVELHJlc3VsdFVyaSk7fTt2YXIgcmVtb3ZlRmFpbGVkPWZ1bmN0aW9uIHJlbW92ZUZhaWxlZChibG9iVXJpKXtkZWxldGUgYmxvYlVyaVN0YXR1c2VzW2Jsb2JVcmldO307dmFyIGRlc3Ryb3k9ZnVuY3Rpb24gZGVzdHJveSgpe2Jsb2JVcmlTdGF0dXNlcz17fTt9O3JldHVybntoYXNCbG9iVXJpOmhhc0Jsb2JVcmksZ2V0UmVzdWx0VXJpOmdldFJlc3VsdFVyaSxpc1BlbmRpbmc6aXNQZW5kaW5nLGlzVXBsb2FkZWQ6aXNVcGxvYWRlZCxtYXJrUGVuZGluZzptYXJrUGVuZGluZyxtYXJrVXBsb2FkZWQ6bWFya1VwbG9hZGVkLHJlbW92ZUZhaWxlZDpyZW1vdmVGYWlsZWQsZGVzdHJveTpkZXN0cm95fTt9dmFyIEVkaXRvclVwbG9hZD1mdW5jdGlvbiBFZGl0b3JVcGxvYWQoZWRpdG9yKXt2YXIgYmxvYkNhY2hlPUJsb2JDYWNoZSgpO3ZhciB1cGxvYWRlcixpbWFnZVNjYW5uZXI7dmFyIHVwbG9hZFN0YXR1cz1VcGxvYWRTdGF0dXMoKTt2YXIgdXJsRmlsdGVycz1bXTt2YXIgYWxpdmVHdWFyZD1mdW5jdGlvbiBhbGl2ZUd1YXJkKGNhbGxiYWNrKXtyZXR1cm4gZnVuY3Rpb24ocmVzdWx0KXtpZihlZGl0b3Iuc2VsZWN0aW9uKXtyZXR1cm4gY2FsbGJhY2socmVzdWx0KTt9cmV0dXJuW107fTt9O3ZhciBjYWNoZUludmFsaWRhdG9yPWZ1bmN0aW9uIGNhY2hlSW52YWxpZGF0b3IoKXtyZXR1cm4nPycrbmV3IERhdGUoKS5nZXRUaW1lKCk7fTt2YXIgcmVwbGFjZVN0cmluZz1mdW5jdGlvbiByZXBsYWNlU3RyaW5nKGNvbnRlbnQsc2VhcmNoLHJlcGxhY2Upe3ZhciBpbmRleD0wO2Rve2luZGV4PWNvbnRlbnQuaW5kZXhPZihzZWFyY2gsaW5kZXgpO2lmKGluZGV4IT09LTEpe2NvbnRlbnQ9Y29udGVudC5zdWJzdHJpbmcoMCxpbmRleCkrcmVwbGFjZStjb250ZW50LnN1YnN0cihpbmRleCtzZWFyY2gubGVuZ3RoKTtpbmRleCs9cmVwbGFjZS5sZW5ndGgtc2VhcmNoLmxlbmd0aCsxO319d2hpbGUoaW5kZXghPT0tMSk7cmV0dXJuIGNvbnRlbnQ7fTt2YXIgcmVwbGFjZUltYWdlVXJsPWZ1bmN0aW9uIHJlcGxhY2VJbWFnZVVybChjb250ZW50LHRhcmdldFVybCxyZXBsYWNlbWVudFVybCl7Y29udGVudD1yZXBsYWNlU3RyaW5nKGNvbnRlbnQsJ3NyYz0iJyt0YXJnZXRVcmwrJyInLCdzcmM9IicrcmVwbGFjZW1lbnRVcmwrJyInKTtjb250ZW50PXJlcGxhY2VTdHJpbmcoY29udGVudCwnZGF0YS1tY2Utc3JjPSInK3RhcmdldFVybCsnIicsJ2RhdGEtbWNlLXNyYz0iJytyZXBsYWNlbWVudFVybCsnIicpO3JldHVybiBjb250ZW50O307dmFyIHJlcGxhY2VVcmxJblVuZG9TdGFjaz1mdW5jdGlvbiByZXBsYWNlVXJsSW5VbmRvU3RhY2sodGFyZ2V0VXJsLHJlcGxhY2VtZW50VXJsKXtlYWNoKGVkaXRvci51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKGxldmVsKXtpZihsZXZlbC50eXBlPT09J2ZyYWdtZW50ZWQnKXtsZXZlbC5mcmFnbWVudHM9bWFwKGxldmVsLmZyYWdtZW50cyxmdW5jdGlvbihmcmFnbWVudCl7cmV0dXJuIHJlcGxhY2VJbWFnZVVybChmcmFnbWVudCx0YXJnZXRVcmwscmVwbGFjZW1lbnRVcmwpO30pO31lbHNle2xldmVsLmNvbnRlbnQ9cmVwbGFjZUltYWdlVXJsKGxldmVsLmNvbnRlbnQsdGFyZ2V0VXJsLHJlcGxhY2VtZW50VXJsKTt9fSk7fTt2YXIgb3Blbk5vdGlmaWNhdGlvbj1mdW5jdGlvbiBvcGVuTm90aWZpY2F0aW9uKCl7cmV0dXJuIGVkaXRvci5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3RleHQ6ZWRpdG9yLnRyYW5zbGF0ZSgnSW1hZ2UgdXBsb2FkaW5nLi4uJyksdHlwZTonaW5mbycsdGltZW91dDotMSxwcm9ncmVzc0Jhcjp0cnVlfSk7fTt2YXIgcmVwbGFjZUltYWdlVXJpPWZ1bmN0aW9uIHJlcGxhY2VJbWFnZVVyaShpbWFnZSxyZXN1bHRVcmkpe2Jsb2JDYWNoZS5yZW1vdmVCeVVyaShpbWFnZS5zcmMpO3JlcGxhY2VVcmxJblVuZG9TdGFjayhpbWFnZS5zcmMscmVzdWx0VXJpKTtlZGl0b3IuJChpbWFnZSkuYXR0cih7J3NyYyc6U2V0dGluZ3Muc2hvdWxkUmV1c2VGaWxlTmFtZShlZGl0b3IpP3Jlc3VsdFVyaStjYWNoZUludmFsaWRhdG9yKCk6cmVzdWx0VXJpLCdkYXRhLW1jZS1zcmMnOmVkaXRvci5jb252ZXJ0VVJMKHJlc3VsdFVyaSwnc3JjJyl9KTt9O3ZhciB1cGxvYWRJbWFnZXM9ZnVuY3Rpb24gdXBsb2FkSW1hZ2VzKGNhbGxiYWNrKXtpZighdXBsb2FkZXIpe3VwbG9hZGVyPVVwbG9hZGVyKHVwbG9hZFN0YXR1cyx7dXJsOlNldHRpbmdzLmdldEltYWdlVXBsb2FkVXJsKGVkaXRvciksYmFzZVBhdGg6U2V0dGluZ3MuZ2V0SW1hZ2VVcGxvYWRCYXNlUGF0aChlZGl0b3IpLGNyZWRlbnRpYWxzOlNldHRpbmdzLmdldEltYWdlc1VwbG9hZENyZWRlbnRpYWxzKGVkaXRvciksaGFuZGxlcjpTZXR0aW5ncy5nZXRJbWFnZXNVcGxvYWRIYW5kbGVyKGVkaXRvcil9KTt9cmV0dXJuIHNjYW5Gb3JJbWFnZXMoKS50aGVuKGFsaXZlR3VhcmQoZnVuY3Rpb24oaW1hZ2VJbmZvcyl7dmFyIGJsb2JJbmZvcztibG9iSW5mb3M9bWFwKGltYWdlSW5mb3MsZnVuY3Rpb24oaW1hZ2VJbmZvKXtyZXR1cm4gaW1hZ2VJbmZvLmJsb2JJbmZvO30pO3JldHVybiB1cGxvYWRlci51cGxvYWQoYmxvYkluZm9zLG9wZW5Ob3RpZmljYXRpb24pLnRoZW4oYWxpdmVHdWFyZChmdW5jdGlvbihyZXN1bHQpe3ZhciBmaWx0ZXJlZFJlc3VsdD1tYXAocmVzdWx0LGZ1bmN0aW9uKHVwbG9hZEluZm8saW5kZXgpe3ZhciBpbWFnZT1pbWFnZUluZm9zW2luZGV4XS5pbWFnZTtpZih1cGxvYWRJbmZvLnN0YXR1cyYmU2V0dGluZ3Muc2hvdWxkUmVwbGFjZUJsb2JVcmlzKGVkaXRvcikpe3JlcGxhY2VJbWFnZVVyaShpbWFnZSx1cGxvYWRJbmZvLnVybCk7fWVsc2UgaWYodXBsb2FkSW5mby5lcnJvcil7RXJyb3JSZXBvcnRlci51cGxvYWRFcnJvcihlZGl0b3IsdXBsb2FkSW5mby5lcnJvcik7fXJldHVybntlbGVtZW50OmltYWdlLHN0YXR1czp1cGxvYWRJbmZvLnN0YXR1c307fSk7aWYoY2FsbGJhY2spe2NhbGxiYWNrKGZpbHRlcmVkUmVzdWx0KTt9cmV0dXJuIGZpbHRlcmVkUmVzdWx0O30pKTt9KSk7fTt2YXIgdXBsb2FkSW1hZ2VzQXV0bz1mdW5jdGlvbiB1cGxvYWRJbWFnZXNBdXRvKGNhbGxiYWNrKXtpZihTZXR0aW5ncy5pc0F1dG9tYXRpY1VwbG9hZHNFbmFibGVkKGVkaXRvcikpe3JldHVybiB1cGxvYWRJbWFnZXMoY2FsbGJhY2spO319O3ZhciBpc1ZhbGlkRGF0YVVyaUltYWdlPWZ1bmN0aW9uIGlzVmFsaWREYXRhVXJpSW1hZ2UoaW1nRWxtKXtpZihmb3JhbGwodXJsRmlsdGVycyxmdW5jdGlvbihmaWx0ZXIpe3JldHVybiBmaWx0ZXIoaW1nRWxtKTt9KT09PWZhbHNlKXtyZXR1cm4gZmFsc2U7fWlmKGltZ0VsbS5nZXRBdHRyaWJ1dGUoJ3NyYycpLmluZGV4T2YoJ2RhdGE6Jyk9PT0wKXt2YXIgZGF0YUltZ0ZpbHRlcj1TZXR0aW5ncy5nZXRJbWFnZXNEYXRhSW1nRmlsdGVyKGVkaXRvcik7cmV0dXJuIGRhdGFJbWdGaWx0ZXIoaW1nRWxtKTt9cmV0dXJuIHRydWU7fTt2YXIgYWRkRmlsdGVyPWZ1bmN0aW9uIGFkZEZpbHRlcihmaWx0ZXIpe3VybEZpbHRlcnMucHVzaChmaWx0ZXIpO307dmFyIHNjYW5Gb3JJbWFnZXM9ZnVuY3Rpb24gc2NhbkZvckltYWdlcygpe2lmKCFpbWFnZVNjYW5uZXIpe2ltYWdlU2Nhbm5lcj1JbWFnZVNjYW5uZXIodXBsb2FkU3RhdHVzLGJsb2JDYWNoZSk7fXJldHVybiBpbWFnZVNjYW5uZXIuZmluZEFsbChlZGl0b3IuZ2V0Qm9keSgpLGlzVmFsaWREYXRhVXJpSW1hZ2UpLnRoZW4oYWxpdmVHdWFyZChmdW5jdGlvbihyZXN1bHQpe3Jlc3VsdD1maWx0ZXIocmVzdWx0LGZ1bmN0aW9uKHJlc3VsdEl0ZW0pe2lmKHR5cGVvZiByZXN1bHRJdGVtPT09J3N0cmluZycpe0Vycm9yUmVwb3J0ZXIuZGlzcGxheUVycm9yKGVkaXRvcixyZXN1bHRJdGVtKTtyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO30pO2VhY2gocmVzdWx0LGZ1bmN0aW9uKHJlc3VsdEl0ZW0pe3JlcGxhY2VVcmxJblVuZG9TdGFjayhyZXN1bHRJdGVtLmltYWdlLnNyYyxyZXN1bHRJdGVtLmJsb2JJbmZvLmJsb2JVcmkoKSk7cmVzdWx0SXRlbS5pbWFnZS5zcmM9cmVzdWx0SXRlbS5ibG9iSW5mby5ibG9iVXJpKCk7cmVzdWx0SXRlbS5pbWFnZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWNlLXNyYycpO30pO3JldHVybiByZXN1bHQ7fSkpO307dmFyIGRlc3Ryb3k9ZnVuY3Rpb24gZGVzdHJveSgpe2Jsb2JDYWNoZS5kZXN0cm95KCk7dXBsb2FkU3RhdHVzLmRlc3Ryb3koKTtpbWFnZVNjYW5uZXI9dXBsb2FkZXI9bnVsbDt9O3ZhciByZXBsYWNlQmxvYlVyaXM9ZnVuY3Rpb24gcmVwbGFjZUJsb2JVcmlzKGNvbnRlbnQpe3JldHVybiBjb250ZW50LnJlcGxhY2UoL3NyYz0iKGJsb2I6W14iXSspIi9nLGZ1bmN0aW9uKG1hdGNoLGJsb2JVcmkpe3ZhciByZXN1bHRVcmk9dXBsb2FkU3RhdHVzLmdldFJlc3VsdFVyaShibG9iVXJpKTtpZihyZXN1bHRVcmkpe3JldHVybidzcmM9IicrcmVzdWx0VXJpKyciJzt9dmFyIGJsb2JJbmZvPWJsb2JDYWNoZS5nZXRCeVVyaShibG9iVXJpKTtpZighYmxvYkluZm8pe2Jsb2JJbmZvPWZvbGRsKGVkaXRvci5lZGl0b3JNYW5hZ2VyLmdldCgpLGZ1bmN0aW9uKHJlc3VsdCxlZGl0b3Ipe3JldHVybiByZXN1bHR8fGVkaXRvci5lZGl0b3JVcGxvYWQmJmVkaXRvci5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlLmdldEJ5VXJpKGJsb2JVcmkpO30sbnVsbCk7fWlmKGJsb2JJbmZvKXt2YXIgYmxvYj1ibG9iSW5mby5ibG9iKCk7cmV0dXJuJ3NyYz0iZGF0YTonK2Jsb2IudHlwZSsnO2Jhc2U2NCwnK2Jsb2JJbmZvLmJhc2U2NCgpKyciJzt9cmV0dXJuIG1hdGNoO30pO307ZWRpdG9yLm9uKCdTZXRDb250ZW50JyxmdW5jdGlvbigpe2lmKFNldHRpbmdzLmlzQXV0b21hdGljVXBsb2Fkc0VuYWJsZWQoZWRpdG9yKSl7dXBsb2FkSW1hZ2VzQXV0bygpO31lbHNle3NjYW5Gb3JJbWFnZXMoKTt9fSk7ZWRpdG9yLm9uKCdSYXdTYXZlQ29udGVudCcsZnVuY3Rpb24oZSl7ZS5jb250ZW50PXJlcGxhY2VCbG9iVXJpcyhlLmNvbnRlbnQpO30pO2VkaXRvci5vbignR2V0Q29udGVudCcsZnVuY3Rpb24oZSl7aWYoZS5zb3VyY2Vfdmlld3x8ZS5mb3JtYXQ9PT0ncmF3Jyl7cmV0dXJuO31lLmNvbnRlbnQ9cmVwbGFjZUJsb2JVcmlzKGUuY29udGVudCk7fSk7ZWRpdG9yLm9uKCdQb3N0UmVuZGVyJyxmdW5jdGlvbigpe2VkaXRvci5wYXJzZXIuYWRkTm9kZUZpbHRlcignaW1nJyxmdW5jdGlvbihpbWFnZXMpe2VhY2goaW1hZ2VzLGZ1bmN0aW9uKGltZyl7dmFyIHNyYz1pbWcuYXR0cignc3JjJyk7aWYoYmxvYkNhY2hlLmdldEJ5VXJpKHNyYykpe3JldHVybjt9dmFyIHJlc3VsdFVyaT11cGxvYWRTdGF0dXMuZ2V0UmVzdWx0VXJpKHNyYyk7aWYocmVzdWx0VXJpKXtpbWcuYXR0cignc3JjJyxyZXN1bHRVcmkpO319KTt9KTt9KTtyZXR1cm57YmxvYkNhY2hlOmJsb2JDYWNoZSxhZGRGaWx0ZXI6YWRkRmlsdGVyLHVwbG9hZEltYWdlczp1cGxvYWRJbWFnZXMsdXBsb2FkSW1hZ2VzQXV0bzp1cGxvYWRJbWFnZXNBdXRvLHNjYW5Gb3JJbWFnZXM6c2NhbkZvckltYWdlcyxkZXN0cm95OmRlc3Ryb3l9O307dmFyIGRyb3BMYXN0PWZ1bmN0aW9uIGRyb3BMYXN0KHhzKXtyZXR1cm4geHMuc2xpY2UoMCwtMSk7fTt2YXIgcGFyZW50c1VudGlsJDE9ZnVuY3Rpb24gcGFyZW50c1VudGlsJDEoc3RhcnQscm9vdCxwcmVkaWNhdGUpe2lmKGNvbnRhaW5zJDIocm9vdCxzdGFydCkpe3JldHVybiBkcm9wTGFzdChwYXJlbnRzKHN0YXJ0LGZ1bmN0aW9uKGVsbSl7cmV0dXJuIHByZWRpY2F0ZShlbG0pfHxlcShlbG0scm9vdCk7fSkpO31lbHNle3JldHVybltdO319O3ZhciBwYXJlbnRzJDE9ZnVuY3Rpb24gcGFyZW50cyQxKHN0YXJ0LHJvb3Qpe3JldHVybiBwYXJlbnRzVW50aWwkMShzdGFydCxyb290LGNvbnN0YW50KGZhbHNlKSk7fTt2YXIgcGFyZW50c0FuZFNlbGY9ZnVuY3Rpb24gcGFyZW50c0FuZFNlbGYoc3RhcnQscm9vdCl7cmV0dXJuW3N0YXJ0XS5jb25jYXQocGFyZW50cyQxKHN0YXJ0LHJvb3QpKTt9O3ZhciBQYXJlbnRzPXtwYXJlbnRzVW50aWw6cGFyZW50c1VudGlsJDEscGFyZW50czpwYXJlbnRzJDEscGFyZW50c0FuZFNlbGY6cGFyZW50c0FuZFNlbGZ9O3ZhciBpc0Jsb2NrRWxlbWVudD1mdW5jdGlvbiBpc0Jsb2NrRWxlbWVudChibG9ja0VsZW1lbnRzLG5vZGUpe3JldHVybiBibG9ja0VsZW1lbnRzLmhhc093blByb3BlcnR5KG5vZGUubm9kZU5hbWUpO307dmFyIGlzVmFsaWRUYXJnZXQ9ZnVuY3Rpb24gaXNWYWxpZFRhcmdldChibG9ja0VsZW1lbnRzLG5vZGUpe2lmKE5vZGVUeXBlLmlzVGV4dChub2RlKSl7cmV0dXJuIHRydWU7fWVsc2UgaWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpKXtyZXR1cm4haXNCbG9ja0VsZW1lbnQoYmxvY2tFbGVtZW50cyxub2RlKSYmIUJvb2ttYXJrcy5pc0Jvb2ttYXJrTm9kZShub2RlKTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIGhhc0Jsb2NrUGFyZW50PWZ1bmN0aW9uIGhhc0Jsb2NrUGFyZW50KGJsb2NrRWxlbWVudHMscm9vdCxub2RlKXtyZXR1cm4gZXhpc3RzKFBhcmVudHMucGFyZW50cyhFbGVtZW50LmZyb21Eb20obm9kZSksRWxlbWVudC5mcm9tRG9tKHJvb3QpKSxmdW5jdGlvbihlbG0pe3JldHVybiBpc0Jsb2NrRWxlbWVudChibG9ja0VsZW1lbnRzLGVsbS5kb20oKSk7fSk7fTt2YXIgc2hvdWxkUmVtb3ZlVGV4dE5vZGU9ZnVuY3Rpb24gc2hvdWxkUmVtb3ZlVGV4dE5vZGUoYmxvY2tFbGVtZW50cyxub2RlKXtpZihOb2RlVHlwZS5pc1RleHQobm9kZSkpe2lmKG5vZGUubm9kZVZhbHVlLmxlbmd0aD09PTApe3JldHVybiB0cnVlO31lbHNlIGlmKC9eXHMrJC8udGVzdChub2RlLm5vZGVWYWx1ZSkmJighbm9kZS5uZXh0U2libGluZ3x8aXNCbG9ja0VsZW1lbnQoYmxvY2tFbGVtZW50cyxub2RlLm5leHRTaWJsaW5nKSkpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307dmFyIGFkZFJvb3RCbG9ja3M9ZnVuY3Rpb24gYWRkUm9vdEJsb2NrcyhlZGl0b3Ipe3ZhciBkb209ZWRpdG9yLmRvbSxzZWxlY3Rpb249ZWRpdG9yLnNlbGVjdGlvbjt2YXIgc2NoZW1hPWVkaXRvci5zY2hlbWEsYmxvY2tFbGVtZW50cz1zY2hlbWEuZ2V0QmxvY2tFbGVtZW50cygpO3ZhciBub2RlPXNlbGVjdGlvbi5nZXRTdGFydCgpO3ZhciByb290Tm9kZT1lZGl0b3IuZ2V0Qm9keSgpO3ZhciBybmc7dmFyIHN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0LGVuZENvbnRhaW5lcixlbmRPZmZzZXQscm9vdEJsb2NrTm9kZTt2YXIgdGVtcE5vZGUsd3JhcHBlZCxyZXN0b3JlU2VsZWN0aW9uO3ZhciByb290Tm9kZU5hbWU7dmFyIGZvcmNlZFJvb3RCbG9jaz1TZXR0aW5ncy5nZXRGb3JjZWRSb290QmxvY2soZWRpdG9yKTtpZighbm9kZXx8IU5vZGVUeXBlLmlzRWxlbWVudChub2RlKXx8IWZvcmNlZFJvb3RCbG9jayl7cmV0dXJuO31yb290Tm9kZU5hbWU9cm9vdE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighc2NoZW1hLmlzVmFsaWRDaGlsZChyb290Tm9kZU5hbWUsZm9yY2VkUm9vdEJsb2NrLnRvTG93ZXJDYXNlKCkpfHxoYXNCbG9ja1BhcmVudChibG9ja0VsZW1lbnRzLHJvb3ROb2RlLG5vZGUpKXtyZXR1cm47fXJuZz1zZWxlY3Rpb24uZ2V0Um5nKCk7c3RhcnRDb250YWluZXI9cm5nLnN0YXJ0Q29udGFpbmVyO3N0YXJ0T2Zmc2V0PXJuZy5zdGFydE9mZnNldDtlbmRDb250YWluZXI9cm5nLmVuZENvbnRhaW5lcjtlbmRPZmZzZXQ9cm5nLmVuZE9mZnNldDtyZXN0b3JlU2VsZWN0aW9uPUVkaXRvckZvY3VzLmhhc0ZvY3VzKGVkaXRvcik7bm9kZT1yb290Tm9kZS5maXJzdENoaWxkO3doaWxlKG5vZGUpe2lmKGlzVmFsaWRUYXJnZXQoYmxvY2tFbGVtZW50cyxub2RlKSl7aWYoc2hvdWxkUmVtb3ZlVGV4dE5vZGUoYmxvY2tFbGVtZW50cyxub2RlKSl7dGVtcE5vZGU9bm9kZTtub2RlPW5vZGUubmV4dFNpYmxpbmc7ZG9tLnJlbW92ZSh0ZW1wTm9kZSk7Y29udGludWU7fWlmKCFyb290QmxvY2tOb2RlKXtyb290QmxvY2tOb2RlPWRvbS5jcmVhdGUoZm9yY2VkUm9vdEJsb2NrLFNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9ja0F0dHJzKGVkaXRvcikpO25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm9vdEJsb2NrTm9kZSxub2RlKTt3cmFwcGVkPXRydWU7fXRlbXBOb2RlPW5vZGU7bm9kZT1ub2RlLm5leHRTaWJsaW5nO3Jvb3RCbG9ja05vZGUuYXBwZW5kQ2hpbGQodGVtcE5vZGUpO31lbHNle3Jvb3RCbG9ja05vZGU9bnVsbDtub2RlPW5vZGUubmV4dFNpYmxpbmc7fX1pZih3cmFwcGVkJiZyZXN0b3JlU2VsZWN0aW9uKXtybmcuc2V0U3RhcnQoc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQpO3JuZy5zZXRFbmQoZW5kQ29udGFpbmVyLGVuZE9mZnNldCk7c2VsZWN0aW9uLnNldFJuZyhybmcpO2VkaXRvci5ub2RlQ2hhbmdlZCgpO319O3ZhciBzZXR1cCQzPWZ1bmN0aW9uIHNldHVwJDMoZWRpdG9yKXtpZihTZXR0aW5ncy5nZXRGb3JjZWRSb290QmxvY2soZWRpdG9yKSl7ZWRpdG9yLm9uKCdOb2RlQ2hhbmdlJyxjdXJyeShhZGRSb290QmxvY2tzLGVkaXRvcikpO319O3ZhciBGb3JjZUJsb2Nrcz17c2V0dXA6c2V0dXAkM307dmFyIGlzRXEkMT1mdW5jdGlvbiBpc0VxJDEocm5nMSxybmcyKXtyZXR1cm4gcm5nMSYmcm5nMiYmcm5nMS5zdGFydENvbnRhaW5lcj09PXJuZzIuc3RhcnRDb250YWluZXImJnJuZzEuc3RhcnRPZmZzZXQ9PT1ybmcyLnN0YXJ0T2Zmc2V0JiZybmcxLmVuZENvbnRhaW5lcj09PXJuZzIuZW5kQ29udGFpbmVyJiZybmcxLmVuZE9mZnNldD09PXJuZzIuZW5kT2Zmc2V0O307dmFyIFJhbmdlQ29tcGFyZT17aXNFcTppc0VxJDF9O3ZhciBnZXRTdGFydE5vZGU9ZnVuY3Rpb24gZ2V0U3RhcnROb2RlKHJuZyl7dmFyIHNjPXJuZy5zdGFydENvbnRhaW5lcixzbz1ybmcuc3RhcnRPZmZzZXQ7aWYoTm9kZVR5cGUuaXNUZXh0KHNjKSl7cmV0dXJuIHNvPT09MD9PcHRpb24uc29tZShFbGVtZW50LmZyb21Eb20oc2MpKTpPcHRpb24ubm9uZSgpO31lbHNle3JldHVybiBPcHRpb24uZnJvbShzYy5jaGlsZE5vZGVzW3NvXSkubWFwKEVsZW1lbnQuZnJvbURvbSk7fX07dmFyIGdldEVuZE5vZGU9ZnVuY3Rpb24gZ2V0RW5kTm9kZShybmcpe3ZhciBlYz1ybmcuZW5kQ29udGFpbmVyLGVvPXJuZy5lbmRPZmZzZXQ7aWYoTm9kZVR5cGUuaXNUZXh0KGVjKSl7cmV0dXJuIGVvPT09ZWMuZGF0YS5sZW5ndGg/T3B0aW9uLnNvbWUoRWxlbWVudC5mcm9tRG9tKGVjKSk6T3B0aW9uLm5vbmUoKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLmZyb20oZWMuY2hpbGROb2Rlc1tlby0xXSkubWFwKEVsZW1lbnQuZnJvbURvbSk7fX07dmFyIGdldEZpcnN0Q2hpbGRyZW49ZnVuY3Rpb24gZ2V0Rmlyc3RDaGlsZHJlbihub2RlKXtyZXR1cm4gZmlyc3RDaGlsZChub2RlKS5mb2xkKGNvbnN0YW50KFtub2RlXSksZnVuY3Rpb24oY2hpbGQpe3JldHVybltub2RlXS5jb25jYXQoZ2V0Rmlyc3RDaGlsZHJlbihjaGlsZCkpO30pO307dmFyIGdldExhc3RDaGlsZHJlbj1mdW5jdGlvbiBnZXRMYXN0Q2hpbGRyZW4obm9kZSl7cmV0dXJuIGxhc3RDaGlsZChub2RlKS5mb2xkKGNvbnN0YW50KFtub2RlXSksZnVuY3Rpb24oY2hpbGQpe2lmKG5hbWUoY2hpbGQpPT09J2JyJyl7cmV0dXJuIHByZXZTaWJsaW5nKGNoaWxkKS5tYXAoZnVuY3Rpb24oc2libGluZyl7cmV0dXJuW25vZGVdLmNvbmNhdChnZXRMYXN0Q2hpbGRyZW4oc2libGluZykpO30pLmdldE9yKFtdKTt9ZWxzZXtyZXR1cm5bbm9kZV0uY29uY2F0KGdldExhc3RDaGlsZHJlbihjaGlsZCkpO319KTt9O3ZhciBoYXNBbGxDb250ZW50c1NlbGVjdGVkPWZ1bmN0aW9uIGhhc0FsbENvbnRlbnRzU2VsZWN0ZWQoZWxtLHJuZyl7cmV0dXJuIGxpZnQyKGdldFN0YXJ0Tm9kZShybmcpLGdldEVuZE5vZGUocm5nKSxmdW5jdGlvbihzdGFydE5vZGUsZW5kTm9kZSl7dmFyIHN0YXJ0PWZpbmQoZ2V0Rmlyc3RDaGlsZHJlbihlbG0pLGN1cnJ5KGVxLHN0YXJ0Tm9kZSkpO3ZhciBlbmQ9ZmluZChnZXRMYXN0Q2hpbGRyZW4oZWxtKSxjdXJyeShlcSxlbmROb2RlKSk7cmV0dXJuIHN0YXJ0LmlzU29tZSgpJiZlbmQuaXNTb21lKCk7fSkuZ2V0T3IoZmFsc2UpO307dmFyIG1vdmVFbmRQb2ludCQxPWZ1bmN0aW9uIG1vdmVFbmRQb2ludCQxKGRvbSxybmcsbm9kZSxzdGFydCl7dmFyIHJvb3Q9bm9kZSx3YWxrZXI9bmV3IFRyZWVXYWxrZXIobm9kZSxyb290KTt2YXIgbm9uRW1wdHlFbGVtZW50c01hcD1kb20uc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTtkb3tpZihub2RlLm5vZGVUeXBlPT09MyYmVG9vbHMudHJpbShub2RlLm5vZGVWYWx1ZSkubGVuZ3RoIT09MCl7aWYoc3RhcnQpe3JuZy5zZXRTdGFydChub2RlLDApO31lbHNle3JuZy5zZXRFbmQobm9kZSxub2RlLm5vZGVWYWx1ZS5sZW5ndGgpO31yZXR1cm47fWlmKG5vbkVtcHR5RWxlbWVudHNNYXBbbm9kZS5ub2RlTmFtZV0mJiEvXihURHxUSCkkLy50ZXN0KG5vZGUubm9kZU5hbWUpKXtpZihzdGFydCl7cm5nLnNldFN0YXJ0QmVmb3JlKG5vZGUpO31lbHNle2lmKG5vZGUubm9kZU5hbWU9PT0nQlInKXtybmcuc2V0RW5kQmVmb3JlKG5vZGUpO31lbHNle3JuZy5zZXRFbmRBZnRlcihub2RlKTt9fXJldHVybjt9fXdoaWxlKG5vZGU9c3RhcnQ/d2Fsa2VyLm5leHQoKTp3YWxrZXIucHJldigpKTtpZihyb290Lm5vZGVOYW1lPT09J0JPRFknKXtpZihzdGFydCl7cm5nLnNldFN0YXJ0KHJvb3QsMCk7fWVsc2V7cm5nLnNldEVuZChyb290LHJvb3QuY2hpbGROb2Rlcy5sZW5ndGgpO319fTt2YXIgaGFzQW55UmFuZ2VzPWZ1bmN0aW9uIGhhc0FueVJhbmdlcyhlZGl0b3Ipe3ZhciBzZWw9ZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4gc2VsJiZzZWwucmFuZ2VDb3VudD4wO307dmFyIE5vZGVDaGFuZ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBOb2RlQ2hhbmdlKGVkaXRvcil7dGhpcy5sYXN0UGF0aD1bXTt0aGlzLmVkaXRvcj1lZGl0b3I7dmFyIGxhc3RSbmc7dmFyIHNlbGY9dGhpcztpZighKCdvbnNlbGVjdGlvbmNoYW5nZSdpbiBlZGl0b3IuZ2V0RG9jKCkpKXtlZGl0b3Iub24oJ05vZGVDaGFuZ2UgY2xpY2sgbW91c2V1cCBrZXl1cCBmb2N1cycsZnVuY3Rpb24oZSl7dmFyIG5hdGl2ZVJuZyxmYWtlUm5nO25hdGl2ZVJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO2Zha2VSbmc9e3N0YXJ0Q29udGFpbmVyOm5hdGl2ZVJuZy5zdGFydENvbnRhaW5lcixzdGFydE9mZnNldDpuYXRpdmVSbmcuc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOm5hdGl2ZVJuZy5lbmRDb250YWluZXIsZW5kT2Zmc2V0Om5hdGl2ZVJuZy5lbmRPZmZzZXR9O2lmKGUudHlwZT09PSdub2RlY2hhbmdlJ3x8IVJhbmdlQ29tcGFyZS5pc0VxKGZha2VSbmcsbGFzdFJuZykpe2VkaXRvci5maXJlKCdTZWxlY3Rpb25DaGFuZ2UnKTt9bGFzdFJuZz1mYWtlUm5nO30pO31lZGl0b3Iub24oJ2NvbnRleHRtZW51JyxmdW5jdGlvbigpe2VkaXRvci5maXJlKCdTZWxlY3Rpb25DaGFuZ2UnKTt9KTtlZGl0b3Iub24oJ1NlbGVjdGlvbkNoYW5nZScsZnVuY3Rpb24oKXt2YXIgc3RhcnRFbG09ZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCh0cnVlKTtpZighc3RhcnRFbG18fCFFbnYucmFuZ2UmJmVkaXRvci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSl7cmV0dXJuO31pZihoYXNBbnlSYW5nZXMoZWRpdG9yKSYmIXNlbGYuaXNTYW1lRWxlbWVudFBhdGgoc3RhcnRFbG0pJiZlZGl0b3IuZG9tLmlzQ2hpbGRPZihzdGFydEVsbSxlZGl0b3IuZ2V0Qm9keSgpKSl7ZWRpdG9yLm5vZGVDaGFuZ2VkKHtzZWxlY3Rpb25DaGFuZ2U6dHJ1ZX0pO319KTtlZGl0b3Iub24oJ21vdXNldXAnLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZoYXNBbnlSYW5nZXMoZWRpdG9yKSl7aWYoZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCkubm9kZU5hbWU9PT0nSU1HJyl7RGVsYXkuc2V0RWRpdG9yVGltZW91dChlZGl0b3IsZnVuY3Rpb24oKXtlZGl0b3Iubm9kZUNoYW5nZWQoKTt9KTt9ZWxzZXtlZGl0b3Iubm9kZUNoYW5nZWQoKTt9fX0pO31Ob2RlQ2hhbmdlLnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihhcmdzKXt2YXIgc2VsZWN0aW9uPXRoaXMuZWRpdG9yLnNlbGVjdGlvbjt2YXIgbm9kZSxwYXJlbnRzLHJvb3Q7aWYodGhpcy5lZGl0b3IuaW5pdGlhbGl6ZWQmJnNlbGVjdGlvbiYmIXRoaXMuZWRpdG9yLnNldHRpbmdzLmRpc2FibGVfbm9kZWNoYW5nZSYmIXRoaXMuZWRpdG9yLnJlYWRvbmx5KXtyb290PXRoaXMuZWRpdG9yLmdldEJvZHkoKTtub2RlPXNlbGVjdGlvbi5nZXRTdGFydCh0cnVlKXx8cm9vdDtpZihub2RlLm93bmVyRG9jdW1lbnQhPT10aGlzLmVkaXRvci5nZXREb2MoKXx8IXRoaXMuZWRpdG9yLmRvbS5pc0NoaWxkT2Yobm9kZSxyb290KSl7bm9kZT1yb290O31wYXJlbnRzPVtdO3RoaXMuZWRpdG9yLmRvbS5nZXRQYXJlbnQobm9kZSxmdW5jdGlvbihub2RlKXtpZihub2RlPT09cm9vdCl7cmV0dXJuIHRydWU7fXBhcmVudHMucHVzaChub2RlKTt9KTthcmdzPWFyZ3N8fHt9O2FyZ3MuZWxlbWVudD1ub2RlO2FyZ3MucGFyZW50cz1wYXJlbnRzO3RoaXMuZWRpdG9yLmZpcmUoJ05vZGVDaGFuZ2UnLGFyZ3MpO319O05vZGVDaGFuZ2UucHJvdG90eXBlLmlzU2FtZUVsZW1lbnRQYXRoPWZ1bmN0aW9uKHN0YXJ0RWxtKXt2YXIgaSxjdXJyZW50UGF0aDtjdXJyZW50UGF0aD10aGlzLmVkaXRvci4kKHN0YXJ0RWxtKS5wYXJlbnRzVW50aWwodGhpcy5lZGl0b3IuZ2V0Qm9keSgpKS5hZGQoc3RhcnRFbG0pO2lmKGN1cnJlbnRQYXRoLmxlbmd0aD09PXRoaXMubGFzdFBhdGgubGVuZ3RoKXtmb3IoaT1jdXJyZW50UGF0aC5sZW5ndGg7aT49MDtpLS0pe2lmKGN1cnJlbnRQYXRoW2ldIT09dGhpcy5sYXN0UGF0aFtpXSl7YnJlYWs7fX1pZihpPT09LTEpe3RoaXMubGFzdFBhdGg9Y3VycmVudFBhdGg7cmV0dXJuIHRydWU7fX10aGlzLmxhc3RQYXRoPWN1cnJlbnRQYXRoO3JldHVybiBmYWxzZTt9O3JldHVybiBOb2RlQ2hhbmdlO30oKTt2YXIgVks9e0JBQ0tTUEFDRTo4LERFTEVURTo0NixET1dOOjQwLEVOVEVSOjEzLExFRlQ6MzcsUklHSFQ6MzksU1BBQ0VCQVI6MzIsVEFCOjksVVA6MzgsRU5EOjM1LEhPTUU6MzYsbW9kaWZpZXJQcmVzc2VkOmZ1bmN0aW9uIG1vZGlmaWVyUHJlc3NlZChlKXtyZXR1cm4gZS5zaGlmdEtleXx8ZS5jdHJsS2V5fHxlLmFsdEtleXx8dGhpcy5tZXRhS2V5UHJlc3NlZChlKTt9LG1ldGFLZXlQcmVzc2VkOmZ1bmN0aW9uIG1ldGFLZXlQcmVzc2VkKGUpe3JldHVybiBFbnYubWFjP2UubWV0YUtleTplLmN0cmxLZXkmJiFlLmFsdEtleTt9fTt2YXIgaXMkMj1mdW5jdGlvbiBpcyQyKGV4cGVjdGVkKXtyZXR1cm4gZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gZXhwZWN0ZWQ9PT1hY3R1YWw7fTt9O3ZhciBpc05ic3A9aXMkMignXHhBMCcpO3ZhciBpc1doaXRlU3BhY2UkMT1mdW5jdGlvbiBpc1doaXRlU3BhY2UkMShjaHIpe3JldHVybiAvXltcclxuXHQgXSQvLnRlc3QoY2hyKTt9O3ZhciBpc0NvbnRlbnQ9ZnVuY3Rpb24gaXNDb250ZW50KGNocil7cmV0dXJuIWlzV2hpdGVTcGFjZSQxKGNocikmJiFpc05ic3AoY2hyKTt9O3ZhciBpc0NoYXI9ZnVuY3Rpb24gaXNDaGFyKGZvcndhcmQscHJlZGljYXRlLHBvcyl7cmV0dXJuIE9wdGlvbi5mcm9tKHBvcy5jb250YWluZXIoKSkuZmlsdGVyKE5vZGVUeXBlLmlzVGV4dCkuZXhpc3RzKGZ1bmN0aW9uKHRleHQpe3ZhciBkZWx0YT1mb3J3YXJkPzA6LTE7cmV0dXJuIHByZWRpY2F0ZSh0ZXh0LmRhdGEuY2hhckF0KHBvcy5vZmZzZXQoKStkZWx0YSkpO30pO307dmFyIGlzQmVmb3JlU3BhY2U9Y3VycnkoaXNDaGFyLHRydWUsaXNXaGl0ZVNwYWNlJDEpO3ZhciBpc0FmdGVyU3BhY2U9Y3VycnkoaXNDaGFyLGZhbHNlLGlzV2hpdGVTcGFjZSQxKTt2YXIgaXNFbXB0eVRleHQ9ZnVuY3Rpb24gaXNFbXB0eVRleHQocG9zKXt2YXIgY29udGFpbmVyPXBvcy5jb250YWluZXIoKTtyZXR1cm4gTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lcikmJmNvbnRhaW5lci5kYXRhLmxlbmd0aD09PTA7fTt2YXIgbWF0Y2hlc0VsZW1lbnRQb3NpdGlvbj1mdW5jdGlvbiBtYXRjaGVzRWxlbWVudFBvc2l0aW9uKGJlZm9yZSxwcmVkaWNhdGUpe3JldHVybiBmdW5jdGlvbihwb3Mpe3JldHVybiBPcHRpb24uZnJvbShnZXRDaGlsZE5vZGVBdFJlbGF0aXZlT2Zmc2V0KGJlZm9yZT8wOi0xLHBvcykpLmZpbHRlcihwcmVkaWNhdGUpLmlzU29tZSgpO307fTt2YXIgaXNJbWFnZUJsb2NrPWZ1bmN0aW9uIGlzSW1hZ2VCbG9jayhub2RlKXtyZXR1cm4gbm9kZS5ub2RlTmFtZT09PSdJTUcnJiZnZXQkMihFbGVtZW50LmZyb21Eb20obm9kZSksJ2Rpc3BsYXknKT09PSdibG9jayc7fTt2YXIgaXNDZWZOb2RlPWZ1bmN0aW9uIGlzQ2VmTm9kZShub2RlKXtyZXR1cm4gTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZShub2RlKSYmIU5vZGVUeXBlLmlzQm9ndXNBbGwobm9kZSk7fTt2YXIgaXNCZWZvcmVJbWFnZUJsb2NrPW1hdGNoZXNFbGVtZW50UG9zaXRpb24odHJ1ZSxpc0ltYWdlQmxvY2spO3ZhciBpc0FmdGVySW1hZ2VCbG9jaz1tYXRjaGVzRWxlbWVudFBvc2l0aW9uKGZhbHNlLGlzSW1hZ2VCbG9jayk7dmFyIGlzQmVmb3JlVGFibGU9bWF0Y2hlc0VsZW1lbnRQb3NpdGlvbih0cnVlLE5vZGVUeXBlLmlzVGFibGUpO3ZhciBpc0FmdGVyVGFibGU9bWF0Y2hlc0VsZW1lbnRQb3NpdGlvbihmYWxzZSxOb2RlVHlwZS5pc1RhYmxlKTt2YXIgaXNCZWZvcmVDb250ZW50RWRpdGFibGVGYWxzZT1tYXRjaGVzRWxlbWVudFBvc2l0aW9uKHRydWUsaXNDZWZOb2RlKTt2YXIgaXNBZnRlckNvbnRlbnRFZGl0YWJsZUZhbHNlPW1hdGNoZXNFbGVtZW50UG9zaXRpb24oZmFsc2UsaXNDZWZOb2RlKTt2YXIgZ2V0Tm9kZUNsaWVudFJlY3RzPWZ1bmN0aW9uIGdldE5vZGVDbGllbnRSZWN0cyhub2RlKXt2YXIgdG9BcnJheVdpdGhOb2RlPWZ1bmN0aW9uIHRvQXJyYXlXaXRoTm9kZShjbGllbnRSZWN0cyl7cmV0dXJuIG1hcChjbGllbnRSZWN0cyxmdW5jdGlvbihjbGllbnRSZWN0KXtjbGllbnRSZWN0PWNsb25lJDEoY2xpZW50UmVjdCk7Y2xpZW50UmVjdC5ub2RlPW5vZGU7cmV0dXJuIGNsaWVudFJlY3Q7fSk7fTtpZihOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkpe3JldHVybiB0b0FycmF5V2l0aE5vZGUobm9kZS5nZXRDbGllbnRSZWN0cygpKTt9aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpKXt2YXIgcm5nPW5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JuZy5zZXRTdGFydChub2RlLDApO3JuZy5zZXRFbmQobm9kZSxub2RlLmRhdGEubGVuZ3RoKTtyZXR1cm4gdG9BcnJheVdpdGhOb2RlKHJuZy5nZXRDbGllbnRSZWN0cygpKTt9fTt2YXIgZ2V0Q2xpZW50UmVjdHM9ZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMobm9kZSl7cmV0dXJuIGZvbGRsKG5vZGUsZnVuY3Rpb24ocmVzdWx0LG5vZGUpe3JldHVybiByZXN1bHQuY29uY2F0KGdldE5vZGVDbGllbnRSZWN0cyhub2RlKSk7fSxbXSk7fTt2YXIgVkRpcmVjdGlvbjsoZnVuY3Rpb24oVkRpcmVjdGlvbil7VkRpcmVjdGlvbltWRGlyZWN0aW9uWydVcCddPS0xXT0nVXAnO1ZEaXJlY3Rpb25bVkRpcmVjdGlvblsnRG93biddPTFdPSdEb3duJzt9KShWRGlyZWN0aW9ufHwoVkRpcmVjdGlvbj17fSkpO3ZhciBmaW5kVW50aWw9ZnVuY3Rpb24gZmluZFVudGlsKGRpcmVjdGlvbixyb290LHByZWRpY2F0ZUZuLG5vZGUpe3doaWxlKG5vZGU9ZmluZE5vZGUobm9kZSxkaXJlY3Rpb24saXNFZGl0YWJsZUNhcmV0Q2FuZGlkYXRlLHJvb3QpKXtpZihwcmVkaWNhdGVGbihub2RlKSl7cmV0dXJuO319fTt2YXIgd2Fsa1VudGlsPWZ1bmN0aW9uIHdhbGtVbnRpbChkaXJlY3Rpb24saXNBYm92ZUZuLGlzQmVmbG93Rm4scm9vdCxwcmVkaWNhdGVGbixjYXJldFBvc2l0aW9uKXt2YXIgbGluZT0wLG5vZGU7dmFyIHJlc3VsdD1bXTt2YXIgdGFyZ2V0Q2xpZW50UmVjdDt2YXIgYWRkPWZ1bmN0aW9uIGFkZChub2RlKXt2YXIgaSxjbGllbnRSZWN0LGNsaWVudFJlY3RzO2NsaWVudFJlY3RzPWdldENsaWVudFJlY3RzKFtub2RlXSk7aWYoZGlyZWN0aW9uPT09LTEpe2NsaWVudFJlY3RzPWNsaWVudFJlY3RzLnJldmVyc2UoKTt9Zm9yKGk9MDtpPGNsaWVudFJlY3RzLmxlbmd0aDtpKyspe2NsaWVudFJlY3Q9Y2xpZW50UmVjdHNbaV07aWYoaXNCZWZsb3dGbihjbGllbnRSZWN0LHRhcmdldENsaWVudFJlY3QpKXtjb250aW51ZTt9aWYocmVzdWx0Lmxlbmd0aD4wJiZpc0Fib3ZlRm4oY2xpZW50UmVjdCxBcnJVdGlscy5sYXN0KHJlc3VsdCkpKXtsaW5lKys7fWNsaWVudFJlY3QubGluZT1saW5lO2lmKHByZWRpY2F0ZUZuKGNsaWVudFJlY3QpKXtyZXR1cm4gdHJ1ZTt9cmVzdWx0LnB1c2goY2xpZW50UmVjdCk7fX07dGFyZ2V0Q2xpZW50UmVjdD1BcnJVdGlscy5sYXN0KGNhcmV0UG9zaXRpb24uZ2V0Q2xpZW50UmVjdHMoKSk7aWYoIXRhcmdldENsaWVudFJlY3Qpe3JldHVybiByZXN1bHQ7fW5vZGU9Y2FyZXRQb3NpdGlvbi5nZXROb2RlKCk7YWRkKG5vZGUpO2ZpbmRVbnRpbChkaXJlY3Rpb24scm9vdCxhZGQsbm9kZSk7cmV0dXJuIHJlc3VsdDt9O3ZhciBhYm92ZUxpbmVOdW1iZXI9ZnVuY3Rpb24gYWJvdmVMaW5lTnVtYmVyKGxpbmVOdW1iZXIsY2xpZW50UmVjdCl7cmV0dXJuIGNsaWVudFJlY3QubGluZT5saW5lTnVtYmVyO307dmFyIGlzTGluZU51bWJlcj1mdW5jdGlvbiBpc0xpbmVOdW1iZXIobGluZU51bWJlcixjbGllbnRSZWN0KXtyZXR1cm4gY2xpZW50UmVjdC5saW5lPT09bGluZU51bWJlcjt9O3ZhciB1cFVudGlsPWN1cnJ5KHdhbGtVbnRpbCxWRGlyZWN0aW9uLlVwLGlzQWJvdmUsaXNCZWxvdyk7dmFyIGRvd25VbnRpbD1jdXJyeSh3YWxrVW50aWwsVkRpcmVjdGlvbi5Eb3duLGlzQmVsb3csaXNBYm92ZSk7dmFyIHBvc2l0aW9uc1VudGlsPWZ1bmN0aW9uIHBvc2l0aW9uc1VudGlsKGRpcmVjdGlvbixyb290LHByZWRpY2F0ZUZuLG5vZGUpe3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihyb290KTt2YXIgd2Fsa0ZuLGlzQmVsb3dGbixpc0Fib3ZlRm4sY2FyZXRQb3NpdGlvbjt2YXIgcmVzdWx0PVtdO3ZhciBsaW5lPTAsY2xpZW50UmVjdCx0YXJnZXRDbGllbnRSZWN0O3ZhciBnZXRDbGllbnRSZWN0PWZ1bmN0aW9uIGdldENsaWVudFJlY3QoY2FyZXRQb3NpdGlvbil7aWYoZGlyZWN0aW9uPT09MSl7cmV0dXJuIEFyclV0aWxzLmxhc3QoY2FyZXRQb3NpdGlvbi5nZXRDbGllbnRSZWN0cygpKTt9cmV0dXJuIEFyclV0aWxzLmxhc3QoY2FyZXRQb3NpdGlvbi5nZXRDbGllbnRSZWN0cygpKTt9O2lmKGRpcmVjdGlvbj09PTEpe3dhbGtGbj1jYXJldFdhbGtlci5uZXh0O2lzQmVsb3dGbj1pc0JlbG93O2lzQWJvdmVGbj1pc0Fib3ZlO2NhcmV0UG9zaXRpb249Q2FyZXRQb3NpdGlvbiQxLmFmdGVyKG5vZGUpO31lbHNle3dhbGtGbj1jYXJldFdhbGtlci5wcmV2O2lzQmVsb3dGbj1pc0Fib3ZlO2lzQWJvdmVGbj1pc0JlbG93O2NhcmV0UG9zaXRpb249Q2FyZXRQb3NpdGlvbiQxLmJlZm9yZShub2RlKTt9dGFyZ2V0Q2xpZW50UmVjdD1nZXRDbGllbnRSZWN0KGNhcmV0UG9zaXRpb24pO2Rve2lmKCFjYXJldFBvc2l0aW9uLmlzVmlzaWJsZSgpKXtjb250aW51ZTt9Y2xpZW50UmVjdD1nZXRDbGllbnRSZWN0KGNhcmV0UG9zaXRpb24pO2lmKGlzQWJvdmVGbihjbGllbnRSZWN0LHRhcmdldENsaWVudFJlY3QpKXtjb250aW51ZTt9aWYocmVzdWx0Lmxlbmd0aD4wJiZpc0JlbG93Rm4oY2xpZW50UmVjdCxBcnJVdGlscy5sYXN0KHJlc3VsdCkpKXtsaW5lKys7fWNsaWVudFJlY3Q9Y2xvbmUkMShjbGllbnRSZWN0KTtjbGllbnRSZWN0LnBvc2l0aW9uPWNhcmV0UG9zaXRpb247Y2xpZW50UmVjdC5saW5lPWxpbmU7aWYocHJlZGljYXRlRm4oY2xpZW50UmVjdCkpe3JldHVybiByZXN1bHQ7fXJlc3VsdC5wdXNoKGNsaWVudFJlY3QpO313aGlsZShjYXJldFBvc2l0aW9uPXdhbGtGbihjYXJldFBvc2l0aW9uKSk7cmV0dXJuIHJlc3VsdDt9O3ZhciBpc0Fib3ZlTGluZT1mdW5jdGlvbiBpc0Fib3ZlTGluZShsaW5lTnVtYmVyKXtyZXR1cm4gZnVuY3Rpb24oY2xpZW50UmVjdCl7cmV0dXJuIGFib3ZlTGluZU51bWJlcihsaW5lTnVtYmVyLGNsaWVudFJlY3QpO307fTt2YXIgaXNMaW5lPWZ1bmN0aW9uIGlzTGluZShsaW5lTnVtYmVyKXtyZXR1cm4gZnVuY3Rpb24oY2xpZW50UmVjdCl7cmV0dXJuIGlzTGluZU51bWJlcihsaW5lTnVtYmVyLGNsaWVudFJlY3QpO307fTt2YXIgaXNDb250ZW50RWRpdGFibGVGYWxzZSQ2PU5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2U7dmFyIGZpbmROb2RlJDE9ZmluZE5vZGU7dmFyIGRpc3RhbmNlVG9SZWN0TGVmdD1mdW5jdGlvbiBkaXN0YW5jZVRvUmVjdExlZnQoY2xpZW50UmVjdCxjbGllbnRYKXtyZXR1cm4gTWF0aC5hYnMoY2xpZW50UmVjdC5sZWZ0LWNsaWVudFgpO307dmFyIGRpc3RhbmNlVG9SZWN0UmlnaHQ9ZnVuY3Rpb24gZGlzdGFuY2VUb1JlY3RSaWdodChjbGllbnRSZWN0LGNsaWVudFgpe3JldHVybiBNYXRoLmFicyhjbGllbnRSZWN0LnJpZ2h0LWNsaWVudFgpO307dmFyIGlzSW5zaWRlPWZ1bmN0aW9uIGlzSW5zaWRlKGNsaWVudFgsY2xpZW50UmVjdCl7cmV0dXJuIGNsaWVudFg+PWNsaWVudFJlY3QubGVmdCYmY2xpZW50WDw9Y2xpZW50UmVjdC5yaWdodDt9O3ZhciBmaW5kQ2xvc2VzdENsaWVudFJlY3Q9ZnVuY3Rpb24gZmluZENsb3Nlc3RDbGllbnRSZWN0KGNsaWVudFJlY3RzLGNsaWVudFgpe3JldHVybiBBcnJVdGlscy5yZWR1Y2UoY2xpZW50UmVjdHMsZnVuY3Rpb24ob2xkQ2xpZW50UmVjdCxjbGllbnRSZWN0KXt2YXIgb2xkRGlzdGFuY2UsbmV3RGlzdGFuY2U7b2xkRGlzdGFuY2U9TWF0aC5taW4oZGlzdGFuY2VUb1JlY3RMZWZ0KG9sZENsaWVudFJlY3QsY2xpZW50WCksZGlzdGFuY2VUb1JlY3RSaWdodChvbGRDbGllbnRSZWN0LGNsaWVudFgpKTtuZXdEaXN0YW5jZT1NYXRoLm1pbihkaXN0YW5jZVRvUmVjdExlZnQoY2xpZW50UmVjdCxjbGllbnRYKSxkaXN0YW5jZVRvUmVjdFJpZ2h0KGNsaWVudFJlY3QsY2xpZW50WCkpO2lmKGlzSW5zaWRlKGNsaWVudFgsY2xpZW50UmVjdCkpe3JldHVybiBjbGllbnRSZWN0O31pZihpc0luc2lkZShjbGllbnRYLG9sZENsaWVudFJlY3QpKXtyZXR1cm4gb2xkQ2xpZW50UmVjdDt9aWYobmV3RGlzdGFuY2U9PT1vbGREaXN0YW5jZSYmaXNDb250ZW50RWRpdGFibGVGYWxzZSQ2KGNsaWVudFJlY3Qubm9kZSkpe3JldHVybiBjbGllbnRSZWN0O31pZihuZXdEaXN0YW5jZTxvbGREaXN0YW5jZSl7cmV0dXJuIGNsaWVudFJlY3Q7fXJldHVybiBvbGRDbGllbnRSZWN0O30pO307dmFyIHdhbGtVbnRpbCQxPWZ1bmN0aW9uIHdhbGtVbnRpbCQxKGRpcmVjdGlvbixyb290LHByZWRpY2F0ZUZuLG5vZGUpe3doaWxlKG5vZGU9ZmluZE5vZGUkMShub2RlLGRpcmVjdGlvbixpc0VkaXRhYmxlQ2FyZXRDYW5kaWRhdGUscm9vdCkpe2lmKHByZWRpY2F0ZUZuKG5vZGUpKXtyZXR1cm47fX19O3ZhciBmaW5kTGluZU5vZGVSZWN0cz1mdW5jdGlvbiBmaW5kTGluZU5vZGVSZWN0cyhyb290LHRhcmdldE5vZGVSZWN0KXt2YXIgY2xpZW50UmVjdHM9W107dmFyIGNvbGxlY3Q9ZnVuY3Rpb24gY29sbGVjdChjaGVja1Bvc0ZuLG5vZGUpe3ZhciBsaW5lUmVjdHM7bGluZVJlY3RzPWZpbHRlcihnZXRDbGllbnRSZWN0cyhbbm9kZV0pLGZ1bmN0aW9uKGNsaWVudFJlY3Qpe3JldHVybiFjaGVja1Bvc0ZuKGNsaWVudFJlY3QsdGFyZ2V0Tm9kZVJlY3QpO30pO2NsaWVudFJlY3RzPWNsaWVudFJlY3RzLmNvbmNhdChsaW5lUmVjdHMpO3JldHVybiBsaW5lUmVjdHMubGVuZ3RoPT09MDt9O2NsaWVudFJlY3RzLnB1c2godGFyZ2V0Tm9kZVJlY3QpO3dhbGtVbnRpbCQxKFZEaXJlY3Rpb24uVXAscm9vdCxjdXJyeShjb2xsZWN0LGlzQWJvdmUpLHRhcmdldE5vZGVSZWN0Lm5vZGUpO3dhbGtVbnRpbCQxKFZEaXJlY3Rpb24uRG93bixyb290LGN1cnJ5KGNvbGxlY3QsaXNCZWxvdyksdGFyZ2V0Tm9kZVJlY3Qubm9kZSk7cmV0dXJuIGNsaWVudFJlY3RzO307dmFyIGdldEZha2VDYXJldFRhcmdldHM9ZnVuY3Rpb24gZ2V0RmFrZUNhcmV0VGFyZ2V0cyhyb290KXtyZXR1cm4gZmlsdGVyKGZyb20kMShyb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpLGlzRmFrZUNhcmV0VGFyZ2V0KTt9O3ZhciBjYXJldEluZm89ZnVuY3Rpb24gY2FyZXRJbmZvKGNsaWVudFJlY3QsY2xpZW50WCl7cmV0dXJue25vZGU6Y2xpZW50UmVjdC5ub2RlLGJlZm9yZTpkaXN0YW5jZVRvUmVjdExlZnQoY2xpZW50UmVjdCxjbGllbnRYKTxkaXN0YW5jZVRvUmVjdFJpZ2h0KGNsaWVudFJlY3QsY2xpZW50WCl9O307dmFyIGNsb3Nlc3RDYXJldD1mdW5jdGlvbiBjbG9zZXN0Q2FyZXQocm9vdCxjbGllbnRYLGNsaWVudFkpe3ZhciBjbG9zZXN0Tm9kZVJlY3Q7dmFyIGNvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZVJlY3RzPWdldENsaWVudFJlY3RzKGdldEZha2VDYXJldFRhcmdldHMocm9vdCkpO3ZhciB0YXJnZXROb2RlUmVjdHM9ZmlsdGVyKGNvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZVJlY3RzLGZ1bmN0aW9uKHJlY3Qpe3JldHVybiBjbGllbnRZPj1yZWN0LnRvcCYmY2xpZW50WTw9cmVjdC5ib3R0b207fSk7Y2xvc2VzdE5vZGVSZWN0PWZpbmRDbG9zZXN0Q2xpZW50UmVjdCh0YXJnZXROb2RlUmVjdHMsY2xpZW50WCk7aWYoY2xvc2VzdE5vZGVSZWN0KXtjbG9zZXN0Tm9kZVJlY3Q9ZmluZENsb3Nlc3RDbGllbnRSZWN0KGZpbmRMaW5lTm9kZVJlY3RzKHJvb3QsY2xvc2VzdE5vZGVSZWN0KSxjbGllbnRYKTtpZihjbG9zZXN0Tm9kZVJlY3QmJmlzRmFrZUNhcmV0VGFyZ2V0KGNsb3Nlc3ROb2RlUmVjdC5ub2RlKSl7cmV0dXJuIGNhcmV0SW5mbyhjbG9zZXN0Tm9kZVJlY3QsY2xpZW50WCk7fX1yZXR1cm4gbnVsbDt9O3ZhciBpc1hZV2l0aGluUmFuZ2U9ZnVuY3Rpb24gaXNYWVdpdGhpblJhbmdlKGNsaWVudFgsY2xpZW50WSxyYW5nZSl7aWYocmFuZ2UuY29sbGFwc2VkKXtyZXR1cm4gZmFsc2U7fWlmKEVudi5icm93c2VyLmlzSUUoKSYmcmFuZ2Uuc3RhcnRPZmZzZXQ9PT1yYW5nZS5lbmRPZmZzZXQtMSYmcmFuZ2Uuc3RhcnRDb250YWluZXI9PT1yYW5nZS5lbmRDb250YWluZXIpe3ZhciBlbG09cmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF07aWYoTm9kZVR5cGUuaXNFbGVtZW50KGVsbSkpe3JldHVybiBleGlzdHMoZWxtLmdldENsaWVudFJlY3RzKCksZnVuY3Rpb24ocmVjdCl7cmV0dXJuIGNvbnRhaW5zWFkocmVjdCxjbGllbnRYLGNsaWVudFkpO30pO319cmV0dXJuIGV4aXN0cyhyYW5nZS5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKHJlY3Qpe3JldHVybiBjb250YWluc1hZKHJlY3QsY2xpZW50WCxjbGllbnRZKTt9KTt9O3ZhciBSYW5nZVBvaW50PXtpc1hZV2l0aGluUmFuZ2U6aXNYWVdpdGhpblJhbmdlfTt2YXIgZ2V0QWJzb2x1dGVQb3NpdGlvbj1mdW5jdGlvbiBnZXRBYnNvbHV0ZVBvc2l0aW9uKGVsbSl7dmFyIGRvYyxkb2NFbGVtLHdpbixjbGllbnRSZWN0O2NsaWVudFJlY3Q9ZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2RvYz1lbG0ub3duZXJEb2N1bWVudDtkb2NFbGVtPWRvYy5kb2N1bWVudEVsZW1lbnQ7d2luPWRvYy5kZWZhdWx0VmlldztyZXR1cm57dG9wOmNsaWVudFJlY3QudG9wK3dpbi5wYWdlWU9mZnNldC1kb2NFbGVtLmNsaWVudFRvcCxsZWZ0OmNsaWVudFJlY3QubGVmdCt3aW4ucGFnZVhPZmZzZXQtZG9jRWxlbS5jbGllbnRMZWZ0fTt9O3ZhciBnZXRCb2R5UG9zaXRpb249ZnVuY3Rpb24gZ2V0Qm9keVBvc2l0aW9uKGVkaXRvcil7cmV0dXJuIGVkaXRvci5pbmxpbmU/Z2V0QWJzb2x1dGVQb3NpdGlvbihlZGl0b3IuZ2V0Qm9keSgpKTp7bGVmdDowLHRvcDowfTt9O3ZhciBnZXRTY3JvbGxQb3NpdGlvbj1mdW5jdGlvbiBnZXRTY3JvbGxQb3NpdGlvbihlZGl0b3Ipe3ZhciBib2R5PWVkaXRvci5nZXRCb2R5KCk7cmV0dXJuIGVkaXRvci5pbmxpbmU/e2xlZnQ6Ym9keS5zY3JvbGxMZWZ0LHRvcDpib2R5LnNjcm9sbFRvcH06e2xlZnQ6MCx0b3A6MH07fTt2YXIgZ2V0Qm9keVNjcm9sbD1mdW5jdGlvbiBnZXRCb2R5U2Nyb2xsKGVkaXRvcil7dmFyIGJvZHk9ZWRpdG9yLmdldEJvZHkoKSxkb2NFbG09ZWRpdG9yLmdldERvYygpLmRvY3VtZW50RWxlbWVudDt2YXIgaW5saW5lU2Nyb2xsPXtsZWZ0OmJvZHkuc2Nyb2xsTGVmdCx0b3A6Ym9keS5zY3JvbGxUb3B9O3ZhciBpZnJhbWVTY3JvbGw9e2xlZnQ6Ym9keS5zY3JvbGxMZWZ0fHxkb2NFbG0uc2Nyb2xsTGVmdCx0b3A6Ym9keS5zY3JvbGxUb3B8fGRvY0VsbS5zY3JvbGxUb3B9O3JldHVybiBlZGl0b3IuaW5saW5lP2lubGluZVNjcm9sbDppZnJhbWVTY3JvbGw7fTt2YXIgZ2V0TW91c2VQb3NpdGlvbj1mdW5jdGlvbiBnZXRNb3VzZVBvc2l0aW9uKGVkaXRvcixldmVudCl7aWYoZXZlbnQudGFyZ2V0Lm93bmVyRG9jdW1lbnQhPT1lZGl0b3IuZ2V0RG9jKCkpe3ZhciBpZnJhbWVQb3NpdGlvbj1nZXRBYnNvbHV0ZVBvc2l0aW9uKGVkaXRvci5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpKTt2YXIgc2Nyb2xsUG9zaXRpb249Z2V0Qm9keVNjcm9sbChlZGl0b3IpO3JldHVybntsZWZ0OmV2ZW50LnBhZ2VYLWlmcmFtZVBvc2l0aW9uLmxlZnQrc2Nyb2xsUG9zaXRpb24ubGVmdCx0b3A6ZXZlbnQucGFnZVktaWZyYW1lUG9zaXRpb24udG9wK3Njcm9sbFBvc2l0aW9uLnRvcH07fXJldHVybntsZWZ0OmV2ZW50LnBhZ2VYLHRvcDpldmVudC5wYWdlWX07fTt2YXIgY2FsY3VsYXRlUG9zaXRpb249ZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb24oYm9keVBvc2l0aW9uLHNjcm9sbFBvc2l0aW9uLG1vdXNlUG9zaXRpb24pe3JldHVybntwYWdlWDptb3VzZVBvc2l0aW9uLmxlZnQtYm9keVBvc2l0aW9uLmxlZnQrc2Nyb2xsUG9zaXRpb24ubGVmdCxwYWdlWTptb3VzZVBvc2l0aW9uLnRvcC1ib2R5UG9zaXRpb24udG9wK3Njcm9sbFBvc2l0aW9uLnRvcH07fTt2YXIgY2FsYz1mdW5jdGlvbiBjYWxjKGVkaXRvcixldmVudCl7cmV0dXJuIGNhbGN1bGF0ZVBvc2l0aW9uKGdldEJvZHlQb3NpdGlvbihlZGl0b3IpLGdldFNjcm9sbFBvc2l0aW9uKGVkaXRvciksZ2V0TW91c2VQb3NpdGlvbihlZGl0b3IsZXZlbnQpKTt9O3ZhciBNb3VzZVBvc2l0aW9uPXtjYWxjOmNhbGN9O3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDc9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZSxpc0NvbnRlbnRFZGl0YWJsZVRydWUkMj1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZVRydWU7dmFyIGlzRHJhZ2dhYmxlPWZ1bmN0aW9uIGlzRHJhZ2dhYmxlKHJvb3RFbG0sZWxtKXtyZXR1cm4gaXNDb250ZW50RWRpdGFibGVGYWxzZSQ3KGVsbSkmJmVsbSE9PXJvb3RFbG07fTt2YXIgaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24gaXNWYWxpZERyb3BUYXJnZXQoZWRpdG9yLHRhcmdldEVsZW1lbnQsZHJhZ0VsZW1lbnQpe2lmKHRhcmdldEVsZW1lbnQ9PT1kcmFnRWxlbWVudHx8ZWRpdG9yLmRvbS5pc0NoaWxkT2YodGFyZ2V0RWxlbWVudCxkcmFnRWxlbWVudCkpe3JldHVybiBmYWxzZTt9cmV0dXJuIWlzQ29udGVudEVkaXRhYmxlRmFsc2UkNyh0YXJnZXRFbGVtZW50KTt9O3ZhciBjbG9uZUVsZW1lbnQ9ZnVuY3Rpb24gY2xvbmVFbGVtZW50KGVsbSl7dmFyIGNsb25lRWxtPWVsbS5jbG9uZU5vZGUodHJ1ZSk7Y2xvbmVFbG0ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS1zZWxlY3RlZCcpO3JldHVybiBjbG9uZUVsbTt9O3ZhciBjcmVhdGVHaG9zdD1mdW5jdGlvbiBjcmVhdGVHaG9zdChlZGl0b3IsZWxtLHdpZHRoLGhlaWdodCl7dmFyIGNsb25lZEVsbT1lbG0uY2xvbmVOb2RlKHRydWUpO2VkaXRvci5kb20uc2V0U3R5bGVzKGNsb25lZEVsbSx7d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH0pO2VkaXRvci5kb20uc2V0QXR0cmliKGNsb25lZEVsbSwnZGF0YS1tY2Utc2VsZWN0ZWQnLG51bGwpO3ZhciBnaG9zdEVsbT1lZGl0b3IuZG9tLmNyZWF0ZSgnZGl2Jyx7J2NsYXNzJzonbWNlLWRyYWctY29udGFpbmVyJywnZGF0YS1tY2UtYm9ndXMnOidhbGwnLCd1bnNlbGVjdGFibGUnOidvbicsJ2NvbnRlbnRlZGl0YWJsZSc6J2ZhbHNlJ30pO2VkaXRvci5kb20uc2V0U3R5bGVzKGdob3N0RWxtLHtwb3NpdGlvbjonYWJzb2x1dGUnLG9wYWNpdHk6MC41LG92ZXJmbG93OidoaWRkZW4nLGJvcmRlcjowLHBhZGRpbmc6MCxtYXJnaW46MCx3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fSk7ZWRpdG9yLmRvbS5zZXRTdHlsZXMoY2xvbmVkRWxtLHttYXJnaW46MCxib3hTaXppbmc6J2JvcmRlci1ib3gnfSk7Z2hvc3RFbG0uYXBwZW5kQ2hpbGQoY2xvbmVkRWxtKTtyZXR1cm4gZ2hvc3RFbG07fTt2YXIgYXBwZW5kR2hvc3RUb0JvZHk9ZnVuY3Rpb24gYXBwZW5kR2hvc3RUb0JvZHkoZ2hvc3RFbG0sYm9keUVsbSl7aWYoZ2hvc3RFbG0ucGFyZW50Tm9kZSE9PWJvZHlFbG0pe2JvZHlFbG0uYXBwZW5kQ2hpbGQoZ2hvc3RFbG0pO319O3ZhciBtb3ZlR2hvc3Q9ZnVuY3Rpb24gbW92ZUdob3N0KGdob3N0RWxtLHBvc2l0aW9uLHdpZHRoLGhlaWdodCxtYXhYLG1heFkpe3ZhciBvdmVyZmxvd1g9MCxvdmVyZmxvd1k9MDtnaG9zdEVsbS5zdHlsZS5sZWZ0PXBvc2l0aW9uLnBhZ2VYKydweCc7Z2hvc3RFbG0uc3R5bGUudG9wPXBvc2l0aW9uLnBhZ2VZKydweCc7aWYocG9zaXRpb24ucGFnZVgrd2lkdGg+bWF4WCl7b3ZlcmZsb3dYPXBvc2l0aW9uLnBhZ2VYK3dpZHRoLW1heFg7fWlmKHBvc2l0aW9uLnBhZ2VZK2hlaWdodD5tYXhZKXtvdmVyZmxvd1k9cG9zaXRpb24ucGFnZVkraGVpZ2h0LW1heFk7fWdob3N0RWxtLnN0eWxlLndpZHRoPXdpZHRoLW92ZXJmbG93WCsncHgnO2dob3N0RWxtLnN0eWxlLmhlaWdodD1oZWlnaHQtb3ZlcmZsb3dZKydweCc7fTt2YXIgcmVtb3ZlRWxlbWVudD1mdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsbSl7aWYoZWxtJiZlbG0ucGFyZW50Tm9kZSl7ZWxtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxtKTt9fTt2YXIgaXNMZWZ0TW91c2VCdXR0b25QcmVzc2VkPWZ1bmN0aW9uIGlzTGVmdE1vdXNlQnV0dG9uUHJlc3NlZChlKXtyZXR1cm4gZS5idXR0b249PT0wO307dmFyIGhhc0RyYWdnYWJsZUVsZW1lbnQ9ZnVuY3Rpb24gaGFzRHJhZ2dhYmxlRWxlbWVudChzdGF0ZSl7cmV0dXJuIHN0YXRlLmVsZW1lbnQ7fTt2YXIgYXBwbHlSZWxQb3M9ZnVuY3Rpb24gYXBwbHlSZWxQb3Moc3RhdGUscG9zaXRpb24pe3JldHVybntwYWdlWDpwb3NpdGlvbi5wYWdlWC1zdGF0ZS5yZWxYLHBhZ2VZOnBvc2l0aW9uLnBhZ2VZKzV9O307dmFyIHN0YXJ0PWZ1bmN0aW9uIHN0YXJ0KHN0YXRlLGVkaXRvcil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGlzTGVmdE1vdXNlQnV0dG9uUHJlc3NlZChlKSl7dmFyIGNlRWxtPWZpbmQoZWRpdG9yLmRvbS5nZXRQYXJlbnRzKGUudGFyZ2V0KSxQcmVkaWNhdGUub3IoaXNDb250ZW50RWRpdGFibGVGYWxzZSQ3LGlzQ29udGVudEVkaXRhYmxlVHJ1ZSQyKSkuZ2V0T3IobnVsbCk7aWYoaXNEcmFnZ2FibGUoZWRpdG9yLmdldEJvZHkoKSxjZUVsbSkpe3ZhciBlbG1Qb3M9ZWRpdG9yLmRvbS5nZXRQb3MoY2VFbG0pO3ZhciBib2R5RWxtPWVkaXRvci5nZXRCb2R5KCk7dmFyIGRvY0VsbT1lZGl0b3IuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50O3N0YXRlLmVsZW1lbnQ9Y2VFbG07c3RhdGUuc2NyZWVuWD1lLnNjcmVlblg7c3RhdGUuc2NyZWVuWT1lLnNjcmVlblk7c3RhdGUubWF4WD0oZWRpdG9yLmlubGluZT9ib2R5RWxtLnNjcm9sbFdpZHRoOmRvY0VsbS5vZmZzZXRXaWR0aCktMjtzdGF0ZS5tYXhZPShlZGl0b3IuaW5saW5lP2JvZHlFbG0uc2Nyb2xsSGVpZ2h0OmRvY0VsbS5vZmZzZXRIZWlnaHQpLTI7c3RhdGUucmVsWD1lLnBhZ2VYLWVsbVBvcy54O3N0YXRlLnJlbFk9ZS5wYWdlWS1lbG1Qb3MueTtzdGF0ZS53aWR0aD1jZUVsbS5vZmZzZXRXaWR0aDtzdGF0ZS5oZWlnaHQ9Y2VFbG0ub2Zmc2V0SGVpZ2h0O3N0YXRlLmdob3N0PWNyZWF0ZUdob3N0KGVkaXRvcixjZUVsbSxzdGF0ZS53aWR0aCxzdGF0ZS5oZWlnaHQpO319fTt9O3ZhciBtb3ZlPWZ1bmN0aW9uIG1vdmUoc3RhdGUsZWRpdG9yKXt2YXIgdGhyb3R0bGVkUGxhY2VDYXJldEF0PURlbGF5LnRocm90dGxlKGZ1bmN0aW9uKGNsaWVudFgsY2xpZW50WSl7ZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpO2VkaXRvci5zZWxlY3Rpb24ucGxhY2VDYXJldEF0KGNsaWVudFgsY2xpZW50WSk7fSwwKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG1vdmVtZW50PU1hdGgubWF4KE1hdGguYWJzKGUuc2NyZWVuWC1zdGF0ZS5zY3JlZW5YKSxNYXRoLmFicyhlLnNjcmVlblktc3RhdGUuc2NyZWVuWSkpO2lmKGhhc0RyYWdnYWJsZUVsZW1lbnQoc3RhdGUpJiYhc3RhdGUuZHJhZ2dpbmcmJm1vdmVtZW50PjEwKXt2YXIgYXJncz1lZGl0b3IuZmlyZSgnZHJhZ3N0YXJ0Jyx7dGFyZ2V0OnN0YXRlLmVsZW1lbnR9KTtpZihhcmdzLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtyZXR1cm47fXN0YXRlLmRyYWdnaW5nPXRydWU7ZWRpdG9yLmZvY3VzKCk7fWlmKHN0YXRlLmRyYWdnaW5nKXt2YXIgdGFyZ2V0UG9zPWFwcGx5UmVsUG9zKHN0YXRlLE1vdXNlUG9zaXRpb24uY2FsYyhlZGl0b3IsZSkpO2FwcGVuZEdob3N0VG9Cb2R5KHN0YXRlLmdob3N0LGVkaXRvci5nZXRCb2R5KCkpO21vdmVHaG9zdChzdGF0ZS5naG9zdCx0YXJnZXRQb3Msc3RhdGUud2lkdGgsc3RhdGUuaGVpZ2h0LHN0YXRlLm1heFgsc3RhdGUubWF4WSk7dGhyb3R0bGVkUGxhY2VDYXJldEF0KGUuY2xpZW50WCxlLmNsaWVudFkpO319O307dmFyIGdldFJhd1RhcmdldD1mdW5jdGlvbiBnZXRSYXdUYXJnZXQoc2VsZWN0aW9uKXt2YXIgcm5nPXNlbGVjdGlvbi5nZXRTZWwoKS5nZXRSYW5nZUF0KDApO3ZhciBzdGFydENvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7cmV0dXJuIHN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT09Mz9zdGFydENvbnRhaW5lci5wYXJlbnROb2RlOnN0YXJ0Q29udGFpbmVyO307dmFyIGRyb3A9ZnVuY3Rpb24gZHJvcChzdGF0ZSxlZGl0b3Ipe3JldHVybiBmdW5jdGlvbihlKXtpZihzdGF0ZS5kcmFnZ2luZyl7aWYoaXNWYWxpZERyb3BUYXJnZXQoZWRpdG9yLGdldFJhd1RhcmdldChlZGl0b3Iuc2VsZWN0aW9uKSxzdGF0ZS5lbGVtZW50KSl7dmFyIHRhcmdldENsb25lXzE9Y2xvbmVFbGVtZW50KHN0YXRlLmVsZW1lbnQpO3ZhciBhcmdzPWVkaXRvci5maXJlKCdkcm9wJyx7dGFyZ2V0Q2xvbmU6dGFyZ2V0Q2xvbmVfMSxjbGllbnRYOmUuY2xpZW50WCxjbGllbnRZOmUuY2xpZW50WX0pO2lmKCFhcmdzLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt0YXJnZXRDbG9uZV8xPWFyZ3MudGFyZ2V0Q2xvbmU7ZWRpdG9yLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7cmVtb3ZlRWxlbWVudChzdGF0ZS5lbGVtZW50KTtlZGl0b3IuaW5zZXJ0Q29udGVudChlZGl0b3IuZG9tLmdldE91dGVySFRNTCh0YXJnZXRDbG9uZV8xKSk7ZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpO30pO319fXJlbW92ZURyYWdTdGF0ZShzdGF0ZSk7fTt9O3ZhciBzdG9wPWZ1bmN0aW9uIHN0b3Aoc3RhdGUsZWRpdG9yKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihzdGF0ZS5kcmFnZ2luZyl7ZWRpdG9yLmZpcmUoJ2RyYWdlbmQnKTt9cmVtb3ZlRHJhZ1N0YXRlKHN0YXRlKTt9O307dmFyIHJlbW92ZURyYWdTdGF0ZT1mdW5jdGlvbiByZW1vdmVEcmFnU3RhdGUoc3RhdGUpe3N0YXRlLmRyYWdnaW5nPWZhbHNlO3N0YXRlLmVsZW1lbnQ9bnVsbDtyZW1vdmVFbGVtZW50KHN0YXRlLmdob3N0KTt9O3ZhciBiaW5kRmFrZURyYWdFdmVudHM9ZnVuY3Rpb24gYmluZEZha2VEcmFnRXZlbnRzKGVkaXRvcil7dmFyIHN0YXRlPXt9O3ZhciBwYWdlRG9tLGRyYWdTdGFydEhhbmRsZXIsZHJhZ0hhbmRsZXIsZHJvcEhhbmRsZXIsZHJhZ0VuZEhhbmRsZXIscm9vdERvY3VtZW50O3BhZ2VEb209RE9NVXRpbHMkMS5ET007cm9vdERvY3VtZW50PWRvbUdsb2JhbHMuZG9jdW1lbnQ7ZHJhZ1N0YXJ0SGFuZGxlcj1zdGFydChzdGF0ZSxlZGl0b3IpO2RyYWdIYW5kbGVyPW1vdmUoc3RhdGUsZWRpdG9yKTtkcm9wSGFuZGxlcj1kcm9wKHN0YXRlLGVkaXRvcik7ZHJhZ0VuZEhhbmRsZXI9c3RvcChzdGF0ZSxlZGl0b3IpO2VkaXRvci5vbignbW91c2Vkb3duJyxkcmFnU3RhcnRIYW5kbGVyKTtlZGl0b3Iub24oJ21vdXNlbW92ZScsZHJhZ0hhbmRsZXIpO2VkaXRvci5vbignbW91c2V1cCcsZHJvcEhhbmRsZXIpO3BhZ2VEb20uYmluZChyb290RG9jdW1lbnQsJ21vdXNlbW92ZScsZHJhZ0hhbmRsZXIpO3BhZ2VEb20uYmluZChyb290RG9jdW1lbnQsJ21vdXNldXAnLGRyYWdFbmRIYW5kbGVyKTtlZGl0b3Iub24oJ3JlbW92ZScsZnVuY3Rpb24oKXtwYWdlRG9tLnVuYmluZChyb290RG9jdW1lbnQsJ21vdXNlbW92ZScsZHJhZ0hhbmRsZXIpO3BhZ2VEb20udW5iaW5kKHJvb3REb2N1bWVudCwnbW91c2V1cCcsZHJhZ0VuZEhhbmRsZXIpO30pO307dmFyIGJsb2NrSWVEcm9wPWZ1bmN0aW9uIGJsb2NrSWVEcm9wKGVkaXRvcil7ZWRpdG9yLm9uKCdkcm9wJyxmdW5jdGlvbihlKXt2YXIgcmVhbFRhcmdldD10eXBlb2YgZS5jbGllbnRYIT09J3VuZGVmaW5lZCc/ZWRpdG9yLmdldERvYygpLmVsZW1lbnRGcm9tUG9pbnQoZS5jbGllbnRYLGUuY2xpZW50WSk6bnVsbDtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDcocmVhbFRhcmdldCl8fGlzQ29udGVudEVkaXRhYmxlRmFsc2UkNyhlZGl0b3IuZG9tLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudChyZWFsVGFyZ2V0KSkpe2UucHJldmVudERlZmF1bHQoKTt9fSk7fTt2YXIgaW5pdD1mdW5jdGlvbiBpbml0KGVkaXRvcil7YmluZEZha2VEcmFnRXZlbnRzKGVkaXRvcik7YmxvY2tJZURyb3AoZWRpdG9yKTt9O3ZhciBEcmFnRHJvcE92ZXJyaWRlcz17aW5pdDppbml0fTt2YXIgaXNDb250ZW50RWRpdGFibGVUcnVlJDM9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVUcnVlO3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDg9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgc2hvd0NhcmV0PWZ1bmN0aW9uIHNob3dDYXJldChkaXJlY3Rpb24sZWRpdG9yLG5vZGUsYmVmb3JlLHNjcm9sbEludG9WaWV3KXtyZXR1cm4gZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0NhcmV0KGRpcmVjdGlvbixub2RlLGJlZm9yZSxzY3JvbGxJbnRvVmlldyk7fTt2YXIgZ2V0Tm9kZVJhbmdlPWZ1bmN0aW9uIGdldE5vZGVSYW5nZShub2RlKXt2YXIgcm5nPW5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JuZy5zZWxlY3ROb2RlKG5vZGUpO3JldHVybiBybmc7fTt2YXIgc2VsZWN0Tm9kZT1mdW5jdGlvbiBzZWxlY3ROb2RlKGVkaXRvcixub2RlKXt2YXIgZT1lZGl0b3IuZmlyZSgnQmVmb3JlT2JqZWN0U2VsZWN0ZWQnLHt0YXJnZXQ6bm9kZX0pO2lmKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybiBudWxsO31yZXR1cm4gZ2V0Tm9kZVJhbmdlKG5vZGUpO307dmFyIHJlbmRlckNhcmV0QXRSYW5nZT1mdW5jdGlvbiByZW5kZXJDYXJldEF0UmFuZ2UoZWRpdG9yLHJhbmdlLHNjcm9sbEludG9WaWV3KXt2YXIgbm9ybWFsaXplZFJhbmdlPW5vcm1hbGl6ZVJhbmdlKDEsZWRpdG9yLmdldEJvZHkoKSxyYW5nZSk7dmFyIGNhcmV0UG9zaXRpb249Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KG5vcm1hbGl6ZWRSYW5nZSk7dmFyIGNhcmV0UG9zaXRpb25Ob2RlPWNhcmV0UG9zaXRpb24uZ2V0Tm9kZSgpO2lmKGlzQ29udGVudEVkaXRhYmxlRmFsc2UkOChjYXJldFBvc2l0aW9uTm9kZSkpe3JldHVybiBzaG93Q2FyZXQoMSxlZGl0b3IsY2FyZXRQb3NpdGlvbk5vZGUsIWNhcmV0UG9zaXRpb24uaXNBdEVuZCgpLGZhbHNlKTt9dmFyIGNhcmV0UG9zaXRpb25CZWZvcmVOb2RlPWNhcmV0UG9zaXRpb24uZ2V0Tm9kZSh0cnVlKTtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDgoY2FyZXRQb3NpdGlvbkJlZm9yZU5vZGUpKXtyZXR1cm4gc2hvd0NhcmV0KDEsZWRpdG9yLGNhcmV0UG9zaXRpb25CZWZvcmVOb2RlLGZhbHNlLGZhbHNlKTt9dmFyIGNlUm9vdD1lZGl0b3IuZG9tLmdldFBhcmVudChjYXJldFBvc2l0aW9uLmdldE5vZGUoKSxmdW5jdGlvbihub2RlKXtyZXR1cm4gaXNDb250ZW50RWRpdGFibGVGYWxzZSQ4KG5vZGUpfHxpc0NvbnRlbnRFZGl0YWJsZVRydWUkMyhub2RlKTt9KTtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDgoY2VSb290KSl7cmV0dXJuIHNob3dDYXJldCgxLGVkaXRvcixjZVJvb3QsZmFsc2Usc2Nyb2xsSW50b1ZpZXcpO31yZXR1cm4gbnVsbDt9O3ZhciByZW5kZXJSYW5nZUNhcmV0PWZ1bmN0aW9uIHJlbmRlclJhbmdlQ2FyZXQoZWRpdG9yLHJhbmdlLHNjcm9sbEludG9WaWV3KXtpZighcmFuZ2V8fCFyYW5nZS5jb2xsYXBzZWQpe3JldHVybiByYW5nZTt9dmFyIGNhcmV0UmFuZ2U9cmVuZGVyQ2FyZXRBdFJhbmdlKGVkaXRvcixyYW5nZSxzY3JvbGxJbnRvVmlldyk7aWYoY2FyZXRSYW5nZSl7cmV0dXJuIGNhcmV0UmFuZ2U7fXJldHVybiByYW5nZTt9O3ZhciBzZXR1cCQ0PWZ1bmN0aW9uIHNldHVwJDQoZWRpdG9yKXt2YXIgcmVuZGVyRm9jdXNDYXJldD1maXJzdChmdW5jdGlvbigpe2lmKCFlZGl0b3IucmVtb3ZlZCYmZWRpdG9yLmdldEJvZHkoKS5jb250YWlucyhkb21HbG9iYWxzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKXt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7aWYocm5nLmNvbGxhcHNlZCl7dmFyIGNhcmV0UmFuZ2U9cmVuZGVyUmFuZ2VDYXJldChlZGl0b3IsZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSxmYWxzZSk7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcoY2FyZXRSYW5nZSk7fX19LDApO2VkaXRvci5vbignZm9jdXMnLGZ1bmN0aW9uKCl7cmVuZGVyRm9jdXNDYXJldC50aHJvdHRsZSgpO30pO2VkaXRvci5vbignYmx1cicsZnVuY3Rpb24oKXtyZW5kZXJGb2N1c0NhcmV0LmNhbmNlbCgpO30pO307dmFyIENlZkZvY3VzPXtzZXR1cDpzZXR1cCQ0fTt2YXIgaXNDb250ZW50RWRpdGFibGVUcnVlJDQ9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVUcnVlO3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDk9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgZ2V0Q29udGVudEVkaXRhYmxlUm9vdD1mdW5jdGlvbiBnZXRDb250ZW50RWRpdGFibGVSb290KGVkaXRvcixub2RlKXt2YXIgcm9vdD1lZGl0b3IuZ2V0Qm9keSgpO3doaWxlKG5vZGUmJm5vZGUhPT1yb290KXtpZihpc0NvbnRlbnRFZGl0YWJsZVRydWUkNChub2RlKXx8aXNDb250ZW50RWRpdGFibGVGYWxzZSQ5KG5vZGUpKXtyZXR1cm4gbm9kZTt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBudWxsO307dmFyIFNlbGVjdGlvbk92ZXJyaWRlcz1mdW5jdGlvbiBTZWxlY3Rpb25PdmVycmlkZXMoZWRpdG9yKXt2YXIgaXNCbG9jaz1mdW5jdGlvbiBpc0Jsb2NrKG5vZGUpe3JldHVybiBlZGl0b3IuZG9tLmlzQmxvY2sobm9kZSk7fTt2YXIgcm9vdE5vZGU9ZWRpdG9yLmdldEJvZHkoKTt2YXIgZmFrZUNhcmV0PUZha2VDYXJldChlZGl0b3IuZ2V0Qm9keSgpLGlzQmxvY2ssZnVuY3Rpb24oKXtyZXR1cm4gRWRpdG9yRm9jdXMuaGFzRm9jdXMoZWRpdG9yKTt9KTt2YXIgcmVhbFNlbGVjdGlvbklkPSdzZWwtJytlZGl0b3IuZG9tLnVuaXF1ZUlkKCk7dmFyIHNlbGVjdGVkQ29udGVudEVkaXRhYmxlTm9kZTt2YXIgaXNGYWtlU2VsZWN0aW9uRWxlbWVudD1mdW5jdGlvbiBpc0Zha2VTZWxlY3Rpb25FbGVtZW50KGVsbSl7cmV0dXJuIGVkaXRvci5kb20uaGFzQ2xhc3MoZWxtLCdtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbicpO307dmFyIGdldFJlYWxTZWxlY3Rpb25FbGVtZW50PWZ1bmN0aW9uIGdldFJlYWxTZWxlY3Rpb25FbGVtZW50KCl7dmFyIGNvbnRhaW5lcj1lZGl0b3IuZG9tLmdldChyZWFsU2VsZWN0aW9uSWQpO3JldHVybiBjb250YWluZXI/Y29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJylbMF06Y29udGFpbmVyO307dmFyIHNldFJhbmdlPWZ1bmN0aW9uIHNldFJhbmdlKHJhbmdlKXtpZihyYW5nZSl7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocmFuZ2UpO319O3ZhciBnZXRSYW5nZT1mdW5jdGlvbiBnZXRSYW5nZSgpe3JldHVybiBlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO307dmFyIHNob3dDYXJldD1mdW5jdGlvbiBzaG93Q2FyZXQoZGlyZWN0aW9uLG5vZGUsYmVmb3JlLHNjcm9sbEludG9WaWV3KXtpZihzY3JvbGxJbnRvVmlldz09PXZvaWQgMCl7c2Nyb2xsSW50b1ZpZXc9dHJ1ZTt9dmFyIGU7ZT1lZGl0b3IuZmlyZSgnU2hvd0NhcmV0Jyx7dGFyZ2V0Om5vZGUsZGlyZWN0aW9uOmRpcmVjdGlvbixiZWZvcmU6YmVmb3JlfSk7aWYoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7cmV0dXJuIG51bGw7fWlmKHNjcm9sbEludG9WaWV3KXtlZGl0b3Iuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KG5vZGUsZGlyZWN0aW9uPT09LTEpO31yZXR1cm4gZmFrZUNhcmV0LnNob3coYmVmb3JlLG5vZGUpO307dmFyIHNob3dCbG9ja0NhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIHNob3dCbG9ja0NhcmV0Q29udGFpbmVyKGJsb2NrQ2FyZXRDb250YWluZXIpe2lmKGJsb2NrQ2FyZXRDb250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpKXtzaG93Q2FyZXRDb250YWluZXJCbG9jayhibG9ja0NhcmV0Q29udGFpbmVyKTtzZXRSYW5nZShnZXRSYW5nZSgpKTtlZGl0b3Iuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KGJsb2NrQ2FyZXRDb250YWluZXIpO319O3ZhciByZWdpc3RlckV2ZW50cz1mdW5jdGlvbiByZWdpc3RlckV2ZW50cygpe2VkaXRvci5vbignbW91c2V1cCcsZnVuY3Rpb24oZSl7dmFyIHJhbmdlPWdldFJhbmdlKCk7aWYocmFuZ2UuY29sbGFwc2VkJiZFZGl0b3JWaWV3LmlzWFlJbkNvbnRlbnRBcmVhKGVkaXRvcixlLmNsaWVudFgsZS5jbGllbnRZKSl7c2V0UmFuZ2UocmVuZGVyQ2FyZXRBdFJhbmdlKGVkaXRvcixyYW5nZSxmYWxzZSkpO319KTtlZGl0b3Iub24oJ2NsaWNrJyxmdW5jdGlvbihlKXt2YXIgY29udGVudEVkaXRhYmxlUm9vdDtjb250ZW50RWRpdGFibGVSb290PWdldENvbnRlbnRFZGl0YWJsZVJvb3QoZWRpdG9yLGUudGFyZ2V0KTtpZihjb250ZW50RWRpdGFibGVSb290KXtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDkoY29udGVudEVkaXRhYmxlUm9vdCkpe2UucHJldmVudERlZmF1bHQoKTtlZGl0b3IuZm9jdXMoKTt9aWYoaXNDb250ZW50RWRpdGFibGVUcnVlJDQoY29udGVudEVkaXRhYmxlUm9vdCkpe2lmKGVkaXRvci5kb20uaXNDaGlsZE9mKGNvbnRlbnRFZGl0YWJsZVJvb3QsZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCkpKXtyZW1vdmVDb250ZW50RWRpdGFibGVTZWxlY3Rpb24oKTt9fX19KTtlZGl0b3Iub24oJ2JsdXIgTmV3QmxvY2snLGZ1bmN0aW9uKCl7cmVtb3ZlQ29udGVudEVkaXRhYmxlU2VsZWN0aW9uKCk7fSk7ZWRpdG9yLm9uKCdSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCcsZnVuY3Rpb24oKXtyZXR1cm4gZmFrZUNhcmV0LnJlcG9zaXRpb24oKTt9KTt2YXIgaGFuZGxlVG91Y2hTZWxlY3Q9ZnVuY3Rpb24gaGFuZGxlVG91Y2hTZWxlY3QoZWRpdG9yKXt2YXIgbW92ZWQ9ZmFsc2U7ZWRpdG9yLm9uKCd0b3VjaHN0YXJ0JyxmdW5jdGlvbigpe21vdmVkPWZhbHNlO30pO2VkaXRvci5vbigndG91Y2htb3ZlJyxmdW5jdGlvbigpe21vdmVkPXRydWU7fSk7ZWRpdG9yLm9uKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSl7aWYoIW1vdmVkKXt2YXIgY29udGVudEVkaXRhYmxlUm9vdD1nZXRDb250ZW50RWRpdGFibGVSb290KGVkaXRvcixlLnRhcmdldCk7aWYoaXNDb250ZW50RWRpdGFibGVGYWxzZSQ5KGNvbnRlbnRFZGl0YWJsZVJvb3QpKXtlLnByZXZlbnREZWZhdWx0KCk7c2V0Q29udGVudEVkaXRhYmxlU2VsZWN0aW9uKHNlbGVjdE5vZGUoZWRpdG9yLGNvbnRlbnRFZGl0YWJsZVJvb3QpKTt9fX0sdHJ1ZSk7fTt2YXIgaGFzTm9ybWFsQ2FyZXRQb3NpdGlvbj1mdW5jdGlvbiBoYXNOb3JtYWxDYXJldFBvc2l0aW9uKGVsbSl7dmFyIGNhcmV0V2Fsa2VyPUNhcmV0V2Fsa2VyKGVsbSk7aWYoIWVsbS5maXJzdENoaWxkKXtyZXR1cm4gZmFsc2U7fXZhciBzdGFydFBvcz1DYXJldFBvc2l0aW9uJDEuYmVmb3JlKGVsbS5maXJzdENoaWxkKTt2YXIgbmV3UG9zPWNhcmV0V2Fsa2VyLm5leHQoc3RhcnRQb3MpO3JldHVybiBuZXdQb3MmJiFpc0JlZm9yZUNvbnRlbnRFZGl0YWJsZUZhbHNlKG5ld1BvcykmJiFpc0FmdGVyQ29udGVudEVkaXRhYmxlRmFsc2UobmV3UG9zKTt9O3ZhciBpc0luU2FtZUJsb2NrPWZ1bmN0aW9uIGlzSW5TYW1lQmxvY2sobm9kZTEsbm9kZTIpe3ZhciBibG9jazE9ZWRpdG9yLmRvbS5nZXRQYXJlbnQobm9kZTEsZWRpdG9yLmRvbS5pc0Jsb2NrKTt2YXIgYmxvY2syPWVkaXRvci5kb20uZ2V0UGFyZW50KG5vZGUyLGVkaXRvci5kb20uaXNCbG9jayk7cmV0dXJuIGJsb2NrMT09PWJsb2NrMjt9O3ZhciBoYXNCZXR0ZXJNb3VzZVRhcmdldD1mdW5jdGlvbiBoYXNCZXR0ZXJNb3VzZVRhcmdldCh0YXJnZXROb2RlLGNhcmV0Tm9kZSl7dmFyIHRhcmdldEJsb2NrPWVkaXRvci5kb20uZ2V0UGFyZW50KHRhcmdldE5vZGUsZWRpdG9yLmRvbS5pc0Jsb2NrKTt2YXIgY2FyZXRCbG9jaz1lZGl0b3IuZG9tLmdldFBhcmVudChjYXJldE5vZGUsZWRpdG9yLmRvbS5pc0Jsb2NrKTtpZih0YXJnZXRCbG9jayYmZWRpdG9yLmRvbS5pc0NoaWxkT2YodGFyZ2V0QmxvY2ssY2FyZXRCbG9jaykmJmlzQ29udGVudEVkaXRhYmxlRmFsc2UkOShnZXRDb250ZW50RWRpdGFibGVSb290KGVkaXRvcix0YXJnZXRCbG9jaykpPT09ZmFsc2Upe3JldHVybiB0cnVlO31yZXR1cm4gdGFyZ2V0QmxvY2smJiFpc0luU2FtZUJsb2NrKHRhcmdldEJsb2NrLGNhcmV0QmxvY2spJiZoYXNOb3JtYWxDYXJldFBvc2l0aW9uKHRhcmdldEJsb2NrKTt9O2hhbmRsZVRvdWNoU2VsZWN0KGVkaXRvcik7ZWRpdG9yLm9uKCdtb3VzZWRvd24nLGZ1bmN0aW9uKGUpe3ZhciBjb250ZW50RWRpdGFibGVSb290O3ZhciB0YXJnZXRFbG09ZS50YXJnZXQ7aWYodGFyZ2V0RWxtIT09cm9vdE5vZGUmJnRhcmdldEVsbS5ub2RlTmFtZSE9PSdIVE1MJyYmIWVkaXRvci5kb20uaXNDaGlsZE9mKHRhcmdldEVsbSxyb290Tm9kZSkpe3JldHVybjt9aWYoRWRpdG9yVmlldy5pc1hZSW5Db250ZW50QXJlYShlZGl0b3IsZS5jbGllbnRYLGUuY2xpZW50WSk9PT1mYWxzZSl7cmV0dXJuO31jb250ZW50RWRpdGFibGVSb290PWdldENvbnRlbnRFZGl0YWJsZVJvb3QoZWRpdG9yLHRhcmdldEVsbSk7aWYoY29udGVudEVkaXRhYmxlUm9vdCl7aWYoaXNDb250ZW50RWRpdGFibGVGYWxzZSQ5KGNvbnRlbnRFZGl0YWJsZVJvb3QpKXtlLnByZXZlbnREZWZhdWx0KCk7c2V0Q29udGVudEVkaXRhYmxlU2VsZWN0aW9uKHNlbGVjdE5vZGUoZWRpdG9yLGNvbnRlbnRFZGl0YWJsZVJvb3QpKTt9ZWxzZXtyZW1vdmVDb250ZW50RWRpdGFibGVTZWxlY3Rpb24oKTtpZighKGlzQ29udGVudEVkaXRhYmxlVHJ1ZSQ0KGNvbnRlbnRFZGl0YWJsZVJvb3QpJiZlLnNoaWZ0S2V5KSYmIVJhbmdlUG9pbnQuaXNYWVdpdGhpblJhbmdlKGUuY2xpZW50WCxlLmNsaWVudFksZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSkpe2hpZGVGYWtlQ2FyZXQoKTtlZGl0b3Iuc2VsZWN0aW9uLnBsYWNlQ2FyZXRBdChlLmNsaWVudFgsZS5jbGllbnRZKTt9fX1lbHNlIGlmKGlzRmFrZUNhcmV0VGFyZ2V0KHRhcmdldEVsbSk9PT1mYWxzZSl7cmVtb3ZlQ29udGVudEVkaXRhYmxlU2VsZWN0aW9uKCk7aGlkZUZha2VDYXJldCgpO3ZhciBjYXJldEluZm89Y2xvc2VzdENhcmV0KHJvb3ROb2RlLGUuY2xpZW50WCxlLmNsaWVudFkpO2lmKGNhcmV0SW5mbyl7aWYoIWhhc0JldHRlck1vdXNlVGFyZ2V0KGUudGFyZ2V0LGNhcmV0SW5mby5ub2RlKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByYW5nZT1zaG93Q2FyZXQoMSxjYXJldEluZm8ubm9kZSxjYXJldEluZm8uYmVmb3JlLGZhbHNlKTtlZGl0b3IuZ2V0Qm9keSgpLmZvY3VzKCk7c2V0UmFuZ2UocmFuZ2UpO319fX0pO2VkaXRvci5vbigna2V5cHJlc3MnLGZ1bmN0aW9uKGUpe2lmKFZLLm1vZGlmaWVyUHJlc3NlZChlKSl7cmV0dXJuO31zd2l0Y2goZS5rZXlDb2RlKXtkZWZhdWx0OmlmKGlzQ29udGVudEVkaXRhYmxlRmFsc2UkOShlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKSkpe2UucHJldmVudERlZmF1bHQoKTt9YnJlYWs7fX0pO2VkaXRvci5vbignR2V0U2VsZWN0aW9uUmFuZ2UnLGZ1bmN0aW9uKGUpe3ZhciBybmc9ZS5yYW5nZTtpZihzZWxlY3RlZENvbnRlbnRFZGl0YWJsZU5vZGUpe2lmKCFzZWxlY3RlZENvbnRlbnRFZGl0YWJsZU5vZGUucGFyZW50Tm9kZSl7c2VsZWN0ZWRDb250ZW50RWRpdGFibGVOb2RlPW51bGw7cmV0dXJuO31ybmc9cm5nLmNsb25lUmFuZ2UoKTtybmcuc2VsZWN0Tm9kZShzZWxlY3RlZENvbnRlbnRFZGl0YWJsZU5vZGUpO2UucmFuZ2U9cm5nO319KTtlZGl0b3Iub24oJ1NldFNlbGVjdGlvblJhbmdlJyxmdW5jdGlvbihlKXtlLnJhbmdlPW5vcm1hbGl6ZVNob3J0RW5kZWRFbGVtZW50U2VsZWN0aW9uKGUucmFuZ2UpO3ZhciBybmc9c2V0Q29udGVudEVkaXRhYmxlU2VsZWN0aW9uKGUucmFuZ2UsZS5mb3J3YXJkKTtpZihybmcpe2UucmFuZ2U9cm5nO319KTt2YXIgaXNQYXN0ZUJpbj1mdW5jdGlvbiBpc1Bhc3RlQmluKG5vZGUpe3JldHVybiBub2RlLmlkPT09J21jZXBhc3RlYmluJzt9O2VkaXRvci5vbignQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZScsZnVuY3Rpb24oZSl7dmFyIHJuZz1lLnJhbmdlO2lmKCFpc1JhbmdlSW5DYXJldENvbnRhaW5lcihybmcpJiYhaXNQYXN0ZUJpbihybmcuc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSkpe2hpZGVGYWtlQ2FyZXQoKTt9aWYoIWlzRmFrZVNlbGVjdGlvbkVsZW1lbnQocm5nLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUpKXtyZW1vdmVDb250ZW50RWRpdGFibGVTZWxlY3Rpb24oKTt9fSk7ZWRpdG9yLm9uKCdjb3B5JyxmdW5jdGlvbihlKXt2YXIgY2xpcGJvYXJkRGF0YT1lLmNsaXBib2FyZERhdGE7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmUuY2xpcGJvYXJkRGF0YSYmIUVudi5pZSl7dmFyIHJlYWxTZWxlY3Rpb25FbGVtZW50PWdldFJlYWxTZWxlY3Rpb25FbGVtZW50KCk7aWYocmVhbFNlbGVjdGlvbkVsZW1lbnQpe2UucHJldmVudERlZmF1bHQoKTtjbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO2NsaXBib2FyZERhdGEuc2V0RGF0YSgndGV4dC9odG1sJyxyZWFsU2VsZWN0aW9uRWxlbWVudC5vdXRlckhUTUwpO2NsaXBib2FyZERhdGEuc2V0RGF0YSgndGV4dC9wbGFpbicscmVhbFNlbGVjdGlvbkVsZW1lbnQub3V0ZXJUZXh0KTt9fX0pO0RyYWdEcm9wT3ZlcnJpZGVzLmluaXQoZWRpdG9yKTtDZWZGb2N1cy5zZXR1cChlZGl0b3IpO307dmFyIGlzV2l0aGluQ2FyZXRDb250YWluZXI9ZnVuY3Rpb24gaXNXaXRoaW5DYXJldENvbnRhaW5lcihub2RlKXtyZXR1cm4gaXNDYXJldENvbnRhaW5lcihub2RlKXx8c3RhcnRzV2l0aENhcmV0Q29udGFpbmVyKG5vZGUpfHxlbmRzV2l0aENhcmV0Q29udGFpbmVyKG5vZGUpO307dmFyIGlzUmFuZ2VJbkNhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIGlzUmFuZ2VJbkNhcmV0Q29udGFpbmVyKHJuZyl7cmV0dXJuIGlzV2l0aGluQ2FyZXRDb250YWluZXIocm5nLnN0YXJ0Q29udGFpbmVyKXx8aXNXaXRoaW5DYXJldENvbnRhaW5lcihybmcuZW5kQ29udGFpbmVyKTt9O3ZhciBub3JtYWxpemVTaG9ydEVuZGVkRWxlbWVudFNlbGVjdGlvbj1mdW5jdGlvbiBub3JtYWxpemVTaG9ydEVuZGVkRWxlbWVudFNlbGVjdGlvbihybmcpe3ZhciBzaG9ydEVuZGVkRWxlbWVudHM9ZWRpdG9yLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKTt2YXIgbmV3Um5nPWVkaXRvci5kb20uY3JlYXRlUm5nKCk7dmFyIHN0YXJ0Q29udGFpbmVyPXJuZy5zdGFydENvbnRhaW5lcjt2YXIgc3RhcnRPZmZzZXQ9cm5nLnN0YXJ0T2Zmc2V0O3ZhciBlbmRDb250YWluZXI9cm5nLmVuZENvbnRhaW5lcjt2YXIgZW5kT2Zmc2V0PXJuZy5lbmRPZmZzZXQ7aWYoaGFzKHNob3J0RW5kZWRFbGVtZW50cyxzdGFydENvbnRhaW5lci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoc3RhcnRPZmZzZXQ9PT0wKXtuZXdSbmcuc2V0U3RhcnRCZWZvcmUoc3RhcnRDb250YWluZXIpO31lbHNle25ld1JuZy5zZXRTdGFydEFmdGVyKHN0YXJ0Q29udGFpbmVyKTt9fWVsc2V7bmV3Um5nLnNldFN0YXJ0KHN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0KTt9aWYoaGFzKHNob3J0RW5kZWRFbGVtZW50cyxlbmRDb250YWluZXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpe2lmKGVuZE9mZnNldD09PTApe25ld1JuZy5zZXRFbmRCZWZvcmUoZW5kQ29udGFpbmVyKTt9ZWxzZXtuZXdSbmcuc2V0RW5kQWZ0ZXIoZW5kQ29udGFpbmVyKTt9fWVsc2V7bmV3Um5nLnNldEVuZChlbmRDb250YWluZXIsZW5kT2Zmc2V0KTt9cmV0dXJuIG5ld1JuZzt9O3ZhciBzZXRDb250ZW50RWRpdGFibGVTZWxlY3Rpb249ZnVuY3Rpb24gc2V0Q29udGVudEVkaXRhYmxlU2VsZWN0aW9uKHJhbmdlLGZvcndhcmQpe3ZhciBub2RlO3ZhciAkPWVkaXRvci4kO3ZhciBkb209ZWRpdG9yLmRvbTt2YXIgJHJlYWxTZWxlY3Rpb25Db250YWluZXIsc2VsLHN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0LGVuZE9mZnNldCxlLGNhcmV0UG9zaXRpb24sdGFyZ2V0Q2xvbmUsb3JpZ1RhcmdldENsb25lO2lmKCFyYW5nZSl7cmV0dXJuIG51bGw7fWlmKHJhbmdlLmNvbGxhcHNlZCl7aWYoIWlzUmFuZ2VJbkNhcmV0Q29udGFpbmVyKHJhbmdlKSl7aWYoZm9yd2FyZD09PWZhbHNlKXtjYXJldFBvc2l0aW9uPWdldE5vcm1hbGl6ZWRSYW5nZUVuZFBvaW50KC0xLHJvb3ROb2RlLHJhbmdlKTtpZihpc0Zha2VDYXJldFRhcmdldChjYXJldFBvc2l0aW9uLmdldE5vZGUodHJ1ZSkpKXtyZXR1cm4gc2hvd0NhcmV0KC0xLGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSh0cnVlKSxmYWxzZSxmYWxzZSk7fWlmKGlzRmFrZUNhcmV0VGFyZ2V0KGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSgpKSl7cmV0dXJuIHNob3dDYXJldCgtMSxjYXJldFBvc2l0aW9uLmdldE5vZGUoKSwhY2FyZXRQb3NpdGlvbi5pc0F0RW5kKCksZmFsc2UpO319ZWxzZXtjYXJldFBvc2l0aW9uPWdldE5vcm1hbGl6ZWRSYW5nZUVuZFBvaW50KDEscm9vdE5vZGUscmFuZ2UpO2lmKGlzRmFrZUNhcmV0VGFyZ2V0KGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSgpKSl7cmV0dXJuIHNob3dDYXJldCgxLGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSgpLCFjYXJldFBvc2l0aW9uLmlzQXRFbmQoKSxmYWxzZSk7fWlmKGlzRmFrZUNhcmV0VGFyZ2V0KGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSh0cnVlKSkpe3JldHVybiBzaG93Q2FyZXQoMSxjYXJldFBvc2l0aW9uLmdldE5vZGUodHJ1ZSksZmFsc2UsZmFsc2UpO319fXJldHVybiBudWxsO31zdGFydENvbnRhaW5lcj1yYW5nZS5zdGFydENvbnRhaW5lcjtzdGFydE9mZnNldD1yYW5nZS5zdGFydE9mZnNldDtlbmRPZmZzZXQ9cmFuZ2UuZW5kT2Zmc2V0O2lmKHN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT09MyYmc3RhcnRPZmZzZXQ9PT0wJiZpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDkoc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSkpe3N0YXJ0Q29udGFpbmVyPXN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7c3RhcnRPZmZzZXQ9ZG9tLm5vZGVJbmRleChzdGFydENvbnRhaW5lcik7c3RhcnRDb250YWluZXI9c3RhcnRDb250YWluZXIucGFyZW50Tm9kZTt9aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGUhPT0xKXtyZXR1cm4gbnVsbDt9aWYoZW5kT2Zmc2V0PT09c3RhcnRPZmZzZXQrMSYmc3RhcnRDb250YWluZXI9PT1yYW5nZS5lbmRDb250YWluZXIpe25vZGU9c3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tzdGFydE9mZnNldF07fWlmKCFpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJDkobm9kZSkpe3JldHVybiBudWxsO310YXJnZXRDbG9uZT1vcmlnVGFyZ2V0Q2xvbmU9bm9kZS5jbG9uZU5vZGUodHJ1ZSk7ZT1lZGl0b3IuZmlyZSgnT2JqZWN0U2VsZWN0ZWQnLHt0YXJnZXQ6bm9kZSx0YXJnZXRDbG9uZTp0YXJnZXRDbG9uZX0pO2lmKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybiBudWxsO30kcmVhbFNlbGVjdGlvbkNvbnRhaW5lcj1kZXNjZW5kYW50KEVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKSwnIycrcmVhbFNlbGVjdGlvbklkKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuICQoW10pO30sZnVuY3Rpb24oZWxtKXtyZXR1cm4gJChbZWxtLmRvbSgpXSk7fSk7dGFyZ2V0Q2xvbmU9ZS50YXJnZXRDbG9uZTtpZigkcmVhbFNlbGVjdGlvbkNvbnRhaW5lci5sZW5ndGg9PT0wKXskcmVhbFNlbGVjdGlvbkNvbnRhaW5lcj0kKCc8ZGl2IGRhdGEtbWNlLWJvZ3VzPSJhbGwiIGNsYXNzPSJtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiI+PC9kaXY+JykuYXR0cignaWQnLHJlYWxTZWxlY3Rpb25JZCk7JHJlYWxTZWxlY3Rpb25Db250YWluZXIuYXBwZW5kVG8oZWRpdG9yLmdldEJvZHkoKSk7fXJhbmdlPWVkaXRvci5kb20uY3JlYXRlUm5nKCk7aWYodGFyZ2V0Q2xvbmU9PT1vcmlnVGFyZ2V0Q2xvbmUmJkVudi5pZSl7JHJlYWxTZWxlY3Rpb25Db250YWluZXIuZW1wdHkoKS5hcHBlbmQoJzxwIHN0eWxlPSJmb250LXNpemU6IDAiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPlx4QTA8L3A+JykuYXBwZW5kKHRhcmdldENsb25lKTtyYW5nZS5zZXRTdGFydEFmdGVyKCRyZWFsU2VsZWN0aW9uQ29udGFpbmVyWzBdLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCk7cmFuZ2Uuc2V0RW5kQWZ0ZXIodGFyZ2V0Q2xvbmUpO31lbHNleyRyZWFsU2VsZWN0aW9uQ29udGFpbmVyLmVtcHR5KCkuYXBwZW5kKCdceEEwJykuYXBwZW5kKHRhcmdldENsb25lKS5hcHBlbmQoJ1x4QTAnKTtyYW5nZS5zZXRTdGFydCgkcmVhbFNlbGVjdGlvbkNvbnRhaW5lclswXS5maXJzdENoaWxkLDEpO3JhbmdlLnNldEVuZCgkcmVhbFNlbGVjdGlvbkNvbnRhaW5lclswXS5sYXN0Q2hpbGQsMCk7fSRyZWFsU2VsZWN0aW9uQ29udGFpbmVyLmNzcyh7dG9wOmRvbS5nZXRQb3Mobm9kZSxlZGl0b3IuZ2V0Qm9keSgpKS55fSk7JHJlYWxTZWxlY3Rpb25Db250YWluZXJbMF0uZm9jdXMoKTtzZWw9ZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWwoKTtzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7c2VsLmFkZFJhbmdlKHJhbmdlKTt2YXIgbm9kZUVsbT1FbGVtZW50LmZyb21Eb20obm9kZSk7ZWFjaChkZXNjZW5kYW50cyQxKEVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKSwnKltkYXRhLW1jZS1zZWxlY3RlZF0nKSxmdW5jdGlvbihlbG0pe2lmKCFlcShub2RlRWxtLGVsbSkpe3JlbW92ZShlbG0sJ2RhdGEtbWNlLXNlbGVjdGVkJyk7fX0pO2lmKCFlZGl0b3IuZG9tLmdldEF0dHJpYihub2RlLCdkYXRhLW1jZS1zZWxlY3RlZCcpKXtub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1tY2Utc2VsZWN0ZWQnLCcxJyk7fXNlbGVjdGVkQ29udGVudEVkaXRhYmxlTm9kZT1ub2RlO2hpZGVGYWtlQ2FyZXQoKTtyZXR1cm4gcmFuZ2U7fTt2YXIgcmVtb3ZlQ29udGVudEVkaXRhYmxlU2VsZWN0aW9uPWZ1bmN0aW9uIHJlbW92ZUNvbnRlbnRFZGl0YWJsZVNlbGVjdGlvbigpe2lmKHNlbGVjdGVkQ29udGVudEVkaXRhYmxlTm9kZSl7c2VsZWN0ZWRDb250ZW50RWRpdGFibGVOb2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1tY2Utc2VsZWN0ZWQnKTtkZXNjZW5kYW50KEVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKSwnIycrcmVhbFNlbGVjdGlvbklkKS5lYWNoKHJlbW92ZSQxKTtzZWxlY3RlZENvbnRlbnRFZGl0YWJsZU5vZGU9bnVsbDt9ZGVzY2VuZGFudChFbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSksJyMnK3JlYWxTZWxlY3Rpb25JZCkuZWFjaChyZW1vdmUkMSk7c2VsZWN0ZWRDb250ZW50RWRpdGFibGVOb2RlPW51bGw7fTt2YXIgZGVzdHJveT1mdW5jdGlvbiBkZXN0cm95KCl7ZmFrZUNhcmV0LmRlc3Ryb3koKTtzZWxlY3RlZENvbnRlbnRFZGl0YWJsZU5vZGU9bnVsbDt9O3ZhciBoaWRlRmFrZUNhcmV0PWZ1bmN0aW9uIGhpZGVGYWtlQ2FyZXQoKXtmYWtlQ2FyZXQuaGlkZSgpO307aWYoRW52LmNlRmFsc2Upe3JlZ2lzdGVyRXZlbnRzKCk7fXJldHVybntzaG93Q2FyZXQ6c2hvd0NhcmV0LHNob3dCbG9ja0NhcmV0Q29udGFpbmVyOnNob3dCbG9ja0NhcmV0Q29udGFpbmVyLGhpZGVGYWtlQ2FyZXQ6aGlkZUZha2VDYXJldCxkZXN0cm95OmRlc3Ryb3l9O307dmFyIEtFRVA9MCxJTlNFUlQ9MSxERUxFVEU9Mjt2YXIgZGlmZj1mdW5jdGlvbiBkaWZmKGxlZnQscmlnaHQpe3ZhciBzaXplPWxlZnQubGVuZ3RoK3JpZ2h0Lmxlbmd0aCsyO3ZhciB2RG93bj1uZXcgQXJyYXkoc2l6ZSk7dmFyIHZVcD1uZXcgQXJyYXkoc2l6ZSk7dmFyIHNuYWtlPWZ1bmN0aW9uIHNuYWtlKHN0YXJ0LGVuZCxkaWFnKXtyZXR1cm57c3RhcnQ6c3RhcnQsZW5kOmVuZCxkaWFnOmRpYWd9O307dmFyIGJ1aWxkU2NyaXB0PWZ1bmN0aW9uIGJ1aWxkU2NyaXB0KHN0YXJ0MSxlbmQxLHN0YXJ0MixlbmQyLHNjcmlwdCl7dmFyIG1pZGRsZT1nZXRNaWRkbGVTbmFrZShzdGFydDEsZW5kMSxzdGFydDIsZW5kMik7aWYobWlkZGxlPT09bnVsbHx8bWlkZGxlLnN0YXJ0PT09ZW5kMSYmbWlkZGxlLmRpYWc9PT1lbmQxLWVuZDJ8fG1pZGRsZS5lbmQ9PT1zdGFydDEmJm1pZGRsZS5kaWFnPT09c3RhcnQxLXN0YXJ0Mil7dmFyIGk9c3RhcnQxO3ZhciBqPXN0YXJ0Mjt3aGlsZShpPGVuZDF8fGo8ZW5kMil7aWYoaTxlbmQxJiZqPGVuZDImJmxlZnRbaV09PT1yaWdodFtqXSl7c2NyaXB0LnB1c2goW0tFRVAsbGVmdFtpXV0pOysraTsrK2o7fWVsc2V7aWYoZW5kMS1zdGFydDE+ZW5kMi1zdGFydDIpe3NjcmlwdC5wdXNoKFtERUxFVEUsbGVmdFtpXV0pOysraTt9ZWxzZXtzY3JpcHQucHVzaChbSU5TRVJULHJpZ2h0W2pdXSk7KytqO319fX1lbHNle2J1aWxkU2NyaXB0KHN0YXJ0MSxtaWRkbGUuc3RhcnQsc3RhcnQyLG1pZGRsZS5zdGFydC1taWRkbGUuZGlhZyxzY3JpcHQpO2Zvcih2YXIgaTI9bWlkZGxlLnN0YXJ0O2kyPG1pZGRsZS5lbmQ7KytpMil7c2NyaXB0LnB1c2goW0tFRVAsbGVmdFtpMl1dKTt9YnVpbGRTY3JpcHQobWlkZGxlLmVuZCxlbmQxLG1pZGRsZS5lbmQtbWlkZGxlLmRpYWcsZW5kMixzY3JpcHQpO319O3ZhciBidWlsZFNuYWtlPWZ1bmN0aW9uIGJ1aWxkU25ha2Uoc3RhcnQsZGlhZyxlbmQxLGVuZDIpe3ZhciBlbmQ9c3RhcnQ7d2hpbGUoZW5kLWRpYWc8ZW5kMiYmZW5kPGVuZDEmJmxlZnRbZW5kXT09PXJpZ2h0W2VuZC1kaWFnXSl7KytlbmQ7fXJldHVybiBzbmFrZShzdGFydCxlbmQsZGlhZyk7fTt2YXIgZ2V0TWlkZGxlU25ha2U9ZnVuY3Rpb24gZ2V0TWlkZGxlU25ha2Uoc3RhcnQxLGVuZDEsc3RhcnQyLGVuZDIpe3ZhciBtPWVuZDEtc3RhcnQxO3ZhciBuPWVuZDItc3RhcnQyO2lmKG09PT0wfHxuPT09MCl7cmV0dXJuIG51bGw7fXZhciBkZWx0YT1tLW47dmFyIHN1bT1uK207dmFyIG9mZnNldD0oc3VtJTI9PT0wP3N1bTpzdW0rMSkvMjt2RG93blsxK29mZnNldF09c3RhcnQxO3ZVcFsxK29mZnNldF09ZW5kMSsxO3ZhciBkLGssaSx4LHk7Zm9yKGQ9MDtkPD1vZmZzZXQ7KytkKXtmb3Ioaz0tZDtrPD1kO2srPTIpe2k9aytvZmZzZXQ7aWYoaz09PS1kfHxrIT09ZCYmdkRvd25baS0xXTx2RG93bltpKzFdKXt2RG93bltpXT12RG93bltpKzFdO31lbHNle3ZEb3duW2ldPXZEb3duW2ktMV0rMTt9eD12RG93bltpXTt5PXgtc3RhcnQxK3N0YXJ0Mi1rO3doaWxlKHg8ZW5kMSYmeTxlbmQyJiZsZWZ0W3hdPT09cmlnaHRbeV0pe3ZEb3duW2ldPSsreDsrK3k7fWlmKGRlbHRhJTIhPT0wJiZkZWx0YS1kPD1rJiZrPD1kZWx0YStkKXtpZih2VXBbaS1kZWx0YV08PXZEb3duW2ldKXtyZXR1cm4gYnVpbGRTbmFrZSh2VXBbaS1kZWx0YV0saytzdGFydDEtc3RhcnQyLGVuZDEsZW5kMik7fX19Zm9yKGs9ZGVsdGEtZDtrPD1kZWx0YStkO2srPTIpe2k9aytvZmZzZXQtZGVsdGE7aWYoaz09PWRlbHRhLWR8fGshPT1kZWx0YStkJiZ2VXBbaSsxXTw9dlVwW2ktMV0pe3ZVcFtpXT12VXBbaSsxXS0xO31lbHNle3ZVcFtpXT12VXBbaS0xXTt9eD12VXBbaV0tMTt5PXgtc3RhcnQxK3N0YXJ0Mi1rO3doaWxlKHg+PXN0YXJ0MSYmeT49c3RhcnQyJiZsZWZ0W3hdPT09cmlnaHRbeV0pe3ZVcFtpXT14LS07eS0tO31pZihkZWx0YSUyPT09MCYmLWQ8PWsmJms8PWQpe2lmKHZVcFtpXTw9dkRvd25baStkZWx0YV0pe3JldHVybiBidWlsZFNuYWtlKHZVcFtpXSxrK3N0YXJ0MS1zdGFydDIsZW5kMSxlbmQyKTt9fX19fTt2YXIgc2NyaXB0PVtdO2J1aWxkU2NyaXB0KDAsbGVmdC5sZW5ndGgsMCxyaWdodC5sZW5ndGgsc2NyaXB0KTtyZXR1cm4gc2NyaXB0O307dmFyIERpZmY9e0tFRVA6S0VFUCxERUxFVEU6REVMRVRFLElOU0VSVDpJTlNFUlQsZGlmZjpkaWZmfTt2YXIgZ2V0T3V0ZXJIdG1sPWZ1bmN0aW9uIGdldE91dGVySHRtbChlbG0pe2lmKE5vZGVUeXBlLmlzRWxlbWVudChlbG0pKXtyZXR1cm4gZWxtLm91dGVySFRNTDt9ZWxzZSBpZihOb2RlVHlwZS5pc1RleHQoZWxtKSl7cmV0dXJuIEVudGl0aWVzLmVuY29kZVJhdyhlbG0uZGF0YSxmYWxzZSk7fWVsc2UgaWYoTm9kZVR5cGUuaXNDb21tZW50KGVsbSkpe3JldHVybic8IS0tJytlbG0uZGF0YSsnLS0+Jzt9cmV0dXJuJyc7fTt2YXIgY3JlYXRlRnJhZ21lbnQkMT1mdW5jdGlvbiBjcmVhdGVGcmFnbWVudCQxKGh0bWwpe3ZhciBmcmFnLG5vZGUsY29udGFpbmVyO2NvbnRhaW5lcj1kb21HbG9iYWxzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2ZyYWc9ZG9tR2xvYmFscy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoaHRtbCl7Y29udGFpbmVyLmlubmVySFRNTD1odG1sO313aGlsZShub2RlPWNvbnRhaW5lci5maXJzdENoaWxkKXtmcmFnLmFwcGVuZENoaWxkKG5vZGUpO31yZXR1cm4gZnJhZzt9O3ZhciBpbnNlcnRBdD1mdW5jdGlvbiBpbnNlcnRBdChlbG0saHRtbCxpbmRleCl7dmFyIGZyYWdtZW50PWNyZWF0ZUZyYWdtZW50JDEoaHRtbCk7aWYoZWxtLmhhc0NoaWxkTm9kZXMoKSYmaW5kZXg8ZWxtLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgdGFyZ2V0PWVsbS5jaGlsZE5vZGVzW2luZGV4XTt0YXJnZXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZnJhZ21lbnQsdGFyZ2V0KTt9ZWxzZXtlbG0uYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO319O3ZhciByZW1vdmVBdD1mdW5jdGlvbiByZW1vdmVBdChlbG0saW5kZXgpe2lmKGVsbS5oYXNDaGlsZE5vZGVzKCkmJmluZGV4PGVsbS5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIHRhcmdldD1lbG0uY2hpbGROb2Rlc1tpbmRleF07dGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFyZ2V0KTt9fTt2YXIgYXBwbHlEaWZmPWZ1bmN0aW9uIGFwcGx5RGlmZihkaWZmLGVsbSl7dmFyIGluZGV4PTA7ZWFjaChkaWZmLGZ1bmN0aW9uKGFjdGlvbil7aWYoYWN0aW9uWzBdPT09RGlmZi5LRUVQKXtpbmRleCsrO31lbHNlIGlmKGFjdGlvblswXT09PURpZmYuSU5TRVJUKXtpbnNlcnRBdChlbG0sYWN0aW9uWzFdLGluZGV4KTtpbmRleCsrO31lbHNlIGlmKGFjdGlvblswXT09PURpZmYuREVMRVRFKXtyZW1vdmVBdChlbG0saW5kZXgpO319KTt9O3ZhciByZWFkJDE9ZnVuY3Rpb24gcmVhZCQxKGVsbSl7cmV0dXJuIGZpbHRlcihtYXAoZnJvbSQxKGVsbS5jaGlsZE5vZGVzKSxnZXRPdXRlckh0bWwpLGZ1bmN0aW9uKGl0ZW0pe3JldHVybiBpdGVtLmxlbmd0aD4wO30pO307dmFyIHdyaXRlPWZ1bmN0aW9uIHdyaXRlKGZyYWdtZW50cyxlbG0pe3ZhciBjdXJyZW50RnJhZ21lbnRzPW1hcChmcm9tJDEoZWxtLmNoaWxkTm9kZXMpLGdldE91dGVySHRtbCk7YXBwbHlEaWZmKERpZmYuZGlmZihjdXJyZW50RnJhZ21lbnRzLGZyYWdtZW50cyksZWxtKTtyZXR1cm4gZWxtO307dmFyIEZyYWdtZW50cz17cmVhZDpyZWFkJDEsd3JpdGU6d3JpdGV9O3ZhciB1bmRvTGV2ZWxEb2N1bWVudD1DZWxsKE9wdGlvbi5ub25lKCkpO3ZhciBsYXp5VGVtcERvY3VtZW50PWZ1bmN0aW9uIGxhenlUZW1wRG9jdW1lbnQoKXtyZXR1cm4gdW5kb0xldmVsRG9jdW1lbnQuZ2V0KCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBkb2M9ZG9tR2xvYmFscy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJ3VuZG8nKTt1bmRvTGV2ZWxEb2N1bWVudC5zZXQoT3B0aW9uLnNvbWUoZG9jKSk7cmV0dXJuIGRvYzt9KTt9O3ZhciBoYXNJZnJhbWVzPWZ1bmN0aW9uIGhhc0lmcmFtZXMoaHRtbCl7cmV0dXJuIGh0bWwuaW5kZXhPZignPC9pZnJhbWU+JykhPT0tMTt9O3ZhciBjcmVhdGVGcmFnbWVudGVkTGV2ZWw9ZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnRlZExldmVsKGZyYWdtZW50cyl7cmV0dXJue3R5cGU6J2ZyYWdtZW50ZWQnLGZyYWdtZW50czpmcmFnbWVudHMsY29udGVudDonJyxib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9O307dmFyIGNyZWF0ZUNvbXBsZXRlTGV2ZWw9ZnVuY3Rpb24gY3JlYXRlQ29tcGxldGVMZXZlbChjb250ZW50KXtyZXR1cm57dHlwZTonY29tcGxldGUnLGZyYWdtZW50czpudWxsLGNvbnRlbnQ6Y29udGVudCxib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9O307dmFyIGNyZWF0ZUZyb21FZGl0b3I9ZnVuY3Rpb24gY3JlYXRlRnJvbUVkaXRvcihlZGl0b3Ipe3ZhciBmcmFnbWVudHMsY29udGVudCx0cmltbWVkRnJhZ21lbnRzO2ZyYWdtZW50cz1GcmFnbWVudHMucmVhZChlZGl0b3IuZ2V0Qm9keSgpKTt0cmltbWVkRnJhZ21lbnRzPWJpbmQoZnJhZ21lbnRzLGZ1bmN0aW9uKGh0bWwpe3ZhciB0cmltbWVkPVRyaW1IdG1sLnRyaW1JbnRlcm5hbChlZGl0b3Iuc2VyaWFsaXplcixodG1sKTtyZXR1cm4gdHJpbW1lZC5sZW5ndGg+MD9bdHJpbW1lZF06W107fSk7Y29udGVudD10cmltbWVkRnJhZ21lbnRzLmpvaW4oJycpO3JldHVybiBoYXNJZnJhbWVzKGNvbnRlbnQpP2NyZWF0ZUZyYWdtZW50ZWRMZXZlbCh0cmltbWVkRnJhZ21lbnRzKTpjcmVhdGVDb21wbGV0ZUxldmVsKGNvbnRlbnQpO307dmFyIGFwcGx5VG9FZGl0b3I9ZnVuY3Rpb24gYXBwbHlUb0VkaXRvcihlZGl0b3IsbGV2ZWwsYmVmb3JlKXtpZihsZXZlbC50eXBlPT09J2ZyYWdtZW50ZWQnKXtGcmFnbWVudHMud3JpdGUobGV2ZWwuZnJhZ21lbnRzLGVkaXRvci5nZXRCb2R5KCkpO31lbHNle2VkaXRvci5zZXRDb250ZW50KGxldmVsLmNvbnRlbnQse2Zvcm1hdDoncmF3J30pO31lZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKGJlZm9yZT9sZXZlbC5iZWZvcmVCb29rbWFyazpsZXZlbC5ib29rbWFyayk7fTt2YXIgZ2V0TGV2ZWxDb250ZW50PWZ1bmN0aW9uIGdldExldmVsQ29udGVudChsZXZlbCl7cmV0dXJuIGxldmVsLnR5cGU9PT0nZnJhZ21lbnRlZCc/bGV2ZWwuZnJhZ21lbnRzLmpvaW4oJycpOmxldmVsLmNvbnRlbnQ7fTt2YXIgZ2V0Q2xlYW5MZXZlbENvbnRlbnQ9ZnVuY3Rpb24gZ2V0Q2xlYW5MZXZlbENvbnRlbnQobGV2ZWwpe3ZhciBlbG09RWxlbWVudC5mcm9tVGFnKCdib2R5JyxsYXp5VGVtcERvY3VtZW50KCkpO3NldCQxKGVsbSxnZXRMZXZlbENvbnRlbnQobGV2ZWwpKTtlYWNoKGRlc2NlbmRhbnRzJDEoZWxtLCcqW2RhdGEtbWNlLWJvZ3VzXScpLHVud3JhcCk7cmV0dXJuIGdldCQ1KGVsbSk7fTt2YXIgaGFzRXF1YWxDb250ZW50PWZ1bmN0aW9uIGhhc0VxdWFsQ29udGVudChsZXZlbDEsbGV2ZWwyKXtyZXR1cm4gZ2V0TGV2ZWxDb250ZW50KGxldmVsMSk9PT1nZXRMZXZlbENvbnRlbnQobGV2ZWwyKTt9O3ZhciBoYXNFcXVhbENsZWFuZWRDb250ZW50PWZ1bmN0aW9uIGhhc0VxdWFsQ2xlYW5lZENvbnRlbnQobGV2ZWwxLGxldmVsMil7cmV0dXJuIGdldENsZWFuTGV2ZWxDb250ZW50KGxldmVsMSk9PT1nZXRDbGVhbkxldmVsQ29udGVudChsZXZlbDIpO307dmFyIGlzRXEkMj1mdW5jdGlvbiBpc0VxJDIobGV2ZWwxLGxldmVsMil7aWYoIWxldmVsMXx8IWxldmVsMil7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGhhc0VxdWFsQ29udGVudChsZXZlbDEsbGV2ZWwyKSl7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGhhc0VxdWFsQ2xlYW5lZENvbnRlbnQobGV2ZWwxLGxldmVsMik7fX07dmFyIExldmVscz17Y3JlYXRlRnJhZ21lbnRlZExldmVsOmNyZWF0ZUZyYWdtZW50ZWRMZXZlbCxjcmVhdGVDb21wbGV0ZUxldmVsOmNyZWF0ZUNvbXBsZXRlTGV2ZWwsY3JlYXRlRnJvbUVkaXRvcjpjcmVhdGVGcm9tRWRpdG9yLGFwcGx5VG9FZGl0b3I6YXBwbHlUb0VkaXRvcixpc0VxOmlzRXEkMn07dmFyIGlzVW5sb2NrZWQ9ZnVuY3Rpb24gaXNVbmxvY2tlZChsb2Nrcyl7cmV0dXJuIGxvY2tzLmdldCgpPT09MDt9O3ZhciBzZXRUeXBpbmc9ZnVuY3Rpb24gc2V0VHlwaW5nKHVuZG9NYW5hZ2VyLHR5cGluZyxsb2Nrcyl7aWYoaXNVbmxvY2tlZChsb2Nrcykpe3VuZG9NYW5hZ2VyLnR5cGluZz10eXBpbmc7fX07dmFyIGVuZFR5cGluZz1mdW5jdGlvbiBlbmRUeXBpbmcodW5kb01hbmFnZXIsbG9ja3Mpe2lmKHVuZG9NYW5hZ2VyLnR5cGluZyl7c2V0VHlwaW5nKHVuZG9NYW5hZ2VyLGZhbHNlLGxvY2tzKTt1bmRvTWFuYWdlci5hZGQoKTt9fTt2YXIgZW5kVHlwaW5nTGV2ZWxJZ25vcmVMb2Nrcz1mdW5jdGlvbiBlbmRUeXBpbmdMZXZlbElnbm9yZUxvY2tzKHVuZG9NYW5hZ2VyKXtpZih1bmRvTWFuYWdlci50eXBpbmcpe3VuZG9NYW5hZ2VyLnR5cGluZz1mYWxzZTt1bmRvTWFuYWdlci5hZGQoKTt9fTt2YXIgX2JlZm9yZUNoYW5nZT1mdW5jdGlvbiBiZWZvcmVDaGFuZ2UoZWRpdG9yLGxvY2tzLGJlZm9yZUJvb2ttYXJrKXtpZihpc1VubG9ja2VkKGxvY2tzKSl7YmVmb3JlQm9va21hcmsuc2V0KE9wdGlvbi5zb21lKEdldEJvb2ttYXJrLmdldFVuZG9Cb29rbWFyayhlZGl0b3Iuc2VsZWN0aW9uKSkpO319O3ZhciBhZGRVbmRvTGV2ZWw9ZnVuY3Rpb24gYWRkVW5kb0xldmVsKGVkaXRvcix1bmRvTWFuYWdlcixpbmRleCxsb2NrcyxiZWZvcmVCb29rbWFyayxsZXZlbCxldmVudCl7dmFyIHNldHRpbmdzPWVkaXRvci5zZXR0aW5nczt2YXIgY3VycmVudExldmVsPUxldmVscy5jcmVhdGVGcm9tRWRpdG9yKGVkaXRvcik7bGV2ZWw9bGV2ZWx8fHt9O2xldmVsPVRvb2xzLmV4dGVuZChsZXZlbCxjdXJyZW50TGV2ZWwpO2lmKGlzVW5sb2NrZWQobG9ja3MpPT09ZmFsc2V8fGVkaXRvci5yZW1vdmVkKXtyZXR1cm4gbnVsbDt9dmFyIGxhc3RMZXZlbD11bmRvTWFuYWdlci5kYXRhW2luZGV4LmdldCgpXTtpZihlZGl0b3IuZmlyZSgnQmVmb3JlQWRkVW5kbycse2xldmVsOmxldmVsLGxhc3RMZXZlbDpsYXN0TGV2ZWwsb3JpZ2luYWxFdmVudDpldmVudH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtyZXR1cm4gbnVsbDt9aWYobGFzdExldmVsJiZMZXZlbHMuaXNFcShsYXN0TGV2ZWwsbGV2ZWwpKXtyZXR1cm4gbnVsbDt9aWYodW5kb01hbmFnZXIuZGF0YVtpbmRleC5nZXQoKV0pe2JlZm9yZUJvb2ttYXJrLmdldCgpLmVhY2goZnVuY3Rpb24oYm0pe3VuZG9NYW5hZ2VyLmRhdGFbaW5kZXguZ2V0KCldLmJlZm9yZUJvb2ttYXJrPWJtO30pO31pZihzZXR0aW5ncy5jdXN0b21fdW5kb19yZWRvX2xldmVscyl7aWYodW5kb01hbmFnZXIuZGF0YS5sZW5ndGg+c2V0dGluZ3MuY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMpe2Zvcih2YXIgaT0wO2k8dW5kb01hbmFnZXIuZGF0YS5sZW5ndGgtMTtpKyspe3VuZG9NYW5hZ2VyLmRhdGFbaV09dW5kb01hbmFnZXIuZGF0YVtpKzFdO311bmRvTWFuYWdlci5kYXRhLmxlbmd0aC0tO2luZGV4LnNldCh1bmRvTWFuYWdlci5kYXRhLmxlbmd0aCk7fX1sZXZlbC5ib29rbWFyaz1HZXRCb29rbWFyay5nZXRVbmRvQm9va21hcmsoZWRpdG9yLnNlbGVjdGlvbik7aWYoaW5kZXguZ2V0KCk8dW5kb01hbmFnZXIuZGF0YS5sZW5ndGgtMSl7dW5kb01hbmFnZXIuZGF0YS5sZW5ndGg9aW5kZXguZ2V0KCkrMTt9dW5kb01hbmFnZXIuZGF0YS5wdXNoKGxldmVsKTtpbmRleC5zZXQodW5kb01hbmFnZXIuZGF0YS5sZW5ndGgtMSk7dmFyIGFyZ3M9e2xldmVsOmxldmVsLGxhc3RMZXZlbDpsYXN0TGV2ZWwsb3JpZ2luYWxFdmVudDpldmVudH07ZWRpdG9yLmZpcmUoJ0FkZFVuZG8nLGFyZ3MpO2lmKGluZGV4LmdldCgpPjApe2VkaXRvci5zZXREaXJ0eSh0cnVlKTtlZGl0b3IuZmlyZSgnY2hhbmdlJyxhcmdzKTt9cmV0dXJuIGxldmVsO307dmFyIF9jbGVhcj1mdW5jdGlvbiBjbGVhcihlZGl0b3IsdW5kb01hbmFnZXIsaW5kZXgpe3VuZG9NYW5hZ2VyLmRhdGE9W107aW5kZXguc2V0KDApO3VuZG9NYW5hZ2VyLnR5cGluZz1mYWxzZTtlZGl0b3IuZmlyZSgnQ2xlYXJVbmRvcycpO307dmFyIF9leHRyYT1mdW5jdGlvbiBleHRyYShlZGl0b3IsdW5kb01hbmFnZXIsaW5kZXgsY2FsbGJhY2sxLGNhbGxiYWNrMil7aWYodW5kb01hbmFnZXIudHJhbnNhY3QoY2FsbGJhY2sxKSl7dmFyIGJvb2ttYXJrPXVuZG9NYW5hZ2VyLmRhdGFbaW5kZXguZ2V0KCldLmJvb2ttYXJrO3ZhciBsYXN0TGV2ZWw9dW5kb01hbmFnZXIuZGF0YVtpbmRleC5nZXQoKS0xXTtMZXZlbHMuYXBwbHlUb0VkaXRvcihlZGl0b3IsbGFzdExldmVsLHRydWUpO2lmKHVuZG9NYW5hZ2VyLnRyYW5zYWN0KGNhbGxiYWNrMikpe3VuZG9NYW5hZ2VyLmRhdGFbaW5kZXguZ2V0KCktMV0uYmVmb3JlQm9va21hcms9Ym9va21hcms7fX19O3ZhciBfcmVkbz1mdW5jdGlvbiByZWRvKGVkaXRvcixpbmRleCxkYXRhKXt2YXIgbGV2ZWw7aWYoaW5kZXguZ2V0KCk8ZGF0YS5sZW5ndGgtMSl7aW5kZXguc2V0KGluZGV4LmdldCgpKzEpO2xldmVsPWRhdGFbaW5kZXguZ2V0KCldO0xldmVscy5hcHBseVRvRWRpdG9yKGVkaXRvcixsZXZlbCxmYWxzZSk7ZWRpdG9yLnNldERpcnR5KHRydWUpO2VkaXRvci5maXJlKCdSZWRvJyx7bGV2ZWw6bGV2ZWx9KTt9cmV0dXJuIGxldmVsO307dmFyIF91bmRvPWZ1bmN0aW9uIHVuZG8oZWRpdG9yLHVuZG9NYW5hZ2VyLGxvY2tzLGluZGV4KXt2YXIgbGV2ZWw7aWYodW5kb01hbmFnZXIudHlwaW5nKXt1bmRvTWFuYWdlci5hZGQoKTt1bmRvTWFuYWdlci50eXBpbmc9ZmFsc2U7c2V0VHlwaW5nKHVuZG9NYW5hZ2VyLGZhbHNlLGxvY2tzKTt9aWYoaW5kZXguZ2V0KCk+MCl7aW5kZXguc2V0KGluZGV4LmdldCgpLTEpO2xldmVsPXVuZG9NYW5hZ2VyLmRhdGFbaW5kZXguZ2V0KCldO0xldmVscy5hcHBseVRvRWRpdG9yKGVkaXRvcixsZXZlbCx0cnVlKTtlZGl0b3Iuc2V0RGlydHkodHJ1ZSk7ZWRpdG9yLmZpcmUoJ1VuZG8nLHtsZXZlbDpsZXZlbH0pO31yZXR1cm4gbGV2ZWw7fTt2YXIgX3Jlc2V0PWZ1bmN0aW9uIHJlc2V0KHVuZG9NYW5hZ2VyKXt1bmRvTWFuYWdlci5jbGVhcigpO3VuZG9NYW5hZ2VyLmFkZCgpO307dmFyIF9oYXNVbmRvPWZ1bmN0aW9uIGhhc1VuZG8oZWRpdG9yLHVuZG9NYW5hZ2VyLGluZGV4KXtyZXR1cm4gaW5kZXguZ2V0KCk+MHx8dW5kb01hbmFnZXIudHlwaW5nJiZ1bmRvTWFuYWdlci5kYXRhWzBdJiYhTGV2ZWxzLmlzRXEoTGV2ZWxzLmNyZWF0ZUZyb21FZGl0b3IoZWRpdG9yKSx1bmRvTWFuYWdlci5kYXRhWzBdKTt9O3ZhciBfaGFzUmVkbz1mdW5jdGlvbiBoYXNSZWRvKHVuZG9NYW5hZ2VyLGluZGV4KXtyZXR1cm4gaW5kZXguZ2V0KCk8dW5kb01hbmFnZXIuZGF0YS5sZW5ndGgtMSYmIXVuZG9NYW5hZ2VyLnR5cGluZzt9O3ZhciBfdHJhbnNhY3Q9ZnVuY3Rpb24gdHJhbnNhY3QodW5kb01hbmFnZXIsbG9ja3MsY2FsbGJhY2spe2VuZFR5cGluZyh1bmRvTWFuYWdlcixsb2Nrcyk7dW5kb01hbmFnZXIuYmVmb3JlQ2hhbmdlKCk7dW5kb01hbmFnZXIuaWdub3JlKGNhbGxiYWNrKTtyZXR1cm4gdW5kb01hbmFnZXIuYWRkKCk7fTt2YXIgX2lnbm9yZT1mdW5jdGlvbiBpZ25vcmUobG9ja3MsY2FsbGJhY2spe3RyeXtsb2Nrcy5zZXQobG9ja3MuZ2V0KCkrMSk7Y2FsbGJhY2soKTt9ZmluYWxseXtsb2Nrcy5zZXQobG9ja3MuZ2V0KCktMSk7fX07dmFyIHJlZ2lzdGVyRXZlbnRzJDE9ZnVuY3Rpb24gcmVnaXN0ZXJFdmVudHMkMShlZGl0b3IsdW5kb01hbmFnZXIsbG9ja3Mpe3ZhciBpc0ZpcnN0VHlwZWRDaGFyYWN0ZXI9Q2VsbChmYWxzZSk7dmFyIGFkZE5vblR5cGluZ1VuZG9MZXZlbD1mdW5jdGlvbiBhZGROb25UeXBpbmdVbmRvTGV2ZWwoZSl7c2V0VHlwaW5nKHVuZG9NYW5hZ2VyLGZhbHNlLGxvY2tzKTt1bmRvTWFuYWdlci5hZGQoe30sZSk7fTtlZGl0b3Iub24oJ2luaXQnLGZ1bmN0aW9uKCl7dW5kb01hbmFnZXIuYWRkKCk7fSk7ZWRpdG9yLm9uKCdCZWZvcmVFeGVjQ29tbWFuZCcsZnVuY3Rpb24oZSl7dmFyIGNtZD1lLmNvbW1hbmQ7aWYoY21kIT09J1VuZG8nJiZjbWQhPT0nUmVkbycmJmNtZCE9PSdtY2VSZXBhaW50Jyl7ZW5kVHlwaW5nKHVuZG9NYW5hZ2VyLGxvY2tzKTt1bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UoKTt9fSk7ZWRpdG9yLm9uKCdFeGVjQ29tbWFuZCcsZnVuY3Rpb24oZSl7dmFyIGNtZD1lLmNvbW1hbmQ7aWYoY21kIT09J1VuZG8nJiZjbWQhPT0nUmVkbycmJmNtZCE9PSdtY2VSZXBhaW50Jyl7YWRkTm9uVHlwaW5nVW5kb0xldmVsKGUpO319KTtlZGl0b3Iub24oJ09iamVjdFJlc2l6ZVN0YXJ0IGN1dCcsZnVuY3Rpb24oKXt1bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UoKTt9KTtlZGl0b3Iub24oJ1NhdmVDb250ZW50IE9iamVjdFJlc2l6ZWQgYmx1cicsYWRkTm9uVHlwaW5nVW5kb0xldmVsKTtlZGl0b3Iub24oJ2RyYWdlbmQnLGFkZE5vblR5cGluZ1VuZG9MZXZlbCk7ZWRpdG9yLm9uKCdrZXl1cCcsZnVuY3Rpb24oZSl7dmFyIGtleUNvZGU9ZS5rZXlDb2RlO2lmKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybjt9aWYoa2V5Q29kZT49MzMmJmtleUNvZGU8PTM2fHxrZXlDb2RlPj0zNyYma2V5Q29kZTw9NDB8fGtleUNvZGU9PT00NXx8ZS5jdHJsS2V5KXthZGROb25UeXBpbmdVbmRvTGV2ZWwoKTtlZGl0b3Iubm9kZUNoYW5nZWQoKTt9aWYoa2V5Q29kZT09PTQ2fHxrZXlDb2RlPT09OCl7ZWRpdG9yLm5vZGVDaGFuZ2VkKCk7fWlmKGlzRmlyc3RUeXBlZENoYXJhY3Rlci5nZXQoKSYmdW5kb01hbmFnZXIudHlwaW5nJiZMZXZlbHMuaXNFcShMZXZlbHMuY3JlYXRlRnJvbUVkaXRvcihlZGl0b3IpLHVuZG9NYW5hZ2VyLmRhdGFbMF0pPT09ZmFsc2Upe2lmKGVkaXRvci5pc0RpcnR5KCk9PT1mYWxzZSl7ZWRpdG9yLnNldERpcnR5KHRydWUpO2VkaXRvci5maXJlKCdjaGFuZ2UnLHtsZXZlbDp1bmRvTWFuYWdlci5kYXRhWzBdLGxhc3RMZXZlbDpudWxsfSk7fWVkaXRvci5maXJlKCdUeXBpbmdVbmRvJyk7aXNGaXJzdFR5cGVkQ2hhcmFjdGVyLnNldChmYWxzZSk7ZWRpdG9yLm5vZGVDaGFuZ2VkKCk7fX0pO2VkaXRvci5vbigna2V5ZG93bicsZnVuY3Rpb24oZSl7dmFyIGtleUNvZGU9ZS5rZXlDb2RlO2lmKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybjt9aWYoa2V5Q29kZT49MzMmJmtleUNvZGU8PTM2fHxrZXlDb2RlPj0zNyYma2V5Q29kZTw9NDB8fGtleUNvZGU9PT00NSl7aWYodW5kb01hbmFnZXIudHlwaW5nKXthZGROb25UeXBpbmdVbmRvTGV2ZWwoZSk7fXJldHVybjt9dmFyIG1vZEtleT1lLmN0cmxLZXkmJiFlLmFsdEtleXx8ZS5tZXRhS2V5O2lmKChrZXlDb2RlPDE2fHxrZXlDb2RlPjIwKSYma2V5Q29kZSE9PTIyNCYma2V5Q29kZSE9PTkxJiYhdW5kb01hbmFnZXIudHlwaW5nJiYhbW9kS2V5KXt1bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UoKTtzZXRUeXBpbmcodW5kb01hbmFnZXIsdHJ1ZSxsb2Nrcyk7dW5kb01hbmFnZXIuYWRkKHt9LGUpO2lzRmlyc3RUeXBlZENoYXJhY3Rlci5zZXQodHJ1ZSk7fX0pO2VkaXRvci5vbignbW91c2Vkb3duJyxmdW5jdGlvbihlKXtpZih1bmRvTWFuYWdlci50eXBpbmcpe2FkZE5vblR5cGluZ1VuZG9MZXZlbChlKTt9fSk7dmFyIGlzSW5zZXJ0UmVwbGFjZW1lbnRUZXh0PWZ1bmN0aW9uIGlzSW5zZXJ0UmVwbGFjZW1lbnRUZXh0KGV2ZW50KXtyZXR1cm4gZXZlbnQuaW5wdXRUeXBlPT09J2luc2VydFJlcGxhY2VtZW50VGV4dCc7fTt2YXIgaXNJbnNlcnRUZXh0RGF0YU51bGw9ZnVuY3Rpb24gaXNJbnNlcnRUZXh0RGF0YU51bGwoZXZlbnQpe3JldHVybiBldmVudC5pbnB1dFR5cGU9PT0naW5zZXJ0VGV4dCcmJmV2ZW50LmRhdGE9PT1udWxsO307ZWRpdG9yLm9uKCdpbnB1dCcsZnVuY3Rpb24oZSl7aWYoZS5pbnB1dFR5cGUmJihpc0luc2VydFJlcGxhY2VtZW50VGV4dChlKXx8aXNJbnNlcnRUZXh0RGF0YU51bGwoZSkpKXthZGROb25UeXBpbmdVbmRvTGV2ZWwoZSk7fX0pO2VkaXRvci5vbignQWRkVW5kbyBVbmRvIFJlZG8gQ2xlYXJVbmRvcycsZnVuY3Rpb24oZSl7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe2VkaXRvci5ub2RlQ2hhbmdlZCgpO319KTt9O3ZhciBhZGRLZXlib2FyZFNob3J0Y3V0cz1mdW5jdGlvbiBhZGRLZXlib2FyZFNob3J0Y3V0cyhlZGl0b3Ipe2VkaXRvci5hZGRTaG9ydGN1dCgnbWV0YSt6JywnJywnVW5kbycpO2VkaXRvci5hZGRTaG9ydGN1dCgnbWV0YSt5LG1ldGErc2hpZnQreicsJycsJ1JlZG8nKTt9O3ZhciBVbmRvTWFuYWdlcj1mdW5jdGlvbiBVbmRvTWFuYWdlcihlZGl0b3Ipe3ZhciBiZWZvcmVCb29rbWFyaz1DZWxsKE9wdGlvbi5ub25lKCkpO3ZhciBsb2Nrcz1DZWxsKDApO3ZhciBpbmRleD1DZWxsKDApO3ZhciB1bmRvTWFuYWdlcj17ZGF0YTpbXSx0eXBpbmc6ZmFsc2UsYmVmb3JlQ2hhbmdlOmZ1bmN0aW9uIGJlZm9yZUNoYW5nZSgpe19iZWZvcmVDaGFuZ2UoZWRpdG9yLGxvY2tzLGJlZm9yZUJvb2ttYXJrKTt9LGFkZDpmdW5jdGlvbiBhZGQobGV2ZWwsZXZlbnQpe3JldHVybiBhZGRVbmRvTGV2ZWwoZWRpdG9yLHVuZG9NYW5hZ2VyLGluZGV4LGxvY2tzLGJlZm9yZUJvb2ttYXJrLGxldmVsLGV2ZW50KTt9LHVuZG86ZnVuY3Rpb24gdW5kbygpe3JldHVybiBfdW5kbyhlZGl0b3IsdW5kb01hbmFnZXIsbG9ja3MsaW5kZXgpO30scmVkbzpmdW5jdGlvbiByZWRvKCl7cmV0dXJuIF9yZWRvKGVkaXRvcixpbmRleCx1bmRvTWFuYWdlci5kYXRhKTt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7X2NsZWFyKGVkaXRvcix1bmRvTWFuYWdlcixpbmRleCk7fSxyZXNldDpmdW5jdGlvbiByZXNldCgpe19yZXNldCh1bmRvTWFuYWdlcik7fSxoYXNVbmRvOmZ1bmN0aW9uIGhhc1VuZG8oKXtyZXR1cm4gX2hhc1VuZG8oZWRpdG9yLHVuZG9NYW5hZ2VyLGluZGV4KTt9LGhhc1JlZG86ZnVuY3Rpb24gaGFzUmVkbygpe3JldHVybiBfaGFzUmVkbyh1bmRvTWFuYWdlcixpbmRleCk7fSx0cmFuc2FjdDpmdW5jdGlvbiB0cmFuc2FjdChjYWxsYmFjayl7cmV0dXJuIF90cmFuc2FjdCh1bmRvTWFuYWdlcixsb2NrcyxjYWxsYmFjayk7fSxpZ25vcmU6ZnVuY3Rpb24gaWdub3JlKGNhbGxiYWNrKXtfaWdub3JlKGxvY2tzLGNhbGxiYWNrKTt9LGV4dHJhOmZ1bmN0aW9uIGV4dHJhKGNhbGxiYWNrMSxjYWxsYmFjazIpe19leHRyYShlZGl0b3IsdW5kb01hbmFnZXIsaW5kZXgsY2FsbGJhY2sxLGNhbGxiYWNrMik7fX07cmVnaXN0ZXJFdmVudHMkMShlZGl0b3IsdW5kb01hbmFnZXIsbG9ja3MpO2FkZEtleWJvYXJkU2hvcnRjdXRzKGVkaXRvcik7cmV0dXJuIHVuZG9NYW5hZ2VyO307dmFyIGdldExhc3RDaGlsZHJlbiQxPWZ1bmN0aW9uIGdldExhc3RDaGlsZHJlbiQxKGVsbSl7dmFyIGNoaWxkcmVuPVtdO3ZhciByYXdOb2RlPWVsbS5kb20oKTt3aGlsZShyYXdOb2RlKXtjaGlsZHJlbi5wdXNoKEVsZW1lbnQuZnJvbURvbShyYXdOb2RlKSk7cmF3Tm9kZT1yYXdOb2RlLmxhc3RDaGlsZDt9cmV0dXJuIGNoaWxkcmVuO307dmFyIHJlbW92ZVRyYWlsaW5nQnI9ZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdCcihlbG0pe3ZhciBhbGxCcnM9ZGVzY2VuZGFudHMkMShlbG0sJ2JyJyk7dmFyIGJycz1maWx0ZXIoZ2V0TGFzdENoaWxkcmVuJDEoZWxtKS5zbGljZSgtMSksaXNCciQxKTtpZihhbGxCcnMubGVuZ3RoPT09YnJzLmxlbmd0aCl7ZWFjaChicnMscmVtb3ZlJDEpO319O3ZhciBmaWxsV2l0aFBhZGRpbmdCcj1mdW5jdGlvbiBmaWxsV2l0aFBhZGRpbmdCcihlbG0pe2VtcHR5KGVsbSk7YXBwZW5kKGVsbSxFbGVtZW50LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpKTt9O3ZhciBpc1BhZGRpbmdDb250ZW50cz1mdW5jdGlvbiBpc1BhZGRpbmdDb250ZW50cyhlbG0pe3JldHVybiBpc1RleHQkMShlbG0pP2dldCQ2KGVsbSk9PT0nXHhBMCc6aXNCciQxKGVsbSk7fTt2YXIgaXNQYWRkZWRFbGVtZW50PWZ1bmN0aW9uIGlzUGFkZGVkRWxlbWVudChlbG0pe3JldHVybiBmaWx0ZXIoY2hpbGRyZW4oZWxtKSxpc1BhZGRpbmdDb250ZW50cykubGVuZ3RoPT09MTt9O3ZhciB0cmltQmxvY2tUcmFpbGluZ0JyPWZ1bmN0aW9uIHRyaW1CbG9ja1RyYWlsaW5nQnIoZWxtKXtsYXN0Q2hpbGQoZWxtKS5lYWNoKGZ1bmN0aW9uKGxhc3RDaGlsZCl7cHJldlNpYmxpbmcobGFzdENoaWxkKS5lYWNoKGZ1bmN0aW9uKGxhc3RDaGlsZFByZXZTaWJsaW5nKXtpZihpc0Jsb2NrKGVsbSkmJmlzQnIkMShsYXN0Q2hpbGQpJiZpc0Jsb2NrKGxhc3RDaGlsZFByZXZTaWJsaW5nKSl7cmVtb3ZlJDEobGFzdENoaWxkKTt9fSk7fSk7fTt2YXIgUGFkZGluZ0JyPXtyZW1vdmVUcmFpbGluZ0JyOnJlbW92ZVRyYWlsaW5nQnIsZmlsbFdpdGhQYWRkaW5nQnI6ZmlsbFdpdGhQYWRkaW5nQnIsaXNQYWRkZWRFbGVtZW50OmlzUGFkZGVkRWxlbWVudCx0cmltQmxvY2tUcmFpbGluZ0JyOnRyaW1CbG9ja1RyYWlsaW5nQnJ9O3ZhciBpc0VxJDM9Rm9ybWF0VXRpbHMuaXNFcTt2YXIgbWF0Y2hlc1VuSW5oZXJpdGVkRm9ybWF0U2VsZWN0b3I9ZnVuY3Rpb24gbWF0Y2hlc1VuSW5oZXJpdGVkRm9ybWF0U2VsZWN0b3IoZWQsbm9kZSxuYW1lKXt2YXIgZm9ybWF0TGlzdD1lZC5mb3JtYXR0ZXIuZ2V0KG5hbWUpO2lmKGZvcm1hdExpc3Qpe2Zvcih2YXIgaT0wO2k8Zm9ybWF0TGlzdC5sZW5ndGg7aSsrKXtpZihmb3JtYXRMaXN0W2ldLmluaGVyaXQ9PT1mYWxzZSYmZWQuZG9tLmlzKG5vZGUsZm9ybWF0TGlzdFtpXS5zZWxlY3Rvcikpe3JldHVybiB0cnVlO319fXJldHVybiBmYWxzZTt9O3ZhciBtYXRjaFBhcmVudHM9ZnVuY3Rpb24gbWF0Y2hQYXJlbnRzKGVkaXRvcixub2RlLG5hbWUsdmFycyl7dmFyIHJvb3Q9ZWRpdG9yLmRvbS5nZXRSb290KCk7aWYobm9kZT09PXJvb3Qpe3JldHVybiBmYWxzZTt9bm9kZT1lZGl0b3IuZG9tLmdldFBhcmVudChub2RlLGZ1bmN0aW9uKG5vZGUpe2lmKG1hdGNoZXNVbkluaGVyaXRlZEZvcm1hdFNlbGVjdG9yKGVkaXRvcixub2RlLG5hbWUpKXtyZXR1cm4gdHJ1ZTt9cmV0dXJuIG5vZGUucGFyZW50Tm9kZT09PXJvb3R8fCEhbWF0Y2hOb2RlKGVkaXRvcixub2RlLG5hbWUsdmFycyx0cnVlKTt9KTtyZXR1cm4gbWF0Y2hOb2RlKGVkaXRvcixub2RlLG5hbWUsdmFycyk7fTt2YXIgbWF0Y2hOYW1lPWZ1bmN0aW9uIG1hdGNoTmFtZShkb20sbm9kZSxmb3JtYXQpe2lmKGlzRXEkMyhub2RlLGZvcm1hdC5pbmxpbmUpKXtyZXR1cm4gdHJ1ZTt9aWYoaXNFcSQzKG5vZGUsZm9ybWF0LmJsb2NrKSl7cmV0dXJuIHRydWU7fWlmKGZvcm1hdC5zZWxlY3Rvcil7cmV0dXJuIG5vZGUubm9kZVR5cGU9PT0xJiZkb20uaXMobm9kZSxmb3JtYXQuc2VsZWN0b3IpO319O3ZhciBtYXRjaEl0ZW1zPWZ1bmN0aW9uIG1hdGNoSXRlbXMoZG9tLG5vZGUsZm9ybWF0LGl0ZW1OYW1lLHNpbWlsYXIsdmFycyl7dmFyIGtleSx2YWx1ZTt2YXIgaXRlbXM9Zm9ybWF0W2l0ZW1OYW1lXTt2YXIgaTtpZihmb3JtYXQub25tYXRjaCl7cmV0dXJuIGZvcm1hdC5vbm1hdGNoKG5vZGUsZm9ybWF0LGl0ZW1OYW1lKTt9aWYoaXRlbXMpe2lmKHR5cGVvZiBpdGVtcy5sZW5ndGg9PT0ndW5kZWZpbmVkJyl7Zm9yKGtleSBpbiBpdGVtcyl7aWYoaXRlbXMuaGFzT3duUHJvcGVydHkoa2V5KSl7aWYoaXRlbU5hbWU9PT0nYXR0cmlidXRlcycpe3ZhbHVlPWRvbS5nZXRBdHRyaWIobm9kZSxrZXkpO31lbHNle3ZhbHVlPUZvcm1hdFV0aWxzLmdldFN0eWxlKGRvbSxub2RlLGtleSk7fWlmKHNpbWlsYXImJiF2YWx1ZSYmIWZvcm1hdC5leGFjdCl7cmV0dXJuO31pZigoIXNpbWlsYXJ8fGZvcm1hdC5leGFjdCkmJiFpc0VxJDModmFsdWUsRm9ybWF0VXRpbHMubm9ybWFsaXplU3R5bGVWYWx1ZShkb20sRm9ybWF0VXRpbHMucmVwbGFjZVZhcnMoaXRlbXNba2V5XSx2YXJzKSxrZXkpKSl7cmV0dXJuO319fX1lbHNle2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpZihpdGVtTmFtZT09PSdhdHRyaWJ1dGVzJz9kb20uZ2V0QXR0cmliKG5vZGUsaXRlbXNbaV0pOkZvcm1hdFV0aWxzLmdldFN0eWxlKGRvbSxub2RlLGl0ZW1zW2ldKSl7cmV0dXJuIGZvcm1hdDt9fX19cmV0dXJuIGZvcm1hdDt9O3ZhciBtYXRjaE5vZGU9ZnVuY3Rpb24gbWF0Y2hOb2RlKGVkLG5vZGUsbmFtZSx2YXJzLHNpbWlsYXIpe3ZhciBmb3JtYXRMaXN0PWVkLmZvcm1hdHRlci5nZXQobmFtZSk7dmFyIGZvcm1hdCxpLHgsY2xhc3Nlczt2YXIgZG9tPWVkLmRvbTtpZihmb3JtYXRMaXN0JiZub2RlKXtmb3IoaT0wO2k8Zm9ybWF0TGlzdC5sZW5ndGg7aSsrKXtmb3JtYXQ9Zm9ybWF0TGlzdFtpXTtpZihtYXRjaE5hbWUoZWQuZG9tLG5vZGUsZm9ybWF0KSYmbWF0Y2hJdGVtcyhkb20sbm9kZSxmb3JtYXQsJ2F0dHJpYnV0ZXMnLHNpbWlsYXIsdmFycykmJm1hdGNoSXRlbXMoZG9tLG5vZGUsZm9ybWF0LCdzdHlsZXMnLHNpbWlsYXIsdmFycykpe2lmKGNsYXNzZXM9Zm9ybWF0LmNsYXNzZXMpe2Zvcih4PTA7eDxjbGFzc2VzLmxlbmd0aDt4Kyspe2lmKCFlZC5kb20uaGFzQ2xhc3Mobm9kZSxjbGFzc2VzW3hdKSl7cmV0dXJuO319fXJldHVybiBmb3JtYXQ7fX19fTt2YXIgbWF0Y2g9ZnVuY3Rpb24gbWF0Y2goZWRpdG9yLG5hbWUsdmFycyxub2RlKXt2YXIgc3RhcnROb2RlO2lmKG5vZGUpe3JldHVybiBtYXRjaFBhcmVudHMoZWRpdG9yLG5vZGUsbmFtZSx2YXJzKTt9bm9kZT1lZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKTtpZihtYXRjaFBhcmVudHMoZWRpdG9yLG5vZGUsbmFtZSx2YXJzKSl7cmV0dXJuIHRydWU7fXN0YXJ0Tm9kZT1lZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0KCk7aWYoc3RhcnROb2RlIT09bm9kZSl7aWYobWF0Y2hQYXJlbnRzKGVkaXRvcixzdGFydE5vZGUsbmFtZSx2YXJzKSl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fTt2YXIgbWF0Y2hBbGw9ZnVuY3Rpb24gbWF0Y2hBbGwoZWRpdG9yLG5hbWVzLHZhcnMpe3ZhciBzdGFydEVsZW1lbnQ7dmFyIG1hdGNoZWRGb3JtYXROYW1lcz1bXTt2YXIgY2hlY2tlZE1hcD17fTtzdGFydEVsZW1lbnQ9ZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpO2VkaXRvci5kb20uZ2V0UGFyZW50KHN0YXJ0RWxlbWVudCxmdW5jdGlvbihub2RlKXt2YXIgaSxuYW1lO2ZvcihpPTA7aTxuYW1lcy5sZW5ndGg7aSsrKXtuYW1lPW5hbWVzW2ldO2lmKCFjaGVja2VkTWFwW25hbWVdJiZtYXRjaE5vZGUoZWRpdG9yLG5vZGUsbmFtZSx2YXJzKSl7Y2hlY2tlZE1hcFtuYW1lXT10cnVlO21hdGNoZWRGb3JtYXROYW1lcy5wdXNoKG5hbWUpO319fSxlZGl0b3IuZG9tLmdldFJvb3QoKSk7cmV0dXJuIG1hdGNoZWRGb3JtYXROYW1lczt9O3ZhciBjYW5BcHBseT1mdW5jdGlvbiBjYW5BcHBseShlZGl0b3IsbmFtZSl7dmFyIGZvcm1hdExpc3Q9ZWRpdG9yLmZvcm1hdHRlci5nZXQobmFtZSk7dmFyIHN0YXJ0Tm9kZSxwYXJlbnRzLGkseCxzZWxlY3Rvcjt2YXIgZG9tPWVkaXRvci5kb207aWYoZm9ybWF0TGlzdCl7c3RhcnROb2RlPWVkaXRvci5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtwYXJlbnRzPUZvcm1hdFV0aWxzLmdldFBhcmVudHMoZG9tLHN0YXJ0Tm9kZSk7Zm9yKHg9Zm9ybWF0TGlzdC5sZW5ndGgtMTt4Pj0wO3gtLSl7c2VsZWN0b3I9Zm9ybWF0TGlzdFt4XS5zZWxlY3RvcjtpZighc2VsZWN0b3J8fGZvcm1hdExpc3RbeF0uZGVmYXVsdEJsb2NrKXtyZXR1cm4gdHJ1ZTt9Zm9yKGk9cGFyZW50cy5sZW5ndGgtMTtpPj0wO2ktLSl7aWYoZG9tLmlzKHBhcmVudHNbaV0sc2VsZWN0b3IpKXtyZXR1cm4gdHJ1ZTt9fX19cmV0dXJuIGZhbHNlO307dmFyIE1hdGNoRm9ybWF0PXttYXRjaE5vZGU6bWF0Y2hOb2RlLG1hdGNoTmFtZTptYXRjaE5hbWUsbWF0Y2g6bWF0Y2gsbWF0Y2hBbGw6bWF0Y2hBbGwsY2FuQXBwbHk6Y2FuQXBwbHksbWF0Y2hlc1VuSW5oZXJpdGVkRm9ybWF0U2VsZWN0b3I6bWF0Y2hlc1VuSW5oZXJpdGVkRm9ybWF0U2VsZWN0b3J9O3ZhciBzcGxpdFRleHQ9ZnVuY3Rpb24gc3BsaXRUZXh0KG5vZGUsb2Zmc2V0KXtyZXR1cm4gbm9kZS5zcGxpdFRleHQob2Zmc2V0KTt9O3ZhciBzcGxpdCQxPWZ1bmN0aW9uIHNwbGl0JDEocm5nKXt2YXIgc3RhcnRDb250YWluZXI9cm5nLnN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0PXJuZy5zdGFydE9mZnNldCxlbmRDb250YWluZXI9cm5nLmVuZENvbnRhaW5lcixlbmRPZmZzZXQ9cm5nLmVuZE9mZnNldDtpZihzdGFydENvbnRhaW5lcj09PWVuZENvbnRhaW5lciYmTm9kZVR5cGUuaXNUZXh0KHN0YXJ0Q29udGFpbmVyKSl7aWYoc3RhcnRPZmZzZXQ+MCYmc3RhcnRPZmZzZXQ8c3RhcnRDb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7ZW5kQ29udGFpbmVyPXNwbGl0VGV4dChzdGFydENvbnRhaW5lcixzdGFydE9mZnNldCk7c3RhcnRDb250YWluZXI9ZW5kQ29udGFpbmVyLnByZXZpb3VzU2libGluZztpZihlbmRPZmZzZXQ+c3RhcnRPZmZzZXQpe2VuZE9mZnNldD1lbmRPZmZzZXQtc3RhcnRPZmZzZXQ7c3RhcnRDb250YWluZXI9ZW5kQ29udGFpbmVyPXNwbGl0VGV4dChlbmRDb250YWluZXIsZW5kT2Zmc2V0KS5wcmV2aW91c1NpYmxpbmc7ZW5kT2Zmc2V0PWVuZENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoO3N0YXJ0T2Zmc2V0PTA7fWVsc2V7ZW5kT2Zmc2V0PTA7fX19ZWxzZXtpZihOb2RlVHlwZS5pc1RleHQoc3RhcnRDb250YWluZXIpJiZzdGFydE9mZnNldD4wJiZzdGFydE9mZnNldDxzdGFydENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKXtzdGFydENvbnRhaW5lcj1zcGxpdFRleHQoc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQpO3N0YXJ0T2Zmc2V0PTA7fWlmKE5vZGVUeXBlLmlzVGV4dChlbmRDb250YWluZXIpJiZlbmRPZmZzZXQ+MCYmZW5kT2Zmc2V0PGVuZENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKXtlbmRDb250YWluZXI9c3BsaXRUZXh0KGVuZENvbnRhaW5lcixlbmRPZmZzZXQpLnByZXZpb3VzU2libGluZztlbmRPZmZzZXQ9ZW5kQ29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGg7fX1yZXR1cm57c3RhcnRDb250YWluZXI6c3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQ6c3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOmVuZENvbnRhaW5lcixlbmRPZmZzZXQ6ZW5kT2Zmc2V0fTt9O3ZhciBpc0NvbGxhcHNpYmxlV2hpdGVzcGFjZT1mdW5jdGlvbiBpc0NvbGxhcHNpYmxlV2hpdGVzcGFjZShjKXtyZXR1cm4nIFxmXG5cclx0XHgwQicuaW5kZXhPZihjKSE9PS0xO307dmFyIG5vcm1hbGl6ZUNvbnRlbnQ9ZnVuY3Rpb24gbm9ybWFsaXplQ29udGVudChjb250ZW50LGlzU3RhcnRPZkNvbnRlbnQsaXNFbmRPZkNvbnRlbnQpe3ZhciByZXN1bHQ9Zm9sZGwoY29udGVudCxmdW5jdGlvbihhY2MsYyl7aWYoaXNDb2xsYXBzaWJsZVdoaXRlc3BhY2UoYyl8fGM9PT0nXHhBMCcpe2lmKGFjYy5wcmV2aW91c0NoYXJJc1NwYWNlfHxhY2Muc3RyPT09JycmJmlzU3RhcnRPZkNvbnRlbnR8fGFjYy5zdHIubGVuZ3RoPT09Y29udGVudC5sZW5ndGgtMSYmaXNFbmRPZkNvbnRlbnQpe3JldHVybntwcmV2aW91c0NoYXJJc1NwYWNlOmZhbHNlLHN0cjphY2Muc3RyKydceEEwJ307fWVsc2V7cmV0dXJue3ByZXZpb3VzQ2hhcklzU3BhY2U6dHJ1ZSxzdHI6YWNjLnN0cisnICd9O319ZWxzZXtyZXR1cm57cHJldmlvdXNDaGFySXNTcGFjZTpmYWxzZSxzdHI6YWNjLnN0citjfTt9fSx7cHJldmlvdXNDaGFySXNTcGFjZTpmYWxzZSxzdHI6Jyd9KTtyZXR1cm4gcmVzdWx0LnN0cjt9O3ZhciBub3JtYWxpemU9ZnVuY3Rpb24gbm9ybWFsaXplKG5vZGUsb2Zmc2V0LGNvdW50KXtpZihjb3VudD09PTApe3JldHVybjt9dmFyIHdoaXRlc3BhY2U9bm9kZS5kYXRhLnNsaWNlKG9mZnNldCxvZmZzZXQrY291bnQpO3ZhciBpc0VuZE9mQ29udGVudD1vZmZzZXQrY291bnQ+PW5vZGUuZGF0YS5sZW5ndGg7dmFyIGlzU3RhcnRPZkNvbnRlbnQ9b2Zmc2V0PT09MDtub2RlLnJlcGxhY2VEYXRhKG9mZnNldCxjb3VudCxub3JtYWxpemVDb250ZW50KHdoaXRlc3BhY2UsaXNTdGFydE9mQ29udGVudCxpc0VuZE9mQ29udGVudCkpO307dmFyIG5vcm1hbGl6ZVdoaXRlc3BhY2VBZnRlcj1mdW5jdGlvbiBub3JtYWxpemVXaGl0ZXNwYWNlQWZ0ZXIobm9kZSxvZmZzZXQpe3ZhciBjb250ZW50PW5vZGUuZGF0YS5zbGljZShvZmZzZXQpO3ZhciB3aGl0ZXNwYWNlQ291bnQ9Y29udGVudC5sZW5ndGgtbFRyaW0oY29udGVudCkubGVuZ3RoO3JldHVybiBub3JtYWxpemUobm9kZSxvZmZzZXQsd2hpdGVzcGFjZUNvdW50KTt9O3ZhciBub3JtYWxpemVXaGl0ZXNwYWNlQmVmb3JlPWZ1bmN0aW9uIG5vcm1hbGl6ZVdoaXRlc3BhY2VCZWZvcmUobm9kZSxvZmZzZXQpe3ZhciBjb250ZW50PW5vZGUuZGF0YS5zbGljZSgwLG9mZnNldCk7dmFyIHdoaXRlc3BhY2VDb3VudD1jb250ZW50Lmxlbmd0aC1yVHJpbShjb250ZW50KS5sZW5ndGg7cmV0dXJuIG5vcm1hbGl6ZShub2RlLG9mZnNldC13aGl0ZXNwYWNlQ291bnQsd2hpdGVzcGFjZUNvdW50KTt9O3ZhciBtZXJnZVRleHROb2Rlcz1mdW5jdGlvbiBtZXJnZVRleHROb2RlcyhwcmV2Tm9kZSxuZXh0Tm9kZSxub3JtYWxpemVXaGl0ZXNwYWNlKXt2YXIgd2hpdGVzcGFjZU9mZnNldD1yVHJpbShwcmV2Tm9kZS5kYXRhKS5sZW5ndGg7cHJldk5vZGUuYXBwZW5kRGF0YShuZXh0Tm9kZS5kYXRhKTtyZW1vdmUkMShFbGVtZW50LmZyb21Eb20obmV4dE5vZGUpKTtpZihub3JtYWxpemVXaGl0ZXNwYWNlKXtub3JtYWxpemVXaGl0ZXNwYWNlQWZ0ZXIocHJldk5vZGUsd2hpdGVzcGFjZU9mZnNldCk7fXJldHVybiBwcmV2Tm9kZTt9O3ZhciBhbmNlc3RvciQyPWZ1bmN0aW9uIGFuY2VzdG9yJDIoc2NvcGUsc2VsZWN0b3IsaXNSb290KXtyZXR1cm4gYW5jZXN0b3IkMShzY29wZSxzZWxlY3Rvcixpc1Jvb3QpLmlzU29tZSgpO307dmFyIGhhc1doaXRlc3BhY2VQcmVzZXJ2ZVBhcmVudD1mdW5jdGlvbiBoYXNXaGl0ZXNwYWNlUHJlc2VydmVQYXJlbnQocm9vdE5vZGUsbm9kZSl7dmFyIHJvb3RFbGVtZW50PUVsZW1lbnQuZnJvbURvbShyb290Tm9kZSk7dmFyIHN0YXJ0Tm9kZT1FbGVtZW50LmZyb21Eb20obm9kZSk7cmV0dXJuIGFuY2VzdG9yJDIoc3RhcnROb2RlLCdwcmUsY29kZScsY3VycnkoZXEscm9vdEVsZW1lbnQpKTt9O3ZhciBpc1doaXRlc3BhY2U9ZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKHJvb3ROb2RlLG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc1RleHQobm9kZSkmJi9eWyBcdFxyXG5dKiQvLnRlc3Qobm9kZS5kYXRhKSYmaGFzV2hpdGVzcGFjZVByZXNlcnZlUGFyZW50KHJvb3ROb2RlLG5vZGUpPT09ZmFsc2U7fTt2YXIgaXNOYW1lZEFuY2hvcj1mdW5jdGlvbiBpc05hbWVkQW5jaG9yKG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJm5vZGUubm9kZU5hbWU9PT0nQScmJm5vZGUuaGFzQXR0cmlidXRlKCduYW1lJyk7fTt2YXIgaXNDb250ZW50JDE9ZnVuY3Rpb24gaXNDb250ZW50JDEocm9vdE5vZGUsbm9kZSl7cmV0dXJuIGlzQ2FyZXRDYW5kaWRhdGUobm9kZSkmJmlzV2hpdGVzcGFjZShyb290Tm9kZSxub2RlKT09PWZhbHNlfHxpc05hbWVkQW5jaG9yKG5vZGUpfHxpc0Jvb2ttYXJrKG5vZGUpO307dmFyIGlzQm9va21hcms9Tm9kZVR5cGUuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1ib29rbWFyaycpO3ZhciBpc0JvZ3VzJDI9Tm9kZVR5cGUuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycpO3ZhciBpc0JvZ3VzQWxsJDE9Tm9kZVR5cGUuaGFzQXR0cmlidXRlVmFsdWUoJ2RhdGEtbWNlLWJvZ3VzJywnYWxsJyk7dmFyIGlzRW1wdHlOb2RlPWZ1bmN0aW9uIGlzRW1wdHlOb2RlKHRhcmdldE5vZGUpe3ZhciBub2RlLGJyQ291bnQ9MDtpZihpc0NvbnRlbnQkMSh0YXJnZXROb2RlLHRhcmdldE5vZGUpKXtyZXR1cm4gZmFsc2U7fWVsc2V7bm9kZT10YXJnZXROb2RlLmZpcnN0Q2hpbGQ7aWYoIW5vZGUpe3JldHVybiB0cnVlO312YXIgd2Fsa2VyPW5ldyBUcmVlV2Fsa2VyKG5vZGUsdGFyZ2V0Tm9kZSk7ZG97aWYoaXNCb2d1c0FsbCQxKG5vZGUpKXtub2RlPXdhbGtlci5uZXh0KHRydWUpO2NvbnRpbnVlO31pZihpc0JvZ3VzJDIobm9kZSkpe25vZGU9d2Fsa2VyLm5leHQoKTtjb250aW51ZTt9aWYoTm9kZVR5cGUuaXNCcihub2RlKSl7YnJDb3VudCsrO25vZGU9d2Fsa2VyLm5leHQoKTtjb250aW51ZTt9aWYoaXNDb250ZW50JDEodGFyZ2V0Tm9kZSxub2RlKSl7cmV0dXJuIGZhbHNlO31ub2RlPXdhbGtlci5uZXh0KCk7fXdoaWxlKG5vZGUpO3JldHVybiBickNvdW50PD0xO319O3ZhciBpc0VtcHR5JDE9ZnVuY3Rpb24gaXNFbXB0eSQxKGVsbSl7cmV0dXJuIGlzRW1wdHlOb2RlKGVsbS5kb20oKSk7fTt2YXIgRW1wdHk9e2lzRW1wdHk6aXNFbXB0eSQxfTt2YXIgbmVlZHNSZXBvc2l0aW9uPWZ1bmN0aW9uIG5lZWRzUmVwb3NpdGlvbihwb3MsZWxtKXt2YXIgY29udGFpbmVyPXBvcy5jb250YWluZXIoKTt2YXIgb2Zmc2V0PXBvcy5vZmZzZXQoKTtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxLmlzVGV4dFBvc2l0aW9uKHBvcyk9PT1mYWxzZSYmY29udGFpbmVyPT09ZWxtLnBhcmVudE5vZGUmJm9mZnNldD5DYXJldFBvc2l0aW9uJDEuYmVmb3JlKGVsbSkub2Zmc2V0KCk7fTt2YXIgcmVwb3NpdGlvbj1mdW5jdGlvbiByZXBvc2l0aW9uKGVsbSxwb3Mpe3JldHVybiBuZWVkc1JlcG9zaXRpb24ocG9zLGVsbSk/Q2FyZXRQb3NpdGlvbiQxKHBvcy5jb250YWluZXIoKSxwb3Mub2Zmc2V0KCktMSk6cG9zO307dmFyIGJlZm9yZU9yU3RhcnRPZj1mdW5jdGlvbiBiZWZvcmVPclN0YXJ0T2Yobm9kZSl7cmV0dXJuIE5vZGVUeXBlLmlzVGV4dChub2RlKT9DYXJldFBvc2l0aW9uJDEobm9kZSwwKTpDYXJldFBvc2l0aW9uJDEuYmVmb3JlKG5vZGUpO307dmFyIGFmdGVyT3JFbmRPZj1mdW5jdGlvbiBhZnRlck9yRW5kT2Yobm9kZSl7cmV0dXJuIE5vZGVUeXBlLmlzVGV4dChub2RlKT9DYXJldFBvc2l0aW9uJDEobm9kZSxub2RlLmRhdGEubGVuZ3RoKTpDYXJldFBvc2l0aW9uJDEuYWZ0ZXIobm9kZSk7fTt2YXIgZ2V0UHJldmlvdXNTaWJsaW5nQ2FyZXRQb3NpdGlvbj1mdW5jdGlvbiBnZXRQcmV2aW91c1NpYmxpbmdDYXJldFBvc2l0aW9uKGVsbSl7aWYoaXNDYXJldENhbmRpZGF0ZShlbG0ucHJldmlvdXNTaWJsaW5nKSl7cmV0dXJuIE9wdGlvbi5zb21lKGFmdGVyT3JFbmRPZihlbG0ucHJldmlvdXNTaWJsaW5nKSk7fWVsc2V7cmV0dXJuIGVsbS5wcmV2aW91c1NpYmxpbmc/Q2FyZXRGaW5kZXIubGFzdFBvc2l0aW9uSW4oZWxtLnByZXZpb3VzU2libGluZyk6T3B0aW9uLm5vbmUoKTt9fTt2YXIgZ2V0TmV4dFNpYmxpbmdDYXJldFBvc2l0aW9uPWZ1bmN0aW9uIGdldE5leHRTaWJsaW5nQ2FyZXRQb3NpdGlvbihlbG0pe2lmKGlzQ2FyZXRDYW5kaWRhdGUoZWxtLm5leHRTaWJsaW5nKSl7cmV0dXJuIE9wdGlvbi5zb21lKGJlZm9yZU9yU3RhcnRPZihlbG0ubmV4dFNpYmxpbmcpKTt9ZWxzZXtyZXR1cm4gZWxtLm5leHRTaWJsaW5nP0NhcmV0RmluZGVyLmZpcnN0UG9zaXRpb25JbihlbG0ubmV4dFNpYmxpbmcpOk9wdGlvbi5ub25lKCk7fX07dmFyIGZpbmRDYXJldFBvc2l0aW9uQmFja3dhcmRzRnJvbUVsbT1mdW5jdGlvbiBmaW5kQ2FyZXRQb3NpdGlvbkJhY2t3YXJkc0Zyb21FbG0ocm9vdEVsZW1lbnQsZWxtKXt2YXIgc3RhcnRQb3NpdGlvbj1DYXJldFBvc2l0aW9uJDEuYmVmb3JlKGVsbS5wcmV2aW91c1NpYmxpbmc/ZWxtLnByZXZpb3VzU2libGluZzplbG0ucGFyZW50Tm9kZSk7cmV0dXJuIENhcmV0RmluZGVyLnByZXZQb3NpdGlvbihyb290RWxlbWVudCxzdGFydFBvc2l0aW9uKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIENhcmV0RmluZGVyLm5leHRQb3NpdGlvbihyb290RWxlbWVudCxDYXJldFBvc2l0aW9uJDEuYWZ0ZXIoZWxtKSk7fSxPcHRpb24uc29tZSk7fTt2YXIgZmluZENhcmV0UG9zaXRpb25Gb3J3YXJkc0Zyb21FbG09ZnVuY3Rpb24gZmluZENhcmV0UG9zaXRpb25Gb3J3YXJkc0Zyb21FbG0ocm9vdEVsZW1lbnQsZWxtKXtyZXR1cm4gQ2FyZXRGaW5kZXIubmV4dFBvc2l0aW9uKHJvb3RFbGVtZW50LENhcmV0UG9zaXRpb24kMS5hZnRlcihlbG0pKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIENhcmV0RmluZGVyLnByZXZQb3NpdGlvbihyb290RWxlbWVudCxDYXJldFBvc2l0aW9uJDEuYmVmb3JlKGVsbSkpO30sT3B0aW9uLnNvbWUpO307dmFyIGZpbmRDYXJldFBvc2l0aW9uQmFja3dhcmRzPWZ1bmN0aW9uIGZpbmRDYXJldFBvc2l0aW9uQmFja3dhcmRzKHJvb3RFbGVtZW50LGVsbSl7cmV0dXJuIGdldFByZXZpb3VzU2libGluZ0NhcmV0UG9zaXRpb24oZWxtKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGdldE5leHRTaWJsaW5nQ2FyZXRQb3NpdGlvbihlbG0pO30pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZmluZENhcmV0UG9zaXRpb25CYWNrd2FyZHNGcm9tRWxtKHJvb3RFbGVtZW50LGVsbSk7fSk7fTt2YXIgZmluZENhcmV0UG9zaXRpb25Gb3J3YXJkPWZ1bmN0aW9uIGZpbmRDYXJldFBvc2l0aW9uRm9yd2FyZChyb290RWxlbWVudCxlbG0pe3JldHVybiBnZXROZXh0U2libGluZ0NhcmV0UG9zaXRpb24oZWxtKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGdldFByZXZpb3VzU2libGluZ0NhcmV0UG9zaXRpb24oZWxtKTt9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGZpbmRDYXJldFBvc2l0aW9uRm9yd2FyZHNGcm9tRWxtKHJvb3RFbGVtZW50LGVsbSk7fSk7fTt2YXIgZmluZENhcmV0UG9zaXRpb24kMT1mdW5jdGlvbiBmaW5kQ2FyZXRQb3NpdGlvbiQxKGZvcndhcmQscm9vdEVsZW1lbnQsZWxtKXtyZXR1cm4gZm9yd2FyZD9maW5kQ2FyZXRQb3NpdGlvbkZvcndhcmQocm9vdEVsZW1lbnQsZWxtKTpmaW5kQ2FyZXRQb3NpdGlvbkJhY2t3YXJkcyhyb290RWxlbWVudCxlbG0pO307dmFyIGZpbmRDYXJldFBvc091dHNpZGVFbG1BZnRlckRlbGV0ZT1mdW5jdGlvbiBmaW5kQ2FyZXRQb3NPdXRzaWRlRWxtQWZ0ZXJEZWxldGUoZm9yd2FyZCxyb290RWxlbWVudCxlbG0pe3JldHVybiBmaW5kQ2FyZXRQb3NpdGlvbiQxKGZvcndhcmQscm9vdEVsZW1lbnQsZWxtKS5tYXAoY3VycnkocmVwb3NpdGlvbixlbG0pKTt9O3ZhciBzZXRTZWxlY3Rpb249ZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGVkaXRvcixmb3J3YXJkLHBvcyl7cG9zLmZvbGQoZnVuY3Rpb24oKXtlZGl0b3IuZm9jdXMoKTt9LGZ1bmN0aW9uKHBvcyl7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocG9zLnRvUmFuZ2UoKSxmb3J3YXJkKTt9KTt9O3ZhciBlcVJhd05vZGU9ZnVuY3Rpb24gZXFSYXdOb2RlKHJhd05vZGUpe3JldHVybiBmdW5jdGlvbihlbG0pe3JldHVybiBlbG0uZG9tKCk9PT1yYXdOb2RlO307fTt2YXIgaXNCbG9jayQyPWZ1bmN0aW9uIGlzQmxvY2skMihlZGl0b3IsZWxtKXtyZXR1cm4gZWxtJiZlZGl0b3Iuc2NoZW1hLmdldEJsb2NrRWxlbWVudHMoKS5oYXNPd25Qcm9wZXJ0eShuYW1lKGVsbSkpO307dmFyIHBhZGRFbXB0eUJsb2NrPWZ1bmN0aW9uIHBhZGRFbXB0eUJsb2NrKGVsbSl7aWYoRW1wdHkuaXNFbXB0eShlbG0pKXt2YXIgYnI9RWxlbWVudC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKTtlbXB0eShlbG0pO2FwcGVuZChlbG0sYnIpO3JldHVybiBPcHRpb24uc29tZShDYXJldFBvc2l0aW9uJDEuYmVmb3JlKGJyLmRvbSgpKSk7fWVsc2V7cmV0dXJuIE9wdGlvbi5ub25lKCk7fX07dmFyIGRlbGV0ZU5vcm1hbGl6ZWQ9ZnVuY3Rpb24gZGVsZXRlTm9ybWFsaXplZChlbG0sYWZ0ZXJEZWxldGVQb3NPcHQsbm9ybWFsaXplV2hpdGVzcGFjZSl7dmFyIHByZXZUZXh0T3B0PXByZXZTaWJsaW5nKGVsbSkuZmlsdGVyKGlzVGV4dCQxKTt2YXIgbmV4dFRleHRPcHQ9bmV4dFNpYmxpbmcoZWxtKS5maWx0ZXIoaXNUZXh0JDEpO3JlbW92ZSQxKGVsbSk7cmV0dXJuIGxpZnQzKHByZXZUZXh0T3B0LG5leHRUZXh0T3B0LGFmdGVyRGVsZXRlUG9zT3B0LGZ1bmN0aW9uKHByZXYsbmV4dCxwb3Mpe3ZhciBwcmV2Tm9kZT1wcmV2LmRvbSgpLG5leHROb2RlPW5leHQuZG9tKCk7dmFyIG9mZnNldD1wcmV2Tm9kZS5kYXRhLmxlbmd0aDttZXJnZVRleHROb2RlcyhwcmV2Tm9kZSxuZXh0Tm9kZSxub3JtYWxpemVXaGl0ZXNwYWNlKTtyZXR1cm4gcG9zLmNvbnRhaW5lcigpPT09bmV4dE5vZGU/Q2FyZXRQb3NpdGlvbiQxKHByZXZOb2RlLG9mZnNldCk6cG9zO30pLm9yVGh1bmsoZnVuY3Rpb24oKXtpZihub3JtYWxpemVXaGl0ZXNwYWNlKXtwcmV2VGV4dE9wdC5lYWNoKGZ1bmN0aW9uKGVsbSl7cmV0dXJuIG5vcm1hbGl6ZVdoaXRlc3BhY2VCZWZvcmUoZWxtLmRvbSgpLGVsbS5kb20oKS5sZW5ndGgpO30pO25leHRUZXh0T3B0LmVhY2goZnVuY3Rpb24oZWxtKXtyZXR1cm4gbm9ybWFsaXplV2hpdGVzcGFjZUFmdGVyKGVsbS5kb20oKSwwKTt9KTt9cmV0dXJuIGFmdGVyRGVsZXRlUG9zT3B0O30pO307dmFyIGlzSW5saW5lRWxlbWVudD1mdW5jdGlvbiBpc0lubGluZUVsZW1lbnQoZWRpdG9yLGVsZW1lbnQpe3JldHVybiBoYXMoZWRpdG9yLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxuYW1lKGVsZW1lbnQpKTt9O3ZhciBkZWxldGVFbGVtZW50PWZ1bmN0aW9uIGRlbGV0ZUVsZW1lbnQoZWRpdG9yLGZvcndhcmQsZWxtLG1vdmVDYXJldCl7aWYobW92ZUNhcmV0PT09dm9pZCAwKXttb3ZlQ2FyZXQ9dHJ1ZTt9dmFyIGFmdGVyRGVsZXRlUG9zPWZpbmRDYXJldFBvc091dHNpZGVFbG1BZnRlckRlbGV0ZShmb3J3YXJkLGVkaXRvci5nZXRCb2R5KCksZWxtLmRvbSgpKTt2YXIgcGFyZW50QmxvY2s9YW5jZXN0b3IoZWxtLGN1cnJ5KGlzQmxvY2skMixlZGl0b3IpLGVxUmF3Tm9kZShlZGl0b3IuZ2V0Qm9keSgpKSk7dmFyIG5vcm1hbGl6ZWRBZnRlckRlbGV0ZVBvcz1kZWxldGVOb3JtYWxpemVkKGVsbSxhZnRlckRlbGV0ZVBvcyxpc0lubGluZUVsZW1lbnQoZWRpdG9yLGVsbSkpO2lmKGVkaXRvci5kb20uaXNFbXB0eShlZGl0b3IuZ2V0Qm9keSgpKSl7ZWRpdG9yLnNldENvbnRlbnQoJycpO2VkaXRvci5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oKTt9ZWxzZXtwYXJlbnRCbG9jay5iaW5kKHBhZGRFbXB0eUJsb2NrKS5mb2xkKGZ1bmN0aW9uKCl7aWYobW92ZUNhcmV0KXtzZXRTZWxlY3Rpb24oZWRpdG9yLGZvcndhcmQsbm9ybWFsaXplZEFmdGVyRGVsZXRlUG9zKTt9fSxmdW5jdGlvbihwYWRkUG9zKXtpZihtb3ZlQ2FyZXQpe3NldFNlbGVjdGlvbihlZGl0b3IsZm9yd2FyZCxPcHRpb24uc29tZShwYWRkUG9zKSk7fX0pO319O3ZhciBEZWxldGVFbGVtZW50PXtkZWxldGVFbGVtZW50OmRlbGV0ZUVsZW1lbnR9O3ZhciBaV1NQJDE9WndzcC5aV1NQLENBUkVUX0lEJDE9J19tY2VfY2FyZXQnO3ZhciBpbXBvcnROb2RlPWZ1bmN0aW9uIGltcG9ydE5vZGUob3duZXJEb2N1bWVudCxub2RlKXtyZXR1cm4gb3duZXJEb2N1bWVudC5pbXBvcnROb2RlKG5vZGUsdHJ1ZSk7fTt2YXIgZ2V0RW1wdHlDYXJldENvbnRhaW5lcnM9ZnVuY3Rpb24gZ2V0RW1wdHlDYXJldENvbnRhaW5lcnMobm9kZSl7dmFyIG5vZGVzPVtdO3doaWxlKG5vZGUpe2lmKG5vZGUubm9kZVR5cGU9PT0zJiZub2RlLm5vZGVWYWx1ZSE9PVpXU1AkMXx8bm9kZS5jaGlsZE5vZGVzLmxlbmd0aD4xKXtyZXR1cm5bXTt9aWYobm9kZS5ub2RlVHlwZT09PTEpe25vZGVzLnB1c2gobm9kZSk7fW5vZGU9bm9kZS5maXJzdENoaWxkO31yZXR1cm4gbm9kZXM7fTt2YXIgaXNDYXJldENvbnRhaW5lckVtcHR5PWZ1bmN0aW9uIGlzQ2FyZXRDb250YWluZXJFbXB0eShub2RlKXtyZXR1cm4gZ2V0RW1wdHlDYXJldENvbnRhaW5lcnMobm9kZSkubGVuZ3RoPjA7fTt2YXIgZmluZEZpcnN0VGV4dE5vZGU9ZnVuY3Rpb24gZmluZEZpcnN0VGV4dE5vZGUobm9kZSl7aWYobm9kZSl7dmFyIHdhbGtlcj1uZXcgVHJlZVdhbGtlcihub2RlLG5vZGUpO2Zvcihub2RlPXdhbGtlci5jdXJyZW50KCk7bm9kZTtub2RlPXdhbGtlci5uZXh0KCkpe2lmKG5vZGUubm9kZVR5cGU9PT0zKXtyZXR1cm4gbm9kZTt9fX1yZXR1cm4gbnVsbDt9O3ZhciBjcmVhdGVDYXJldENvbnRhaW5lcj1mdW5jdGlvbiBjcmVhdGVDYXJldENvbnRhaW5lcihmaWxsKXt2YXIgY2FyZXRDb250YWluZXI9RWxlbWVudC5mcm9tVGFnKCdzcGFuJyk7c2V0QWxsKGNhcmV0Q29udGFpbmVyLHsnaWQnOkNBUkVUX0lEJDEsJ2RhdGEtbWNlLWJvZ3VzJzonMScsJ2RhdGEtbWNlLXR5cGUnOidmb3JtYXQtY2FyZXQnfSk7aWYoZmlsbCl7YXBwZW5kKGNhcmV0Q29udGFpbmVyLEVsZW1lbnQuZnJvbVRleHQoWldTUCQxKSk7fXJldHVybiBjYXJldENvbnRhaW5lcjt9O3ZhciB0cmltWndzcEZyb21DYXJldENvbnRhaW5lcj1mdW5jdGlvbiB0cmltWndzcEZyb21DYXJldENvbnRhaW5lcihjYXJldENvbnRhaW5lck5vZGUpe3ZhciB0ZXh0Tm9kZT1maW5kRmlyc3RUZXh0Tm9kZShjYXJldENvbnRhaW5lck5vZGUpO2lmKHRleHROb2RlJiZ0ZXh0Tm9kZS5ub2RlVmFsdWUuY2hhckF0KDApPT09WldTUCQxKXt0ZXh0Tm9kZS5kZWxldGVEYXRhKDAsMSk7fXJldHVybiB0ZXh0Tm9kZTt9O3ZhciByZW1vdmVDYXJldENvbnRhaW5lck5vZGU9ZnVuY3Rpb24gcmVtb3ZlQ2FyZXRDb250YWluZXJOb2RlKGVkaXRvcixub2RlLG1vdmVDYXJldCl7aWYobW92ZUNhcmV0PT09dm9pZCAwKXttb3ZlQ2FyZXQ9dHJ1ZTt9dmFyIGRvbT1lZGl0b3IuZG9tLHNlbGVjdGlvbj1lZGl0b3Iuc2VsZWN0aW9uO2lmKGlzQ2FyZXRDb250YWluZXJFbXB0eShub2RlKSl7RGVsZXRlRWxlbWVudC5kZWxldGVFbGVtZW50KGVkaXRvcixmYWxzZSxFbGVtZW50LmZyb21Eb20obm9kZSksbW92ZUNhcmV0KTt9ZWxzZXt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgYmxvY2s9ZG9tLmdldFBhcmVudChub2RlLGRvbS5pc0Jsb2NrKTt2YXIgdGV4dE5vZGU9dHJpbVp3c3BGcm9tQ2FyZXRDb250YWluZXIobm9kZSk7aWYocm5nLnN0YXJ0Q29udGFpbmVyPT09dGV4dE5vZGUmJnJuZy5zdGFydE9mZnNldD4wKXtybmcuc2V0U3RhcnQodGV4dE5vZGUscm5nLnN0YXJ0T2Zmc2V0LTEpO31pZihybmcuZW5kQ29udGFpbmVyPT09dGV4dE5vZGUmJnJuZy5lbmRPZmZzZXQ+MCl7cm5nLnNldEVuZCh0ZXh0Tm9kZSxybmcuZW5kT2Zmc2V0LTEpO31kb20ucmVtb3ZlKG5vZGUsdHJ1ZSk7aWYoYmxvY2smJmRvbS5pc0VtcHR5KGJsb2NrKSl7UGFkZGluZ0JyLmZpbGxXaXRoUGFkZGluZ0JyKEVsZW1lbnQuZnJvbURvbShibG9jaykpO31zZWxlY3Rpb24uc2V0Um5nKHJuZyk7fX07dmFyIHJlbW92ZUNhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIHJlbW92ZUNhcmV0Q29udGFpbmVyKGVkaXRvcixub2RlLG1vdmVDYXJldCl7aWYobW92ZUNhcmV0PT09dm9pZCAwKXttb3ZlQ2FyZXQ9dHJ1ZTt9dmFyIGRvbT1lZGl0b3IuZG9tLHNlbGVjdGlvbj1lZGl0b3Iuc2VsZWN0aW9uO2lmKCFub2RlKXtub2RlPWdldFBhcmVudENhcmV0Q29udGFpbmVyKGVkaXRvci5nZXRCb2R5KCksc2VsZWN0aW9uLmdldFN0YXJ0KCkpO2lmKCFub2RlKXt3aGlsZShub2RlPWRvbS5nZXQoQ0FSRVRfSUQkMSkpe3JlbW92ZUNhcmV0Q29udGFpbmVyTm9kZShlZGl0b3Isbm9kZSxmYWxzZSk7fX19ZWxzZXtyZW1vdmVDYXJldENvbnRhaW5lck5vZGUoZWRpdG9yLG5vZGUsbW92ZUNhcmV0KTt9fTt2YXIgaW5zZXJ0Q2FyZXRDb250YWluZXJOb2RlPWZ1bmN0aW9uIGluc2VydENhcmV0Q29udGFpbmVyTm9kZShlZGl0b3IsY2FyZXRDb250YWluZXIsZm9ybWF0Tm9kZSl7dmFyIGRvbT1lZGl0b3IuZG9tLGJsb2NrPWRvbS5nZXRQYXJlbnQoZm9ybWF0Tm9kZSxjdXJyeShGb3JtYXRVdGlscy5pc1RleHRCbG9jayxlZGl0b3IpKTtpZihibG9jayYmZG9tLmlzRW1wdHkoYmxvY2spKXtmb3JtYXROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNhcmV0Q29udGFpbmVyLGZvcm1hdE5vZGUpO31lbHNle1BhZGRpbmdCci5yZW1vdmVUcmFpbGluZ0JyKEVsZW1lbnQuZnJvbURvbShmb3JtYXROb2RlKSk7aWYoZG9tLmlzRW1wdHkoZm9ybWF0Tm9kZSkpe2Zvcm1hdE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY2FyZXRDb250YWluZXIsZm9ybWF0Tm9kZSk7fWVsc2V7ZG9tLmluc2VydEFmdGVyKGNhcmV0Q29udGFpbmVyLGZvcm1hdE5vZGUpO319fTt2YXIgYXBwZW5kTm9kZT1mdW5jdGlvbiBhcHBlbmROb2RlKHBhcmVudE5vZGUsbm9kZSl7cGFyZW50Tm9kZS5hcHBlbmRDaGlsZChub2RlKTtyZXR1cm4gbm9kZTt9O3ZhciBpbnNlcnRGb3JtYXROb2Rlc0ludG9DYXJldENvbnRhaW5lcj1mdW5jdGlvbiBpbnNlcnRGb3JtYXROb2Rlc0ludG9DYXJldENvbnRhaW5lcihmb3JtYXROb2RlcyxjYXJldENvbnRhaW5lcil7dmFyIGlubmVyTW9zdEZvcm1hdE5vZGU9Zm9sZHIoZm9ybWF0Tm9kZXMsZnVuY3Rpb24ocGFyZW50Tm9kZSxmb3JtYXROb2RlKXtyZXR1cm4gYXBwZW5kTm9kZShwYXJlbnROb2RlLGZvcm1hdE5vZGUuY2xvbmVOb2RlKGZhbHNlKSk7fSxjYXJldENvbnRhaW5lcik7cmV0dXJuIGFwcGVuZE5vZGUoaW5uZXJNb3N0Rm9ybWF0Tm9kZSxpbm5lck1vc3RGb3JtYXROb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoWldTUCQxKSk7fTt2YXIgYXBwbHlDYXJldEZvcm1hdD1mdW5jdGlvbiBhcHBseUNhcmV0Rm9ybWF0KGVkaXRvcixuYW1lLHZhcnMpe3ZhciBybmcsY2FyZXRDb250YWluZXIsdGV4dE5vZGUsb2Zmc2V0LGJvb2ttYXJrLGNvbnRhaW5lcix0ZXh0O3ZhciBzZWxlY3Rpb249ZWRpdG9yLnNlbGVjdGlvbjtybmc9c2VsZWN0aW9uLmdldFJuZygpO29mZnNldD1ybmcuc3RhcnRPZmZzZXQ7Y29udGFpbmVyPXJuZy5zdGFydENvbnRhaW5lcjt0ZXh0PWNvbnRhaW5lci5ub2RlVmFsdWU7Y2FyZXRDb250YWluZXI9Z2V0UGFyZW50Q2FyZXRDb250YWluZXIoZWRpdG9yLmdldEJvZHkoKSxzZWxlY3Rpb24uZ2V0U3RhcnQoKSk7aWYoY2FyZXRDb250YWluZXIpe3RleHROb2RlPWZpbmRGaXJzdFRleHROb2RlKGNhcmV0Q29udGFpbmVyKTt9dmFyIHdvcmRjaGFyUmVnZXg9L1teXHNcdTAwYTBcdTAwYWRcdTIwMGJcdWZlZmZdLztpZih0ZXh0JiZvZmZzZXQ+MCYmb2Zmc2V0PHRleHQubGVuZ3RoJiZ3b3JkY2hhclJlZ2V4LnRlc3QodGV4dC5jaGFyQXQob2Zmc2V0KSkmJndvcmRjaGFyUmVnZXgudGVzdCh0ZXh0LmNoYXJBdChvZmZzZXQtMSkpKXtib29rbWFyaz1zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTtybmcuY29sbGFwc2UodHJ1ZSk7cm5nPUV4cGFuZFJhbmdlLmV4cGFuZFJuZyhlZGl0b3Iscm5nLGVkaXRvci5mb3JtYXR0ZXIuZ2V0KG5hbWUpKTtybmc9c3BsaXQkMShybmcpO2VkaXRvci5mb3JtYXR0ZXIuYXBwbHkobmFtZSx2YXJzLHJuZyk7c2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrKTt9ZWxzZXtpZighY2FyZXRDb250YWluZXJ8fHRleHROb2RlLm5vZGVWYWx1ZSE9PVpXU1AkMSl7Y2FyZXRDb250YWluZXI9aW1wb3J0Tm9kZShlZGl0b3IuZ2V0RG9jKCksY3JlYXRlQ2FyZXRDb250YWluZXIodHJ1ZSkuZG9tKCkpO3RleHROb2RlPWNhcmV0Q29udGFpbmVyLmZpcnN0Q2hpbGQ7cm5nLmluc2VydE5vZGUoY2FyZXRDb250YWluZXIpO29mZnNldD0xO2VkaXRvci5mb3JtYXR0ZXIuYXBwbHkobmFtZSx2YXJzLGNhcmV0Q29udGFpbmVyKTt9ZWxzZXtlZGl0b3IuZm9ybWF0dGVyLmFwcGx5KG5hbWUsdmFycyxjYXJldENvbnRhaW5lcik7fXNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbih0ZXh0Tm9kZSxvZmZzZXQpO319O3ZhciByZW1vdmVDYXJldEZvcm1hdD1mdW5jdGlvbiByZW1vdmVDYXJldEZvcm1hdChlZGl0b3IsbmFtZSx2YXJzLHNpbWlsYXIpe3ZhciBkb209ZWRpdG9yLmRvbSxzZWxlY3Rpb249ZWRpdG9yLnNlbGVjdGlvbjt2YXIgY29udGFpbmVyLG9mZnNldCxib29rbWFyazt2YXIgaGFzQ29udGVudEFmdGVyLG5vZGUsZm9ybWF0Tm9kZTt2YXIgcGFyZW50cz1bXSxybmc9c2VsZWN0aW9uLmdldFJuZygpO3ZhciBjYXJldENvbnRhaW5lcjtjb250YWluZXI9cm5nLnN0YXJ0Q29udGFpbmVyO29mZnNldD1ybmcuc3RhcnRPZmZzZXQ7bm9kZT1jb250YWluZXI7aWYoY29udGFpbmVyLm5vZGVUeXBlPT09Myl7aWYob2Zmc2V0IT09Y29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGgpe2hhc0NvbnRlbnRBZnRlcj10cnVlO31ub2RlPW5vZGUucGFyZW50Tm9kZTt9d2hpbGUobm9kZSl7aWYoTWF0Y2hGb3JtYXQubWF0Y2hOb2RlKGVkaXRvcixub2RlLG5hbWUsdmFycyxzaW1pbGFyKSl7Zm9ybWF0Tm9kZT1ub2RlO2JyZWFrO31pZihub2RlLm5leHRTaWJsaW5nKXtoYXNDb250ZW50QWZ0ZXI9dHJ1ZTt9cGFyZW50cy5wdXNoKG5vZGUpO25vZGU9bm9kZS5wYXJlbnROb2RlO31pZighZm9ybWF0Tm9kZSl7cmV0dXJuO31pZihoYXNDb250ZW50QWZ0ZXIpe2Jvb2ttYXJrPXNlbGVjdGlvbi5nZXRCb29rbWFyaygpO3JuZy5jb2xsYXBzZSh0cnVlKTt2YXIgZXhwYW5kZWRSbmc9RXhwYW5kUmFuZ2UuZXhwYW5kUm5nKGVkaXRvcixybmcsZWRpdG9yLmZvcm1hdHRlci5nZXQobmFtZSksdHJ1ZSk7ZXhwYW5kZWRSbmc9c3BsaXQkMShleHBhbmRlZFJuZyk7ZWRpdG9yLmZvcm1hdHRlci5yZW1vdmUobmFtZSx2YXJzLGV4cGFuZGVkUm5nKTtzZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoYm9va21hcmspO31lbHNle2NhcmV0Q29udGFpbmVyPWdldFBhcmVudENhcmV0Q29udGFpbmVyKGVkaXRvci5nZXRCb2R5KCksZm9ybWF0Tm9kZSk7dmFyIG5ld0NhcmV0Q29udGFpbmVyPWNyZWF0ZUNhcmV0Q29udGFpbmVyKGZhbHNlKS5kb20oKTt2YXIgY2FyZXROb2RlPWluc2VydEZvcm1hdE5vZGVzSW50b0NhcmV0Q29udGFpbmVyKHBhcmVudHMsbmV3Q2FyZXRDb250YWluZXIpO2lmKGNhcmV0Q29udGFpbmVyKXtpbnNlcnRDYXJldENvbnRhaW5lck5vZGUoZWRpdG9yLG5ld0NhcmV0Q29udGFpbmVyLGNhcmV0Q29udGFpbmVyKTt9ZWxzZXtpbnNlcnRDYXJldENvbnRhaW5lck5vZGUoZWRpdG9yLG5ld0NhcmV0Q29udGFpbmVyLGZvcm1hdE5vZGUpO31yZW1vdmVDYXJldENvbnRhaW5lck5vZGUoZWRpdG9yLGNhcmV0Q29udGFpbmVyLGZhbHNlKTtzZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oY2FyZXROb2RlLDEpO2lmKGRvbS5pc0VtcHR5KGZvcm1hdE5vZGUpKXtkb20ucmVtb3ZlKGZvcm1hdE5vZGUpO319fTt2YXIgZGlzYWJsZUNhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIGRpc2FibGVDYXJldENvbnRhaW5lcihlZGl0b3Isa2V5Q29kZSl7dmFyIHNlbGVjdGlvbj1lZGl0b3Iuc2VsZWN0aW9uLGJvZHk9ZWRpdG9yLmdldEJvZHkoKTtyZW1vdmVDYXJldENvbnRhaW5lcihlZGl0b3IsbnVsbCxmYWxzZSk7aWYoKGtleUNvZGU9PT04fHxrZXlDb2RlPT09NDYpJiZzZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmc2VsZWN0aW9uLmdldFN0YXJ0KCkuaW5uZXJIVE1MPT09WldTUCQxKXtyZW1vdmVDYXJldENvbnRhaW5lcihlZGl0b3IsZ2V0UGFyZW50Q2FyZXRDb250YWluZXIoYm9keSxzZWxlY3Rpb24uZ2V0U3RhcnQoKSkpO31pZihrZXlDb2RlPT09Mzd8fGtleUNvZGU9PT0zOSl7cmVtb3ZlQ2FyZXRDb250YWluZXIoZWRpdG9yLGdldFBhcmVudENhcmV0Q29udGFpbmVyKGJvZHksc2VsZWN0aW9uLmdldFN0YXJ0KCkpKTt9fTt2YXIgc2V0dXAkNT1mdW5jdGlvbiBzZXR1cCQ1KGVkaXRvcil7ZWRpdG9yLm9uKCdtb3VzZXVwIGtleWRvd24nLGZ1bmN0aW9uKGUpe2Rpc2FibGVDYXJldENvbnRhaW5lcihlZGl0b3IsZS5rZXlDb2RlKTt9KTt9O3ZhciByZXBsYWNlV2l0aENhcmV0Rm9ybWF0PWZ1bmN0aW9uIHJlcGxhY2VXaXRoQ2FyZXRGb3JtYXQodGFyZ2V0Tm9kZSxmb3JtYXROb2Rlcyl7dmFyIGNhcmV0Q29udGFpbmVyPWNyZWF0ZUNhcmV0Q29udGFpbmVyKGZhbHNlKTt2YXIgaW5uZXJNb3N0PWluc2VydEZvcm1hdE5vZGVzSW50b0NhcmV0Q29udGFpbmVyKGZvcm1hdE5vZGVzLGNhcmV0Q29udGFpbmVyLmRvbSgpKTtiZWZvcmUoRWxlbWVudC5mcm9tRG9tKHRhcmdldE5vZGUpLGNhcmV0Q29udGFpbmVyKTtyZW1vdmUkMShFbGVtZW50LmZyb21Eb20odGFyZ2V0Tm9kZSkpO3JldHVybiBDYXJldFBvc2l0aW9uJDEoaW5uZXJNb3N0LDApO307dmFyIGlzRm9ybWF0RWxlbWVudD1mdW5jdGlvbiBpc0Zvcm1hdEVsZW1lbnQoZWRpdG9yLGVsZW1lbnQpe3ZhciBpbmxpbmVFbGVtZW50cz1lZGl0b3Iuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpO3JldHVybiBpbmxpbmVFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKGVsZW1lbnQpKSYmIWlzQ2FyZXROb2RlKGVsZW1lbnQuZG9tKCkpJiYhTm9kZVR5cGUuaXNCb2d1cyhlbGVtZW50LmRvbSgpKTt9O3ZhciBpc0VtcHR5Q2FyZXRGb3JtYXRFbGVtZW50PWZ1bmN0aW9uIGlzRW1wdHlDYXJldEZvcm1hdEVsZW1lbnQoZWxlbWVudCl7cmV0dXJuIGlzQ2FyZXROb2RlKGVsZW1lbnQuZG9tKCkpJiZpc0NhcmV0Q29udGFpbmVyRW1wdHkoZWxlbWVudC5kb20oKSk7fTt2YXIgcG9zdFByb2Nlc3NIb29rcz17fSxmaWx0ZXIkMz1BcnJVdGlscy5maWx0ZXIsZWFjaCQ5PUFyclV0aWxzLmVhY2g7dmFyIGFkZFBvc3RQcm9jZXNzSG9vaz1mdW5jdGlvbiBhZGRQb3N0UHJvY2Vzc0hvb2sobmFtZSxob29rKXt2YXIgaG9va3M9cG9zdFByb2Nlc3NIb29rc1tuYW1lXTtpZighaG9va3Mpe3Bvc3RQcm9jZXNzSG9va3NbbmFtZV09aG9va3M9W107fXBvc3RQcm9jZXNzSG9va3NbbmFtZV0ucHVzaChob29rKTt9O3ZhciBwb3N0UHJvY2Vzcz1mdW5jdGlvbiBwb3N0UHJvY2VzcyhuYW1lLGVkaXRvcil7ZWFjaCQ5KHBvc3RQcm9jZXNzSG9va3NbbmFtZV0sZnVuY3Rpb24oaG9vayl7aG9vayhlZGl0b3IpO30pO307YWRkUG9zdFByb2Nlc3NIb29rKCdwcmUnLGZ1bmN0aW9uKGVkaXRvcil7dmFyIHJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO3ZhciBpc1ByZSxibG9ja3M7dmFyIGhhc1ByZVNpYmxpbmc9ZnVuY3Rpb24gaGFzUHJlU2libGluZyhwcmUpe3JldHVybiBpc1ByZShwcmUucHJldmlvdXNTaWJsaW5nKSYmQXJyVXRpbHMuaW5kZXhPZihibG9ja3MscHJlLnByZXZpb3VzU2libGluZykhPT0tMTt9O3ZhciBqb2luUHJlPWZ1bmN0aW9uIGpvaW5QcmUocHJlMSxwcmUyKXtEb21RdWVyeShwcmUyKS5yZW1vdmUoKTtEb21RdWVyeShwcmUxKS5hcHBlbmQoJzxicj48YnI+JykuYXBwZW5kKHByZTIuY2hpbGROb2Rlcyk7fTtpc1ByZT1Ob2RlVHlwZS5tYXRjaE5vZGVOYW1lcyhbJ3ByZSddKTtpZighcm5nLmNvbGxhcHNlZCl7YmxvY2tzPWVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKTtlYWNoJDkoZmlsdGVyJDMoZmlsdGVyJDMoYmxvY2tzLGlzUHJlKSxoYXNQcmVTaWJsaW5nKSxmdW5jdGlvbihwcmUpe2pvaW5QcmUocHJlLnByZXZpb3VzU2libGluZyxwcmUpO30pO319KTt2YXIgSG9va3M9e3Bvc3RQcm9jZXNzOnBvc3RQcm9jZXNzfTt2YXIgZWFjaCRhPVRvb2xzLmVhY2g7dmFyIEVsZW1lbnRVdGlscz1mdW5jdGlvbiBFbGVtZW50VXRpbHMoZG9tKXt0aGlzLmNvbXBhcmU9ZnVuY3Rpb24obm9kZTEsbm9kZTIpe2lmKG5vZGUxLm5vZGVOYW1lIT09bm9kZTIubm9kZU5hbWUpe3JldHVybiBmYWxzZTt9dmFyIGdldEF0dHJpYnM9ZnVuY3Rpb24gZ2V0QXR0cmlicyhub2RlKXt2YXIgYXR0cmlicz17fTtlYWNoJGEoZG9tLmdldEF0dHJpYnMobm9kZSksZnVuY3Rpb24oYXR0cil7dmFyIG5hbWU9YXR0ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKG5hbWUuaW5kZXhPZignXycpIT09MCYmbmFtZSE9PSdzdHlsZScmJm5hbWUuaW5kZXhPZignZGF0YS0nKSE9PTApe2F0dHJpYnNbbmFtZV09ZG9tLmdldEF0dHJpYihub2RlLG5hbWUpO319KTtyZXR1cm4gYXR0cmliczt9O3ZhciBjb21wYXJlT2JqZWN0cz1mdW5jdGlvbiBjb21wYXJlT2JqZWN0cyhvYmoxLG9iajIpe3ZhciB2YWx1ZSxuYW1lO2ZvcihuYW1lIGluIG9iajEpe2lmKG9iajEuaGFzT3duUHJvcGVydHkobmFtZSkpe3ZhbHVlPW9iajJbbmFtZV07aWYodHlwZW9mIHZhbHVlPT09J3VuZGVmaW5lZCcpe3JldHVybiBmYWxzZTt9aWYob2JqMVtuYW1lXSE9PXZhbHVlKXtyZXR1cm4gZmFsc2U7fWRlbGV0ZSBvYmoyW25hbWVdO319Zm9yKG5hbWUgaW4gb2JqMil7aWYob2JqMi5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTtpZighY29tcGFyZU9iamVjdHMoZ2V0QXR0cmlicyhub2RlMSksZ2V0QXR0cmlicyhub2RlMikpKXtyZXR1cm4gZmFsc2U7fWlmKCFjb21wYXJlT2JqZWN0cyhkb20ucGFyc2VTdHlsZShkb20uZ2V0QXR0cmliKG5vZGUxLCdzdHlsZScpKSxkb20ucGFyc2VTdHlsZShkb20uZ2V0QXR0cmliKG5vZGUyLCdzdHlsZScpKSkpe3JldHVybiBmYWxzZTt9cmV0dXJuIUJvb2ttYXJrcy5pc0Jvb2ttYXJrTm9kZShub2RlMSkmJiFCb29rbWFya3MuaXNCb29rbWFya05vZGUobm9kZTIpO307fTt2YXIgTUNFX0FUVFJfUkU9L14oc3JjfGhyZWZ8c3R5bGUpJC87dmFyIGVhY2gkYj1Ub29scy5lYWNoO3ZhciBpc0VxJDQ9Rm9ybWF0VXRpbHMuaXNFcTt2YXIgaXNUYWJsZUNlbGwkMj1mdW5jdGlvbiBpc1RhYmxlQ2VsbCQyKG5vZGUpe3JldHVybiAvXihUSHxURCkkLy50ZXN0KG5vZGUubm9kZU5hbWUpO307dmFyIGlzQ2hpbGRPZklubGluZVBhcmVudD1mdW5jdGlvbiBpc0NoaWxkT2ZJbmxpbmVQYXJlbnQoZG9tLG5vZGUscGFyZW50KXtyZXR1cm4gZG9tLmlzQ2hpbGRPZihub2RlLHBhcmVudCkmJm5vZGUhPT1wYXJlbnQmJiFkb20uaXNCbG9jayhwYXJlbnQpO307dmFyIGdldENvbnRhaW5lcj1mdW5jdGlvbiBnZXRDb250YWluZXIoZWQscm5nLHN0YXJ0KXt2YXIgY29udGFpbmVyLG9mZnNldCxsYXN0SWR4O2NvbnRhaW5lcj1ybmdbc3RhcnQ/J3N0YXJ0Q29udGFpbmVyJzonZW5kQ29udGFpbmVyJ107b2Zmc2V0PXJuZ1tzdGFydD8nc3RhcnRPZmZzZXQnOidlbmRPZmZzZXQnXTtpZihOb2RlVHlwZS5pc0VsZW1lbnQoY29udGFpbmVyKSl7bGFzdElkeD1jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGgtMTtpZighc3RhcnQmJm9mZnNldCl7b2Zmc2V0LS07fWNvbnRhaW5lcj1jb250YWluZXIuY2hpbGROb2Rlc1tvZmZzZXQ+bGFzdElkeD9sYXN0SWR4Om9mZnNldF07fWlmKE5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpJiZzdGFydCYmb2Zmc2V0Pj1jb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7Y29udGFpbmVyPW5ldyBUcmVlV2Fsa2VyKGNvbnRhaW5lcixlZC5nZXRCb2R5KCkpLm5leHQoKXx8Y29udGFpbmVyO31pZihOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSYmIXN0YXJ0JiZvZmZzZXQ9PT0wKXtjb250YWluZXI9bmV3IFRyZWVXYWxrZXIoY29udGFpbmVyLGVkLmdldEJvZHkoKSkucHJldigpfHxjb250YWluZXI7fXJldHVybiBjb250YWluZXI7fTt2YXIgd3JhcCQyPWZ1bmN0aW9uIHdyYXAkMihkb20sbm9kZSxuYW1lLGF0dHJzKXt2YXIgd3JhcHBlcj1kb20uY3JlYXRlKG5hbWUsYXR0cnMpO25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlcixub2RlKTt3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUpO3JldHVybiB3cmFwcGVyO307dmFyIHdyYXBXaXRoU2libGluZ3M9ZnVuY3Rpb24gd3JhcFdpdGhTaWJsaW5ncyhkb20sbm9kZSxuZXh0LG5hbWUsYXR0cnMpe3ZhciBzdGFydD1FbGVtZW50LmZyb21Eb20obm9kZSk7dmFyIHdyYXBwZXI9RWxlbWVudC5mcm9tRG9tKGRvbS5jcmVhdGUobmFtZSxhdHRycykpO3ZhciBzaWJsaW5ncz1uZXh0P25leHRTaWJsaW5ncyhzdGFydCk6cHJldlNpYmxpbmdzKHN0YXJ0KTthcHBlbmQkMSh3cmFwcGVyLHNpYmxpbmdzKTtpZihuZXh0KXtiZWZvcmUoc3RhcnQsd3JhcHBlcik7cHJlcGVuZCh3cmFwcGVyLHN0YXJ0KTt9ZWxzZXthZnRlcihzdGFydCx3cmFwcGVyKTthcHBlbmQod3JhcHBlcixzdGFydCk7fXJldHVybiB3cmFwcGVyLmRvbSgpO307dmFyIG1hdGNoTmFtZSQxPWZ1bmN0aW9uIG1hdGNoTmFtZSQxKGRvbSxub2RlLGZvcm1hdCl7aWYoaXNFcSQ0KG5vZGUsZm9ybWF0LmlubGluZSkpe3JldHVybiB0cnVlO31pZihpc0VxJDQobm9kZSxmb3JtYXQuYmxvY2spKXtyZXR1cm4gdHJ1ZTt9aWYoZm9ybWF0LnNlbGVjdG9yKXtyZXR1cm4gTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpJiZkb20uaXMobm9kZSxmb3JtYXQuc2VsZWN0b3IpO319O3ZhciBpc0NvbG9yRm9ybWF0QW5kQW5jaG9yPWZ1bmN0aW9uIGlzQ29sb3JGb3JtYXRBbmRBbmNob3Iobm9kZSxmb3JtYXQpe3JldHVybiBmb3JtYXQubGlua3MmJm5vZGUudGFnTmFtZT09PSdBJzt9O3ZhciBmaW5kJDM9ZnVuY3Rpb24gZmluZCQzKGRvbSxub2RlLG5leHQsaW5jKXtub2RlPUZvcm1hdFV0aWxzLmdldE5vbldoaXRlU3BhY2VTaWJsaW5nKG5vZGUsbmV4dCxpbmMpO3JldHVybiFub2RlfHxub2RlLm5vZGVOYW1lPT09J0JSJ3x8ZG9tLmlzQmxvY2sobm9kZSk7fTt2YXIgcmVtb3ZlTm9kZSQxPWZ1bmN0aW9uIHJlbW92ZU5vZGUkMShlZCxub2RlLGZvcm1hdCl7dmFyIHBhcmVudE5vZGU9bm9kZS5wYXJlbnROb2RlO3ZhciByb290QmxvY2tFbG07dmFyIGRvbT1lZC5kb20sZm9yY2VkUm9vdEJsb2NrPVNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9jayhlZCk7aWYoZm9ybWF0LmJsb2NrKXtpZighZm9yY2VkUm9vdEJsb2NrKXtpZihkb20uaXNCbG9jayhub2RlKSYmIWRvbS5pc0Jsb2NrKHBhcmVudE5vZGUpKXtpZighZmluZCQzKGRvbSxub2RlLGZhbHNlKSYmIWZpbmQkMyhkb20sbm9kZS5maXJzdENoaWxkLHRydWUsMSkpe25vZGUuaW5zZXJ0QmVmb3JlKGRvbS5jcmVhdGUoJ2JyJyksbm9kZS5maXJzdENoaWxkKTt9aWYoIWZpbmQkMyhkb20sbm9kZSx0cnVlKSYmIWZpbmQkMyhkb20sbm9kZS5sYXN0Q2hpbGQsZmFsc2UsMSkpe25vZGUuYXBwZW5kQ2hpbGQoZG9tLmNyZWF0ZSgnYnInKSk7fX19ZWxzZXtpZihwYXJlbnROb2RlPT09ZG9tLmdldFJvb3QoKSl7aWYoIWZvcm1hdC5saXN0X2Jsb2NrfHwhaXNFcSQ0KG5vZGUsZm9ybWF0Lmxpc3RfYmxvY2spKXtlYWNoJGIoVG9vbHMuZ3JlcChub2RlLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKG5vZGUpe2lmKEZvcm1hdFV0aWxzLmlzVmFsaWQoZWQsZm9yY2VkUm9vdEJsb2NrLG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpe2lmKCFyb290QmxvY2tFbG0pe3Jvb3RCbG9ja0VsbT13cmFwJDIoZG9tLG5vZGUsZm9yY2VkUm9vdEJsb2NrKTtkb20uc2V0QXR0cmlicyhyb290QmxvY2tFbG0sZWQuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpO31lbHNle3Jvb3RCbG9ja0VsbS5hcHBlbmRDaGlsZChub2RlKTt9fWVsc2V7cm9vdEJsb2NrRWxtPTA7fX0pO319fX1pZihmb3JtYXQuc2VsZWN0b3ImJmZvcm1hdC5pbmxpbmUmJiFpc0VxJDQoZm9ybWF0LmlubGluZSxub2RlKSl7cmV0dXJuO31kb20ucmVtb3ZlKG5vZGUsMSk7fTt2YXIgcmVtb3ZlRm9ybWF0PWZ1bmN0aW9uIHJlbW92ZUZvcm1hdChlZCxmb3JtYXQsdmFycyxub2RlLGNvbXBhcmVOb2RlKXt2YXIgaSxhdHRycyxzdHlsZXNNb2RpZmllZDt2YXIgZG9tPWVkLmRvbTtpZighbWF0Y2hOYW1lJDEoZG9tLG5vZGUsZm9ybWF0KSYmIWlzQ29sb3JGb3JtYXRBbmRBbmNob3Iobm9kZSxmb3JtYXQpKXtyZXR1cm4gZmFsc2U7fWlmKGZvcm1hdC5yZW1vdmUhPT0nYWxsJyl7ZWFjaCRiKGZvcm1hdC5zdHlsZXMsZnVuY3Rpb24odmFsdWUsbmFtZSl7dmFsdWU9Rm9ybWF0VXRpbHMubm9ybWFsaXplU3R5bGVWYWx1ZShkb20sRm9ybWF0VXRpbHMucmVwbGFjZVZhcnModmFsdWUsdmFycyksbmFtZSk7aWYodHlwZW9mIG5hbWU9PT0nbnVtYmVyJyl7bmFtZT12YWx1ZTtjb21wYXJlTm9kZT0wO31pZihmb3JtYXQucmVtb3ZlX3NpbWlsYXJ8fCFjb21wYXJlTm9kZXx8aXNFcSQ0KEZvcm1hdFV0aWxzLmdldFN0eWxlKGRvbSxjb21wYXJlTm9kZSxuYW1lKSx2YWx1ZSkpe2RvbS5zZXRTdHlsZShub2RlLG5hbWUsJycpO31zdHlsZXNNb2RpZmllZD0xO30pO2lmKHN0eWxlc01vZGlmaWVkJiZkb20uZ2V0QXR0cmliKG5vZGUsJ3N0eWxlJyk9PT0nJyl7bm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7bm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWNlLXN0eWxlJyk7fWVhY2gkYihmb3JtYXQuYXR0cmlidXRlcyxmdW5jdGlvbih2YWx1ZSxuYW1lKXt2YXIgdmFsdWVPdXQ7dmFsdWU9Rm9ybWF0VXRpbHMucmVwbGFjZVZhcnModmFsdWUsdmFycyk7aWYodHlwZW9mIG5hbWU9PT0nbnVtYmVyJyl7bmFtZT12YWx1ZTtjb21wYXJlTm9kZT0wO31pZihmb3JtYXQucmVtb3ZlX3NpbWlsYXJ8fCFjb21wYXJlTm9kZXx8aXNFcSQ0KGRvbS5nZXRBdHRyaWIoY29tcGFyZU5vZGUsbmFtZSksdmFsdWUpKXtpZihuYW1lPT09J2NsYXNzJyl7dmFsdWU9ZG9tLmdldEF0dHJpYihub2RlLG5hbWUpO2lmKHZhbHVlKXt2YWx1ZU91dD0nJztlYWNoJGIodmFsdWUuc3BsaXQoL1xzKy8pLGZ1bmN0aW9uKGNscyl7aWYoL21jZVwtXHcrLy50ZXN0KGNscykpe3ZhbHVlT3V0Kz0odmFsdWVPdXQ/JyAnOicnKStjbHM7fX0pO2lmKHZhbHVlT3V0KXtkb20uc2V0QXR0cmliKG5vZGUsbmFtZSx2YWx1ZU91dCk7cmV0dXJuO319fWlmKG5hbWU9PT0nY2xhc3MnKXtub2RlLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3NOYW1lJyk7fWlmKE1DRV9BVFRSX1JFLnRlc3QobmFtZSkpe25vZGUucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS0nK25hbWUpO31ub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTt9fSk7ZWFjaCRiKGZvcm1hdC5jbGFzc2VzLGZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1Gb3JtYXRVdGlscy5yZXBsYWNlVmFycyh2YWx1ZSx2YXJzKTtpZighY29tcGFyZU5vZGV8fGRvbS5oYXNDbGFzcyhjb21wYXJlTm9kZSx2YWx1ZSkpe2RvbS5yZW1vdmVDbGFzcyhub2RlLHZhbHVlKTt9fSk7YXR0cnM9ZG9tLmdldEF0dHJpYnMobm9kZSk7Zm9yKGk9MDtpPGF0dHJzLmxlbmd0aDtpKyspe3ZhciBhdHRyTmFtZT1hdHRyc1tpXS5ub2RlTmFtZTtpZihhdHRyTmFtZS5pbmRleE9mKCdfJykhPT0wJiZhdHRyTmFtZS5pbmRleE9mKCdkYXRhLScpIT09MCl7cmV0dXJuIGZhbHNlO319fWlmKGZvcm1hdC5yZW1vdmUhPT0nbm9uZScpe3JlbW92ZU5vZGUkMShlZCxub2RlLGZvcm1hdCk7cmV0dXJuIHRydWU7fX07dmFyIGZpbmRGb3JtYXRSb290PWZ1bmN0aW9uIGZpbmRGb3JtYXRSb290KGVkaXRvcixjb250YWluZXIsbmFtZSx2YXJzLHNpbWlsYXIpe3ZhciBmb3JtYXRSb290O2VhY2gkYihGb3JtYXRVdGlscy5nZXRQYXJlbnRzKGVkaXRvci5kb20sY29udGFpbmVyLnBhcmVudE5vZGUpLnJldmVyc2UoKSxmdW5jdGlvbihwYXJlbnQpe3ZhciBmb3JtYXQ7aWYoIWZvcm1hdFJvb3QmJnBhcmVudC5pZCE9PSdfc3RhcnQnJiZwYXJlbnQuaWQhPT0nX2VuZCcpe2Zvcm1hdD1NYXRjaEZvcm1hdC5tYXRjaE5vZGUoZWRpdG9yLHBhcmVudCxuYW1lLHZhcnMsc2ltaWxhcik7aWYoZm9ybWF0JiZmb3JtYXQuc3BsaXQhPT1mYWxzZSl7Zm9ybWF0Um9vdD1wYXJlbnQ7fX19KTtyZXR1cm4gZm9ybWF0Um9vdDt9O3ZhciB3cmFwQW5kU3BsaXQ9ZnVuY3Rpb24gd3JhcEFuZFNwbGl0KGVkaXRvcixmb3JtYXRMaXN0LGZvcm1hdFJvb3QsY29udGFpbmVyLHRhcmdldCxzcGxpdCxmb3JtYXQsdmFycyl7dmFyIHBhcmVudCxjbG9uZSxsYXN0Q2xvbmUsZmlyc3RDbG9uZSxpLGZvcm1hdFJvb3RQYXJlbnQ7dmFyIGRvbT1lZGl0b3IuZG9tO2lmKGZvcm1hdFJvb3Qpe2Zvcm1hdFJvb3RQYXJlbnQ9Zm9ybWF0Um9vdC5wYXJlbnROb2RlO2ZvcihwYXJlbnQ9Y29udGFpbmVyLnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQhPT1mb3JtYXRSb290UGFyZW50O3BhcmVudD1wYXJlbnQucGFyZW50Tm9kZSl7Y2xvbmU9ZG9tLmNsb25lKHBhcmVudCxmYWxzZSk7Zm9yKGk9MDtpPGZvcm1hdExpc3QubGVuZ3RoO2krKyl7aWYocmVtb3ZlRm9ybWF0KGVkaXRvcixmb3JtYXRMaXN0W2ldLHZhcnMsY2xvbmUsY2xvbmUpKXtjbG9uZT0wO2JyZWFrO319aWYoY2xvbmUpe2lmKGxhc3RDbG9uZSl7Y2xvbmUuYXBwZW5kQ2hpbGQobGFzdENsb25lKTt9aWYoIWZpcnN0Q2xvbmUpe2ZpcnN0Q2xvbmU9Y2xvbmU7fWxhc3RDbG9uZT1jbG9uZTt9fWlmKHNwbGl0JiYoIWZvcm1hdC5taXhlZHx8IWRvbS5pc0Jsb2NrKGZvcm1hdFJvb3QpKSl7Y29udGFpbmVyPWRvbS5zcGxpdChmb3JtYXRSb290LGNvbnRhaW5lcik7fWlmKGxhc3RDbG9uZSl7dGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxhc3RDbG9uZSx0YXJnZXQpO2ZpcnN0Q2xvbmUuYXBwZW5kQ2hpbGQodGFyZ2V0KTt9fXJldHVybiBjb250YWluZXI7fTt2YXIgcmVtb3ZlJDc9ZnVuY3Rpb24gcmVtb3ZlJDcoZWQsbmFtZSx2YXJzLG5vZGUsc2ltaWxhcil7dmFyIGZvcm1hdExpc3Q9ZWQuZm9ybWF0dGVyLmdldChuYW1lKSxmb3JtYXQ9Zm9ybWF0TGlzdFswXTt2YXIgYm9va21hcmsscm5nLGNvbnRlbnRFZGl0YWJsZT10cnVlO3ZhciBkb209ZWQuZG9tO3ZhciBzZWxlY3Rpb249ZWQuc2VsZWN0aW9uO3ZhciBzcGxpdFRvRm9ybWF0Um9vdD1mdW5jdGlvbiBzcGxpdFRvRm9ybWF0Um9vdChjb250YWluZXIpe3ZhciBmb3JtYXRSb290PWZpbmRGb3JtYXRSb290KGVkLGNvbnRhaW5lcixuYW1lLHZhcnMsc2ltaWxhcik7cmV0dXJuIHdyYXBBbmRTcGxpdChlZCxmb3JtYXRMaXN0LGZvcm1hdFJvb3QsY29udGFpbmVyLGNvbnRhaW5lcix0cnVlLGZvcm1hdCx2YXJzKTt9O3ZhciBpc1JlbW92ZUJvb2ttYXJrTm9kZT1mdW5jdGlvbiBpc1JlbW92ZUJvb2ttYXJrTm9kZShub2RlKXtyZXR1cm4gQm9va21hcmtzLmlzQm9va21hcmtOb2RlKG5vZGUpJiZOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJihub2RlLmlkPT09J19zdGFydCd8fG5vZGUuaWQ9PT0nX2VuZCcpO307dmFyIHByb2Nlc3M9ZnVuY3Rpb24gcHJvY2Vzcyhub2RlKXt2YXIgY2hpbGRyZW4saSxsLGxhc3RDb250ZW50RWRpdGFibGUsaGFzQ29udGVudEVkaXRhYmxlU3RhdGU7aWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpJiZkb20uZ2V0Q29udGVudEVkaXRhYmxlKG5vZGUpKXtsYXN0Q29udGVudEVkaXRhYmxlPWNvbnRlbnRFZGl0YWJsZTtjb250ZW50RWRpdGFibGU9ZG9tLmdldENvbnRlbnRFZGl0YWJsZShub2RlKT09PSd0cnVlJztoYXNDb250ZW50RWRpdGFibGVTdGF0ZT10cnVlO31jaGlsZHJlbj1Ub29scy5ncmVwKG5vZGUuY2hpbGROb2Rlcyk7aWYoY29udGVudEVkaXRhYmxlJiYhaGFzQ29udGVudEVkaXRhYmxlU3RhdGUpe2ZvcihpPTAsbD1mb3JtYXRMaXN0Lmxlbmd0aDtpPGw7aSsrKXtpZihyZW1vdmVGb3JtYXQoZWQsZm9ybWF0TGlzdFtpXSx2YXJzLG5vZGUsbm9kZSkpe2JyZWFrO319fWlmKGZvcm1hdC5kZWVwKXtpZihjaGlsZHJlbi5sZW5ndGgpe2ZvcihpPTAsbD1jaGlsZHJlbi5sZW5ndGg7aTxsO2krKyl7cHJvY2VzcyhjaGlsZHJlbltpXSk7fWlmKGhhc0NvbnRlbnRFZGl0YWJsZVN0YXRlKXtjb250ZW50RWRpdGFibGU9bGFzdENvbnRlbnRFZGl0YWJsZTt9fX19O3ZhciB1bndyYXA9ZnVuY3Rpb24gdW53cmFwKHN0YXJ0KXt2YXIgbm9kZT1kb20uZ2V0KHN0YXJ0Pydfc3RhcnQnOidfZW5kJyk7dmFyIG91dD1ub2RlW3N0YXJ0PydmaXJzdENoaWxkJzonbGFzdENoaWxkJ107aWYoaXNSZW1vdmVCb29rbWFya05vZGUob3V0KSl7b3V0PW91dFtzdGFydD8nZmlyc3RDaGlsZCc6J2xhc3RDaGlsZCddO31pZihOb2RlVHlwZS5pc1RleHQob3V0KSYmb3V0LmRhdGEubGVuZ3RoPT09MCl7b3V0PXN0YXJ0P25vZGUucHJldmlvdXNTaWJsaW5nfHxub2RlLm5leHRTaWJsaW5nOm5vZGUubmV4dFNpYmxpbmd8fG5vZGUucHJldmlvdXNTaWJsaW5nO31kb20ucmVtb3ZlKG5vZGUsdHJ1ZSk7cmV0dXJuIG91dDt9O3ZhciByZW1vdmVSbmdTdHlsZT1mdW5jdGlvbiByZW1vdmVSbmdTdHlsZShybmcpe3ZhciBzdGFydENvbnRhaW5lcixlbmRDb250YWluZXI7dmFyIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyPXJuZy5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtybmc9RXhwYW5kUmFuZ2UuZXhwYW5kUm5nKGVkLHJuZyxmb3JtYXRMaXN0LHRydWUpO2lmKGZvcm1hdC5zcGxpdCl7cm5nPXNwbGl0JDEocm5nKTtzdGFydENvbnRhaW5lcj1nZXRDb250YWluZXIoZWQscm5nLHRydWUpO2VuZENvbnRhaW5lcj1nZXRDb250YWluZXIoZWQscm5nKTtpZihzdGFydENvbnRhaW5lciE9PWVuZENvbnRhaW5lcil7aWYoL14oVFJ8VEh8VEQpJC8udGVzdChzdGFydENvbnRhaW5lci5ub2RlTmFtZSkmJnN0YXJ0Q29udGFpbmVyLmZpcnN0Q2hpbGQpe2lmKHN0YXJ0Q29udGFpbmVyLm5vZGVOYW1lPT09J1RSJyl7c3RhcnRDb250YWluZXI9c3RhcnRDb250YWluZXIuZmlyc3RDaGlsZC5maXJzdENoaWxkfHxzdGFydENvbnRhaW5lcjt9ZWxzZXtzdGFydENvbnRhaW5lcj1zdGFydENvbnRhaW5lci5maXJzdENoaWxkfHxzdGFydENvbnRhaW5lcjt9fWlmKGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyJiYvXlQoSEVBRHxCT0RZfEZPT1R8UikkLy50ZXN0KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLm5vZGVOYW1lKSYmaXNUYWJsZUNlbGwkMihlbmRDb250YWluZXIpJiZlbmRDb250YWluZXIuZmlyc3RDaGlsZCl7ZW5kQ29udGFpbmVyPWVuZENvbnRhaW5lci5maXJzdENoaWxkfHxlbmRDb250YWluZXI7fWlmKGlzQ2hpbGRPZklubGluZVBhcmVudChkb20sc3RhcnRDb250YWluZXIsZW5kQ29udGFpbmVyKSl7dmFyIG1hcmtlcj1PcHRpb24uZnJvbShzdGFydENvbnRhaW5lci5maXJzdENoaWxkKS5nZXRPcihzdGFydENvbnRhaW5lcik7c3BsaXRUb0Zvcm1hdFJvb3Qod3JhcFdpdGhTaWJsaW5ncyhkb20sbWFya2VyLHRydWUsJ3NwYW4nLHsnaWQnOidfc3RhcnQnLCdkYXRhLW1jZS10eXBlJzonYm9va21hcmsnfSkpO3Vud3JhcCh0cnVlKTtyZXR1cm47fWlmKGlzQ2hpbGRPZklubGluZVBhcmVudChkb20sZW5kQ29udGFpbmVyLHN0YXJ0Q29udGFpbmVyKSl7dmFyIG1hcmtlcj1PcHRpb24uZnJvbShlbmRDb250YWluZXIubGFzdENoaWxkKS5nZXRPcihlbmRDb250YWluZXIpO3NwbGl0VG9Gb3JtYXRSb290KHdyYXBXaXRoU2libGluZ3MoZG9tLG1hcmtlcixmYWxzZSwnc3BhbicseydpZCc6J19lbmQnLCdkYXRhLW1jZS10eXBlJzonYm9va21hcmsnfSkpO3Vud3JhcChmYWxzZSk7cmV0dXJuO31zdGFydENvbnRhaW5lcj13cmFwJDIoZG9tLHN0YXJ0Q29udGFpbmVyLCdzcGFuJyx7J2lkJzonX3N0YXJ0JywnZGF0YS1tY2UtdHlwZSc6J2Jvb2ttYXJrJ30pO2VuZENvbnRhaW5lcj13cmFwJDIoZG9tLGVuZENvbnRhaW5lciwnc3BhbicseydpZCc6J19lbmQnLCdkYXRhLW1jZS10eXBlJzonYm9va21hcmsnfSk7c3BsaXRUb0Zvcm1hdFJvb3Qoc3RhcnRDb250YWluZXIpO3NwbGl0VG9Gb3JtYXRSb290KGVuZENvbnRhaW5lcik7c3RhcnRDb250YWluZXI9dW53cmFwKHRydWUpO2VuZENvbnRhaW5lcj11bndyYXAoKTt9ZWxzZXtzdGFydENvbnRhaW5lcj1lbmRDb250YWluZXI9c3BsaXRUb0Zvcm1hdFJvb3Qoc3RhcnRDb250YWluZXIpO31ybmcuc3RhcnRDb250YWluZXI9c3RhcnRDb250YWluZXIucGFyZW50Tm9kZT9zdGFydENvbnRhaW5lci5wYXJlbnROb2RlOnN0YXJ0Q29udGFpbmVyO3JuZy5zdGFydE9mZnNldD1kb20ubm9kZUluZGV4KHN0YXJ0Q29udGFpbmVyKTtybmcuZW5kQ29udGFpbmVyPWVuZENvbnRhaW5lci5wYXJlbnROb2RlP2VuZENvbnRhaW5lci5wYXJlbnROb2RlOmVuZENvbnRhaW5lcjtybmcuZW5kT2Zmc2V0PWRvbS5ub2RlSW5kZXgoZW5kQ29udGFpbmVyKSsxO31SYW5nZVdhbGsud2Fsayhkb20scm5nLGZ1bmN0aW9uKG5vZGVzKXtlYWNoJGIobm9kZXMsZnVuY3Rpb24obm9kZSl7cHJvY2Vzcyhub2RlKTtpZihOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJmVkLmRvbS5nZXRTdHlsZShub2RlLCd0ZXh0LWRlY29yYXRpb24nKT09PSd1bmRlcmxpbmUnJiZub2RlLnBhcmVudE5vZGUmJkZvcm1hdFV0aWxzLmdldFRleHREZWNvcmF0aW9uKGRvbSxub2RlLnBhcmVudE5vZGUpPT09J3VuZGVybGluZScpe3JlbW92ZUZvcm1hdChlZCx7ZGVlcDpmYWxzZSxleGFjdDp0cnVlLGlubGluZTonc3Bhbicsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjondW5kZXJsaW5lJ319LG51bGwsbm9kZSk7fX0pO30pO307aWYobm9kZSl7aWYobm9kZS5ub2RlVHlwZSl7cm5nPWRvbS5jcmVhdGVSbmcoKTtybmcuc2V0U3RhcnRCZWZvcmUobm9kZSk7cm5nLnNldEVuZEFmdGVyKG5vZGUpO3JlbW92ZVJuZ1N0eWxlKHJuZyk7fWVsc2V7cmVtb3ZlUm5nU3R5bGUobm9kZSk7fXJldHVybjt9aWYoZG9tLmdldENvbnRlbnRFZGl0YWJsZShzZWxlY3Rpb24uZ2V0Tm9kZSgpKT09PSdmYWxzZScpe25vZGU9c2VsZWN0aW9uLmdldE5vZGUoKTtmb3IodmFyIGk9MCxsPWZvcm1hdExpc3QubGVuZ3RoO2k8bDtpKyspe2lmKGZvcm1hdExpc3RbaV0uY2VGYWxzZU92ZXJyaWRlKXtpZihyZW1vdmVGb3JtYXQoZWQsZm9ybWF0TGlzdFtpXSx2YXJzLG5vZGUsbm9kZSkpe2JyZWFrO319fXJldHVybjt9aWYoIXNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpfHwhZm9ybWF0LmlubGluZXx8ZG9tLnNlbGVjdCgndGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXScpLmxlbmd0aCl7Ym9va21hcms9R2V0Qm9va21hcmsuZ2V0UGVyc2lzdGVudEJvb2ttYXJrKGVkLnNlbGVjdGlvbix0cnVlKTtyZW1vdmVSbmdTdHlsZShzZWxlY3Rpb24uZ2V0Um5nKCkpO3NlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhib29rbWFyayk7aWYoZm9ybWF0LmlubGluZSYmTWF0Y2hGb3JtYXQubWF0Y2goZWQsbmFtZSx2YXJzLHNlbGVjdGlvbi5nZXRTdGFydCgpKSl7Rm9ybWF0VXRpbHMubW92ZVN0YXJ0KGRvbSxzZWxlY3Rpb24sc2VsZWN0aW9uLmdldFJuZygpKTt9ZWQubm9kZUNoYW5nZWQoKTt9ZWxzZXtyZW1vdmVDYXJldEZvcm1hdChlZCxuYW1lLHZhcnMsc2ltaWxhcik7fX07dmFyIFJlbW92ZUZvcm1hdD17cmVtb3ZlRm9ybWF0OnJlbW92ZUZvcm1hdCxyZW1vdmU6cmVtb3ZlJDd9O3ZhciBlYWNoJGM9VG9vbHMuZWFjaDt2YXIgaXNFbGVtZW50Tm9kZT1mdW5jdGlvbiBpc0VsZW1lbnROb2RlKG5vZGUpe3JldHVybiBub2RlJiZub2RlLm5vZGVUeXBlPT09MSYmIUJvb2ttYXJrcy5pc0Jvb2ttYXJrTm9kZShub2RlKSYmIWlzQ2FyZXROb2RlKG5vZGUpJiYhTm9kZVR5cGUuaXNCb2d1cyhub2RlKTt9O3ZhciBmaW5kRWxlbWVudFNpYmxpbmc9ZnVuY3Rpb24gZmluZEVsZW1lbnRTaWJsaW5nKG5vZGUsc2libGluZ05hbWUpe3ZhciBzaWJsaW5nO2ZvcihzaWJsaW5nPW5vZGU7c2libGluZztzaWJsaW5nPXNpYmxpbmdbc2libGluZ05hbWVdKXtpZihzaWJsaW5nLm5vZGVUeXBlPT09MyYmc2libGluZy5ub2RlVmFsdWUubGVuZ3RoIT09MCl7cmV0dXJuIG5vZGU7fWlmKHNpYmxpbmcubm9kZVR5cGU9PT0xJiYhQm9va21hcmtzLmlzQm9va21hcmtOb2RlKHNpYmxpbmcpKXtyZXR1cm4gc2libGluZzt9fXJldHVybiBub2RlO307dmFyIG1lcmdlU2libGluZ3NOb2Rlcz1mdW5jdGlvbiBtZXJnZVNpYmxpbmdzTm9kZXMoZG9tLHByZXYsbmV4dCl7dmFyIHNpYmxpbmcsdG1wU2libGluZzt2YXIgZWxlbWVudFV0aWxzPW5ldyBFbGVtZW50VXRpbHMoZG9tKTtpZihwcmV2JiZuZXh0KXtwcmV2PWZpbmRFbGVtZW50U2libGluZyhwcmV2LCdwcmV2aW91c1NpYmxpbmcnKTtuZXh0PWZpbmRFbGVtZW50U2libGluZyhuZXh0LCduZXh0U2libGluZycpO2lmKGVsZW1lbnRVdGlscy5jb21wYXJlKHByZXYsbmV4dCkpe2ZvcihzaWJsaW5nPXByZXYubmV4dFNpYmxpbmc7c2libGluZyYmc2libGluZyE9PW5leHQ7KXt0bXBTaWJsaW5nPXNpYmxpbmc7c2libGluZz1zaWJsaW5nLm5leHRTaWJsaW5nO3ByZXYuYXBwZW5kQ2hpbGQodG1wU2libGluZyk7fWRvbS5yZW1vdmUobmV4dCk7VG9vbHMuZWFjaChUb29scy5ncmVwKG5leHQuY2hpbGROb2RlcyksZnVuY3Rpb24obm9kZSl7cHJldi5hcHBlbmRDaGlsZChub2RlKTt9KTtyZXR1cm4gcHJldjt9fXJldHVybiBuZXh0O307dmFyIHByb2Nlc3NDaGlsZEVsZW1lbnRzPWZ1bmN0aW9uIHByb2Nlc3NDaGlsZEVsZW1lbnRzKG5vZGUsZmlsdGVyLHByb2Nlc3Mpe2VhY2gkYyhub2RlLmNoaWxkTm9kZXMsZnVuY3Rpb24obm9kZSl7aWYoaXNFbGVtZW50Tm9kZShub2RlKSl7aWYoZmlsdGVyKG5vZGUpKXtwcm9jZXNzKG5vZGUpO31pZihub2RlLmhhc0NoaWxkTm9kZXMoKSl7cHJvY2Vzc0NoaWxkRWxlbWVudHMobm9kZSxmaWx0ZXIscHJvY2Vzcyk7fX19KTt9O3ZhciBoYXNTdHlsZT1mdW5jdGlvbiBoYXNTdHlsZShkb20sbmFtZSl7cmV0dXJuIGN1cnJ5KGZ1bmN0aW9uKG5hbWUsbm9kZSl7cmV0dXJuISEobm9kZSYmRm9ybWF0VXRpbHMuZ2V0U3R5bGUoZG9tLG5vZGUsbmFtZSkpO30sbmFtZSk7fTt2YXIgYXBwbHlTdHlsZT1mdW5jdGlvbiBhcHBseVN0eWxlKGRvbSxuYW1lLHZhbHVlKXtyZXR1cm4gY3VycnkoZnVuY3Rpb24obmFtZSx2YWx1ZSxub2RlKXtkb20uc2V0U3R5bGUobm9kZSxuYW1lLHZhbHVlKTtpZihub2RlLmdldEF0dHJpYnV0ZSgnc3R5bGUnKT09PScnKXtub2RlLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTt9dW53cmFwRW1wdHlTcGFuKGRvbSxub2RlKTt9LG5hbWUsdmFsdWUpO307dmFyIHVud3JhcEVtcHR5U3Bhbj1mdW5jdGlvbiB1bndyYXBFbXB0eVNwYW4oZG9tLG5vZGUpe2lmKG5vZGUubm9kZU5hbWU9PT0nU1BBTicmJmRvbS5nZXRBdHRyaWJzKG5vZGUpLmxlbmd0aD09PTApe2RvbS5yZW1vdmUobm9kZSx0cnVlKTt9fTt2YXIgcHJvY2Vzc1VuZGVybGluZUFuZENvbG9yPWZ1bmN0aW9uIHByb2Nlc3NVbmRlcmxpbmVBbmRDb2xvcihkb20sbm9kZSl7dmFyIHRleHREZWNvcmF0aW9uO2lmKG5vZGUubm9kZVR5cGU9PT0xJiZub2RlLnBhcmVudE5vZGUmJm5vZGUucGFyZW50Tm9kZS5ub2RlVHlwZT09PTEpe3RleHREZWNvcmF0aW9uPUZvcm1hdFV0aWxzLmdldFRleHREZWNvcmF0aW9uKGRvbSxub2RlLnBhcmVudE5vZGUpO2lmKGRvbS5nZXRTdHlsZShub2RlLCdjb2xvcicpJiZ0ZXh0RGVjb3JhdGlvbil7ZG9tLnNldFN0eWxlKG5vZGUsJ3RleHQtZGVjb3JhdGlvbicsdGV4dERlY29yYXRpb24pO31lbHNlIGlmKGRvbS5nZXRTdHlsZShub2RlLCd0ZXh0LWRlY29yYXRpb24nKT09PXRleHREZWNvcmF0aW9uKXtkb20uc2V0U3R5bGUobm9kZSwndGV4dC1kZWNvcmF0aW9uJyxudWxsKTt9fX07dmFyIG1lcmdlVW5kZXJsaW5lQW5kQ29sb3I9ZnVuY3Rpb24gbWVyZ2VVbmRlcmxpbmVBbmRDb2xvcihkb20sZm9ybWF0LHZhcnMsbm9kZSl7aWYoZm9ybWF0LnN0eWxlcy5jb2xvcnx8Zm9ybWF0LnN0eWxlcy50ZXh0RGVjb3JhdGlvbil7VG9vbHMud2Fsayhub2RlLGN1cnJ5KHByb2Nlc3NVbmRlcmxpbmVBbmRDb2xvcixkb20pLCdjaGlsZE5vZGVzJyk7cHJvY2Vzc1VuZGVybGluZUFuZENvbG9yKGRvbSxub2RlKTt9fTt2YXIgbWVyZ2VCYWNrZ3JvdW5kQ29sb3JBbmRGb250U2l6ZT1mdW5jdGlvbiBtZXJnZUJhY2tncm91bmRDb2xvckFuZEZvbnRTaXplKGRvbSxmb3JtYXQsdmFycyxub2RlKXtpZihmb3JtYXQuc3R5bGVzJiZmb3JtYXQuc3R5bGVzLmJhY2tncm91bmRDb2xvcil7cHJvY2Vzc0NoaWxkRWxlbWVudHMobm9kZSxoYXNTdHlsZShkb20sJ2ZvbnRTaXplJyksYXBwbHlTdHlsZShkb20sJ2JhY2tncm91bmRDb2xvcicsRm9ybWF0VXRpbHMucmVwbGFjZVZhcnMoZm9ybWF0LnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IsdmFycykpKTt9fTt2YXIgbWVyZ2VTdWJTdXA9ZnVuY3Rpb24gbWVyZ2VTdWJTdXAoZG9tLGZvcm1hdCx2YXJzLG5vZGUpe2lmKGZvcm1hdC5pbmxpbmU9PT0nc3ViJ3x8Zm9ybWF0LmlubGluZT09PSdzdXAnKXtwcm9jZXNzQ2hpbGRFbGVtZW50cyhub2RlLGhhc1N0eWxlKGRvbSwnZm9udFNpemUnKSxhcHBseVN0eWxlKGRvbSwnZm9udFNpemUnLCcnKSk7ZG9tLnJlbW92ZShkb20uc2VsZWN0KGZvcm1hdC5pbmxpbmU9PT0nc3VwJz8nc3ViJzonc3VwJyxub2RlKSx0cnVlKTt9fTt2YXIgbWVyZ2VTaWJsaW5ncz1mdW5jdGlvbiBtZXJnZVNpYmxpbmdzKGRvbSxmb3JtYXQsdmFycyxub2RlKXtpZihub2RlJiZmb3JtYXQubWVyZ2Vfc2libGluZ3MhPT1mYWxzZSl7bm9kZT1tZXJnZVNpYmxpbmdzTm9kZXMoZG9tLEZvcm1hdFV0aWxzLmdldE5vbldoaXRlU3BhY2VTaWJsaW5nKG5vZGUpLG5vZGUpO25vZGU9bWVyZ2VTaWJsaW5nc05vZGVzKGRvbSxub2RlLEZvcm1hdFV0aWxzLmdldE5vbldoaXRlU3BhY2VTaWJsaW5nKG5vZGUsdHJ1ZSkpO319O3ZhciBjbGVhckNoaWxkU3R5bGVzPWZ1bmN0aW9uIGNsZWFyQ2hpbGRTdHlsZXMoZG9tLGZvcm1hdCxub2RlKXtpZihmb3JtYXQuY2xlYXJfY2hpbGRfc3R5bGVzKXt2YXIgc2VsZWN0b3I9Zm9ybWF0LmxpbmtzPycqOm5vdChhKSc6JyonO2VhY2gkYyhkb20uc2VsZWN0KHNlbGVjdG9yLG5vZGUpLGZ1bmN0aW9uKG5vZGUpe2lmKGlzRWxlbWVudE5vZGUobm9kZSkpe2VhY2gkYyhmb3JtYXQuc3R5bGVzLGZ1bmN0aW9uKHZhbHVlLG5hbWUpe2RvbS5zZXRTdHlsZShub2RlLG5hbWUsJycpO30pO319KTt9fTt2YXIgbWVyZ2VXaXRoQ2hpbGRyZW49ZnVuY3Rpb24gbWVyZ2VXaXRoQ2hpbGRyZW4oZWRpdG9yLGZvcm1hdExpc3QsdmFycyxub2RlKXtlYWNoJGMoZm9ybWF0TGlzdCxmdW5jdGlvbihmb3JtYXQpe2VhY2gkYyhlZGl0b3IuZG9tLnNlbGVjdChmb3JtYXQuaW5saW5lLG5vZGUpLGZ1bmN0aW9uKGNoaWxkKXtpZighaXNFbGVtZW50Tm9kZShjaGlsZCkpe3JldHVybjt9UmVtb3ZlRm9ybWF0LnJlbW92ZUZvcm1hdChlZGl0b3IsZm9ybWF0LHZhcnMsY2hpbGQsZm9ybWF0LmV4YWN0P2NoaWxkOm51bGwpO30pO2NsZWFyQ2hpbGRTdHlsZXMoZWRpdG9yLmRvbSxmb3JtYXQsbm9kZSk7fSk7fTt2YXIgbWVyZ2VXaXRoUGFyZW50cz1mdW5jdGlvbiBtZXJnZVdpdGhQYXJlbnRzKGVkaXRvcixmb3JtYXQsbmFtZSx2YXJzLG5vZGUpe2lmKE1hdGNoRm9ybWF0Lm1hdGNoTm9kZShlZGl0b3Isbm9kZS5wYXJlbnROb2RlLG5hbWUsdmFycykpe2lmKFJlbW92ZUZvcm1hdC5yZW1vdmVGb3JtYXQoZWRpdG9yLGZvcm1hdCx2YXJzLG5vZGUpKXtyZXR1cm47fX1pZihmb3JtYXQubWVyZ2Vfd2l0aF9wYXJlbnRzKXtlZGl0b3IuZG9tLmdldFBhcmVudChub2RlLnBhcmVudE5vZGUsZnVuY3Rpb24ocGFyZW50KXtpZihNYXRjaEZvcm1hdC5tYXRjaE5vZGUoZWRpdG9yLHBhcmVudCxuYW1lLHZhcnMpKXtSZW1vdmVGb3JtYXQucmVtb3ZlRm9ybWF0KGVkaXRvcixmb3JtYXQsdmFycyxub2RlKTtyZXR1cm4gdHJ1ZTt9fSk7fX07dmFyIE1lcmdlRm9ybWF0cz17bWVyZ2VXaXRoQ2hpbGRyZW46bWVyZ2VXaXRoQ2hpbGRyZW4sbWVyZ2VVbmRlcmxpbmVBbmRDb2xvcjptZXJnZVVuZGVybGluZUFuZENvbG9yLG1lcmdlQmFja2dyb3VuZENvbG9yQW5kRm9udFNpemU6bWVyZ2VCYWNrZ3JvdW5kQ29sb3JBbmRGb250U2l6ZSxtZXJnZVN1YlN1cDptZXJnZVN1YlN1cCxtZXJnZVNpYmxpbmdzOm1lcmdlU2libGluZ3MsbWVyZ2VXaXRoUGFyZW50czptZXJnZVdpdGhQYXJlbnRzfTt2YXIgY3JlYXRlUmFuZ2UkMT1mdW5jdGlvbiBjcmVhdGVSYW5nZSQxKHNjLHNvLGVjLGVvKXt2YXIgcm5nPWRvbUdsb2JhbHMuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtybmcuc2V0U3RhcnQoc2Msc28pO3JuZy5zZXRFbmQoZWMsZW8pO3JldHVybiBybmc7fTt2YXIgbm9ybWFsaXplQmxvY2tTZWxlY3Rpb25SYW5nZT1mdW5jdGlvbiBub3JtYWxpemVCbG9ja1NlbGVjdGlvblJhbmdlKHJuZyl7dmFyIHN0YXJ0UG9zPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChybmcpO3ZhciBlbmRQb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZUVuZChybmcpO3ZhciByb290Tm9kZT1ybmcuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIENhcmV0RmluZGVyLmZyb21Qb3NpdGlvbihmYWxzZSxyb290Tm9kZSxlbmRQb3MpLm1hcChmdW5jdGlvbihuZXdFbmRQb3Mpe2lmKCFpc0luU2FtZUJsb2NrKHN0YXJ0UG9zLGVuZFBvcyxyb290Tm9kZSkmJmlzSW5TYW1lQmxvY2soc3RhcnRQb3MsbmV3RW5kUG9zLHJvb3ROb2RlKSl7cmV0dXJuIGNyZWF0ZVJhbmdlJDEoc3RhcnRQb3MuY29udGFpbmVyKCksc3RhcnRQb3Mub2Zmc2V0KCksbmV3RW5kUG9zLmNvbnRhaW5lcigpLG5ld0VuZFBvcy5vZmZzZXQoKSk7fWVsc2V7cmV0dXJuIHJuZzt9fSkuZ2V0T3Iocm5nKTt9O3ZhciBub3JtYWxpemUkMT1mdW5jdGlvbiBub3JtYWxpemUkMShybmcpe3JldHVybiBybmcuY29sbGFwc2VkP3JuZzpub3JtYWxpemVCbG9ja1NlbGVjdGlvblJhbmdlKHJuZyk7fTt2YXIgUmFuZ2VOb3JtYWxpemVyPXtub3JtYWxpemU6bm9ybWFsaXplJDF9O3ZhciBlYWNoJGQ9VG9vbHMuZWFjaDt2YXIgaXNFbGVtZW50Tm9kZSQxPWZ1bmN0aW9uIGlzRWxlbWVudE5vZGUkMShub2RlKXtyZXR1cm4gbm9kZSYmbm9kZS5ub2RlVHlwZT09PTEmJiFCb29rbWFya3MuaXNCb29rbWFya05vZGUobm9kZSkmJiFpc0NhcmV0Tm9kZShub2RlKSYmIU5vZGVUeXBlLmlzQm9ndXMobm9kZSk7fTt2YXIgYXBwbHlGb3JtYXQ9ZnVuY3Rpb24gYXBwbHlGb3JtYXQoZWQsbmFtZSx2YXJzLG5vZGUpe3ZhciBmb3JtYXRMaXN0PWVkLmZvcm1hdHRlci5nZXQobmFtZSk7dmFyIGZvcm1hdD1mb3JtYXRMaXN0WzBdO3ZhciBib29rbWFyayxybmc7dmFyIGlzQ29sbGFwc2VkPSFub2RlJiZlZC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKTt2YXIgZG9tPWVkLmRvbSxzZWxlY3Rpb249ZWQuc2VsZWN0aW9uO3ZhciBzZXRFbGVtZW50Rm9ybWF0PWZ1bmN0aW9uIHNldEVsZW1lbnRGb3JtYXQoZWxtLGZtdCl7Zm10PWZtdHx8Zm9ybWF0O2lmKGVsbSl7aWYoZm10Lm9uZm9ybWF0KXtmbXQub25mb3JtYXQoZWxtLGZtdCx2YXJzLG5vZGUpO31lYWNoJGQoZm10LnN0eWxlcyxmdW5jdGlvbih2YWx1ZSxuYW1lKXtkb20uc2V0U3R5bGUoZWxtLG5hbWUsRm9ybWF0VXRpbHMucmVwbGFjZVZhcnModmFsdWUsdmFycykpO30pO2lmKGZtdC5zdHlsZXMpe3ZhciBzdHlsZVZhbD1kb20uZ2V0QXR0cmliKGVsbSwnc3R5bGUnKTtpZihzdHlsZVZhbCl7ZWxtLnNldEF0dHJpYnV0ZSgnZGF0YS1tY2Utc3R5bGUnLHN0eWxlVmFsKTt9fWVhY2gkZChmbXQuYXR0cmlidXRlcyxmdW5jdGlvbih2YWx1ZSxuYW1lKXtkb20uc2V0QXR0cmliKGVsbSxuYW1lLEZvcm1hdFV0aWxzLnJlcGxhY2VWYXJzKHZhbHVlLHZhcnMpKTt9KTtlYWNoJGQoZm10LmNsYXNzZXMsZnVuY3Rpb24odmFsdWUpe3ZhbHVlPUZvcm1hdFV0aWxzLnJlcGxhY2VWYXJzKHZhbHVlLHZhcnMpO2lmKCFkb20uaGFzQ2xhc3MoZWxtLHZhbHVlKSl7ZG9tLmFkZENsYXNzKGVsbSx2YWx1ZSk7fX0pO319O3ZhciBhcHBseU5vZGVTdHlsZT1mdW5jdGlvbiBhcHBseU5vZGVTdHlsZShmb3JtYXRMaXN0LG5vZGUpe3ZhciBmb3VuZD1mYWxzZTtpZighZm9ybWF0LnNlbGVjdG9yKXtyZXR1cm4gZmFsc2U7fWVhY2gkZChmb3JtYXRMaXN0LGZ1bmN0aW9uKGZvcm1hdCl7aWYoJ2NvbGxhcHNlZCdpbiBmb3JtYXQmJmZvcm1hdC5jb2xsYXBzZWQhPT1pc0NvbGxhcHNlZCl7cmV0dXJuO31pZihkb20uaXMobm9kZSxmb3JtYXQuc2VsZWN0b3IpJiYhaXNDYXJldE5vZGUobm9kZSkpe3NldEVsZW1lbnRGb3JtYXQobm9kZSxmb3JtYXQpO2ZvdW5kPXRydWU7cmV0dXJuIGZhbHNlO319KTtyZXR1cm4gZm91bmQ7fTt2YXIgYXBwbHlSbmdTdHlsZT1mdW5jdGlvbiBhcHBseVJuZ1N0eWxlKGRvbSxybmcsYm9va21hcmssbm9kZVNwZWNpZmljKXt2YXIgbmV3V3JhcHBlcnM9W107dmFyIHdyYXBOYW1lLHdyYXBFbG0sY29udGVudEVkaXRhYmxlPXRydWU7d3JhcE5hbWU9Zm9ybWF0LmlubGluZXx8Zm9ybWF0LmJsb2NrO3dyYXBFbG09ZG9tLmNyZWF0ZSh3cmFwTmFtZSk7c2V0RWxlbWVudEZvcm1hdCh3cmFwRWxtKTtSYW5nZVdhbGsud2Fsayhkb20scm5nLGZ1bmN0aW9uKG5vZGVzKXt2YXIgY3VycmVudFdyYXBFbG07dmFyIHByb2Nlc3M9ZnVuY3Rpb24gcHJvY2Vzcyhub2RlKXt2YXIgbm9kZU5hbWUscGFyZW50TmFtZSxoYXNDb250ZW50RWRpdGFibGVTdGF0ZSxsYXN0Q29udGVudEVkaXRhYmxlO2xhc3RDb250ZW50RWRpdGFibGU9Y29udGVudEVkaXRhYmxlO25vZGVOYW1lPW5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtwYXJlbnROYW1lPW5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKG5vZGUubm9kZVR5cGU9PT0xJiZkb20uZ2V0Q29udGVudEVkaXRhYmxlKG5vZGUpKXtsYXN0Q29udGVudEVkaXRhYmxlPWNvbnRlbnRFZGl0YWJsZTtjb250ZW50RWRpdGFibGU9ZG9tLmdldENvbnRlbnRFZGl0YWJsZShub2RlKT09PSd0cnVlJztoYXNDb250ZW50RWRpdGFibGVTdGF0ZT10cnVlO31pZihGb3JtYXRVdGlscy5pc0VxKG5vZGVOYW1lLCdicicpKXtjdXJyZW50V3JhcEVsbT0wO2lmKGZvcm1hdC5ibG9jayl7ZG9tLnJlbW92ZShub2RlKTt9cmV0dXJuO31pZihmb3JtYXQud3JhcHBlciYmTWF0Y2hGb3JtYXQubWF0Y2hOb2RlKGVkLG5vZGUsbmFtZSx2YXJzKSl7Y3VycmVudFdyYXBFbG09MDtyZXR1cm47fWlmKGNvbnRlbnRFZGl0YWJsZSYmIWhhc0NvbnRlbnRFZGl0YWJsZVN0YXRlJiZmb3JtYXQuYmxvY2smJiFmb3JtYXQud3JhcHBlciYmRm9ybWF0VXRpbHMuaXNUZXh0QmxvY2soZWQsbm9kZU5hbWUpJiZGb3JtYXRVdGlscy5pc1ZhbGlkKGVkLHBhcmVudE5hbWUsd3JhcE5hbWUpKXtub2RlPWRvbS5yZW5hbWUobm9kZSx3cmFwTmFtZSk7c2V0RWxlbWVudEZvcm1hdChub2RlKTtuZXdXcmFwcGVycy5wdXNoKG5vZGUpO2N1cnJlbnRXcmFwRWxtPTA7cmV0dXJuO31pZihmb3JtYXQuc2VsZWN0b3Ipe3ZhciBmb3VuZD1hcHBseU5vZGVTdHlsZShmb3JtYXRMaXN0LG5vZGUpO2lmKCFmb3JtYXQuaW5saW5lfHxmb3VuZCl7Y3VycmVudFdyYXBFbG09MDtyZXR1cm47fX1pZihjb250ZW50RWRpdGFibGUmJiFoYXNDb250ZW50RWRpdGFibGVTdGF0ZSYmRm9ybWF0VXRpbHMuaXNWYWxpZChlZCx3cmFwTmFtZSxub2RlTmFtZSkmJkZvcm1hdFV0aWxzLmlzVmFsaWQoZWQscGFyZW50TmFtZSx3cmFwTmFtZSkmJiEoIW5vZGVTcGVjaWZpYyYmbm9kZS5ub2RlVHlwZT09PTMmJm5vZGUubm9kZVZhbHVlLmxlbmd0aD09PTEmJm5vZGUubm9kZVZhbHVlLmNoYXJDb2RlQXQoMCk9PT02NTI3OSkmJiFpc0NhcmV0Tm9kZShub2RlKSYmKCFmb3JtYXQuaW5saW5lfHwhZG9tLmlzQmxvY2sobm9kZSkpKXtpZighY3VycmVudFdyYXBFbG0pe2N1cnJlbnRXcmFwRWxtPWRvbS5jbG9uZSh3cmFwRWxtLGZhbHNlKTtub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGN1cnJlbnRXcmFwRWxtLG5vZGUpO25ld1dyYXBwZXJzLnB1c2goY3VycmVudFdyYXBFbG0pO31jdXJyZW50V3JhcEVsbS5hcHBlbmRDaGlsZChub2RlKTt9ZWxzZXtjdXJyZW50V3JhcEVsbT0wO2VhY2gkZChUb29scy5ncmVwKG5vZGUuY2hpbGROb2RlcykscHJvY2Vzcyk7aWYoaGFzQ29udGVudEVkaXRhYmxlU3RhdGUpe2NvbnRlbnRFZGl0YWJsZT1sYXN0Q29udGVudEVkaXRhYmxlO31jdXJyZW50V3JhcEVsbT0wO319O2VhY2gkZChub2Rlcyxwcm9jZXNzKTt9KTtpZihmb3JtYXQubGlua3M9PT10cnVlKXtlYWNoJGQobmV3V3JhcHBlcnMsZnVuY3Rpb24obm9kZSl7dmFyIHByb2Nlc3M9ZnVuY3Rpb24gcHJvY2Vzcyhub2RlKXtpZihub2RlLm5vZGVOYW1lPT09J0EnKXtzZXRFbGVtZW50Rm9ybWF0KG5vZGUsZm9ybWF0KTt9ZWFjaCRkKFRvb2xzLmdyZXAobm9kZS5jaGlsZE5vZGVzKSxwcm9jZXNzKTt9O3Byb2Nlc3Mobm9kZSk7fSk7fWVhY2gkZChuZXdXcmFwcGVycyxmdW5jdGlvbihub2RlKXt2YXIgY2hpbGRDb3VudDt2YXIgZ2V0Q2hpbGRDb3VudD1mdW5jdGlvbiBnZXRDaGlsZENvdW50KG5vZGUpe3ZhciBjb3VudD0wO2VhY2gkZChub2RlLmNoaWxkTm9kZXMsZnVuY3Rpb24obm9kZSl7aWYoIUZvcm1hdFV0aWxzLmlzV2hpdGVTcGFjZU5vZGUobm9kZSkmJiFCb29rbWFya3MuaXNCb29rbWFya05vZGUobm9kZSkpe2NvdW50Kys7fX0pO3JldHVybiBjb3VudDt9O3ZhciBnZXRDaGlsZEVsZW1lbnROb2RlPWZ1bmN0aW9uIGdldENoaWxkRWxlbWVudE5vZGUocm9vdCl7dmFyIGNoaWxkPWZhbHNlO2VhY2gkZChyb290LmNoaWxkTm9kZXMsZnVuY3Rpb24obm9kZSl7aWYoaXNFbGVtZW50Tm9kZSQxKG5vZGUpKXtjaGlsZD1ub2RlO3JldHVybiBmYWxzZTt9fSk7cmV0dXJuIGNoaWxkO307dmFyIG1lcmdlU3R5bGVzPWZ1bmN0aW9uIG1lcmdlU3R5bGVzKG5vZGUpe3ZhciBjaGlsZCxjbG9uZTtjaGlsZD1nZXRDaGlsZEVsZW1lbnROb2RlKG5vZGUpO2lmKGNoaWxkJiYhQm9va21hcmtzLmlzQm9va21hcmtOb2RlKGNoaWxkKSYmTWF0Y2hGb3JtYXQubWF0Y2hOYW1lKGRvbSxjaGlsZCxmb3JtYXQpKXtjbG9uZT1kb20uY2xvbmUoY2hpbGQsZmFsc2UpO3NldEVsZW1lbnRGb3JtYXQoY2xvbmUpO2RvbS5yZXBsYWNlKGNsb25lLG5vZGUsdHJ1ZSk7ZG9tLnJlbW92ZShjaGlsZCwxKTt9cmV0dXJuIGNsb25lfHxub2RlO307Y2hpbGRDb3VudD1nZXRDaGlsZENvdW50KG5vZGUpO2lmKChuZXdXcmFwcGVycy5sZW5ndGg+MXx8IWRvbS5pc0Jsb2NrKG5vZGUpKSYmY2hpbGRDb3VudD09PTApe2RvbS5yZW1vdmUobm9kZSwxKTtyZXR1cm47fWlmKGZvcm1hdC5pbmxpbmV8fGZvcm1hdC53cmFwcGVyKXtpZighZm9ybWF0LmV4YWN0JiZjaGlsZENvdW50PT09MSl7bm9kZT1tZXJnZVN0eWxlcyhub2RlKTt9TWVyZ2VGb3JtYXRzLm1lcmdlV2l0aENoaWxkcmVuKGVkLGZvcm1hdExpc3QsdmFycyxub2RlKTtNZXJnZUZvcm1hdHMubWVyZ2VXaXRoUGFyZW50cyhlZCxmb3JtYXQsbmFtZSx2YXJzLG5vZGUpO01lcmdlRm9ybWF0cy5tZXJnZUJhY2tncm91bmRDb2xvckFuZEZvbnRTaXplKGRvbSxmb3JtYXQsdmFycyxub2RlKTtNZXJnZUZvcm1hdHMubWVyZ2VTdWJTdXAoZG9tLGZvcm1hdCx2YXJzLG5vZGUpO01lcmdlRm9ybWF0cy5tZXJnZVNpYmxpbmdzKGRvbSxmb3JtYXQsdmFycyxub2RlKTt9fSk7fTtpZihkb20uZ2V0Q29udGVudEVkaXRhYmxlKHNlbGVjdGlvbi5nZXROb2RlKCkpPT09J2ZhbHNlJyl7bm9kZT1zZWxlY3Rpb24uZ2V0Tm9kZSgpO2Zvcih2YXIgaT0wLGw9Zm9ybWF0TGlzdC5sZW5ndGg7aTxsO2krKyl7aWYoZm9ybWF0TGlzdFtpXS5jZUZhbHNlT3ZlcnJpZGUmJmRvbS5pcyhub2RlLGZvcm1hdExpc3RbaV0uc2VsZWN0b3IpKXtzZXRFbGVtZW50Rm9ybWF0KG5vZGUsZm9ybWF0TGlzdFtpXSk7cmV0dXJuO319cmV0dXJuO31pZihmb3JtYXQpe2lmKG5vZGUpe2lmKG5vZGUubm9kZVR5cGUpe2lmKCFhcHBseU5vZGVTdHlsZShmb3JtYXRMaXN0LG5vZGUpKXtybmc9ZG9tLmNyZWF0ZVJuZygpO3JuZy5zZXRTdGFydEJlZm9yZShub2RlKTtybmcuc2V0RW5kQWZ0ZXIobm9kZSk7YXBwbHlSbmdTdHlsZShkb20sRXhwYW5kUmFuZ2UuZXhwYW5kUm5nKGVkLHJuZyxmb3JtYXRMaXN0KSxudWxsLHRydWUpO319ZWxzZXthcHBseVJuZ1N0eWxlKGRvbSxub2RlLG51bGwsdHJ1ZSk7fX1lbHNle2lmKCFpc0NvbGxhcHNlZHx8IWZvcm1hdC5pbmxpbmV8fGRvbS5zZWxlY3QoJ3RkW2RhdGEtbWNlLXNlbGVjdGVkXSx0aFtkYXRhLW1jZS1zZWxlY3RlZF0nKS5sZW5ndGgpe3ZhciBjdXJTZWxOb2RlPWVkLnNlbGVjdGlvbi5nZXROb2RlKCk7aWYoIWVkLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrJiZmb3JtYXRMaXN0WzBdLmRlZmF1bHRCbG9jayYmIWRvbS5nZXRQYXJlbnQoY3VyU2VsTm9kZSxkb20uaXNCbG9jaykpe2FwcGx5Rm9ybWF0KGVkLGZvcm1hdExpc3RbMF0uZGVmYXVsdEJsb2NrKTt9ZWQuc2VsZWN0aW9uLnNldFJuZyhSYW5nZU5vcm1hbGl6ZXIubm9ybWFsaXplKGVkLnNlbGVjdGlvbi5nZXRSbmcoKSkpO2Jvb2ttYXJrPUdldEJvb2ttYXJrLmdldFBlcnNpc3RlbnRCb29rbWFyayhlZC5zZWxlY3Rpb24sdHJ1ZSk7YXBwbHlSbmdTdHlsZShkb20sRXhwYW5kUmFuZ2UuZXhwYW5kUm5nKGVkLHNlbGVjdGlvbi5nZXRSbmcoKSxmb3JtYXRMaXN0KSk7aWYoZm9ybWF0LnN0eWxlcyl7TWVyZ2VGb3JtYXRzLm1lcmdlVW5kZXJsaW5lQW5kQ29sb3IoZG9tLGZvcm1hdCx2YXJzLGN1clNlbE5vZGUpO31zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoYm9va21hcmspO0Zvcm1hdFV0aWxzLm1vdmVTdGFydChkb20sc2VsZWN0aW9uLHNlbGVjdGlvbi5nZXRSbmcoKSk7ZWQubm9kZUNoYW5nZWQoKTt9ZWxzZXthcHBseUNhcmV0Rm9ybWF0KGVkLG5hbWUsdmFycyk7fX1Ib29rcy5wb3N0UHJvY2VzcyhuYW1lLGVkKTt9fTt2YXIgQXBwbHlGb3JtYXQ9e2FwcGx5Rm9ybWF0OmFwcGx5Rm9ybWF0fTt2YXIgc2V0dXAkNj1mdW5jdGlvbiBzZXR1cCQ2KHJlZ2lzdGVyZWRGb3JtYXRMaXN0ZW5lcnMsZWRpdG9yKXt2YXIgY3VycmVudEZvcm1hdHM9Q2VsbCh7fSk7cmVnaXN0ZXJlZEZvcm1hdExpc3RlbmVycy5zZXQoe30pO2VkaXRvci5vbignTm9kZUNoYW5nZScsZnVuY3Rpb24oZSl7dXBkYXRlQW5kRmlyZUNoYW5nZUNhbGxiYWNrcyhlZGl0b3IsZS5lbGVtZW50LGN1cnJlbnRGb3JtYXRzLHJlZ2lzdGVyZWRGb3JtYXRMaXN0ZW5lcnMuZ2V0KCkpO30pO307dmFyIHVwZGF0ZUFuZEZpcmVDaGFuZ2VDYWxsYmFja3M9ZnVuY3Rpb24gdXBkYXRlQW5kRmlyZUNoYW5nZUNhbGxiYWNrcyhlZGl0b3IsZWxtLGN1cnJlbnRGb3JtYXRzLGZvcm1hdENoYW5nZURhdGEpe3ZhciBmb3JtYXRzTGlzdD1rZXlzKGN1cnJlbnRGb3JtYXRzLmdldCgpKTt2YXIgbmV3Rm9ybWF0cz17fTt2YXIgbWF0Y2hlZEZvcm1hdHM9e307dmFyIHBhcmVudHM9ZmlsdGVyKEZvcm1hdFV0aWxzLmdldFBhcmVudHMoZWRpdG9yLmRvbSxlbG0pLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT09MSYmIW5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycpO30pO2VhY2gkMShmb3JtYXRDaGFuZ2VEYXRhLGZ1bmN0aW9uKGRhdGEsZm9ybWF0KXtUb29scy5lYWNoKHBhcmVudHMsZnVuY3Rpb24obm9kZSl7aWYoZWRpdG9yLmZvcm1hdHRlci5tYXRjaE5vZGUobm9kZSxmb3JtYXQse30sZGF0YS5zaW1pbGFyKSl7aWYoZm9ybWF0c0xpc3QuaW5kZXhPZihmb3JtYXQpPT09LTEpe2VhY2goZGF0YS5jYWxsYmFja3MsZnVuY3Rpb24oY2FsbGJhY2spe2NhbGxiYWNrKHRydWUse25vZGU6bm9kZSxmb3JtYXQ6Zm9ybWF0LHBhcmVudHM6cGFyZW50c30pO30pO25ld0Zvcm1hdHNbZm9ybWF0XT1kYXRhLmNhbGxiYWNrczt9bWF0Y2hlZEZvcm1hdHNbZm9ybWF0XT1kYXRhLmNhbGxiYWNrcztyZXR1cm4gZmFsc2U7fWlmKE1hdGNoRm9ybWF0Lm1hdGNoZXNVbkluaGVyaXRlZEZvcm1hdFNlbGVjdG9yKGVkaXRvcixub2RlLGZvcm1hdCkpe3JldHVybiBmYWxzZTt9fSk7fSk7dmFyIHJlbWFpbmluZ0Zvcm1hdHM9ZmlsdGVyUmVtYWluaW5nRm9ybWF0cyhjdXJyZW50Rm9ybWF0cy5nZXQoKSxtYXRjaGVkRm9ybWF0cyxlbG0scGFyZW50cyk7Y3VycmVudEZvcm1hdHMuc2V0KF9hc3NpZ24oX2Fzc2lnbih7fSxuZXdGb3JtYXRzKSxyZW1haW5pbmdGb3JtYXRzKSk7fTt2YXIgZmlsdGVyUmVtYWluaW5nRm9ybWF0cz1mdW5jdGlvbiBmaWx0ZXJSZW1haW5pbmdGb3JtYXRzKGN1cnJlbnRGb3JtYXRzLG1hdGNoZWRGb3JtYXRzLGVsbSxwYXJlbnRzKXtyZXR1cm4gYmlmaWx0ZXIoY3VycmVudEZvcm1hdHMsZnVuY3Rpb24oY2FsbGJhY2tzLGZvcm1hdCl7aWYoIWhhcyhtYXRjaGVkRm9ybWF0cyxmb3JtYXQpKXtlYWNoKGNhbGxiYWNrcyxmdW5jdGlvbihjYWxsYmFjayl7Y2FsbGJhY2soZmFsc2Use25vZGU6ZWxtLGZvcm1hdDpmb3JtYXQscGFyZW50czpwYXJlbnRzfSk7fSk7cmV0dXJuIGZhbHNlO31lbHNle3JldHVybiB0cnVlO319KS50O307dmFyIGFkZExpc3RlbmVycz1mdW5jdGlvbiBhZGRMaXN0ZW5lcnMocmVnaXN0ZXJlZEZvcm1hdExpc3RlbmVycyxmb3JtYXRzLGNhbGxiYWNrLHNpbWlsYXIpe3ZhciBmb3JtYXRDaGFuZ2VJdGVtcz1yZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLmdldCgpO2VhY2goZm9ybWF0cy5zcGxpdCgnLCcpLGZ1bmN0aW9uKGZvcm1hdCl7aWYoIWZvcm1hdENoYW5nZUl0ZW1zW2Zvcm1hdF0pe2Zvcm1hdENoYW5nZUl0ZW1zW2Zvcm1hdF09e3NpbWlsYXI6c2ltaWxhcixjYWxsYmFja3M6W119O31mb3JtYXRDaGFuZ2VJdGVtc1tmb3JtYXRdLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTt9KTtyZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLnNldChmb3JtYXRDaGFuZ2VJdGVtcyk7fTt2YXIgcmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhyZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLGZvcm1hdHMsY2FsbGJhY2spe3ZhciBmb3JtYXRDaGFuZ2VJdGVtcz1yZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLmdldCgpO2VhY2goZm9ybWF0cy5zcGxpdCgnLCcpLGZ1bmN0aW9uKGZvcm1hdCl7Zm9ybWF0Q2hhbmdlSXRlbXNbZm9ybWF0XS5jYWxsYmFja3M9ZmlsdGVyKGZvcm1hdENoYW5nZUl0ZW1zW2Zvcm1hdF0uY2FsbGJhY2tzLGZ1bmN0aW9uKGMpe3JldHVybiBjIT09Y2FsbGJhY2s7fSk7aWYoZm9ybWF0Q2hhbmdlSXRlbXNbZm9ybWF0XS5jYWxsYmFja3MubGVuZ3RoPT09MCl7ZGVsZXRlIGZvcm1hdENoYW5nZUl0ZW1zW2Zvcm1hdF07fX0pO3JlZ2lzdGVyZWRGb3JtYXRMaXN0ZW5lcnMuc2V0KGZvcm1hdENoYW5nZUl0ZW1zKTt9O3ZhciBmb3JtYXRDaGFuZ2VkPWZ1bmN0aW9uIGZvcm1hdENoYW5nZWQoZWRpdG9yLHJlZ2lzdGVyZWRGb3JtYXRMaXN0ZW5lcnMsZm9ybWF0cyxjYWxsYmFjayxzaW1pbGFyKXtpZihyZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLmdldCgpPT09bnVsbCl7c2V0dXAkNihyZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLGVkaXRvcik7fWFkZExpc3RlbmVycyhyZWdpc3RlcmVkRm9ybWF0TGlzdGVuZXJzLGZvcm1hdHMsY2FsbGJhY2ssc2ltaWxhcik7cmV0dXJue3VuYmluZDpmdW5jdGlvbiB1bmJpbmQoKXtyZXR1cm4gcmVtb3ZlTGlzdGVuZXJzKHJlZ2lzdGVyZWRGb3JtYXRMaXN0ZW5lcnMsZm9ybWF0cyxjYWxsYmFjayk7fX07fTt2YXIgZ2V0JDc9ZnVuY3Rpb24gZ2V0JDcoZG9tKXt2YXIgZm9ybWF0cz17dmFsaWdudG9wOlt7c2VsZWN0b3I6J3RkLHRoJyxzdHlsZXM6e3ZlcnRpY2FsQWxpZ246J3RvcCd9fV0sdmFsaWdubWlkZGxlOlt7c2VsZWN0b3I6J3RkLHRoJyxzdHlsZXM6e3ZlcnRpY2FsQWxpZ246J21pZGRsZSd9fV0sdmFsaWduYm90dG9tOlt7c2VsZWN0b3I6J3RkLHRoJyxzdHlsZXM6e3ZlcnRpY2FsQWxpZ246J2JvdHRvbSd9fV0sYWxpZ25sZWZ0Olt7c2VsZWN0b3I6J2ZpZ3VyZS5pbWFnZScsY29sbGFwc2VkOmZhbHNlLGNsYXNzZXM6J2FsaWduLWxlZnQnLGNlRmFsc2VPdmVycmlkZTp0cnVlLHByZXZpZXc6J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZSd9LHtzZWxlY3RvcjonZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpJyxzdHlsZXM6e3RleHRBbGlnbjonbGVmdCd9LGluaGVyaXQ6ZmFsc2UscHJldmlldzpmYWxzZSxkZWZhdWx0QmxvY2s6J2Rpdid9LHtzZWxlY3RvcjonaW1nLHRhYmxlJyxjb2xsYXBzZWQ6ZmFsc2Usc3R5bGVzOntmbG9hdDonbGVmdCd9LHByZXZpZXc6J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZSd9XSxhbGlnbmNlbnRlcjpbe3NlbGVjdG9yOidmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGknLHN0eWxlczp7dGV4dEFsaWduOidjZW50ZXInfSxpbmhlcml0OmZhbHNlLHByZXZpZXc6J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZScsZGVmYXVsdEJsb2NrOidkaXYnfSx7c2VsZWN0b3I6J2ZpZ3VyZS5pbWFnZScsY29sbGFwc2VkOmZhbHNlLGNsYXNzZXM6J2FsaWduLWNlbnRlcicsY2VGYWxzZU92ZXJyaWRlOnRydWUscHJldmlldzonZm9udC1mYW1pbHkgZm9udC1zaXplJ30se3NlbGVjdG9yOidpbWcnLGNvbGxhcHNlZDpmYWxzZSxzdHlsZXM6e2Rpc3BsYXk6J2Jsb2NrJyxtYXJnaW5MZWZ0OidhdXRvJyxtYXJnaW5SaWdodDonYXV0byd9LHByZXZpZXc6ZmFsc2V9LHtzZWxlY3RvcjondGFibGUnLGNvbGxhcHNlZDpmYWxzZSxzdHlsZXM6e21hcmdpbkxlZnQ6J2F1dG8nLG1hcmdpblJpZ2h0OidhdXRvJ30scHJldmlldzonZm9udC1mYW1pbHkgZm9udC1zaXplJ31dLGFsaWducmlnaHQ6W3tzZWxlY3RvcjonZmlndXJlLmltYWdlJyxjb2xsYXBzZWQ6ZmFsc2UsY2xhc3NlczonYWxpZ24tcmlnaHQnLGNlRmFsc2VPdmVycmlkZTp0cnVlLHByZXZpZXc6J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZSd9LHtzZWxlY3RvcjonZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpJyxzdHlsZXM6e3RleHRBbGlnbjoncmlnaHQnfSxpbmhlcml0OmZhbHNlLHByZXZpZXc6J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZScsZGVmYXVsdEJsb2NrOidkaXYnfSx7c2VsZWN0b3I6J2ltZyx0YWJsZScsY29sbGFwc2VkOmZhbHNlLHN0eWxlczp7ZmxvYXQ6J3JpZ2h0J30scHJldmlldzonZm9udC1mYW1pbHkgZm9udC1zaXplJ31dLGFsaWduanVzdGlmeTpbe3NlbGVjdG9yOidmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGknLHN0eWxlczp7dGV4dEFsaWduOidqdXN0aWZ5J30saW5oZXJpdDpmYWxzZSxkZWZhdWx0QmxvY2s6J2RpdicscHJldmlldzonZm9udC1mYW1pbHkgZm9udC1zaXplJ31dLGJvbGQ6W3tpbmxpbmU6J3N0cm9uZycscmVtb3ZlOidhbGwnfSx7aW5saW5lOidzcGFuJyxzdHlsZXM6e2ZvbnRXZWlnaHQ6J2JvbGQnfX0se2lubGluZTonYicscmVtb3ZlOidhbGwnfV0saXRhbGljOlt7aW5saW5lOidlbScscmVtb3ZlOidhbGwnfSx7aW5saW5lOidzcGFuJyxzdHlsZXM6e2ZvbnRTdHlsZTonaXRhbGljJ319LHtpbmxpbmU6J2knLHJlbW92ZTonYWxsJ31dLHVuZGVybGluZTpbe2lubGluZTonc3Bhbicsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjondW5kZXJsaW5lJ30sZXhhY3Q6dHJ1ZX0se2lubGluZTondScscmVtb3ZlOidhbGwnfV0sc3RyaWtldGhyb3VnaDpbe2lubGluZTonc3Bhbicsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjonbGluZS10aHJvdWdoJ30sZXhhY3Q6dHJ1ZX0se2lubGluZTonc3RyaWtlJyxyZW1vdmU6J2FsbCd9XSxmb3JlY29sb3I6e2lubGluZTonc3Bhbicsc3R5bGVzOntjb2xvcjonJXZhbHVlJ30sbGlua3M6dHJ1ZSxyZW1vdmVfc2ltaWxhcjp0cnVlLGNsZWFyX2NoaWxkX3N0eWxlczp0cnVlfSxoaWxpdGVjb2xvcjp7aW5saW5lOidzcGFuJyxzdHlsZXM6e2JhY2tncm91bmRDb2xvcjonJXZhbHVlJ30sbGlua3M6dHJ1ZSxyZW1vdmVfc2ltaWxhcjp0cnVlLGNsZWFyX2NoaWxkX3N0eWxlczp0cnVlfSxmb250bmFtZTp7aW5saW5lOidzcGFuJyx0b2dnbGU6ZmFsc2Usc3R5bGVzOntmb250RmFtaWx5OicldmFsdWUnfSxjbGVhcl9jaGlsZF9zdHlsZXM6dHJ1ZX0sZm9udHNpemU6e2lubGluZTonc3BhbicsdG9nZ2xlOmZhbHNlLHN0eWxlczp7Zm9udFNpemU6JyV2YWx1ZSd9LGNsZWFyX2NoaWxkX3N0eWxlczp0cnVlfSxmb250c2l6ZV9jbGFzczp7aW5saW5lOidzcGFuJyxhdHRyaWJ1dGVzOntjbGFzczonJXZhbHVlJ319LGJsb2NrcXVvdGU6e2Jsb2NrOidibG9ja3F1b3RlJyx3cmFwcGVyOnRydWUscmVtb3ZlOidhbGwnfSxzdWJzY3JpcHQ6e2lubGluZTonc3ViJ30sc3VwZXJzY3JpcHQ6e2lubGluZTonc3VwJ30sY29kZTp7aW5saW5lOidjb2RlJ30sbGluazp7aW5saW5lOidhJyxzZWxlY3RvcjonYScscmVtb3ZlOidhbGwnLHNwbGl0OnRydWUsZGVlcDp0cnVlLG9ubWF0Y2g6ZnVuY3Rpb24gb25tYXRjaCgpe3JldHVybiB0cnVlO30sb25mb3JtYXQ6ZnVuY3Rpb24gb25mb3JtYXQoZWxtLGZtdCx2YXJzKXtUb29scy5lYWNoKHZhcnMsZnVuY3Rpb24odmFsdWUsa2V5KXtkb20uc2V0QXR0cmliKGVsbSxrZXksdmFsdWUpO30pO319LHJlbW92ZWZvcm1hdDpbe3NlbGVjdG9yOidiLHN0cm9uZyxlbSxpLGZvbnQsdSxzdHJpa2Usc3ViLHN1cCxkZm4sY29kZSxzYW1wLGtiZCx2YXIsY2l0ZSxtYXJrLHEsZGVsLGlucycscmVtb3ZlOidhbGwnLHNwbGl0OnRydWUsZXhwYW5kOmZhbHNlLGJsb2NrX2V4cGFuZDp0cnVlLGRlZXA6dHJ1ZX0se3NlbGVjdG9yOidzcGFuJyxhdHRyaWJ1dGVzOlsnc3R5bGUnLCdjbGFzcyddLHJlbW92ZTonZW1wdHknLHNwbGl0OnRydWUsZXhwYW5kOmZhbHNlLGRlZXA6dHJ1ZX0se3NlbGVjdG9yOicqJyxhdHRyaWJ1dGVzOlsnc3R5bGUnLCdjbGFzcyddLHNwbGl0OmZhbHNlLGV4cGFuZDpmYWxzZSxkZWVwOnRydWV9XX07VG9vbHMuZWFjaCgncCBoMSBoMiBoMyBoNCBoNSBoNiBkaXYgYWRkcmVzcyBwcmUgZGl2IGR0IGRkIHNhbXAnLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG5hbWUpe2Zvcm1hdHNbbmFtZV09e2Jsb2NrOm5hbWUscmVtb3ZlOidhbGwnfTt9KTtyZXR1cm4gZm9ybWF0czt9O3ZhciBEZWZhdWx0Rm9ybWF0cz17Z2V0OmdldCQ3fTtmdW5jdGlvbiBGb3JtYXRSZWdpc3RyeShlZGl0b3Ipe3ZhciBmb3JtYXRzPXt9O3ZhciBnZXQ9ZnVuY3Rpb24gZ2V0KG5hbWUpe3JldHVybiBuYW1lP2Zvcm1hdHNbbmFtZV06Zm9ybWF0czt9O3ZhciBoYXMkMT1mdW5jdGlvbiBoYXMkMShuYW1lKXtyZXR1cm4gaGFzKGZvcm1hdHMsbmFtZSk7fTt2YXIgcmVnaXN0ZXI9ZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSxmb3JtYXQpe2lmKG5hbWUpe2lmKHR5cGVvZiBuYW1lIT09J3N0cmluZycpe1Rvb2xzLmVhY2gobmFtZSxmdW5jdGlvbihmb3JtYXQsbmFtZSl7cmVnaXN0ZXIobmFtZSxmb3JtYXQpO30pO31lbHNle2lmKCFpc0FycmF5KGZvcm1hdCkpe2Zvcm1hdD1bZm9ybWF0XTt9VG9vbHMuZWFjaChmb3JtYXQsZnVuY3Rpb24oZm9ybWF0KXtpZih0eXBlb2YgZm9ybWF0LmRlZXA9PT0ndW5kZWZpbmVkJyl7Zm9ybWF0LmRlZXA9IWZvcm1hdC5zZWxlY3Rvcjt9aWYodHlwZW9mIGZvcm1hdC5zcGxpdD09PSd1bmRlZmluZWQnKXtmb3JtYXQuc3BsaXQ9IWZvcm1hdC5zZWxlY3Rvcnx8Zm9ybWF0LmlubGluZTt9aWYodHlwZW9mIGZvcm1hdC5yZW1vdmU9PT0ndW5kZWZpbmVkJyYmZm9ybWF0LnNlbGVjdG9yJiYhZm9ybWF0LmlubGluZSl7Zm9ybWF0LnJlbW92ZT0nbm9uZSc7fWlmKGZvcm1hdC5zZWxlY3RvciYmZm9ybWF0LmlubGluZSl7Zm9ybWF0Lm1peGVkPXRydWU7Zm9ybWF0LmJsb2NrX2V4cGFuZD10cnVlO31pZih0eXBlb2YgZm9ybWF0LmNsYXNzZXM9PT0nc3RyaW5nJyl7Zm9ybWF0LmNsYXNzZXM9Zm9ybWF0LmNsYXNzZXMuc3BsaXQoL1xzKy8pO319KTtmb3JtYXRzW25hbWVdPWZvcm1hdDt9fX07dmFyIHVucmVnaXN0ZXI9ZnVuY3Rpb24gdW5yZWdpc3RlcihuYW1lKXtpZihuYW1lJiZmb3JtYXRzW25hbWVdKXtkZWxldGUgZm9ybWF0c1tuYW1lXTt9cmV0dXJuIGZvcm1hdHM7fTtyZWdpc3RlcihEZWZhdWx0Rm9ybWF0cy5nZXQoZWRpdG9yLmRvbSkpO3JlZ2lzdGVyKGVkaXRvci5zZXR0aW5ncy5mb3JtYXRzKTtyZXR1cm57Z2V0OmdldCxoYXM6aGFzJDEscmVnaXN0ZXI6cmVnaXN0ZXIsdW5yZWdpc3Rlcjp1bnJlZ2lzdGVyfTt9dmFyIGVhY2gkZT1Ub29scy5lYWNoO3ZhciBkb209RE9NVXRpbHMkMS5ET007dmFyIHBhcnNlZFNlbGVjdG9yVG9IdG1sPWZ1bmN0aW9uIHBhcnNlZFNlbGVjdG9yVG9IdG1sKGFuY2VzdHJ5LGVkaXRvcil7dmFyIGVsbSxpdGVtLGZyYWdtZW50O3ZhciBzY2hlbWE9ZWRpdG9yJiZlZGl0b3Iuc2NoZW1hfHxTY2hlbWEoe30pO3ZhciBkZWNvcmF0ZT1mdW5jdGlvbiBkZWNvcmF0ZShlbG0saXRlbSl7aWYoaXRlbS5jbGFzc2VzLmxlbmd0aCl7ZG9tLmFkZENsYXNzKGVsbSxpdGVtLmNsYXNzZXMuam9pbignICcpKTt9ZG9tLnNldEF0dHJpYnMoZWxtLGl0ZW0uYXR0cnMpO307dmFyIGNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24gY3JlYXRlRWxlbWVudChzSXRlbSl7dmFyIGVsbTtpdGVtPXR5cGVvZiBzSXRlbT09PSdzdHJpbmcnP3tuYW1lOnNJdGVtLGNsYXNzZXM6W10sYXR0cnM6e319OnNJdGVtO2VsbT1kb20uY3JlYXRlKGl0ZW0ubmFtZSk7ZGVjb3JhdGUoZWxtLGl0ZW0pO3JldHVybiBlbG07fTt2YXIgZ2V0UmVxdWlyZWRQYXJlbnQ9ZnVuY3Rpb24gZ2V0UmVxdWlyZWRQYXJlbnQoZWxtLGNhbmRpZGF0ZSl7dmFyIG5hbWU9dHlwZW9mIGVsbSE9PSdzdHJpbmcnP2VsbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOmVsbTt2YXIgZWxtUnVsZT1zY2hlbWEuZ2V0RWxlbWVudFJ1bGUobmFtZSk7dmFyIHBhcmVudHNSZXF1aXJlZD1lbG1SdWxlJiZlbG1SdWxlLnBhcmVudHNSZXF1aXJlZDtpZihwYXJlbnRzUmVxdWlyZWQmJnBhcmVudHNSZXF1aXJlZC5sZW5ndGgpe3JldHVybiBjYW5kaWRhdGUmJlRvb2xzLmluQXJyYXkocGFyZW50c1JlcXVpcmVkLGNhbmRpZGF0ZSkhPT0tMT9jYW5kaWRhdGU6cGFyZW50c1JlcXVpcmVkWzBdO31lbHNle3JldHVybiBmYWxzZTt9fTt2YXIgd3JhcEluSHRtbD1mdW5jdGlvbiB3cmFwSW5IdG1sKGVsbSxhbmNlc3RyeSxzaWJsaW5ncyl7dmFyIHBhcmVudCxwYXJlbnRDYW5kaWRhdGUscGFyZW50UmVxdWlyZWQ7dmFyIGFuY2VzdG9yPWFuY2VzdHJ5Lmxlbmd0aD4wJiZhbmNlc3RyeVswXTt2YXIgYW5jZXN0b3JOYW1lPWFuY2VzdG9yJiZhbmNlc3Rvci5uYW1lO3BhcmVudFJlcXVpcmVkPWdldFJlcXVpcmVkUGFyZW50KGVsbSxhbmNlc3Rvck5hbWUpO2lmKHBhcmVudFJlcXVpcmVkKXtpZihhbmNlc3Rvck5hbWU9PT1wYXJlbnRSZXF1aXJlZCl7cGFyZW50Q2FuZGlkYXRlPWFuY2VzdHJ5WzBdO2FuY2VzdHJ5PWFuY2VzdHJ5LnNsaWNlKDEpO31lbHNle3BhcmVudENhbmRpZGF0ZT1wYXJlbnRSZXF1aXJlZDt9fWVsc2UgaWYoYW5jZXN0b3Ipe3BhcmVudENhbmRpZGF0ZT1hbmNlc3RyeVswXTthbmNlc3RyeT1hbmNlc3RyeS5zbGljZSgxKTt9ZWxzZSBpZighc2libGluZ3Mpe3JldHVybiBlbG07fWlmKHBhcmVudENhbmRpZGF0ZSl7cGFyZW50PWNyZWF0ZUVsZW1lbnQocGFyZW50Q2FuZGlkYXRlKTtwYXJlbnQuYXBwZW5kQ2hpbGQoZWxtKTt9aWYoc2libGluZ3Mpe2lmKCFwYXJlbnQpe3BhcmVudD1kb20uY3JlYXRlKCdkaXYnKTtwYXJlbnQuYXBwZW5kQ2hpbGQoZWxtKTt9VG9vbHMuZWFjaChzaWJsaW5ncyxmdW5jdGlvbihzaWJsaW5nKXt2YXIgc2libGluZ0VsbT1jcmVhdGVFbGVtZW50KHNpYmxpbmcpO3BhcmVudC5pbnNlcnRCZWZvcmUoc2libGluZ0VsbSxlbG0pO30pO31yZXR1cm4gd3JhcEluSHRtbChwYXJlbnQsYW5jZXN0cnkscGFyZW50Q2FuZGlkYXRlJiZwYXJlbnRDYW5kaWRhdGUuc2libGluZ3MpO307aWYoYW5jZXN0cnkmJmFuY2VzdHJ5Lmxlbmd0aCl7aXRlbT1hbmNlc3RyeVswXTtlbG09Y3JlYXRlRWxlbWVudChpdGVtKTtmcmFnbWVudD1kb20uY3JlYXRlKCdkaXYnKTtmcmFnbWVudC5hcHBlbmRDaGlsZCh3cmFwSW5IdG1sKGVsbSxhbmNlc3RyeS5zbGljZSgxKSxpdGVtLnNpYmxpbmdzKSk7cmV0dXJuIGZyYWdtZW50O31lbHNle3JldHVybicnO319O3ZhciBzZWxlY3RvclRvSHRtbD1mdW5jdGlvbiBzZWxlY3RvclRvSHRtbChzZWxlY3RvcixlZGl0b3Ipe3JldHVybiBwYXJzZWRTZWxlY3RvclRvSHRtbChwYXJzZVNlbGVjdG9yKHNlbGVjdG9yKSxlZGl0b3IpO307dmFyIHBhcnNlU2VsZWN0b3JJdGVtPWZ1bmN0aW9uIHBhcnNlU2VsZWN0b3JJdGVtKGl0ZW0pe3ZhciB0YWdOYW1lO3ZhciBvYmo9e2NsYXNzZXM6W10sYXR0cnM6e319O2l0ZW09b2JqLnNlbGVjdG9yPVRvb2xzLnRyaW0oaXRlbSk7aWYoaXRlbSE9PScqJyl7dGFnTmFtZT1pdGVtLnJlcGxhY2UoLyg/OihbI1wuXXw6Oj8pKFtcd1wtXSspfChcWykoW15cXV0rKVxdPykvZyxmdW5jdGlvbigkMCwkMSwkMiwkMywkNCl7c3dpdGNoKCQxKXtjYXNlJyMnOm9iai5hdHRycy5pZD0kMjticmVhaztjYXNlJy4nOm9iai5jbGFzc2VzLnB1c2goJDIpO2JyZWFrO2Nhc2UnOic6aWYoVG9vbHMuaW5BcnJheSgnY2hlY2tlZCBkaXNhYmxlZCBlbmFibGVkIHJlYWQtb25seSByZXF1aXJlZCcuc3BsaXQoJyAnKSwkMikhPT0tMSl7b2JqLmF0dHJzWyQyXT0kMjt9YnJlYWs7fWlmKCQzPT09J1snKXt2YXIgbT0kNC5tYXRjaCgvKFtcd1wtXSspKD86XD1cIihbXlwiXSspKT8vKTtpZihtKXtvYmouYXR0cnNbbVsxXV09bVsyXTt9fXJldHVybicnO30pO31vYmoubmFtZT10YWdOYW1lfHwnZGl2JztyZXR1cm4gb2JqO307dmFyIHBhcnNlU2VsZWN0b3I9ZnVuY3Rpb24gcGFyc2VTZWxlY3RvcihzZWxlY3Rvcil7aWYoIXNlbGVjdG9yfHx0eXBlb2Ygc2VsZWN0b3IhPT0nc3RyaW5nJyl7cmV0dXJuW107fXNlbGVjdG9yPXNlbGVjdG9yLnNwbGl0KC9ccyosXHMqLylbMF07c2VsZWN0b3I9c2VsZWN0b3IucmVwbGFjZSgvXHMqKH5cK3x+fFwrfD4pXHMqL2csJyQxJyk7cmV0dXJuIFRvb2xzLm1hcChzZWxlY3Rvci5zcGxpdCgvKD86PnxccysoPyFbXlxbXF1dK1xdKSkvKSxmdW5jdGlvbihpdGVtKXt2YXIgc2libGluZ3M9VG9vbHMubWFwKGl0ZW0uc3BsaXQoLyg/On5cK3x+fFwrKS8pLHBhcnNlU2VsZWN0b3JJdGVtKTt2YXIgb2JqPXNpYmxpbmdzLnBvcCgpO2lmKHNpYmxpbmdzLmxlbmd0aCl7b2JqLnNpYmxpbmdzPXNpYmxpbmdzO31yZXR1cm4gb2JqO30pLnJldmVyc2UoKTt9O3ZhciBnZXRDc3NUZXh0PWZ1bmN0aW9uIGdldENzc1RleHQoZWRpdG9yLGZvcm1hdCl7dmFyIG5hbWUscHJldmlld0ZyYWcscHJldmlld0VsbSxpdGVtczt2YXIgcHJldmlld0Nzcz0nJyxwYXJlbnRGb250U2l6ZSxwcmV2aWV3U3R5bGVzO3ByZXZpZXdTdHlsZXM9ZWRpdG9yLnNldHRpbmdzLnByZXZpZXdfc3R5bGVzO2lmKHByZXZpZXdTdHlsZXM9PT1mYWxzZSl7cmV0dXJuJyc7fWlmKHR5cGVvZiBwcmV2aWV3U3R5bGVzIT09J3N0cmluZycpe3ByZXZpZXdTdHlsZXM9J2ZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXdlaWdodCBmb250LXN0eWxlIHRleHQtZGVjb3JhdGlvbiAnKyd0ZXh0LXRyYW5zZm9ybSBjb2xvciBiYWNrZ3JvdW5kLWNvbG9yIGJvcmRlciBib3JkZXItcmFkaXVzIG91dGxpbmUgdGV4dC1zaGFkb3cnO312YXIgcmVtb3ZlVmFycz1mdW5jdGlvbiByZW1vdmVWYXJzKHZhbCl7cmV0dXJuIHZhbC5yZXBsYWNlKC8lKFx3KykvZywnJyk7fTtpZih0eXBlb2YgZm9ybWF0PT09J3N0cmluZycpe2Zvcm1hdD1lZGl0b3IuZm9ybWF0dGVyLmdldChmb3JtYXQpO2lmKCFmb3JtYXQpe3JldHVybjt9Zm9ybWF0PWZvcm1hdFswXTt9aWYoJ3ByZXZpZXcnaW4gZm9ybWF0KXtwcmV2aWV3U3R5bGVzPWZvcm1hdC5wcmV2aWV3O2lmKHByZXZpZXdTdHlsZXM9PT1mYWxzZSl7cmV0dXJuJyc7fX1uYW1lPWZvcm1hdC5ibG9ja3x8Zm9ybWF0LmlubGluZXx8J3NwYW4nO2l0ZW1zPXBhcnNlU2VsZWN0b3IoZm9ybWF0LnNlbGVjdG9yKTtpZihpdGVtcy5sZW5ndGgpe2lmKCFpdGVtc1swXS5uYW1lKXtpdGVtc1swXS5uYW1lPW5hbWU7fW5hbWU9Zm9ybWF0LnNlbGVjdG9yO3ByZXZpZXdGcmFnPXBhcnNlZFNlbGVjdG9yVG9IdG1sKGl0ZW1zLGVkaXRvcik7fWVsc2V7cHJldmlld0ZyYWc9cGFyc2VkU2VsZWN0b3JUb0h0bWwoW25hbWVdLGVkaXRvcik7fXByZXZpZXdFbG09ZG9tLnNlbGVjdChuYW1lLHByZXZpZXdGcmFnKVswXXx8cHJldmlld0ZyYWcuZmlyc3RDaGlsZDtlYWNoJGUoZm9ybWF0LnN0eWxlcyxmdW5jdGlvbih2YWx1ZSxuYW1lKXt2YWx1ZT1yZW1vdmVWYXJzKHZhbHVlKTtpZih2YWx1ZSl7ZG9tLnNldFN0eWxlKHByZXZpZXdFbG0sbmFtZSx2YWx1ZSk7fX0pO2VhY2gkZShmb3JtYXQuYXR0cmlidXRlcyxmdW5jdGlvbih2YWx1ZSxuYW1lKXt2YWx1ZT1yZW1vdmVWYXJzKHZhbHVlKTtpZih2YWx1ZSl7ZG9tLnNldEF0dHJpYihwcmV2aWV3RWxtLG5hbWUsdmFsdWUpO319KTtlYWNoJGUoZm9ybWF0LmNsYXNzZXMsZnVuY3Rpb24odmFsdWUpe3ZhbHVlPXJlbW92ZVZhcnModmFsdWUpO2lmKCFkb20uaGFzQ2xhc3MocHJldmlld0VsbSx2YWx1ZSkpe2RvbS5hZGRDbGFzcyhwcmV2aWV3RWxtLHZhbHVlKTt9fSk7ZWRpdG9yLmZpcmUoJ1ByZXZpZXdGb3JtYXRzJyk7ZG9tLnNldFN0eWxlcyhwcmV2aWV3RnJhZyx7cG9zaXRpb246J2Fic29sdXRlJyxsZWZ0Oi02NTUzNX0pO2VkaXRvci5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQocHJldmlld0ZyYWcpO3BhcmVudEZvbnRTaXplPWRvbS5nZXRTdHlsZShlZGl0b3IuZ2V0Qm9keSgpLCdmb250U2l6ZScsdHJ1ZSk7cGFyZW50Rm9udFNpemU9L3B4JC8udGVzdChwYXJlbnRGb250U2l6ZSk/cGFyc2VJbnQocGFyZW50Rm9udFNpemUsMTApOjA7ZWFjaCRlKHByZXZpZXdTdHlsZXMuc3BsaXQoJyAnKSxmdW5jdGlvbihuYW1lKXt2YXIgdmFsdWU9ZG9tLmdldFN0eWxlKHByZXZpZXdFbG0sbmFtZSx0cnVlKTtpZihuYW1lPT09J2JhY2tncm91bmQtY29sb3InJiYvdHJhbnNwYXJlbnR8cmdiYVxzKlwoW14pXSssXHMqMFwpLy50ZXN0KHZhbHVlKSl7dmFsdWU9ZG9tLmdldFN0eWxlKGVkaXRvci5nZXRCb2R5KCksbmFtZSx0cnVlKTtpZihkb20udG9IZXgodmFsdWUpLnRvTG93ZXJDYXNlKCk9PT0nI2ZmZmZmZicpe3JldHVybjt9fWlmKG5hbWU9PT0nY29sb3InKXtpZihkb20udG9IZXgodmFsdWUpLnRvTG93ZXJDYXNlKCk9PT0nIzAwMDAwMCcpe3JldHVybjt9fWlmKG5hbWU9PT0nZm9udC1zaXplJyl7aWYoL2VtfCUkLy50ZXN0KHZhbHVlKSl7aWYocGFyZW50Rm9udFNpemU9PT0wKXtyZXR1cm47fXZhciBudW1WYWx1ZT1wYXJzZUZsb2F0KHZhbHVlKS8oLyUkLy50ZXN0KHZhbHVlKT8xMDA6MSk7dmFsdWU9bnVtVmFsdWUqcGFyZW50Rm9udFNpemUrJ3B4Jzt9fWlmKG5hbWU9PT0nYm9yZGVyJyYmdmFsdWUpe3ByZXZpZXdDc3MrPSdwYWRkaW5nOjAgMnB4Oyc7fXByZXZpZXdDc3MrPW5hbWUrJzonK3ZhbHVlKyc7Jzt9KTtlZGl0b3IuZmlyZSgnQWZ0ZXJQcmV2aWV3Rm9ybWF0cycpO2RvbS5yZW1vdmUocHJldmlld0ZyYWcpO3JldHVybiBwcmV2aWV3Q3NzO307dmFyIFByZXZpZXc9e2dldENzc1RleHQ6Z2V0Q3NzVGV4dCxwYXJzZVNlbGVjdG9yOnBhcnNlU2VsZWN0b3Isc2VsZWN0b3JUb0h0bWw6c2VsZWN0b3JUb0h0bWx9O3ZhciB0b2dnbGU9ZnVuY3Rpb24gdG9nZ2xlKGVkaXRvcixmb3JtYXRzLG5hbWUsdmFycyxub2RlKXt2YXIgZm10PWZvcm1hdHMuZ2V0KG5hbWUpO2lmKE1hdGNoRm9ybWF0Lm1hdGNoKGVkaXRvcixuYW1lLHZhcnMsbm9kZSkmJighKCd0b2dnbGUnaW4gZm10WzBdKXx8Zm10WzBdLnRvZ2dsZSkpe1JlbW92ZUZvcm1hdC5yZW1vdmUoZWRpdG9yLG5hbWUsdmFycyxub2RlKTt9ZWxzZXtBcHBseUZvcm1hdC5hcHBseUZvcm1hdChlZGl0b3IsbmFtZSx2YXJzLG5vZGUpO319O3ZhciBUb2dnbGVGb3JtYXQ9e3RvZ2dsZTp0b2dnbGV9O3ZhciBzZXR1cCQ3PWZ1bmN0aW9uIHNldHVwJDcoZWRpdG9yKXtlZGl0b3IuYWRkU2hvcnRjdXQoJ21ldGErYicsJycsJ0JvbGQnKTtlZGl0b3IuYWRkU2hvcnRjdXQoJ21ldGEraScsJycsJ0l0YWxpYycpO2VkaXRvci5hZGRTaG9ydGN1dCgnbWV0YSt1JywnJywnVW5kZXJsaW5lJyk7Zm9yKHZhciBpPTE7aTw9NjtpKyspe2VkaXRvci5hZGRTaG9ydGN1dCgnYWNjZXNzKycraSwnJyxbJ0Zvcm1hdEJsb2NrJyxmYWxzZSwnaCcraV0pO31lZGl0b3IuYWRkU2hvcnRjdXQoJ2FjY2Vzcys3JywnJyxbJ0Zvcm1hdEJsb2NrJyxmYWxzZSwncCddKTtlZGl0b3IuYWRkU2hvcnRjdXQoJ2FjY2Vzcys4JywnJyxbJ0Zvcm1hdEJsb2NrJyxmYWxzZSwnZGl2J10pO2VkaXRvci5hZGRTaG9ydGN1dCgnYWNjZXNzKzknLCcnLFsnRm9ybWF0QmxvY2snLGZhbHNlLCdhZGRyZXNzJ10pO307dmFyIEZvcm1hdFNob3J0Y3V0cz17c2V0dXA6c2V0dXAkN307dmFyIEZvcm1hdHRlcj1mdW5jdGlvbiBGb3JtYXR0ZXIoZWRpdG9yKXt2YXIgZm9ybWF0cz1Gb3JtYXRSZWdpc3RyeShlZGl0b3IpO3ZhciBmb3JtYXRDaGFuZ2VTdGF0ZT1DZWxsKG51bGwpO0Zvcm1hdFNob3J0Y3V0cy5zZXR1cChlZGl0b3IpO3NldHVwJDUoZWRpdG9yKTtyZXR1cm57Z2V0OmZvcm1hdHMuZ2V0LGhhczpmb3JtYXRzLmhhcyxyZWdpc3Rlcjpmb3JtYXRzLnJlZ2lzdGVyLHVucmVnaXN0ZXI6Zm9ybWF0cy51bnJlZ2lzdGVyLGFwcGx5OmN1cnJ5KEFwcGx5Rm9ybWF0LmFwcGx5Rm9ybWF0LGVkaXRvcikscmVtb3ZlOmN1cnJ5KFJlbW92ZUZvcm1hdC5yZW1vdmUsZWRpdG9yKSx0b2dnbGU6Y3VycnkoVG9nZ2xlRm9ybWF0LnRvZ2dsZSxlZGl0b3IsZm9ybWF0cyksbWF0Y2g6Y3VycnkoTWF0Y2hGb3JtYXQubWF0Y2gsZWRpdG9yKSxtYXRjaEFsbDpjdXJyeShNYXRjaEZvcm1hdC5tYXRjaEFsbCxlZGl0b3IpLG1hdGNoTm9kZTpjdXJyeShNYXRjaEZvcm1hdC5tYXRjaE5vZGUsZWRpdG9yKSxjYW5BcHBseTpjdXJyeShNYXRjaEZvcm1hdC5jYW5BcHBseSxlZGl0b3IpLGZvcm1hdENoYW5nZWQ6Y3VycnkoZm9ybWF0Q2hhbmdlZCxlZGl0b3IsZm9ybWF0Q2hhbmdlU3RhdGUpLGdldENzc1RleHQ6Y3VycnkoUHJldmlldy5nZXRDc3NUZXh0LGVkaXRvcil9O307dmFyIHJlZ2lzdGVyJDE9ZnVuY3Rpb24gcmVnaXN0ZXIkMShodG1sUGFyc2VyLHNldHRpbmdzLGRvbSl7aHRtbFBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIoJ2RhdGEtbWNlLXRhYmluZGV4JyxmdW5jdGlvbihub2RlcyxuYW1lKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZTt3aGlsZShpLS0pe25vZGU9bm9kZXNbaV07bm9kZS5hdHRyKCd0YWJpbmRleCcsbm9kZS5hdHRyKCdkYXRhLW1jZS10YWJpbmRleCcpKTtub2RlLmF0dHIobmFtZSxudWxsKTt9fSk7aHRtbFBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIoJ3NyYyxocmVmLHN0eWxlJyxmdW5jdGlvbihub2RlcyxuYW1lKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZSx2YWx1ZTt2YXIgaW50ZXJuYWxOYW1lPSdkYXRhLW1jZS0nK25hbWU7dmFyIHVybENvbnZlcnRlcj1zZXR0aW5ncy51cmxfY29udmVydGVyO3ZhciB1cmxDb252ZXJ0ZXJTY29wZT1zZXR0aW5ncy51cmxfY29udmVydGVyX3Njb3BlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTt2YWx1ZT1ub2RlLmF0dHIoaW50ZXJuYWxOYW1lKTtpZih2YWx1ZSE9PXVuZGVmaW5lZCl7bm9kZS5hdHRyKG5hbWUsdmFsdWUubGVuZ3RoPjA/dmFsdWU6bnVsbCk7bm9kZS5hdHRyKGludGVybmFsTmFtZSxudWxsKTt9ZWxzZXt2YWx1ZT1ub2RlLmF0dHIobmFtZSk7aWYobmFtZT09PSdzdHlsZScpe3ZhbHVlPWRvbS5zZXJpYWxpemVTdHlsZShkb20ucGFyc2VTdHlsZSh2YWx1ZSksbm9kZS5uYW1lKTt9ZWxzZSBpZih1cmxDb252ZXJ0ZXIpe3ZhbHVlPXVybENvbnZlcnRlci5jYWxsKHVybENvbnZlcnRlclNjb3BlLHZhbHVlLG5hbWUsbm9kZS5uYW1lKTt9bm9kZS5hdHRyKG5hbWUsdmFsdWUubGVuZ3RoPjA/dmFsdWU6bnVsbCk7fX19KTtodG1sUGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcignY2xhc3MnLGZ1bmN0aW9uKG5vZGVzKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZSx2YWx1ZTt3aGlsZShpLS0pe25vZGU9bm9kZXNbaV07dmFsdWU9bm9kZS5hdHRyKCdjbGFzcycpO2lmKHZhbHVlKXt2YWx1ZT1ub2RlLmF0dHIoJ2NsYXNzJykucmVwbGFjZSgvKD86XnxccyltY2UtaXRlbS1cdysoPyFcUykvZywnJyk7bm9kZS5hdHRyKCdjbGFzcycsdmFsdWUubGVuZ3RoPjA/dmFsdWU6bnVsbCk7fX19KTtodG1sUGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcignZGF0YS1tY2UtdHlwZScsZnVuY3Rpb24obm9kZXMsbmFtZSxhcmdzKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZTt3aGlsZShpLS0pe25vZGU9bm9kZXNbaV07aWYobm9kZS5hdHRyKCdkYXRhLW1jZS10eXBlJyk9PT0nYm9va21hcmsnJiYhYXJncy5jbGVhbnVwKXt2YXIgaGFzQ2hpbGRyZW49T3B0aW9uLmZyb20obm9kZS5maXJzdENoaWxkKS5leGlzdHMoZnVuY3Rpb24oZmlyc3RDaGlsZCl7cmV0dXJuIVp3c3AuaXNad3NwKGZpcnN0Q2hpbGQudmFsdWUpO30pO2lmKGhhc0NoaWxkcmVuKXtub2RlLnVud3JhcCgpO31lbHNle25vZGUucmVtb3ZlKCk7fX19fSk7aHRtbFBhcnNlci5hZGROb2RlRmlsdGVyKCdub3NjcmlwdCcsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXS5maXJzdENoaWxkO2lmKG5vZGUpe25vZGUudmFsdWU9RW50aXRpZXMuZGVjb2RlKG5vZGUudmFsdWUpO319fSk7aHRtbFBhcnNlci5hZGROb2RlRmlsdGVyKCdzY3JpcHQsc3R5bGUnLGZ1bmN0aW9uKG5vZGVzLG5hbWUpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlLHZhbHVlLHR5cGU7dmFyIHRyaW09ZnVuY3Rpb24gdHJpbSh2YWx1ZSl7cmV0dXJuIHZhbHVlLnJlcGxhY2UoLyg8IS0tXFtDREFUQVxbfFxdXF0tLT4pL2csJ1xuJykucmVwbGFjZSgvXltcclxuXSp8W1xyXG5dKiQvZywnJykucmVwbGFjZSgvXlxzKigoPCEtLSk/KFxzKlwvXC8pP1xzKjwhXFtDREFUQVxbfCg8IS0tXHMqKT9cL1wqXHMqPCFcW0NEQVRBXFtccypcKlwvfChcL1wvKT9ccyo8IS0tfFwvXCpccyo8IS0tXHMqXCpcLylccypbXHJcbl0qL2dpLCcnKS5yZXBsYWNlKC9ccyooXC9cKlxzKlxdXF0+XHMqXCpcLygtLT4pP3xccypcL1wvXHMqXF1cXT4oLS0+KT98XC9cL1xzKigtLT4pP3xcXVxdPnxcL1wqXHMqLS0+XHMqXCpcL3xccyotLT5ccyopXHMqJC9nLCcnKTt9O3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTt2YWx1ZT1ub2RlLmZpcnN0Q2hpbGQ/bm9kZS5maXJzdENoaWxkLnZhbHVlOicnO2lmKG5hbWU9PT0nc2NyaXB0Jyl7dHlwZT1ub2RlLmF0dHIoJ3R5cGUnKTtpZih0eXBlKXtub2RlLmF0dHIoJ3R5cGUnLHR5cGU9PT0nbWNlLW5vL3R5cGUnP251bGw6dHlwZS5yZXBsYWNlKC9ebWNlXC0vLCcnKSk7fWlmKHNldHRpbmdzLmVsZW1lbnRfZm9ybWF0PT09J3hodG1sJyYmdmFsdWUubGVuZ3RoPjApe25vZGUuZmlyc3RDaGlsZC52YWx1ZT0nLy8gPCFbQ0RBVEFbXG4nK3RyaW0odmFsdWUpKydcbi8vIF1dPic7fX1lbHNle2lmKHNldHRpbmdzLmVsZW1lbnRfZm9ybWF0PT09J3hodG1sJyYmdmFsdWUubGVuZ3RoPjApe25vZGUuZmlyc3RDaGlsZC52YWx1ZT0nPCEtLVxuJyt0cmltKHZhbHVlKSsnXG4tLT4nO319fX0pO2h0bWxQYXJzZXIuYWRkTm9kZUZpbHRlcignI2NvbW1lbnQnLGZ1bmN0aW9uKG5vZGVzKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZTt3aGlsZShpLS0pe25vZGU9bm9kZXNbaV07aWYobm9kZS52YWx1ZS5pbmRleE9mKCdbQ0RBVEFbJyk9PT0wKXtub2RlLm5hbWU9JyNjZGF0YSc7bm9kZS50eXBlPTQ7bm9kZS52YWx1ZT1ub2RlLnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywnJyk7fWVsc2UgaWYobm9kZS52YWx1ZS5pbmRleE9mKCdtY2U6cHJvdGVjdGVkICcpPT09MCl7bm9kZS5uYW1lPScjdGV4dCc7bm9kZS50eXBlPTM7bm9kZS5yYXc9dHJ1ZTtub2RlLnZhbHVlPXVuZXNjYXBlKG5vZGUudmFsdWUpLnN1YnN0cigxNCk7fX19KTtodG1sUGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ3htbDpuYW1lc3BhY2UsaW5wdXQnLGZ1bmN0aW9uKG5vZGVzLG5hbWUpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtpZihub2RlLnR5cGU9PT03KXtub2RlLnJlbW92ZSgpO31lbHNlIGlmKG5vZGUudHlwZT09PTEpe2lmKG5hbWU9PT0naW5wdXQnJiYhbm9kZS5hdHRyKCd0eXBlJykpe25vZGUuYXR0cigndHlwZScsJ3RleHQnKTt9fX19KTtodG1sUGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcignZGF0YS1tY2UtdHlwZScsZnVuY3Rpb24obm9kZXMpe2VhY2gobm9kZXMsZnVuY3Rpb24obm9kZSl7aWYobm9kZS5hdHRyKCdkYXRhLW1jZS10eXBlJyk9PT0nZm9ybWF0LWNhcmV0Jyl7aWYobm9kZS5pc0VtcHR5KGh0bWxQYXJzZXIuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSkpe25vZGUucmVtb3ZlKCk7fWVsc2V7bm9kZS51bndyYXAoKTt9fX0pO30pO2h0bWxQYXJzZXIuYWRkQXR0cmlidXRlRmlsdGVyKCdkYXRhLW1jZS1zcmMsZGF0YS1tY2UtaHJlZixkYXRhLW1jZS1zdHlsZSwnKydkYXRhLW1jZS1zZWxlY3RlZCxkYXRhLW1jZS1leHBhbmRvLCcrJ2RhdGEtbWNlLXR5cGUsZGF0YS1tY2UtcmVzaXplJyxmdW5jdGlvbihub2RlcyxuYW1lKXt2YXIgaT1ub2Rlcy5sZW5ndGg7d2hpbGUoaS0tKXtub2Rlc1tpXS5hdHRyKG5hbWUsbnVsbCk7fX0pO307dmFyIHRyaW1UcmFpbGluZ0JyPWZ1bmN0aW9uIHRyaW1UcmFpbGluZ0JyKHJvb3ROb2RlKXt2YXIgYnJOb2RlMSxick5vZGUyO3ZhciBpc0JyPWZ1bmN0aW9uIGlzQnIobm9kZSl7cmV0dXJuIG5vZGUmJm5vZGUubmFtZT09PSdicic7fTtick5vZGUxPXJvb3ROb2RlLmxhc3RDaGlsZDtpZihpc0JyKGJyTm9kZTEpKXtick5vZGUyPWJyTm9kZTEucHJldjtpZihpc0JyKGJyTm9kZTIpKXtick5vZGUxLnJlbW92ZSgpO2JyTm9kZTIucmVtb3ZlKCk7fX19O3ZhciBEb21TZXJpYWxpemVyRmlsdGVycz17cmVnaXN0ZXI6cmVnaXN0ZXIkMSx0cmltVHJhaWxpbmdCcjp0cmltVHJhaWxpbmdCcn07dmFyIHByZVByb2Nlc3M9ZnVuY3Rpb24gcHJlUHJvY2VzcyhlZGl0b3Isbm9kZSxhcmdzKXt2YXIgaW1wbCxkb2Msb2xkRG9jO3ZhciBkb209ZWRpdG9yLmRvbTtub2RlPW5vZGUuY2xvbmVOb2RlKHRydWUpO2ltcGw9ZG9tR2xvYmFscy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbjtpZihpbXBsLmNyZWF0ZUhUTUxEb2N1bWVudCl7ZG9jPWltcGwuY3JlYXRlSFRNTERvY3VtZW50KCcnKTtUb29scy5lYWNoKG5vZGUubm9kZU5hbWU9PT0nQk9EWSc/bm9kZS5jaGlsZE5vZGVzOltub2RlXSxmdW5jdGlvbihub2RlKXtkb2MuYm9keS5hcHBlbmRDaGlsZChkb2MuaW1wb3J0Tm9kZShub2RlLHRydWUpKTt9KTtpZihub2RlLm5vZGVOYW1lIT09J0JPRFknKXtub2RlPWRvYy5ib2R5LmZpcnN0Q2hpbGQ7fWVsc2V7bm9kZT1kb2MuYm9keTt9b2xkRG9jPWRvbS5kb2M7ZG9tLmRvYz1kb2M7fUV2ZW50cy5maXJlUHJlUHJvY2VzcyhlZGl0b3IsbWVyZ2UoYXJncyx7bm9kZTpub2RlfSkpO2lmKG9sZERvYyl7ZG9tLmRvYz1vbGREb2M7fXJldHVybiBub2RlO307dmFyIHNob3VsZEZpcmVFdmVudD1mdW5jdGlvbiBzaG91bGRGaXJlRXZlbnQoZWRpdG9yLGFyZ3Mpe3JldHVybiBlZGl0b3ImJmVkaXRvci5oYXNFdmVudExpc3RlbmVycygnUHJlUHJvY2VzcycpJiYhYXJncy5ub19ldmVudHM7fTt2YXIgcHJvY2Vzcz1mdW5jdGlvbiBwcm9jZXNzKGVkaXRvcixub2RlLGFyZ3Mpe3JldHVybiBzaG91bGRGaXJlRXZlbnQoZWRpdG9yLGFyZ3MpP3ByZVByb2Nlc3MoZWRpdG9yLG5vZGUsYXJncyk6bm9kZTt9O3ZhciBEb21TZXJpYWxpemVyUHJlUHJvY2Vzcz17cHJvY2Vzczpwcm9jZXNzfTt2YXIgcmVtb3ZlQXR0cnM9ZnVuY3Rpb24gcmVtb3ZlQXR0cnMobm9kZSxuYW1lcyl7ZWFjaChuYW1lcyxmdW5jdGlvbihuYW1lKXtub2RlLmF0dHIobmFtZSxudWxsKTt9KTt9O3ZhciBhZGRGb250VG9TcGFuc0ZpbHRlcj1mdW5jdGlvbiBhZGRGb250VG9TcGFuc0ZpbHRlcihkb21QYXJzZXIsc3R5bGVzLGZvbnRTaXplcyl7ZG9tUGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ2ZvbnQnLGZ1bmN0aW9uKG5vZGVzKXtlYWNoKG5vZGVzLGZ1bmN0aW9uKG5vZGUpe3ZhciBwcm9wcz1zdHlsZXMucGFyc2Uobm9kZS5hdHRyKCdzdHlsZScpKTt2YXIgY29sb3I9bm9kZS5hdHRyKCdjb2xvcicpO3ZhciBmYWNlPW5vZGUuYXR0cignZmFjZScpO3ZhciBzaXplPW5vZGUuYXR0cignc2l6ZScpO2lmKGNvbG9yKXtwcm9wcy5jb2xvcj1jb2xvcjt9aWYoZmFjZSl7cHJvcHNbJ2ZvbnQtZmFtaWx5J109ZmFjZTt9aWYoc2l6ZSl7cHJvcHNbJ2ZvbnQtc2l6ZSddPWZvbnRTaXplc1twYXJzZUludChub2RlLmF0dHIoJ3NpemUnKSwxMCktMV07fW5vZGUubmFtZT0nc3Bhbic7bm9kZS5hdHRyKCdzdHlsZScsc3R5bGVzLnNlcmlhbGl6ZShwcm9wcykpO3JlbW92ZUF0dHJzKG5vZGUsWydjb2xvcicsJ2ZhY2UnLCdzaXplJ10pO30pO30pO307dmFyIGFkZFN0cmlrZVRvU3BhbkZpbHRlcj1mdW5jdGlvbiBhZGRTdHJpa2VUb1NwYW5GaWx0ZXIoZG9tUGFyc2VyLHN0eWxlcyl7ZG9tUGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ3N0cmlrZScsZnVuY3Rpb24obm9kZXMpe2VhY2gobm9kZXMsZnVuY3Rpb24obm9kZSl7dmFyIHByb3BzPXN0eWxlcy5wYXJzZShub2RlLmF0dHIoJ3N0eWxlJykpO3Byb3BzWyd0ZXh0LWRlY29yYXRpb24nXT0nbGluZS10aHJvdWdoJztub2RlLm5hbWU9J3NwYW4nO25vZGUuYXR0cignc3R5bGUnLHN0eWxlcy5zZXJpYWxpemUocHJvcHMpKTt9KTt9KTt9O3ZhciBhZGRGaWx0ZXJzPWZ1bmN0aW9uIGFkZEZpbHRlcnMoZG9tUGFyc2VyLHNldHRpbmdzKXt2YXIgc3R5bGVzPVN0eWxlcygpO2lmKHNldHRpbmdzLmNvbnZlcnRfZm9udHNfdG9fc3BhbnMpe2FkZEZvbnRUb1NwYW5zRmlsdGVyKGRvbVBhcnNlcixzdHlsZXMsVG9vbHMuZXhwbG9kZShzZXR0aW5ncy5mb250X3NpemVfbGVnYWN5X3ZhbHVlcykpO31hZGRTdHJpa2VUb1NwYW5GaWx0ZXIoZG9tUGFyc2VyLHN0eWxlcyk7fTt2YXIgcmVnaXN0ZXIkMj1mdW5jdGlvbiByZWdpc3RlciQyKGRvbVBhcnNlcixzZXR0aW5ncyl7aWYoc2V0dGluZ3MuaW5saW5lX3N0eWxlcyl7YWRkRmlsdGVycyhkb21QYXJzZXIsc2V0dGluZ3MpO319O3ZhciBMZWdhY3lGaWx0ZXI9e3JlZ2lzdGVyOnJlZ2lzdGVyJDJ9O3ZhciBwYWRkRW1wdHlOb2RlPWZ1bmN0aW9uIHBhZGRFbXB0eU5vZGUoc2V0dGluZ3MsYXJncyxibG9ja0VsZW1lbnRzLG5vZGUpe3ZhciBiclByZWZlcnJlZD1zZXR0aW5ncy5wYWRkX2VtcHR5X3dpdGhfYnJ8fGFyZ3MuaW5zZXJ0O2lmKGJyUHJlZmVycmVkJiZibG9ja0VsZW1lbnRzW25vZGUubmFtZV0pe25vZGUuZW1wdHkoKS5hcHBlbmQobmV3IE5vZGUkMSgnYnInLDEpKS5zaG9ydEVuZGVkPXRydWU7fWVsc2V7bm9kZS5lbXB0eSgpLmFwcGVuZChuZXcgTm9kZSQxKCcjdGV4dCcsMykpLnZhbHVlPSdceEEwJzt9fTt2YXIgaXNQYWRkZWRXaXRoTmJzcD1mdW5jdGlvbiBpc1BhZGRlZFdpdGhOYnNwKG5vZGUpe3JldHVybiBoYXNPbmx5Q2hpbGQobm9kZSwnI3RleHQnKSYmbm9kZS5maXJzdENoaWxkLnZhbHVlPT09J1x4QTAnO307dmFyIGhhc09ubHlDaGlsZD1mdW5jdGlvbiBoYXNPbmx5Q2hpbGQobm9kZSxuYW1lKXtyZXR1cm4gbm9kZSYmbm9kZS5maXJzdENoaWxkJiZub2RlLmZpcnN0Q2hpbGQ9PT1ub2RlLmxhc3RDaGlsZCYmbm9kZS5maXJzdENoaWxkLm5hbWU9PT1uYW1lO307dmFyIGlzUGFkZGVkPWZ1bmN0aW9uIGlzUGFkZGVkKHNjaGVtYSxub2RlKXt2YXIgcnVsZT1zY2hlbWEuZ2V0RWxlbWVudFJ1bGUobm9kZS5uYW1lKTtyZXR1cm4gcnVsZSYmcnVsZS5wYWRkRW1wdHk7fTt2YXIgaXNFbXB0eSQyPWZ1bmN0aW9uIGlzRW1wdHkkMihzY2hlbWEsbm9uRW1wdHlFbGVtZW50cyx3aGl0ZXNwYWNlRWxlbWVudHMsbm9kZSl7cmV0dXJuIG5vZGUuaXNFbXB0eShub25FbXB0eUVsZW1lbnRzLHdoaXRlc3BhY2VFbGVtZW50cyxmdW5jdGlvbihub2RlKXtyZXR1cm4gaXNQYWRkZWQoc2NoZW1hLG5vZGUpO30pO307dmFyIGlzTGluZUJyZWFrTm9kZT1mdW5jdGlvbiBpc0xpbmVCcmVha05vZGUobm9kZSxibG9ja0VsZW1lbnRzKXtyZXR1cm4gbm9kZSYmKGJsb2NrRWxlbWVudHNbbm9kZS5uYW1lXXx8bm9kZS5uYW1lPT09J2JyJyk7fTt2YXIgcmVnaXN0ZXIkMz1mdW5jdGlvbiByZWdpc3RlciQzKHBhcnNlcixzZXR0aW5ncyl7dmFyIHNjaGVtYT1wYXJzZXIuc2NoZW1hO2lmKHNldHRpbmdzLnJlbW92ZV90cmFpbGluZ19icnMpe3BhcnNlci5hZGROb2RlRmlsdGVyKCdicicsZnVuY3Rpb24obm9kZXMsXyxhcmdzKXt2YXIgaTt2YXIgbD1ub2Rlcy5sZW5ndGg7dmFyIG5vZGU7dmFyIGJsb2NrRWxlbWVudHM9VG9vbHMuZXh0ZW5kKHt9LHNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCkpO3ZhciBub25FbXB0eUVsZW1lbnRzPXNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7dmFyIHBhcmVudCxsYXN0UGFyZW50LHByZXYscHJldk5hbWU7dmFyIHdoaXRlU3BhY2VFbGVtZW50cz1zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3ZhciBlbGVtZW50UnVsZSx0ZXh0Tm9kZTtibG9ja0VsZW1lbnRzLmJvZHk9MTtmb3IoaT0wO2k8bDtpKyspe25vZGU9bm9kZXNbaV07cGFyZW50PW5vZGUucGFyZW50O2lmKGJsb2NrRWxlbWVudHNbbm9kZS5wYXJlbnQubmFtZV0mJm5vZGU9PT1wYXJlbnQubGFzdENoaWxkKXtwcmV2PW5vZGUucHJldjt3aGlsZShwcmV2KXtwcmV2TmFtZT1wcmV2Lm5hbWU7aWYocHJldk5hbWUhPT0nc3Bhbid8fHByZXYuYXR0cignZGF0YS1tY2UtdHlwZScpIT09J2Jvb2ttYXJrJyl7aWYocHJldk5hbWUhPT0nYnInKXticmVhazt9aWYocHJldk5hbWU9PT0nYnInKXtub2RlPW51bGw7YnJlYWs7fX1wcmV2PXByZXYucHJldjt9aWYobm9kZSl7bm9kZS5yZW1vdmUoKTtpZihpc0VtcHR5JDIoc2NoZW1hLG5vbkVtcHR5RWxlbWVudHMsd2hpdGVTcGFjZUVsZW1lbnRzLHBhcmVudCkpe2VsZW1lbnRSdWxlPXNjaGVtYS5nZXRFbGVtZW50UnVsZShwYXJlbnQubmFtZSk7aWYoZWxlbWVudFJ1bGUpe2lmKGVsZW1lbnRSdWxlLnJlbW92ZUVtcHR5KXtwYXJlbnQucmVtb3ZlKCk7fWVsc2UgaWYoZWxlbWVudFJ1bGUucGFkZEVtcHR5KXtwYWRkRW1wdHlOb2RlKHNldHRpbmdzLGFyZ3MsYmxvY2tFbGVtZW50cyxwYXJlbnQpO319fX19ZWxzZXtsYXN0UGFyZW50PW5vZGU7d2hpbGUocGFyZW50JiZwYXJlbnQuZmlyc3RDaGlsZD09PWxhc3RQYXJlbnQmJnBhcmVudC5sYXN0Q2hpbGQ9PT1sYXN0UGFyZW50KXtsYXN0UGFyZW50PXBhcmVudDtpZihibG9ja0VsZW1lbnRzW3BhcmVudC5uYW1lXSl7YnJlYWs7fXBhcmVudD1wYXJlbnQucGFyZW50O31pZihsYXN0UGFyZW50PT09cGFyZW50JiZzZXR0aW5ncy5wYWRkX2VtcHR5X3dpdGhfYnIhPT10cnVlKXt0ZXh0Tm9kZT1uZXcgTm9kZSQxKCcjdGV4dCcsMyk7dGV4dE5vZGUudmFsdWU9J1x4QTAnO25vZGUucmVwbGFjZSh0ZXh0Tm9kZSk7fX19fSk7fXBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIoJ2hyZWYnLGZ1bmN0aW9uKG5vZGVzKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZTt2YXIgYXBwZW5kUmVsPWZ1bmN0aW9uIGFwcGVuZFJlbChyZWwpe3ZhciBwYXJ0cz1yZWwuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24ocCl7cmV0dXJuIHAubGVuZ3RoPjA7fSk7cmV0dXJuIHBhcnRzLmNvbmNhdChbJ25vb3BlbmVyJ10pLnNvcnQoKS5qb2luKCcgJyk7fTt2YXIgYWRkTm9PcGVuZXI9ZnVuY3Rpb24gYWRkTm9PcGVuZXIocmVsKXt2YXIgbmV3UmVsPXJlbD9Ub29scy50cmltKHJlbCk6Jyc7aWYoIS9cYihub29wZW5lcilcYi9nLnRlc3QobmV3UmVsKSl7cmV0dXJuIGFwcGVuZFJlbChuZXdSZWwpO31lbHNle3JldHVybiBuZXdSZWw7fX07aWYoIXNldHRpbmdzLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldCl7d2hpbGUoaS0tKXtub2RlPW5vZGVzW2ldO2lmKG5vZGUubmFtZT09PSdhJyYmbm9kZS5hdHRyKCd0YXJnZXQnKT09PSdfYmxhbmsnKXtub2RlLmF0dHIoJ3JlbCcsYWRkTm9PcGVuZXIobm9kZS5hdHRyKCdyZWwnKSkpO319fX0pO2lmKCFzZXR0aW5ncy5hbGxvd19odG1sX2luX25hbWVkX2FuY2hvcil7cGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcignaWQsbmFtZScsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxzaWJsaW5nLHByZXZTaWJsaW5nLHBhcmVudCxub2RlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtpZihub2RlLm5hbWU9PT0nYScmJm5vZGUuZmlyc3RDaGlsZCYmIW5vZGUuYXR0cignaHJlZicpKXtwYXJlbnQ9bm9kZS5wYXJlbnQ7c2libGluZz1ub2RlLmxhc3RDaGlsZDtkb3twcmV2U2libGluZz1zaWJsaW5nLnByZXY7cGFyZW50Lmluc2VydChzaWJsaW5nLG5vZGUpO3NpYmxpbmc9cHJldlNpYmxpbmc7fXdoaWxlKHNpYmxpbmcpO319fSk7fWlmKHNldHRpbmdzLmZpeF9saXN0X2VsZW1lbnRzKXtwYXJzZXIuYWRkTm9kZUZpbHRlcigndWwsb2wnLGZ1bmN0aW9uKG5vZGVzKXt2YXIgaT1ub2Rlcy5sZW5ndGgsbm9kZSxwYXJlbnROb2RlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtwYXJlbnROb2RlPW5vZGUucGFyZW50O2lmKHBhcmVudE5vZGUubmFtZT09PSd1bCd8fHBhcmVudE5vZGUubmFtZT09PSdvbCcpe2lmKG5vZGUucHJldiYmbm9kZS5wcmV2Lm5hbWU9PT0nbGknKXtub2RlLnByZXYuYXBwZW5kKG5vZGUpO31lbHNle3ZhciBsaT1uZXcgTm9kZSQxKCdsaScsMSk7bGkuYXR0cignc3R5bGUnLCdsaXN0LXN0eWxlLXR5cGU6IG5vbmUnKTtub2RlLndyYXAobGkpO319fX0pO31pZihzZXR0aW5ncy52YWxpZGF0ZSYmc2NoZW1hLmdldFZhbGlkQ2xhc3NlcygpKXtwYXJzZXIuYWRkQXR0cmlidXRlRmlsdGVyKCdjbGFzcycsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlLGNsYXNzTGlzdCxjaSxjbGFzc05hbWUsY2xhc3NWYWx1ZTt2YXIgdmFsaWRDbGFzc2VzPXNjaGVtYS5nZXRWYWxpZENsYXNzZXMoKTt2YXIgdmFsaWRDbGFzc2VzTWFwLHZhbGlkO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtjbGFzc0xpc3Q9bm9kZS5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJyk7Y2xhc3NWYWx1ZT0nJztmb3IoY2k9MDtjaTxjbGFzc0xpc3QubGVuZ3RoO2NpKyspe2NsYXNzTmFtZT1jbGFzc0xpc3RbY2ldO3ZhbGlkPWZhbHNlO3ZhbGlkQ2xhc3Nlc01hcD12YWxpZENsYXNzZXNbJyonXTtpZih2YWxpZENsYXNzZXNNYXAmJnZhbGlkQ2xhc3Nlc01hcFtjbGFzc05hbWVdKXt2YWxpZD10cnVlO312YWxpZENsYXNzZXNNYXA9dmFsaWRDbGFzc2VzW25vZGUubmFtZV07aWYoIXZhbGlkJiZ2YWxpZENsYXNzZXNNYXAmJnZhbGlkQ2xhc3Nlc01hcFtjbGFzc05hbWVdKXt2YWxpZD10cnVlO31pZih2YWxpZCl7aWYoY2xhc3NWYWx1ZSl7Y2xhc3NWYWx1ZSs9JyAnO31jbGFzc1ZhbHVlKz1jbGFzc05hbWU7fX1pZighY2xhc3NWYWx1ZS5sZW5ndGgpe2NsYXNzVmFsdWU9bnVsbDt9bm9kZS5hdHRyKCdjbGFzcycsY2xhc3NWYWx1ZSk7fX0pO319O3ZhciBtYWtlTWFwJDQ9VG9vbHMubWFrZU1hcCxlYWNoJGY9VG9vbHMuZWFjaCxleHBsb2RlJDI9VG9vbHMuZXhwbG9kZSxleHRlbmQkMj1Ub29scy5leHRlbmQ7dmFyIERvbVBhcnNlcj1mdW5jdGlvbiBEb21QYXJzZXIoc2V0dGluZ3Msc2NoZW1hKXtpZihzY2hlbWE9PT12b2lkIDApe3NjaGVtYT1TY2hlbWEoKTt9dmFyIG5vZGVGaWx0ZXJzPXt9O3ZhciBhdHRyaWJ1dGVGaWx0ZXJzPVtdO3ZhciBtYXRjaGVkTm9kZXM9e307dmFyIG1hdGNoZWRBdHRyaWJ1dGVzPXt9O3NldHRpbmdzPXNldHRpbmdzfHx7fTtzZXR0aW5ncy52YWxpZGF0ZT0ndmFsaWRhdGUnaW4gc2V0dGluZ3M/c2V0dGluZ3MudmFsaWRhdGU6dHJ1ZTtzZXR0aW5ncy5yb290X25hbWU9c2V0dGluZ3Mucm9vdF9uYW1lfHwnYm9keSc7dmFyIGZpeEludmFsaWRDaGlsZHJlbj1mdW5jdGlvbiBmaXhJbnZhbGlkQ2hpbGRyZW4obm9kZXMpe3ZhciBuaSxub2RlLHBhcmVudCxwYXJlbnRzLG5ld1BhcmVudCxjdXJyZW50Tm9kZSx0ZW1wTm9kZSxjaGlsZE5vZGUsaTt2YXIgbm9uRW1wdHlFbGVtZW50cyx3aGl0ZXNwYWNlRWxlbWVudHMsbm9uU3BsaXRhYmxlRWxlbWVudHMsdGV4dEJsb2NrRWxlbWVudHMsc3BlY2lhbEVsZW1lbnRzLHNpYmxpbmcsbmV4dE5vZGU7bm9uU3BsaXRhYmxlRWxlbWVudHM9bWFrZU1hcCQ0KCd0cix0ZCx0aCx0Ym9keSx0aGVhZCx0Zm9vdCx0YWJsZScpO25vbkVtcHR5RWxlbWVudHM9c2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTt3aGl0ZXNwYWNlRWxlbWVudHM9c2NoZW1hLmdldFdoaXRlU3BhY2VFbGVtZW50cygpO3RleHRCbG9ja0VsZW1lbnRzPXNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpO3NwZWNpYWxFbGVtZW50cz1zY2hlbWEuZ2V0U3BlY2lhbEVsZW1lbnRzKCk7Zm9yKG5pPTA7bmk8bm9kZXMubGVuZ3RoO25pKyspe25vZGU9bm9kZXNbbmldO2lmKCFub2RlLnBhcmVudHx8bm9kZS5maXhlZCl7Y29udGludWU7fWlmKHRleHRCbG9ja0VsZW1lbnRzW25vZGUubmFtZV0mJm5vZGUucGFyZW50Lm5hbWU9PT0nbGknKXtzaWJsaW5nPW5vZGUubmV4dDt3aGlsZShzaWJsaW5nKXtpZih0ZXh0QmxvY2tFbGVtZW50c1tzaWJsaW5nLm5hbWVdKXtzaWJsaW5nLm5hbWU9J2xpJztzaWJsaW5nLmZpeGVkPXRydWU7bm9kZS5wYXJlbnQuaW5zZXJ0KHNpYmxpbmcsbm9kZS5wYXJlbnQpO31lbHNle2JyZWFrO31zaWJsaW5nPXNpYmxpbmcubmV4dDt9bm9kZS51bndyYXAobm9kZSk7Y29udGludWU7fXBhcmVudHM9W25vZGVdO2ZvcihwYXJlbnQ9bm9kZS5wYXJlbnQ7cGFyZW50JiYhc2NoZW1hLmlzVmFsaWRDaGlsZChwYXJlbnQubmFtZSxub2RlLm5hbWUpJiYhbm9uU3BsaXRhYmxlRWxlbWVudHNbcGFyZW50Lm5hbWVdO3BhcmVudD1wYXJlbnQucGFyZW50KXtwYXJlbnRzLnB1c2gocGFyZW50KTt9aWYocGFyZW50JiZwYXJlbnRzLmxlbmd0aD4xKXtwYXJlbnRzLnJldmVyc2UoKTtuZXdQYXJlbnQ9Y3VycmVudE5vZGU9ZmlsdGVyTm9kZShwYXJlbnRzWzBdLmNsb25lKCkpO2ZvcihpPTA7aTxwYXJlbnRzLmxlbmd0aC0xO2krKyl7aWYoc2NoZW1hLmlzVmFsaWRDaGlsZChjdXJyZW50Tm9kZS5uYW1lLHBhcmVudHNbaV0ubmFtZSkpe3RlbXBOb2RlPWZpbHRlck5vZGUocGFyZW50c1tpXS5jbG9uZSgpKTtjdXJyZW50Tm9kZS5hcHBlbmQodGVtcE5vZGUpO31lbHNle3RlbXBOb2RlPWN1cnJlbnROb2RlO31mb3IoY2hpbGROb2RlPXBhcmVudHNbaV0uZmlyc3RDaGlsZDtjaGlsZE5vZGUmJmNoaWxkTm9kZSE9PXBhcmVudHNbaSsxXTspe25leHROb2RlPWNoaWxkTm9kZS5uZXh0O3RlbXBOb2RlLmFwcGVuZChjaGlsZE5vZGUpO2NoaWxkTm9kZT1uZXh0Tm9kZTt9Y3VycmVudE5vZGU9dGVtcE5vZGU7fWlmKCFpc0VtcHR5JDIoc2NoZW1hLG5vbkVtcHR5RWxlbWVudHMsd2hpdGVzcGFjZUVsZW1lbnRzLG5ld1BhcmVudCkpe3BhcmVudC5pbnNlcnQobmV3UGFyZW50LHBhcmVudHNbMF0sdHJ1ZSk7cGFyZW50Lmluc2VydChub2RlLG5ld1BhcmVudCk7fWVsc2V7cGFyZW50Lmluc2VydChub2RlLHBhcmVudHNbMF0sdHJ1ZSk7fXBhcmVudD1wYXJlbnRzWzBdO2lmKGlzRW1wdHkkMihzY2hlbWEsbm9uRW1wdHlFbGVtZW50cyx3aGl0ZXNwYWNlRWxlbWVudHMscGFyZW50KXx8aGFzT25seUNoaWxkKHBhcmVudCwnYnInKSl7cGFyZW50LmVtcHR5KCkucmVtb3ZlKCk7fX1lbHNlIGlmKG5vZGUucGFyZW50KXtpZihub2RlLm5hbWU9PT0nbGknKXtzaWJsaW5nPW5vZGUucHJldjtpZihzaWJsaW5nJiYoc2libGluZy5uYW1lPT09J3VsJ3x8c2libGluZy5uYW1lPT09J3VsJykpe3NpYmxpbmcuYXBwZW5kKG5vZGUpO2NvbnRpbnVlO31zaWJsaW5nPW5vZGUubmV4dDtpZihzaWJsaW5nJiYoc2libGluZy5uYW1lPT09J3VsJ3x8c2libGluZy5uYW1lPT09J3VsJykpe3NpYmxpbmcuaW5zZXJ0KG5vZGUsc2libGluZy5maXJzdENoaWxkLHRydWUpO2NvbnRpbnVlO31ub2RlLndyYXAoZmlsdGVyTm9kZShuZXcgTm9kZSQxKCd1bCcsMSkpKTtjb250aW51ZTt9aWYoc2NoZW1hLmlzVmFsaWRDaGlsZChub2RlLnBhcmVudC5uYW1lLCdkaXYnKSYmc2NoZW1hLmlzVmFsaWRDaGlsZCgnZGl2Jyxub2RlLm5hbWUpKXtub2RlLndyYXAoZmlsdGVyTm9kZShuZXcgTm9kZSQxKCdkaXYnLDEpKSk7fWVsc2V7aWYoc3BlY2lhbEVsZW1lbnRzW25vZGUubmFtZV0pe25vZGUuZW1wdHkoKS5yZW1vdmUoKTt9ZWxzZXtub2RlLnVud3JhcCgpO319fX19O3ZhciBmaWx0ZXJOb2RlPWZ1bmN0aW9uIGZpbHRlck5vZGUobm9kZSl7dmFyIGksbmFtZSxsaXN0O25hbWU9bm9kZS5uYW1lO2lmKG5hbWUgaW4gbm9kZUZpbHRlcnMpe2xpc3Q9bWF0Y2hlZE5vZGVzW25hbWVdO2lmKGxpc3Qpe2xpc3QucHVzaChub2RlKTt9ZWxzZXttYXRjaGVkTm9kZXNbbmFtZV09W25vZGVdO319aT1hdHRyaWJ1dGVGaWx0ZXJzLmxlbmd0aDt3aGlsZShpLS0pe25hbWU9YXR0cmlidXRlRmlsdGVyc1tpXS5uYW1lO2lmKG5hbWUgaW4gbm9kZS5hdHRyaWJ1dGVzLm1hcCl7bGlzdD1tYXRjaGVkQXR0cmlidXRlc1tuYW1lXTtpZihsaXN0KXtsaXN0LnB1c2gobm9kZSk7fWVsc2V7bWF0Y2hlZEF0dHJpYnV0ZXNbbmFtZV09W25vZGVdO319fXJldHVybiBub2RlO307dmFyIGFkZE5vZGVGaWx0ZXI9ZnVuY3Rpb24gYWRkTm9kZUZpbHRlcihuYW1lLGNhbGxiYWNrKXtlYWNoJGYoZXhwbG9kZSQyKG5hbWUpLGZ1bmN0aW9uKG5hbWUpe3ZhciBsaXN0PW5vZGVGaWx0ZXJzW25hbWVdO2lmKCFsaXN0KXtub2RlRmlsdGVyc1tuYW1lXT1saXN0PVtdO31saXN0LnB1c2goY2FsbGJhY2spO30pO307dmFyIGdldE5vZGVGaWx0ZXJzPWZ1bmN0aW9uIGdldE5vZGVGaWx0ZXJzKCl7dmFyIG91dD1bXTtmb3IodmFyIG5hbWUgaW4gbm9kZUZpbHRlcnMpe2lmKG5vZGVGaWx0ZXJzLmhhc093blByb3BlcnR5KG5hbWUpKXtvdXQucHVzaCh7bmFtZTpuYW1lLGNhbGxiYWNrczpub2RlRmlsdGVyc1tuYW1lXX0pO319cmV0dXJuIG91dDt9O3ZhciBhZGRBdHRyaWJ1dGVGaWx0ZXI9ZnVuY3Rpb24gYWRkQXR0cmlidXRlRmlsdGVyKG5hbWUsY2FsbGJhY2spe2VhY2gkZihleHBsb2RlJDIobmFtZSksZnVuY3Rpb24obmFtZSl7dmFyIGk7Zm9yKGk9MDtpPGF0dHJpYnV0ZUZpbHRlcnMubGVuZ3RoO2krKyl7aWYoYXR0cmlidXRlRmlsdGVyc1tpXS5uYW1lPT09bmFtZSl7YXR0cmlidXRlRmlsdGVyc1tpXS5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7cmV0dXJuO319YXR0cmlidXRlRmlsdGVycy5wdXNoKHtuYW1lOm5hbWUsY2FsbGJhY2tzOltjYWxsYmFja119KTt9KTt9O3ZhciBnZXRBdHRyaWJ1dGVGaWx0ZXJzPWZ1bmN0aW9uIGdldEF0dHJpYnV0ZUZpbHRlcnMoKXtyZXR1cm5bXS5jb25jYXQoYXR0cmlidXRlRmlsdGVycyk7fTt2YXIgcGFyc2U9ZnVuY3Rpb24gcGFyc2UoaHRtbCxhcmdzKXt2YXIgcGFyc2VyLG5vZGVzLGksbCxmaSxmbCxsaXN0LG5hbWU7dmFyIGJsb2NrRWxlbWVudHM7dmFyIGludmFsaWRDaGlsZHJlbj1bXTt2YXIgaXNJbldoaXRlU3BhY2VQcmVzZXJ2ZWRFbGVtZW50O3ZhciBub2RlO3ZhciBnZXRSb290QmxvY2tOYW1lPWZ1bmN0aW9uIGdldFJvb3RCbG9ja05hbWUobmFtZSl7aWYobmFtZT09PWZhbHNlKXtyZXR1cm4nJzt9ZWxzZSBpZihuYW1lPT09dHJ1ZSl7cmV0dXJuJ3AnO31lbHNle3JldHVybiBuYW1lO319O2FyZ3M9YXJnc3x8e307bWF0Y2hlZE5vZGVzPXt9O21hdGNoZWRBdHRyaWJ1dGVzPXt9O2Jsb2NrRWxlbWVudHM9ZXh0ZW5kJDIobWFrZU1hcCQ0KCdzY3JpcHQsc3R5bGUsaGVhZCxodG1sLGJvZHksdGl0bGUsbWV0YSxwYXJhbScpLHNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCkpO3ZhciBub25FbXB0eUVsZW1lbnRzPXNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7dmFyIGNoaWxkcmVuPXNjaGVtYS5jaGlsZHJlbjt2YXIgdmFsaWRhdGU9c2V0dGluZ3MudmFsaWRhdGU7dmFyIGZvcmNlZFJvb3RCbG9ja05hbWU9J2ZvcmNlZF9yb290X2Jsb2NrJ2luIGFyZ3M/YXJncy5mb3JjZWRfcm9vdF9ibG9jazpzZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jazt2YXIgcm9vdEJsb2NrTmFtZT1nZXRSb290QmxvY2tOYW1lKGZvcmNlZFJvb3RCbG9ja05hbWUpO3ZhciB3aGl0ZVNwYWNlRWxlbWVudHM9c2NoZW1hLmdldFdoaXRlU3BhY2VFbGVtZW50cygpO3ZhciBzdGFydFdoaXRlU3BhY2VSZWdFeHA9L15bIFx0XHJcbl0rLzt2YXIgZW5kV2hpdGVTcGFjZVJlZ0V4cD0vWyBcdFxyXG5dKyQvO3ZhciBhbGxXaGl0ZVNwYWNlUmVnRXhwPS9bIFx0XHJcbl0rL2c7dmFyIGlzQWxsV2hpdGVTcGFjZVJlZ0V4cD0vXlsgXHRcclxuXSskLztpc0luV2hpdGVTcGFjZVByZXNlcnZlZEVsZW1lbnQ9d2hpdGVTcGFjZUVsZW1lbnRzLmhhc093blByb3BlcnR5KGFyZ3MuY29udGV4dCl8fHdoaXRlU3BhY2VFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShzZXR0aW5ncy5yb290X25hbWUpO3ZhciBhZGRSb290QmxvY2tzPWZ1bmN0aW9uIGFkZFJvb3RCbG9ja3MoKXt2YXIgbm9kZT1yb290Tm9kZS5maXJzdENoaWxkLG5leHQscm9vdEJsb2NrTm9kZTt2YXIgdHJpbT1mdW5jdGlvbiB0cmltKHJvb3RCbG9ja05vZGUpe2lmKHJvb3RCbG9ja05vZGUpe25vZGU9cm9vdEJsb2NrTm9kZS5maXJzdENoaWxkO2lmKG5vZGUmJm5vZGUudHlwZT09PTMpe25vZGUudmFsdWU9bm9kZS52YWx1ZS5yZXBsYWNlKHN0YXJ0V2hpdGVTcGFjZVJlZ0V4cCwnJyk7fW5vZGU9cm9vdEJsb2NrTm9kZS5sYXN0Q2hpbGQ7aWYobm9kZSYmbm9kZS50eXBlPT09Myl7bm9kZS52YWx1ZT1ub2RlLnZhbHVlLnJlcGxhY2UoZW5kV2hpdGVTcGFjZVJlZ0V4cCwnJyk7fX19O2lmKCFzY2hlbWEuaXNWYWxpZENoaWxkKHJvb3ROb2RlLm5hbWUscm9vdEJsb2NrTmFtZS50b0xvd2VyQ2FzZSgpKSl7cmV0dXJuO313aGlsZShub2RlKXtuZXh0PW5vZGUubmV4dDtpZihub2RlLnR5cGU9PT0zfHxub2RlLnR5cGU9PT0xJiZub2RlLm5hbWUhPT0ncCcmJiFibG9ja0VsZW1lbnRzW25vZGUubmFtZV0mJiFub2RlLmF0dHIoJ2RhdGEtbWNlLXR5cGUnKSl7aWYoIXJvb3RCbG9ja05vZGUpe3Jvb3RCbG9ja05vZGU9Y3JlYXRlTm9kZShyb290QmxvY2tOYW1lLDEpO3Jvb3RCbG9ja05vZGUuYXR0cihzZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyk7cm9vdE5vZGUuaW5zZXJ0KHJvb3RCbG9ja05vZGUsbm9kZSk7cm9vdEJsb2NrTm9kZS5hcHBlbmQobm9kZSk7fWVsc2V7cm9vdEJsb2NrTm9kZS5hcHBlbmQobm9kZSk7fX1lbHNle3RyaW0ocm9vdEJsb2NrTm9kZSk7cm9vdEJsb2NrTm9kZT1udWxsO31ub2RlPW5leHQ7fXRyaW0ocm9vdEJsb2NrTm9kZSk7fTt2YXIgY3JlYXRlTm9kZT1mdW5jdGlvbiBjcmVhdGVOb2RlKG5hbWUsdHlwZSl7dmFyIG5vZGU9bmV3IE5vZGUkMShuYW1lLHR5cGUpO3ZhciBsaXN0O2lmKG5hbWUgaW4gbm9kZUZpbHRlcnMpe2xpc3Q9bWF0Y2hlZE5vZGVzW25hbWVdO2lmKGxpc3Qpe2xpc3QucHVzaChub2RlKTt9ZWxzZXttYXRjaGVkTm9kZXNbbmFtZV09W25vZGVdO319cmV0dXJuIG5vZGU7fTt2YXIgcmVtb3ZlV2hpdGVzcGFjZUJlZm9yZT1mdW5jdGlvbiByZW1vdmVXaGl0ZXNwYWNlQmVmb3JlKG5vZGUpe3ZhciB0ZXh0Tm9kZSx0ZXh0Tm9kZU5leHQsdGV4dFZhbCxzaWJsaW5nO3ZhciBibG9ja0VsZW1lbnRzPXNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCk7Zm9yKHRleHROb2RlPW5vZGUucHJldjt0ZXh0Tm9kZSYmdGV4dE5vZGUudHlwZT09PTM7KXt0ZXh0VmFsPXRleHROb2RlLnZhbHVlLnJlcGxhY2UoZW5kV2hpdGVTcGFjZVJlZ0V4cCwnJyk7aWYodGV4dFZhbC5sZW5ndGg+MCl7dGV4dE5vZGUudmFsdWU9dGV4dFZhbDtyZXR1cm47fXRleHROb2RlTmV4dD10ZXh0Tm9kZS5uZXh0O2lmKHRleHROb2RlTmV4dCl7aWYodGV4dE5vZGVOZXh0LnR5cGU9PT0zJiZ0ZXh0Tm9kZU5leHQudmFsdWUubGVuZ3RoKXt0ZXh0Tm9kZT10ZXh0Tm9kZS5wcmV2O2NvbnRpbnVlO31pZighYmxvY2tFbGVtZW50c1t0ZXh0Tm9kZU5leHQubmFtZV0mJnRleHROb2RlTmV4dC5uYW1lIT09J3NjcmlwdCcmJnRleHROb2RlTmV4dC5uYW1lIT09J3N0eWxlJyl7dGV4dE5vZGU9dGV4dE5vZGUucHJldjtjb250aW51ZTt9fXNpYmxpbmc9dGV4dE5vZGUucHJldjt0ZXh0Tm9kZS5yZW1vdmUoKTt0ZXh0Tm9kZT1zaWJsaW5nO319O3ZhciBjbG9uZUFuZEV4Y2x1ZGVCbG9ja3M9ZnVuY3Rpb24gY2xvbmVBbmRFeGNsdWRlQmxvY2tzKGlucHV0KXt2YXIgbmFtZTt2YXIgb3V0cHV0PXt9O2ZvcihuYW1lIGluIGlucHV0KXtpZihuYW1lIT09J2xpJyYmbmFtZSE9PSdwJyl7b3V0cHV0W25hbWVdPWlucHV0W25hbWVdO319cmV0dXJuIG91dHB1dDt9O3BhcnNlcj1TYXhQYXJzZXIkMSh7dmFsaWRhdGU6dmFsaWRhdGUsYWxsb3dfc2NyaXB0X3VybHM6c2V0dGluZ3MuYWxsb3dfc2NyaXB0X3VybHMsYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6c2V0dGluZ3MuYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHMsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmNsb25lQW5kRXhjbHVkZUJsb2NrcyhzY2hlbWEuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbiBjZGF0YSh0ZXh0KXtub2RlLmFwcGVuZChjcmVhdGVOb2RlKCcjY2RhdGEnLDQpKS52YWx1ZT10ZXh0O30sdGV4dDpmdW5jdGlvbiB0ZXh0KF90ZXh0MixyYXcpe3ZhciB0ZXh0Tm9kZTtpZighaXNJbldoaXRlU3BhY2VQcmVzZXJ2ZWRFbGVtZW50KXtfdGV4dDI9X3RleHQyLnJlcGxhY2UoYWxsV2hpdGVTcGFjZVJlZ0V4cCwnICcpO2lmKGlzTGluZUJyZWFrTm9kZShub2RlLmxhc3RDaGlsZCxibG9ja0VsZW1lbnRzKSl7X3RleHQyPV90ZXh0Mi5yZXBsYWNlKHN0YXJ0V2hpdGVTcGFjZVJlZ0V4cCwnJyk7fX1pZihfdGV4dDIubGVuZ3RoIT09MCl7dGV4dE5vZGU9Y3JlYXRlTm9kZSgnI3RleHQnLDMpO3RleHROb2RlLnJhdz0hIXJhdztub2RlLmFwcGVuZCh0ZXh0Tm9kZSkudmFsdWU9X3RleHQyO319LGNvbW1lbnQ6ZnVuY3Rpb24gY29tbWVudCh0ZXh0KXtub2RlLmFwcGVuZChjcmVhdGVOb2RlKCcjY29tbWVudCcsOCkpLnZhbHVlPXRleHQ7fSxwaTpmdW5jdGlvbiBwaShuYW1lLHRleHQpe25vZGUuYXBwZW5kKGNyZWF0ZU5vZGUobmFtZSw3KSkudmFsdWU9dGV4dDtyZW1vdmVXaGl0ZXNwYWNlQmVmb3JlKG5vZGUpO30sZG9jdHlwZTpmdW5jdGlvbiBkb2N0eXBlKHRleHQpe3ZhciBuZXdOb2RlO25ld05vZGU9bm9kZS5hcHBlbmQoY3JlYXRlTm9kZSgnI2RvY3R5cGUnLDEwKSk7bmV3Tm9kZS52YWx1ZT10ZXh0O3JlbW92ZVdoaXRlc3BhY2VCZWZvcmUobm9kZSk7fSxzdGFydDpmdW5jdGlvbiBzdGFydChuYW1lLGF0dHJzLGVtcHR5KXt2YXIgbmV3Tm9kZSxhdHRyRmlsdGVyc0xlbixlbGVtZW50UnVsZSxhdHRyTmFtZSxwYXJlbnQ7ZWxlbWVudFJ1bGU9dmFsaWRhdGU/c2NoZW1hLmdldEVsZW1lbnRSdWxlKG5hbWUpOnt9O2lmKGVsZW1lbnRSdWxlKXtuZXdOb2RlPWNyZWF0ZU5vZGUoZWxlbWVudFJ1bGUub3V0cHV0TmFtZXx8bmFtZSwxKTtuZXdOb2RlLmF0dHJpYnV0ZXM9YXR0cnM7bmV3Tm9kZS5zaG9ydEVuZGVkPWVtcHR5O25vZGUuYXBwZW5kKG5ld05vZGUpO3BhcmVudD1jaGlsZHJlbltub2RlLm5hbWVdO2lmKHBhcmVudCYmY2hpbGRyZW5bbmV3Tm9kZS5uYW1lXSYmIXBhcmVudFtuZXdOb2RlLm5hbWVdKXtpbnZhbGlkQ2hpbGRyZW4ucHVzaChuZXdOb2RlKTt9YXR0ckZpbHRlcnNMZW49YXR0cmlidXRlRmlsdGVycy5sZW5ndGg7d2hpbGUoYXR0ckZpbHRlcnNMZW4tLSl7YXR0ck5hbWU9YXR0cmlidXRlRmlsdGVyc1thdHRyRmlsdGVyc0xlbl0ubmFtZTtpZihhdHRyTmFtZSBpbiBhdHRycy5tYXApe2xpc3Q9bWF0Y2hlZEF0dHJpYnV0ZXNbYXR0ck5hbWVdO2lmKGxpc3Qpe2xpc3QucHVzaChuZXdOb2RlKTt9ZWxzZXttYXRjaGVkQXR0cmlidXRlc1thdHRyTmFtZV09W25ld05vZGVdO319fWlmKGJsb2NrRWxlbWVudHNbbmFtZV0pe3JlbW92ZVdoaXRlc3BhY2VCZWZvcmUobmV3Tm9kZSk7fWlmKCFlbXB0eSl7bm9kZT1uZXdOb2RlO31pZighaXNJbldoaXRlU3BhY2VQcmVzZXJ2ZWRFbGVtZW50JiZ3aGl0ZVNwYWNlRWxlbWVudHNbbmFtZV0pe2lzSW5XaGl0ZVNwYWNlUHJlc2VydmVkRWxlbWVudD10cnVlO319fSxlbmQ6ZnVuY3Rpb24gZW5kKG5hbWUpe3ZhciB0ZXh0Tm9kZSxlbGVtZW50UnVsZSx0ZXh0LHNpYmxpbmcsdGVtcE5vZGU7ZWxlbWVudFJ1bGU9dmFsaWRhdGU/c2NoZW1hLmdldEVsZW1lbnRSdWxlKG5hbWUpOnt9O2lmKGVsZW1lbnRSdWxlKXtpZihibG9ja0VsZW1lbnRzW25hbWVdKXtpZighaXNJbldoaXRlU3BhY2VQcmVzZXJ2ZWRFbGVtZW50KXt0ZXh0Tm9kZT1ub2RlLmZpcnN0Q2hpbGQ7aWYodGV4dE5vZGUmJnRleHROb2RlLnR5cGU9PT0zKXt0ZXh0PXRleHROb2RlLnZhbHVlLnJlcGxhY2Uoc3RhcnRXaGl0ZVNwYWNlUmVnRXhwLCcnKTtpZih0ZXh0Lmxlbmd0aD4wKXt0ZXh0Tm9kZS52YWx1ZT10ZXh0O3RleHROb2RlPXRleHROb2RlLm5leHQ7fWVsc2V7c2libGluZz10ZXh0Tm9kZS5uZXh0O3RleHROb2RlLnJlbW92ZSgpO3RleHROb2RlPXNpYmxpbmc7d2hpbGUodGV4dE5vZGUmJnRleHROb2RlLnR5cGU9PT0zKXt0ZXh0PXRleHROb2RlLnZhbHVlO3NpYmxpbmc9dGV4dE5vZGUubmV4dDtpZih0ZXh0Lmxlbmd0aD09PTB8fGlzQWxsV2hpdGVTcGFjZVJlZ0V4cC50ZXN0KHRleHQpKXt0ZXh0Tm9kZS5yZW1vdmUoKTt0ZXh0Tm9kZT1zaWJsaW5nO310ZXh0Tm9kZT1zaWJsaW5nO319fXRleHROb2RlPW5vZGUubGFzdENoaWxkO2lmKHRleHROb2RlJiZ0ZXh0Tm9kZS50eXBlPT09Myl7dGV4dD10ZXh0Tm9kZS52YWx1ZS5yZXBsYWNlKGVuZFdoaXRlU3BhY2VSZWdFeHAsJycpO2lmKHRleHQubGVuZ3RoPjApe3RleHROb2RlLnZhbHVlPXRleHQ7dGV4dE5vZGU9dGV4dE5vZGUucHJldjt9ZWxzZXtzaWJsaW5nPXRleHROb2RlLnByZXY7dGV4dE5vZGUucmVtb3ZlKCk7dGV4dE5vZGU9c2libGluZzt3aGlsZSh0ZXh0Tm9kZSYmdGV4dE5vZGUudHlwZT09PTMpe3RleHQ9dGV4dE5vZGUudmFsdWU7c2libGluZz10ZXh0Tm9kZS5wcmV2O2lmKHRleHQubGVuZ3RoPT09MHx8aXNBbGxXaGl0ZVNwYWNlUmVnRXhwLnRlc3QodGV4dCkpe3RleHROb2RlLnJlbW92ZSgpO3RleHROb2RlPXNpYmxpbmc7fXRleHROb2RlPXNpYmxpbmc7fX19fX1pZihpc0luV2hpdGVTcGFjZVByZXNlcnZlZEVsZW1lbnQmJndoaXRlU3BhY2VFbGVtZW50c1tuYW1lXSl7aXNJbldoaXRlU3BhY2VQcmVzZXJ2ZWRFbGVtZW50PWZhbHNlO31pZihlbGVtZW50UnVsZS5yZW1vdmVFbXB0eSYmaXNFbXB0eSQyKHNjaGVtYSxub25FbXB0eUVsZW1lbnRzLHdoaXRlU3BhY2VFbGVtZW50cyxub2RlKSl7aWYoIW5vZGUuYXR0cignbmFtZScpJiYhbm9kZS5hdHRyKCdpZCcpKXt0ZW1wTm9kZT1ub2RlLnBhcmVudDtpZihibG9ja0VsZW1lbnRzW25vZGUubmFtZV0pe25vZGUuZW1wdHkoKS5yZW1vdmUoKTt9ZWxzZXtub2RlLnVud3JhcCgpO31ub2RlPXRlbXBOb2RlO3JldHVybjt9fWlmKGVsZW1lbnRSdWxlLnBhZGRFbXB0eSYmKGlzUGFkZGVkV2l0aE5ic3Aobm9kZSl8fGlzRW1wdHkkMihzY2hlbWEsbm9uRW1wdHlFbGVtZW50cyx3aGl0ZVNwYWNlRWxlbWVudHMsbm9kZSkpKXtwYWRkRW1wdHlOb2RlKHNldHRpbmdzLGFyZ3MsYmxvY2tFbGVtZW50cyxub2RlKTt9bm9kZT1ub2RlLnBhcmVudDt9fX0sc2NoZW1hKTt2YXIgcm9vdE5vZGU9bm9kZT1uZXcgTm9kZSQxKGFyZ3MuY29udGV4dHx8c2V0dGluZ3Mucm9vdF9uYW1lLDExKTtwYXJzZXIucGFyc2UoaHRtbCk7aWYodmFsaWRhdGUmJmludmFsaWRDaGlsZHJlbi5sZW5ndGgpe2lmKCFhcmdzLmNvbnRleHQpe2ZpeEludmFsaWRDaGlsZHJlbihpbnZhbGlkQ2hpbGRyZW4pO31lbHNle2FyZ3MuaW52YWxpZD10cnVlO319aWYocm9vdEJsb2NrTmFtZSYmKHJvb3ROb2RlLm5hbWU9PT0nYm9keSd8fGFyZ3MuaXNSb290Q29udGVudCkpe2FkZFJvb3RCbG9ja3MoKTt9aWYoIWFyZ3MuaW52YWxpZCl7Zm9yKG5hbWUgaW4gbWF0Y2hlZE5vZGVzKXtpZighbWF0Y2hlZE5vZGVzLmhhc093blByb3BlcnR5KG5hbWUpKXtjb250aW51ZTt9bGlzdD1ub2RlRmlsdGVyc1tuYW1lXTtub2Rlcz1tYXRjaGVkTm9kZXNbbmFtZV07Zmk9bm9kZXMubGVuZ3RoO3doaWxlKGZpLS0pe2lmKCFub2Rlc1tmaV0ucGFyZW50KXtub2Rlcy5zcGxpY2UoZmksMSk7fX1mb3IoaT0wLGw9bGlzdC5sZW5ndGg7aTxsO2krKyl7bGlzdFtpXShub2RlcyxuYW1lLGFyZ3MpO319Zm9yKGk9MCxsPWF0dHJpYnV0ZUZpbHRlcnMubGVuZ3RoO2k8bDtpKyspe2xpc3Q9YXR0cmlidXRlRmlsdGVyc1tpXTtpZihsaXN0Lm5hbWUgaW4gbWF0Y2hlZEF0dHJpYnV0ZXMpe25vZGVzPW1hdGNoZWRBdHRyaWJ1dGVzW2xpc3QubmFtZV07Zmk9bm9kZXMubGVuZ3RoO3doaWxlKGZpLS0pe2lmKCFub2Rlc1tmaV0ucGFyZW50KXtub2Rlcy5zcGxpY2UoZmksMSk7fX1mb3IoZmk9MCxmbD1saXN0LmNhbGxiYWNrcy5sZW5ndGg7Zmk8Zmw7ZmkrKyl7bGlzdC5jYWxsYmFja3NbZmldKG5vZGVzLGxpc3QubmFtZSxhcmdzKTt9fX19cmV0dXJuIHJvb3ROb2RlO307dmFyIGV4cG9ydHM9e3NjaGVtYTpzY2hlbWEsYWRkQXR0cmlidXRlRmlsdGVyOmFkZEF0dHJpYnV0ZUZpbHRlcixnZXRBdHRyaWJ1dGVGaWx0ZXJzOmdldEF0dHJpYnV0ZUZpbHRlcnMsYWRkTm9kZUZpbHRlcjphZGROb2RlRmlsdGVyLGdldE5vZGVGaWx0ZXJzOmdldE5vZGVGaWx0ZXJzLGZpbHRlck5vZGU6ZmlsdGVyTm9kZSxwYXJzZTpwYXJzZX07cmVnaXN0ZXIkMyhleHBvcnRzLHNldHRpbmdzKTtMZWdhY3lGaWx0ZXIucmVnaXN0ZXIoZXhwb3J0cyxzZXR0aW5ncyk7cmV0dXJuIGV4cG9ydHM7fTt2YXIgYWRkVGVtcEF0dHI9ZnVuY3Rpb24gYWRkVGVtcEF0dHIoaHRtbFBhcnNlcix0ZW1wQXR0cnMsbmFtZSl7aWYoVG9vbHMuaW5BcnJheSh0ZW1wQXR0cnMsbmFtZSk9PT0tMSl7aHRtbFBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIobmFtZSxmdW5jdGlvbihub2RlcyxuYW1lKXt2YXIgaT1ub2Rlcy5sZW5ndGg7d2hpbGUoaS0tKXtub2Rlc1tpXS5hdHRyKG5hbWUsbnVsbCk7fX0pO3RlbXBBdHRycy5wdXNoKG5hbWUpO319O3ZhciBwb3N0UHJvY2VzcyQxPWZ1bmN0aW9uIHBvc3RQcm9jZXNzJDEoZWRpdG9yLGFyZ3MsY29udGVudCl7aWYoIWFyZ3Mubm9fZXZlbnRzJiZlZGl0b3Ipe3ZhciBvdXRBcmdzPUV2ZW50cy5maXJlUG9zdFByb2Nlc3MoZWRpdG9yLG1lcmdlKGFyZ3Mse2NvbnRlbnQ6Y29udGVudH0pKTtyZXR1cm4gb3V0QXJncy5jb250ZW50O31lbHNle3JldHVybiBjb250ZW50O319O3ZhciBnZXRIdG1sRnJvbU5vZGU9ZnVuY3Rpb24gZ2V0SHRtbEZyb21Ob2RlKGRvbSxub2RlLGFyZ3Mpe3ZhciBodG1sPVp3c3AudHJpbShhcmdzLmdldElubmVyP25vZGUuaW5uZXJIVE1MOmRvbS5nZXRPdXRlckhUTUwobm9kZSkpO3JldHVybiBhcmdzLnNlbGVjdGlvbnx8aXNXc1ByZXNlcnZlRWxlbWVudChFbGVtZW50LmZyb21Eb20obm9kZSkpP2h0bWw6VG9vbHMudHJpbShodG1sKTt9O3ZhciBwYXJzZUh0bWw9ZnVuY3Rpb24gcGFyc2VIdG1sKGh0bWxQYXJzZXIsaHRtbCxhcmdzKXt2YXIgcGFyc2VyQXJncz1hcmdzLnNlbGVjdGlvbj9tZXJnZSh7Zm9yY2VkX3Jvb3RfYmxvY2s6ZmFsc2V9LGFyZ3MpOmFyZ3M7dmFyIHJvb3ROb2RlPWh0bWxQYXJzZXIucGFyc2UoaHRtbCxwYXJzZXJBcmdzKTtEb21TZXJpYWxpemVyRmlsdGVycy50cmltVHJhaWxpbmdCcihyb290Tm9kZSk7cmV0dXJuIHJvb3ROb2RlO307dmFyIHNlcmlhbGl6ZU5vZGU9ZnVuY3Rpb24gc2VyaWFsaXplTm9kZShzZXR0aW5ncyxzY2hlbWEsbm9kZSl7dmFyIGh0bWxTZXJpYWxpemVyPVNlcmlhbGl6ZXIoc2V0dGluZ3Msc2NoZW1hKTtyZXR1cm4gaHRtbFNlcmlhbGl6ZXIuc2VyaWFsaXplKG5vZGUpO307dmFyIHRvSHRtbD1mdW5jdGlvbiB0b0h0bWwoZWRpdG9yLHNldHRpbmdzLHNjaGVtYSxyb290Tm9kZSxhcmdzKXt2YXIgY29udGVudD1zZXJpYWxpemVOb2RlKHNldHRpbmdzLHNjaGVtYSxyb290Tm9kZSk7cmV0dXJuIHBvc3RQcm9jZXNzJDEoZWRpdG9yLGFyZ3MsY29udGVudCk7fTt2YXIgRG9tU2VyaWFsaXplcj1mdW5jdGlvbiBEb21TZXJpYWxpemVyKHNldHRpbmdzLGVkaXRvcil7dmFyIGRvbSxzY2hlbWEsaHRtbFBhcnNlcjt2YXIgdGVtcEF0dHJzPVsnZGF0YS1tY2Utc2VsZWN0ZWQnXTtkb209ZWRpdG9yJiZlZGl0b3IuZG9tP2VkaXRvci5kb206RE9NVXRpbHMkMS5ET007c2NoZW1hPWVkaXRvciYmZWRpdG9yLnNjaGVtYT9lZGl0b3Iuc2NoZW1hOlNjaGVtYShzZXR0aW5ncyk7c2V0dGluZ3MuZW50aXR5X2VuY29kaW5nPXNldHRpbmdzLmVudGl0eV9lbmNvZGluZ3x8J25hbWVkJztzZXR0aW5ncy5yZW1vdmVfdHJhaWxpbmdfYnJzPSdyZW1vdmVfdHJhaWxpbmdfYnJzJ2luIHNldHRpbmdzP3NldHRpbmdzLnJlbW92ZV90cmFpbGluZ19icnM6dHJ1ZTtodG1sUGFyc2VyPURvbVBhcnNlcihzZXR0aW5ncyxzY2hlbWEpO0RvbVNlcmlhbGl6ZXJGaWx0ZXJzLnJlZ2lzdGVyKGh0bWxQYXJzZXIsc2V0dGluZ3MsZG9tKTt2YXIgc2VyaWFsaXplPWZ1bmN0aW9uIHNlcmlhbGl6ZShub2RlLHBhcnNlckFyZ3Mpe3ZhciBhcmdzPW1lcmdlKHtmb3JtYXQ6J2h0bWwnfSxwYXJzZXJBcmdzP3BhcnNlckFyZ3M6e30pO3ZhciB0YXJnZXROb2RlPURvbVNlcmlhbGl6ZXJQcmVQcm9jZXNzLnByb2Nlc3MoZWRpdG9yLG5vZGUsYXJncyk7dmFyIGh0bWw9Z2V0SHRtbEZyb21Ob2RlKGRvbSx0YXJnZXROb2RlLGFyZ3MpO3ZhciByb290Tm9kZT1wYXJzZUh0bWwoaHRtbFBhcnNlcixodG1sLGFyZ3MpO3JldHVybiBhcmdzLmZvcm1hdD09PSd0cmVlJz9yb290Tm9kZTp0b0h0bWwoZWRpdG9yLHNldHRpbmdzLHNjaGVtYSxyb290Tm9kZSxhcmdzKTt9O3JldHVybntzY2hlbWE6c2NoZW1hLGFkZE5vZGVGaWx0ZXI6aHRtbFBhcnNlci5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjpodG1sUGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6c2VyaWFsaXplLGFkZFJ1bGVzOmZ1bmN0aW9uIGFkZFJ1bGVzKHJ1bGVzKXtzY2hlbWEuYWRkVmFsaWRFbGVtZW50cyhydWxlcyk7fSxzZXRSdWxlczpmdW5jdGlvbiBzZXRSdWxlcyhydWxlcyl7c2NoZW1hLnNldFZhbGlkRWxlbWVudHMocnVsZXMpO30sYWRkVGVtcEF0dHI6Y3VycnkoYWRkVGVtcEF0dHIsaHRtbFBhcnNlcix0ZW1wQXR0cnMpLGdldFRlbXBBdHRyczpmdW5jdGlvbiBnZXRUZW1wQXR0cnMoKXtyZXR1cm4gdGVtcEF0dHJzO319O307dmFyIFNlcmlhbGl6ZXIkMT1mdW5jdGlvbiBTZXJpYWxpemVyJDEoc2V0dGluZ3MsZWRpdG9yKXt2YXIgZG9tU2VyaWFsaXplcj1Eb21TZXJpYWxpemVyKHNldHRpbmdzLGVkaXRvcik7cmV0dXJue3NjaGVtYTpkb21TZXJpYWxpemVyLnNjaGVtYSxhZGROb2RlRmlsdGVyOmRvbVNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcixhZGRBdHRyaWJ1dGVGaWx0ZXI6ZG9tU2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIsc2VyaWFsaXplOmRvbVNlcmlhbGl6ZXIuc2VyaWFsaXplLGFkZFJ1bGVzOmRvbVNlcmlhbGl6ZXIuYWRkUnVsZXMsc2V0UnVsZXM6ZG9tU2VyaWFsaXplci5zZXRSdWxlcyxhZGRUZW1wQXR0cjpkb21TZXJpYWxpemVyLmFkZFRlbXBBdHRyLGdldFRlbXBBdHRyczpkb21TZXJpYWxpemVyLmdldFRlbXBBdHRyc307fTtmdW5jdGlvbiBCb29rbWFya01hbmFnZXIoc2VsZWN0aW9uKXtyZXR1cm57Z2V0Qm9va21hcms6Y3VycnkoQm9va21hcmtzLmdldEJvb2ttYXJrLHNlbGVjdGlvbiksbW92ZVRvQm9va21hcms6Y3VycnkoQm9va21hcmtzLm1vdmVUb0Jvb2ttYXJrLHNlbGVjdGlvbil9O30oZnVuY3Rpb24oQm9va21hcmtNYW5hZ2VyKXtCb29rbWFya01hbmFnZXIuaXNCb29rbWFya05vZGU9Qm9va21hcmtzLmlzQm9va21hcmtOb2RlO30pKEJvb2ttYXJrTWFuYWdlcnx8KEJvb2ttYXJrTWFuYWdlcj17fSkpO3ZhciBCb29rbWFya01hbmFnZXIkMT1Cb29rbWFya01hbmFnZXI7dmFyIGlzQ29udGVudEVkaXRhYmxlRmFsc2UkYT1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlO3ZhciBpc0NvbnRlbnRFZGl0YWJsZVRydWUkNT1Ob2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZVRydWU7dmFyIGdldENvbnRlbnRFZGl0YWJsZVJvb3QkMT1mdW5jdGlvbiBnZXRDb250ZW50RWRpdGFibGVSb290JDEocm9vdCxub2RlKXt3aGlsZShub2RlJiZub2RlIT09cm9vdCl7aWYoaXNDb250ZW50RWRpdGFibGVUcnVlJDUobm9kZSl8fGlzQ29udGVudEVkaXRhYmxlRmFsc2UkYShub2RlKSl7cmV0dXJuIG5vZGU7fW5vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gbnVsbDt9O3ZhciBDb250cm9sU2VsZWN0aW9uPWZ1bmN0aW9uIENvbnRyb2xTZWxlY3Rpb24oc2VsZWN0aW9uLGVkaXRvcil7dmFyIGRvbT1lZGl0b3IuZG9tLGVhY2g9VG9vbHMuZWFjaDt2YXIgc2VsZWN0ZWRFbG0sc2VsZWN0ZWRFbG1HaG9zdCxyZXNpemVIZWxwZXIscmVzaXplSGFuZGxlcyxzZWxlY3RlZEhhbmRsZTt2YXIgc3RhcnRYLHN0YXJ0WSxzZWxlY3RlZEVsbVgsc2VsZWN0ZWRFbG1ZLHN0YXJ0VyxzdGFydEgscmF0aW8scmVzaXplU3RhcnRlZDt2YXIgd2lkdGgsaGVpZ2h0O3ZhciBlZGl0YWJsZURvYz1lZGl0b3IuZ2V0RG9jKCkscm9vdERvY3VtZW50PWRvbUdsb2JhbHMuZG9jdW1lbnQ7dmFyIGFicz1NYXRoLmFicyxyb3VuZD1NYXRoLnJvdW5kLHJvb3RFbGVtZW50PWVkaXRvci5nZXRCb2R5KCk7dmFyIHN0YXJ0U2Nyb2xsV2lkdGgsc3RhcnRTY3JvbGxIZWlnaHQ7cmVzaXplSGFuZGxlcz17bnc6WzAsMCwtMSwtMV0sbmU6WzEsMCwxLC0xXSxzZTpbMSwxLDEsMV0sc3c6WzAsMSwtMSwxXX07dmFyIGlzSW1hZ2U9ZnVuY3Rpb24gaXNJbWFnZShlbG0pe3JldHVybiBlbG0mJihlbG0ubm9kZU5hbWU9PT0nSU1HJ3x8ZWRpdG9yLmRvbS5pcyhlbG0sJ2ZpZ3VyZS5pbWFnZScpKTt9O3ZhciBpc0V2ZW50T25JbWFnZU91dHNpZGVSYW5nZT1mdW5jdGlvbiBpc0V2ZW50T25JbWFnZU91dHNpZGVSYW5nZShldnQscmFuZ2Upe2lmKGV2dC50eXBlPT09J2xvbmdwcmVzcyd8fGV2dC50eXBlLmluZGV4T2YoJ3RvdWNoJyk9PT0wKXt2YXIgdG91Y2g9ZXZ0LnRvdWNoZXNbMF07cmV0dXJuIGlzSW1hZ2UoZXZ0LnRhcmdldCkmJiFSYW5nZVBvaW50LmlzWFlXaXRoaW5SYW5nZSh0b3VjaC5jbGllbnRYLHRvdWNoLmNsaWVudFkscmFuZ2UpO31lbHNle3JldHVybiBpc0ltYWdlKGV2dC50YXJnZXQpJiYhUmFuZ2VQb2ludC5pc1hZV2l0aGluUmFuZ2UoZXZ0LmNsaWVudFgsZXZ0LmNsaWVudFkscmFuZ2UpO319O3ZhciBjb250ZXh0TWVudVNlbGVjdEltYWdlPWZ1bmN0aW9uIGNvbnRleHRNZW51U2VsZWN0SW1hZ2UoZXZ0KXt2YXIgdGFyZ2V0PWV2dC50YXJnZXQ7aWYoaXNFdmVudE9uSW1hZ2VPdXRzaWRlUmFuZ2UoZXZ0LGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpJiYhZXZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdCh0YXJnZXQpO319O3ZhciBnZXRSZXNpemVUYXJnZXQ9ZnVuY3Rpb24gZ2V0UmVzaXplVGFyZ2V0KGVsbSl7cmV0dXJuIGVkaXRvci5kb20uaXMoZWxtLCdmaWd1cmUuaW1hZ2UnKT9lbG0ucXVlcnlTZWxlY3RvcignaW1nJyk6ZWxtO307dmFyIGlzUmVzaXphYmxlPWZ1bmN0aW9uIGlzUmVzaXphYmxlKGVsbSl7dmFyIHNlbGVjdG9yPWVkaXRvci5zZXR0aW5ncy5vYmplY3RfcmVzaXppbmc7aWYoc2VsZWN0b3I9PT1mYWxzZXx8RW52LmlPUyl7cmV0dXJuIGZhbHNlO31pZih0eXBlb2Ygc2VsZWN0b3IhPT0nc3RyaW5nJyl7c2VsZWN0b3I9J3RhYmxlLGltZyxmaWd1cmUuaW1hZ2UsZGl2Jzt9aWYoZWxtLmdldEF0dHJpYnV0ZSgnZGF0YS1tY2UtcmVzaXplJyk9PT0nZmFsc2UnKXtyZXR1cm4gZmFsc2U7fWlmKGVsbT09PWVkaXRvci5nZXRCb2R5KCkpe3JldHVybiBmYWxzZTt9cmV0dXJuIGlzKEVsZW1lbnQuZnJvbURvbShlbG0pLHNlbGVjdG9yKTt9O3ZhciByZXNpemVHaG9zdEVsZW1lbnQ9ZnVuY3Rpb24gcmVzaXplR2hvc3RFbGVtZW50KGUpe3ZhciBkZWx0YVgsZGVsdGFZLHByb3BvcnRpb25hbDt2YXIgcmVzaXplSGVscGVyWCxyZXNpemVIZWxwZXJZO2RlbHRhWD1lLnNjcmVlblgtc3RhcnRYO2RlbHRhWT1lLnNjcmVlblktc3RhcnRZO3dpZHRoPWRlbHRhWCpzZWxlY3RlZEhhbmRsZVsyXStzdGFydFc7aGVpZ2h0PWRlbHRhWSpzZWxlY3RlZEhhbmRsZVszXStzdGFydEg7d2lkdGg9d2lkdGg8NT81OndpZHRoO2hlaWdodD1oZWlnaHQ8NT81OmhlaWdodDtpZihpc0ltYWdlKHNlbGVjdGVkRWxtKSYmZWRpdG9yLnNldHRpbmdzLnJlc2l6ZV9pbWdfcHJvcG9ydGlvbmFsIT09ZmFsc2Upe3Byb3BvcnRpb25hbD0hVksubW9kaWZpZXJQcmVzc2VkKGUpO31lbHNle3Byb3BvcnRpb25hbD1WSy5tb2RpZmllclByZXNzZWQoZSl8fGlzSW1hZ2Uoc2VsZWN0ZWRFbG0pJiZzZWxlY3RlZEhhbmRsZVsyXSpzZWxlY3RlZEhhbmRsZVszXSE9PTA7fWlmKHByb3BvcnRpb25hbCl7aWYoYWJzKGRlbHRhWCk+YWJzKGRlbHRhWSkpe2hlaWdodD1yb3VuZCh3aWR0aCpyYXRpbyk7d2lkdGg9cm91bmQoaGVpZ2h0L3JhdGlvKTt9ZWxzZXt3aWR0aD1yb3VuZChoZWlnaHQvcmF0aW8pO2hlaWdodD1yb3VuZCh3aWR0aCpyYXRpbyk7fX1kb20uc2V0U3R5bGVzKGdldFJlc2l6ZVRhcmdldChzZWxlY3RlZEVsbUdob3N0KSx7d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH0pO3Jlc2l6ZUhlbHBlclg9c2VsZWN0ZWRIYW5kbGUuc3RhcnRQb3MueCtkZWx0YVg7cmVzaXplSGVscGVyWT1zZWxlY3RlZEhhbmRsZS5zdGFydFBvcy55K2RlbHRhWTtyZXNpemVIZWxwZXJYPXJlc2l6ZUhlbHBlclg+MD9yZXNpemVIZWxwZXJYOjA7cmVzaXplSGVscGVyWT1yZXNpemVIZWxwZXJZPjA/cmVzaXplSGVscGVyWTowO2RvbS5zZXRTdHlsZXMocmVzaXplSGVscGVyLHtsZWZ0OnJlc2l6ZUhlbHBlclgsdG9wOnJlc2l6ZUhlbHBlclksZGlzcGxheTonYmxvY2snfSk7cmVzaXplSGVscGVyLmlubmVySFRNTD13aWR0aCsnICZ0aW1lczsgJytoZWlnaHQ7aWYoc2VsZWN0ZWRIYW5kbGVbMl08MCYmc2VsZWN0ZWRFbG1HaG9zdC5jbGllbnRXaWR0aDw9d2lkdGgpe2RvbS5zZXRTdHlsZShzZWxlY3RlZEVsbUdob3N0LCdsZWZ0JyxzZWxlY3RlZEVsbVgrKHN0YXJ0Vy13aWR0aCkpO31pZihzZWxlY3RlZEhhbmRsZVszXTwwJiZzZWxlY3RlZEVsbUdob3N0LmNsaWVudEhlaWdodDw9aGVpZ2h0KXtkb20uc2V0U3R5bGUoc2VsZWN0ZWRFbG1HaG9zdCwndG9wJyxzZWxlY3RlZEVsbVkrKHN0YXJ0SC1oZWlnaHQpKTt9ZGVsdGFYPXJvb3RFbGVtZW50LnNjcm9sbFdpZHRoLXN0YXJ0U2Nyb2xsV2lkdGg7ZGVsdGFZPXJvb3RFbGVtZW50LnNjcm9sbEhlaWdodC1zdGFydFNjcm9sbEhlaWdodDtpZihkZWx0YVgrZGVsdGFZIT09MCl7ZG9tLnNldFN0eWxlcyhyZXNpemVIZWxwZXIse2xlZnQ6cmVzaXplSGVscGVyWC1kZWx0YVgsdG9wOnJlc2l6ZUhlbHBlclktZGVsdGFZfSk7fWlmKCFyZXNpemVTdGFydGVkKXtFdmVudHMuZmlyZU9iamVjdFJlc2l6ZVN0YXJ0KGVkaXRvcixzZWxlY3RlZEVsbSxzdGFydFcsc3RhcnRIKTtyZXNpemVTdGFydGVkPXRydWU7fX07dmFyIGVuZEdob3N0UmVzaXplPWZ1bmN0aW9uIGVuZEdob3N0UmVzaXplKCl7cmVzaXplU3RhcnRlZD1mYWxzZTt2YXIgc2V0U2l6ZVByb3A9ZnVuY3Rpb24gc2V0U2l6ZVByb3AobmFtZSx2YWx1ZSl7aWYodmFsdWUpe2lmKHNlbGVjdGVkRWxtLnN0eWxlW25hbWVdfHwhZWRpdG9yLnNjaGVtYS5pc1ZhbGlkKHNlbGVjdGVkRWxtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbmFtZSkpe2RvbS5zZXRTdHlsZShnZXRSZXNpemVUYXJnZXQoc2VsZWN0ZWRFbG0pLG5hbWUsdmFsdWUpO31lbHNle2RvbS5zZXRBdHRyaWIoZ2V0UmVzaXplVGFyZ2V0KHNlbGVjdGVkRWxtKSxuYW1lLHZhbHVlKTt9fX07c2V0U2l6ZVByb3AoJ3dpZHRoJyx3aWR0aCk7c2V0U2l6ZVByb3AoJ2hlaWdodCcsaGVpZ2h0KTtkb20udW5iaW5kKGVkaXRhYmxlRG9jLCdtb3VzZW1vdmUnLHJlc2l6ZUdob3N0RWxlbWVudCk7ZG9tLnVuYmluZChlZGl0YWJsZURvYywnbW91c2V1cCcsZW5kR2hvc3RSZXNpemUpO2lmKHJvb3REb2N1bWVudCE9PWVkaXRhYmxlRG9jKXtkb20udW5iaW5kKHJvb3REb2N1bWVudCwnbW91c2Vtb3ZlJyxyZXNpemVHaG9zdEVsZW1lbnQpO2RvbS51bmJpbmQocm9vdERvY3VtZW50LCdtb3VzZXVwJyxlbmRHaG9zdFJlc2l6ZSk7fWRvbS5yZW1vdmUoc2VsZWN0ZWRFbG1HaG9zdCk7ZG9tLnJlbW92ZShyZXNpemVIZWxwZXIpO3Nob3dSZXNpemVSZWN0KHNlbGVjdGVkRWxtKTtFdmVudHMuZmlyZU9iamVjdFJlc2l6ZWQoZWRpdG9yLHNlbGVjdGVkRWxtLHdpZHRoLGhlaWdodCk7ZG9tLnNldEF0dHJpYihzZWxlY3RlZEVsbSwnc3R5bGUnLGRvbS5nZXRBdHRyaWIoc2VsZWN0ZWRFbG0sJ3N0eWxlJykpO2VkaXRvci5ub2RlQ2hhbmdlZCgpO307dmFyIHNob3dSZXNpemVSZWN0PWZ1bmN0aW9uIHNob3dSZXNpemVSZWN0KHRhcmdldEVsbSl7dmFyIHBvc2l0aW9uLHRhcmdldFdpZHRoLHRhcmdldEhlaWdodCxlLHJlY3Q7aGlkZVJlc2l6ZVJlY3QoKTt1bmJpbmRSZXNpemVIYW5kbGVFdmVudHMoKTtwb3NpdGlvbj1kb20uZ2V0UG9zKHRhcmdldEVsbSxyb290RWxlbWVudCk7c2VsZWN0ZWRFbG1YPXBvc2l0aW9uLng7c2VsZWN0ZWRFbG1ZPXBvc2l0aW9uLnk7cmVjdD10YXJnZXRFbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGFyZ2V0V2lkdGg9cmVjdC53aWR0aHx8cmVjdC5yaWdodC1yZWN0LmxlZnQ7dGFyZ2V0SGVpZ2h0PXJlY3QuaGVpZ2h0fHxyZWN0LmJvdHRvbS1yZWN0LnRvcDtpZihzZWxlY3RlZEVsbSE9PXRhcmdldEVsbSl7c2VsZWN0ZWRFbG09dGFyZ2V0RWxtO3dpZHRoPWhlaWdodD0wO31lPWVkaXRvci5maXJlKCdPYmplY3RTZWxlY3RlZCcse3RhcmdldDp0YXJnZXRFbG19KTtpZihpc1Jlc2l6YWJsZSh0YXJnZXRFbG0pJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZWFjaChyZXNpemVIYW5kbGVzLGZ1bmN0aW9uKGhhbmRsZSxuYW1lKXt2YXIgaGFuZGxlRWxtO3ZhciBzdGFydERyYWc9ZnVuY3Rpb24gc3RhcnREcmFnKGUpe3N0YXJ0WD1lLnNjcmVlblg7c3RhcnRZPWUuc2NyZWVuWTtzdGFydFc9Z2V0UmVzaXplVGFyZ2V0KHNlbGVjdGVkRWxtKS5jbGllbnRXaWR0aDtzdGFydEg9Z2V0UmVzaXplVGFyZ2V0KHNlbGVjdGVkRWxtKS5jbGllbnRIZWlnaHQ7cmF0aW89c3RhcnRIL3N0YXJ0VztzZWxlY3RlZEhhbmRsZT1oYW5kbGU7aGFuZGxlLnN0YXJ0UG9zPXt4OnRhcmdldFdpZHRoKmhhbmRsZVswXStzZWxlY3RlZEVsbVgseTp0YXJnZXRIZWlnaHQqaGFuZGxlWzFdK3NlbGVjdGVkRWxtWX07c3RhcnRTY3JvbGxXaWR0aD1yb290RWxlbWVudC5zY3JvbGxXaWR0aDtzdGFydFNjcm9sbEhlaWdodD1yb290RWxlbWVudC5zY3JvbGxIZWlnaHQ7c2VsZWN0ZWRFbG1HaG9zdD1zZWxlY3RlZEVsbS5jbG9uZU5vZGUodHJ1ZSk7ZG9tLmFkZENsYXNzKHNlbGVjdGVkRWxtR2hvc3QsJ21jZS1jbG9uZWRyZXNpemFibGUnKTtkb20uc2V0QXR0cmliKHNlbGVjdGVkRWxtR2hvc3QsJ2RhdGEtbWNlLWJvZ3VzJywnYWxsJyk7c2VsZWN0ZWRFbG1HaG9zdC5jb250ZW50RWRpdGFibGU9ZmFsc2U7c2VsZWN0ZWRFbG1HaG9zdC51blNlbGVjdGFiZT10cnVlO2RvbS5zZXRTdHlsZXMoc2VsZWN0ZWRFbG1HaG9zdCx7bGVmdDpzZWxlY3RlZEVsbVgsdG9wOnNlbGVjdGVkRWxtWSxtYXJnaW46MH0pO3NlbGVjdGVkRWxtR2hvc3QucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS1zZWxlY3RlZCcpO3Jvb3RFbGVtZW50LmFwcGVuZENoaWxkKHNlbGVjdGVkRWxtR2hvc3QpO2RvbS5iaW5kKGVkaXRhYmxlRG9jLCdtb3VzZW1vdmUnLHJlc2l6ZUdob3N0RWxlbWVudCk7ZG9tLmJpbmQoZWRpdGFibGVEb2MsJ21vdXNldXAnLGVuZEdob3N0UmVzaXplKTtpZihyb290RG9jdW1lbnQhPT1lZGl0YWJsZURvYyl7ZG9tLmJpbmQocm9vdERvY3VtZW50LCdtb3VzZW1vdmUnLHJlc2l6ZUdob3N0RWxlbWVudCk7ZG9tLmJpbmQocm9vdERvY3VtZW50LCdtb3VzZXVwJyxlbmRHaG9zdFJlc2l6ZSk7fXJlc2l6ZUhlbHBlcj1kb20uYWRkKHJvb3RFbGVtZW50LCdkaXYnLHsnY2xhc3MnOidtY2UtcmVzaXplLWhlbHBlcicsJ2RhdGEtbWNlLWJvZ3VzJzonYWxsJ30sc3RhcnRXKycgJnRpbWVzOyAnK3N0YXJ0SCk7fTtoYW5kbGVFbG09ZG9tLmdldCgnbWNlUmVzaXplSGFuZGxlJytuYW1lKTtpZihoYW5kbGVFbG0pe2RvbS5yZW1vdmUoaGFuZGxlRWxtKTt9aGFuZGxlRWxtPWRvbS5hZGQocm9vdEVsZW1lbnQsJ2RpdicseydpZCc6J21jZVJlc2l6ZUhhbmRsZScrbmFtZSwnZGF0YS1tY2UtYm9ndXMnOidhbGwnLCdjbGFzcyc6J21jZS1yZXNpemVoYW5kbGUnLCd1bnNlbGVjdGFibGUnOnRydWUsJ3N0eWxlJzonY3Vyc29yOicrbmFtZSsnLXJlc2l6ZTsgbWFyZ2luOjA7IHBhZGRpbmc6MCd9KTtpZihFbnYuaWU9PT0xMSl7aGFuZGxlRWxtLmNvbnRlbnRFZGl0YWJsZT1mYWxzZTt9ZG9tLmJpbmQoaGFuZGxlRWxtLCdtb3VzZWRvd24nLGZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZS5wcmV2ZW50RGVmYXVsdCgpO3N0YXJ0RHJhZyhlKTt9KTtoYW5kbGUuZWxtPWhhbmRsZUVsbTtkb20uc2V0U3R5bGVzKGhhbmRsZUVsbSx7bGVmdDp0YXJnZXRXaWR0aCpoYW5kbGVbMF0rc2VsZWN0ZWRFbG1YLWhhbmRsZUVsbS5vZmZzZXRXaWR0aC8yLHRvcDp0YXJnZXRIZWlnaHQqaGFuZGxlWzFdK3NlbGVjdGVkRWxtWS1oYW5kbGVFbG0ub2Zmc2V0SGVpZ2h0LzJ9KTt9KTt9ZWxzZXtoaWRlUmVzaXplUmVjdCgpO31zZWxlY3RlZEVsbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLXNlbGVjdGVkJywnMScpO307dmFyIGhpZGVSZXNpemVSZWN0PWZ1bmN0aW9uIGhpZGVSZXNpemVSZWN0KCl7dmFyIG5hbWUsaGFuZGxlRWxtO3VuYmluZFJlc2l6ZUhhbmRsZUV2ZW50cygpO2lmKHNlbGVjdGVkRWxtKXtzZWxlY3RlZEVsbS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWNlLXNlbGVjdGVkJyk7fWZvcihuYW1lIGluIHJlc2l6ZUhhbmRsZXMpe2hhbmRsZUVsbT1kb20uZ2V0KCdtY2VSZXNpemVIYW5kbGUnK25hbWUpO2lmKGhhbmRsZUVsbSl7ZG9tLnVuYmluZChoYW5kbGVFbG0pO2RvbS5yZW1vdmUoaGFuZGxlRWxtKTt9fX07dmFyIHVwZGF0ZVJlc2l6ZVJlY3Q9ZnVuY3Rpb24gdXBkYXRlUmVzaXplUmVjdChlKXt2YXIgc3RhcnRFbG0sY29udHJvbEVsbTt2YXIgaXNDaGlsZE9yRXF1YWw9ZnVuY3Rpb24gaXNDaGlsZE9yRXF1YWwobm9kZSxwYXJlbnQpe2lmKG5vZGUpe2Rve2lmKG5vZGU9PT1wYXJlbnQpe3JldHVybiB0cnVlO319d2hpbGUobm9kZT1ub2RlLnBhcmVudE5vZGUpO319O2lmKHJlc2l6ZVN0YXJ0ZWR8fGVkaXRvci5yZW1vdmVkKXtyZXR1cm47fWVhY2goZG9tLnNlbGVjdCgnaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0nKSxmdW5jdGlvbihpbWcpe2ltZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWNlLXNlbGVjdGVkJyk7fSk7Y29udHJvbEVsbT1lLnR5cGU9PT0nbW91c2Vkb3duJz9lLnRhcmdldDpzZWxlY3Rpb24uZ2V0Tm9kZSgpO2NvbnRyb2xFbG09ZG9tLiQoY29udHJvbEVsbSkuY2xvc2VzdCgndGFibGUsaW1nLGZpZ3VyZS5pbWFnZSxocicpWzBdO2lmKGlzQ2hpbGRPckVxdWFsKGNvbnRyb2xFbG0scm9vdEVsZW1lbnQpKXtkaXNhYmxlR2Vja29SZXNpemUoKTtzdGFydEVsbT1zZWxlY3Rpb24uZ2V0U3RhcnQodHJ1ZSk7aWYoaXNDaGlsZE9yRXF1YWwoc3RhcnRFbG0sY29udHJvbEVsbSkmJmlzQ2hpbGRPckVxdWFsKHNlbGVjdGlvbi5nZXRFbmQodHJ1ZSksY29udHJvbEVsbSkpe3Nob3dSZXNpemVSZWN0KGNvbnRyb2xFbG0pO3JldHVybjt9fWhpZGVSZXNpemVSZWN0KCk7fTt2YXIgaXNXaXRoaW5Db250ZW50RWRpdGFibGVGYWxzZT1mdW5jdGlvbiBpc1dpdGhpbkNvbnRlbnRFZGl0YWJsZUZhbHNlKGVsbSl7cmV0dXJuIGlzQ29udGVudEVkaXRhYmxlRmFsc2UkYShnZXRDb250ZW50RWRpdGFibGVSb290JDEoZWRpdG9yLmdldEJvZHkoKSxlbG0pKTt9O3ZhciB1bmJpbmRSZXNpemVIYW5kbGVFdmVudHM9ZnVuY3Rpb24gdW5iaW5kUmVzaXplSGFuZGxlRXZlbnRzKCl7Zm9yKHZhciBuYW1lIGluIHJlc2l6ZUhhbmRsZXMpe3ZhciBoYW5kbGU9cmVzaXplSGFuZGxlc1tuYW1lXTtpZihoYW5kbGUuZWxtKXtkb20udW5iaW5kKGhhbmRsZS5lbG0pO2RlbGV0ZSBoYW5kbGUuZWxtO319fTt2YXIgZGlzYWJsZUdlY2tvUmVzaXplPWZ1bmN0aW9uIGRpc2FibGVHZWNrb1Jlc2l6ZSgpe3RyeXtlZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoJ2VuYWJsZU9iamVjdFJlc2l6aW5nJyxmYWxzZSxmYWxzZSk7fWNhdGNoKGV4KXt9fTtlZGl0b3Iub24oJ2luaXQnLGZ1bmN0aW9uKCl7ZGlzYWJsZUdlY2tvUmVzaXplKCk7aWYoRW52LmJyb3dzZXIuaXNJRSgpfHxFbnYuYnJvd3Nlci5pc0VkZ2UoKSl7ZWRpdG9yLm9uKCdtb3VzZWRvd24gY2xpY2snLGZ1bmN0aW9uKGUpe3ZhciB0YXJnZXQ9ZS50YXJnZXQsbm9kZU5hbWU9dGFyZ2V0Lm5vZGVOYW1lO2lmKCFyZXNpemVTdGFydGVkJiYvXihUQUJMRXxJTUd8SFIpJC8udGVzdChub2RlTmFtZSkmJiFpc1dpdGhpbkNvbnRlbnRFZGl0YWJsZUZhbHNlKHRhcmdldCkpe2lmKGUuYnV0dG9uIT09Mil7ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3QodGFyZ2V0LG5vZGVOYW1lPT09J1RBQkxFJyk7fWlmKGUudHlwZT09PSdtb3VzZWRvd24nKXtlZGl0b3Iubm9kZUNoYW5nZWQoKTt9fX0pO2VkaXRvci5kb20uYmluZChyb290RWxlbWVudCwnbXNjb250cm9sc2VsZWN0JyxmdW5jdGlvbihlKXt2YXIgZGVsYXllZFNlbGVjdD1mdW5jdGlvbiBkZWxheWVkU2VsZWN0KG5vZGUpe0RlbGF5LnNldEVkaXRvclRpbWVvdXQoZWRpdG9yLGZ1bmN0aW9uKCl7ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3Qobm9kZSk7fSk7fTtpZihpc1dpdGhpbkNvbnRlbnRFZGl0YWJsZUZhbHNlKGUudGFyZ2V0KSl7ZS5wcmV2ZW50RGVmYXVsdCgpO2RlbGF5ZWRTZWxlY3QoZS50YXJnZXQpO3JldHVybjt9aWYoL14oVEFCTEV8SU1HfEhSKSQvLnRlc3QoZS50YXJnZXQubm9kZU5hbWUpKXtlLnByZXZlbnREZWZhdWx0KCk7aWYoZS50YXJnZXQudGFnTmFtZT09PSdJTUcnKXtkZWxheWVkU2VsZWN0KGUudGFyZ2V0KTt9fX0pO312YXIgdGhyb3R0bGVkVXBkYXRlUmVzaXplUmVjdD1EZWxheS50aHJvdHRsZShmdW5jdGlvbihlKXtpZighZWRpdG9yLmNvbXBvc2luZyl7dXBkYXRlUmVzaXplUmVjdChlKTt9fSk7ZWRpdG9yLm9uKCdub2RlY2hhbmdlIFJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgZHJvcCBGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkJyx0aHJvdHRsZWRVcGRhdGVSZXNpemVSZWN0KTtlZGl0b3Iub24oJ2tleXVwIGNvbXBvc2l0aW9uZW5kJyxmdW5jdGlvbihlKXtpZihzZWxlY3RlZEVsbSYmc2VsZWN0ZWRFbG0ubm9kZU5hbWU9PT0nVEFCTEUnKXt0aHJvdHRsZWRVcGRhdGVSZXNpemVSZWN0KGUpO319KTtlZGl0b3Iub24oJ2hpZGUgYmx1cicsaGlkZVJlc2l6ZVJlY3QpO2VkaXRvci5vbignY29udGV4dG1lbnUgbG9uZ3ByZXNzJyxjb250ZXh0TWVudVNlbGVjdEltYWdlLHRydWUpO30pO2VkaXRvci5vbigncmVtb3ZlJyx1bmJpbmRSZXNpemVIYW5kbGVFdmVudHMpO3ZhciBkZXN0cm95PWZ1bmN0aW9uIGRlc3Ryb3koKXtzZWxlY3RlZEVsbT1zZWxlY3RlZEVsbUdob3N0PW51bGw7fTtyZXR1cm57aXNSZXNpemFibGU6aXNSZXNpemFibGUsc2hvd1Jlc2l6ZVJlY3Q6c2hvd1Jlc2l6ZVJlY3QsaGlkZVJlc2l6ZVJlY3Q6aGlkZVJlc2l6ZVJlY3QsdXBkYXRlUmVzaXplUmVjdDp1cGRhdGVSZXNpemVSZWN0LGRlc3Ryb3k6ZGVzdHJveX07fTtmdW5jdGlvbiBEaW1lbnNpb24obmFtZSxnZXRPZmZzZXQpe3ZhciBzZXQ9ZnVuY3Rpb24gc2V0KGVsZW1lbnQsaCl7aWYoIWlzTnVtYmVyKGgpJiYhaC5tYXRjaCgvXlswLTldKyQvKSl7dGhyb3cgbmV3IEVycm9yKG5hbWUrJy5zZXQgYWNjZXB0cyBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLiBWYWx1ZSB3YXMgJytoKTt9dmFyIGRvbT1lbGVtZW50LmRvbSgpO2lmKGlzU3VwcG9ydGVkKGRvbSkpe2RvbS5zdHlsZVtuYW1lXT1oKydweCc7fX07dmFyIGdldD1mdW5jdGlvbiBnZXQoZWxlbWVudCl7dmFyIHI9Z2V0T2Zmc2V0KGVsZW1lbnQpO2lmKHI8PTB8fHI9PT1udWxsKXt2YXIgY3NzPWdldCQyKGVsZW1lbnQsbmFtZSk7cmV0dXJuIHBhcnNlRmxvYXQoY3NzKXx8MDt9cmV0dXJuIHI7fTt2YXIgZ2V0T3V0ZXI9Z2V0O3ZhciBhZ2dyZWdhdGU9ZnVuY3Rpb24gYWdncmVnYXRlKGVsZW1lbnQscHJvcGVydGllcyl7cmV0dXJuIGZvbGRsKHByb3BlcnRpZXMsZnVuY3Rpb24oYWNjLHByb3BlcnR5KXt2YXIgdmFsPWdldCQyKGVsZW1lbnQscHJvcGVydHkpO3ZhciB2YWx1ZT12YWw9PT11bmRlZmluZWQ/MDpwYXJzZUludCh2YWwsMTApO3JldHVybiBpc05hTih2YWx1ZSk/YWNjOmFjYyt2YWx1ZTt9LDApO307dmFyIG1heD1mdW5jdGlvbiBtYXgoZWxlbWVudCx2YWx1ZSxwcm9wZXJ0aWVzKXt2YXIgY3VtdWxhdGl2ZUluY2x1c2lvbnM9YWdncmVnYXRlKGVsZW1lbnQscHJvcGVydGllcyk7dmFyIGFic29sdXRlTWF4PXZhbHVlPmN1bXVsYXRpdmVJbmNsdXNpb25zP3ZhbHVlLWN1bXVsYXRpdmVJbmNsdXNpb25zOjA7cmV0dXJuIGFic29sdXRlTWF4O307cmV0dXJue3NldDpzZXQsZ2V0OmdldCxnZXRPdXRlcjpnZXRPdXRlcixhZ2dyZWdhdGU6YWdncmVnYXRlLG1heDptYXh9O312YXIgYXBpJDE9RGltZW5zaW9uKCdoZWlnaHQnLGZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBkb209ZWxlbWVudC5kb20oKTtyZXR1cm4gaW5Cb2R5KGVsZW1lbnQpP2RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ6ZG9tLm9mZnNldEhlaWdodDt9KTt2YXIgZ2V0JDg9ZnVuY3Rpb24gZ2V0JDgoZWxlbWVudCl7cmV0dXJuIGFwaSQxLmdldChlbGVtZW50KTt9O3ZhciB3YWxrVXA9ZnVuY3Rpb24gd2Fsa1VwKG5hdmlnYXRpb24sZG9jKXt2YXIgZnJhbWU9bmF2aWdhdGlvbi52aWV3KGRvYyk7cmV0dXJuIGZyYW1lLmZvbGQoY29uc3RhbnQoW10pLGZ1bmN0aW9uKGYpe3ZhciBwYXJlbnQ9bmF2aWdhdGlvbi5vd25lcihmKTt2YXIgcmVzdD13YWxrVXAobmF2aWdhdGlvbixwYXJlbnQpO3JldHVybltmXS5jb25jYXQocmVzdCk7fSk7fTt2YXIgcGF0aFRvPWZ1bmN0aW9uIHBhdGhUbyhlbGVtZW50LG5hdmlnYXRpb24pe3ZhciBkPW5hdmlnYXRpb24ub3duZXIoZWxlbWVudCk7cmV0dXJuIHdhbGtVcChuYXZpZ2F0aW9uLGQpO307dmFyIHZpZXc9ZnVuY3Rpb24gdmlldyhkb2Mpe3ZhciBlbGVtZW50PWRvYy5kb20oKT09PWRvbUdsb2JhbHMuZG9jdW1lbnQ/T3B0aW9uLm5vbmUoKTpPcHRpb24uZnJvbShkb2MuZG9tKCkuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50KTtyZXR1cm4gZWxlbWVudC5tYXAoRWxlbWVudC5mcm9tRG9tKTt9O3ZhciBvd25lciQxPWZ1bmN0aW9uIG93bmVyJDEoZWxlbWVudCl7cmV0dXJuIG93bmVyKGVsZW1lbnQpO307dmFyIE5hdmlnYXRpb249LyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe3ZpZXc6dmlldyxvd25lcjpvd25lciQxfSk7dmFyIGZpbmQkND1mdW5jdGlvbiBmaW5kJDQoZWxlbWVudCl7dmFyIGRvYz1FbGVtZW50LmZyb21Eb20oZG9tR2xvYmFscy5kb2N1bWVudCk7dmFyIHNjcm9sbD1nZXQkMyhkb2MpO3ZhciBmcmFtZXM9cGF0aFRvKGVsZW1lbnQsTmF2aWdhdGlvbik7dmFyIG9mZnNldD12aWV3cG9ydChlbGVtZW50KTt2YXIgcj1mb2xkcihmcmFtZXMsZnVuY3Rpb24oYixhKXt2YXIgbG9jPXZpZXdwb3J0KGEpO3JldHVybntsZWZ0OmIubGVmdCtsb2MubGVmdCgpLHRvcDpiLnRvcCtsb2MudG9wKCl9O30se2xlZnQ6MCx0b3A6MH0pO3JldHVybiBQb3NpdGlvbiQxKHIubGVmdCtvZmZzZXQubGVmdCgpK3Njcm9sbC5sZWZ0KCksci50b3Arb2Zmc2V0LnRvcCgpK3Njcm9sbC50b3AoKSk7fTt2YXIgZXhjbHVkZUZyb21EZXNjZW5kPWZ1bmN0aW9uIGV4Y2x1ZGVGcm9tRGVzY2VuZChlbGVtZW50KXtyZXR1cm4gbmFtZShlbGVtZW50KT09PSd0ZXh0YXJlYSc7fTt2YXIgZGVzY2VuZD1mdW5jdGlvbiBkZXNjZW5kKGVsZW1lbnQsb2Zmc2V0KXt2YXIgY2hpbGRyZW4kMT1jaGlsZHJlbihlbGVtZW50KTtpZihjaGlsZHJlbiQxLmxlbmd0aD09PTB8fGV4Y2x1ZGVGcm9tRGVzY2VuZChlbGVtZW50KSl7cmV0dXJue2VsZW1lbnQ6ZWxlbWVudCxvZmZzZXQ6b2Zmc2V0fTt9ZWxzZSBpZihvZmZzZXQ8Y2hpbGRyZW4kMS5sZW5ndGgmJiFleGNsdWRlRnJvbURlc2NlbmQoY2hpbGRyZW4kMVtvZmZzZXRdKSl7cmV0dXJue2VsZW1lbnQ6Y2hpbGRyZW4kMVtvZmZzZXRdLG9mZnNldDowfTt9ZWxzZXt2YXIgbGFzdD1jaGlsZHJlbiQxW2NoaWxkcmVuJDEubGVuZ3RoLTFdO2lmKGV4Y2x1ZGVGcm9tRGVzY2VuZChsYXN0KSl7cmV0dXJue2VsZW1lbnQ6ZWxlbWVudCxvZmZzZXQ6b2Zmc2V0fTt9ZWxzZXtpZihuYW1lKGxhc3QpPT09J2ltZycpe3JldHVybntlbGVtZW50Omxhc3Qsb2Zmc2V0OjF9O31lbHNlIGlmKGlzVGV4dCQxKGxhc3QpKXtyZXR1cm57ZWxlbWVudDpsYXN0LG9mZnNldDpnZXQkNihsYXN0KS5sZW5ndGh9O31lbHNle3JldHVybntlbGVtZW50Omxhc3Qsb2Zmc2V0OmNoaWxkcmVuKGxhc3QpLmxlbmd0aH07fX19fTt2YXIgbWFya2VySW5mbz1mdW5jdGlvbiBtYXJrZXJJbmZvKGVsZW1lbnQsY2xlYW51cEZ1bil7dmFyIHBvcz1hYnNvbHV0ZShlbGVtZW50KTt2YXIgaGVpZ2h0PWdldCQ4KGVsZW1lbnQpO3JldHVybntlbGVtZW50OmVsZW1lbnQsYm90dG9tOnBvcy50b3AoKStoZWlnaHQscG9zOnBvcyxjbGVhbnVwOmNsZWFudXBGdW59O307dmFyIGNyZWF0ZU1hcmtlcj1mdW5jdGlvbiBjcmVhdGVNYXJrZXIoZWxlbWVudCxvZmZzZXQpe3ZhciBzdGFydFBvaW50PWRlc2NlbmQoZWxlbWVudCxvZmZzZXQpO3ZhciBzcGFuPUVsZW1lbnQuZnJvbUh0bWwoJzxzcGFuIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPicrWndzcC5aV1NQKyc8L3NwYW4+Jyk7YmVmb3JlKHN0YXJ0UG9pbnQuZWxlbWVudCxzcGFuKTtyZXR1cm4gbWFya2VySW5mbyhzcGFuLGZ1bmN0aW9uKCl7cmV0dXJuIHJlbW92ZSQxKHNwYW4pO30pO307dmFyIGVsZW1lbnRNYXJrZXI9ZnVuY3Rpb24gZWxlbWVudE1hcmtlcihlbGVtZW50KXtyZXR1cm4gbWFya2VySW5mbyhFbGVtZW50LmZyb21Eb20oZWxlbWVudCksbm9vcCk7fTt2YXIgd2l0aE1hcmtlcj1mdW5jdGlvbiB3aXRoTWFya2VyKGVkaXRvcixmLHJuZyxhbGlnblRvVG9wKXtwcmVzZXJ2ZVdpdGgoZWRpdG9yLGZ1bmN0aW9uKF9zLF9lKXtyZXR1cm4gYXBwbHlXaXRoTWFya2VyKGVkaXRvcixmLHJuZyxhbGlnblRvVG9wKTt9LHJuZyk7fTt2YXIgYXBwbHlXaXRoTWFya2VyPWZ1bmN0aW9uIGFwcGx5V2l0aE1hcmtlcihlZGl0b3IsZixybmcsYWxpZ25Ub1RvcCl7dmFyIGJvZHk9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBkb2M9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXREb2MoKSk7cmVmbG93KGJvZHkpO3ZhciBzY3JvbGxUb3A9Z2V0JDMoZG9jKS50b3AoKTt2YXIgbWFya2VyPWNyZWF0ZU1hcmtlcihFbGVtZW50LmZyb21Eb20ocm5nLnN0YXJ0Q29udGFpbmVyKSxybmcuc3RhcnRPZmZzZXQpO2YoZG9jLHNjcm9sbFRvcCxtYXJrZXIsYWxpZ25Ub1RvcCk7bWFya2VyLmNsZWFudXAoKTt9O3ZhciB3aXRoRWxlbWVudD1mdW5jdGlvbiB3aXRoRWxlbWVudChlZGl0b3IsZWxlbWVudCxmLGFsaWduVG9Ub3Ape3ZhciBkb2M9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXREb2MoKSk7dmFyIHNjcm9sbFRvcD1nZXQkMyhkb2MpLnRvcCgpO2YoZG9jLHNjcm9sbFRvcCxlbGVtZW50LGFsaWduVG9Ub3ApO307dmFyIHByZXNlcnZlV2l0aD1mdW5jdGlvbiBwcmVzZXJ2ZVdpdGgoZWRpdG9yLGYscm5nKXt2YXIgc3RhcnRFbGVtZW50PXJuZy5zdGFydENvbnRhaW5lcjt2YXIgc3RhcnRPZmZzZXQ9cm5nLnN0YXJ0T2Zmc2V0O3ZhciBlbmRFbGVtZW50PXJuZy5lbmRDb250YWluZXI7dmFyIGVuZE9mZnNldD1ybmcuZW5kT2Zmc2V0O2YoRWxlbWVudC5mcm9tRG9tKHN0YXJ0RWxlbWVudCksRWxlbWVudC5mcm9tRG9tKGVuZEVsZW1lbnQpKTt2YXIgbmV3Um5nPWVkaXRvci5kb20uY3JlYXRlUm5nKCk7bmV3Um5nLnNldFN0YXJ0KHN0YXJ0RWxlbWVudCxzdGFydE9mZnNldCk7bmV3Um5nLnNldEVuZChlbmRFbGVtZW50LGVuZE9mZnNldCk7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocm5nKTt9O3ZhciBmaXJlU2Nyb2xsSW50b1ZpZXdFdmVudD1mdW5jdGlvbiBmaXJlU2Nyb2xsSW50b1ZpZXdFdmVudChlZGl0b3IsZWxtLGFsaWduVG9Ub3Ape3ZhciBzY3JvbGxFdmVudD1lZGl0b3IuZmlyZSgnU2Nyb2xsSW50b1ZpZXcnLHtlbG06ZWxtLGFsaWduVG9Ub3A6YWxpZ25Ub1RvcH0pO3JldHVybiBzY3JvbGxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKTt9O3ZhciBzY3JvbGxUbz1mdW5jdGlvbiBzY3JvbGxUbyhtYXJrZXIsdmlld0hlaWdodCxhbGlnblRvVG9wLGRvYyl7dmFyIHBvcz1tYXJrZXIucG9zO2lmKGFsaWduVG9Ub3Ape3RvKHBvcy5sZWZ0KCkscG9zLnRvcCgpLGRvYyk7fWVsc2V7dmFyIHk9cG9zLnRvcCgpLXZpZXdIZWlnaHQrKG1hcmtlci5ib3R0b20tcG9zLnRvcCgpKTt0byhwb3MubGVmdCgpLHksZG9jKTt9fTt2YXIgaW50b1dpbmRvd0lmTmVlZGVkPWZ1bmN0aW9uIGludG9XaW5kb3dJZk5lZWRlZChkb2Msc2Nyb2xsVG9wLHZpZXdIZWlnaHQsbWFya2VyLGFsaWduVG9Ub3Ape2lmKG1hcmtlci5wb3MudG9wKCk8c2Nyb2xsVG9wKXtzY3JvbGxUbyhtYXJrZXIsdmlld0hlaWdodCxhbGlnblRvVG9wIT09ZmFsc2UsZG9jKTt9ZWxzZSBpZihtYXJrZXIuYm90dG9tPnZpZXdIZWlnaHQrc2Nyb2xsVG9wKXtzY3JvbGxUbyhtYXJrZXIsdmlld0hlaWdodCxhbGlnblRvVG9wPT09dHJ1ZSxkb2MpO319O3ZhciBpbnRvV2luZG93PWZ1bmN0aW9uIGludG9XaW5kb3coZG9jLHNjcm9sbFRvcCxtYXJrZXIsYWxpZ25Ub1RvcCl7dmFyIHZpZXdIZWlnaHQ9ZG9jLmRvbSgpLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O2ludG9XaW5kb3dJZk5lZWRlZChkb2Msc2Nyb2xsVG9wLHZpZXdIZWlnaHQsbWFya2VyLGFsaWduVG9Ub3ApO307dmFyIGludG9GcmFtZT1mdW5jdGlvbiBpbnRvRnJhbWUoZWRpdG9yLGRvYyxzY3JvbGxUb3AsbWFya2VyLGFsaWduVG9Ub3Ape3ZhciBmcmFtZVZpZXdIZWlnaHQ9ZG9jLmRvbSgpLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O2ludG9XaW5kb3dJZk5lZWRlZChkb2Msc2Nyb2xsVG9wLGZyYW1lVmlld0hlaWdodCxtYXJrZXIsYWxpZ25Ub1RvcCk7dmFyIG9wPWZpbmQkNChtYXJrZXIuZWxlbWVudCk7dmFyIHZpZXdwb3J0Qm91bmRzPWdldEJvdW5kcyhkb21HbG9iYWxzLndpbmRvdyk7aWYob3AudG9wKCk8dmlld3BvcnRCb3VuZHMueSgpKXtpbnRvVmlldyhtYXJrZXIuZWxlbWVudCxhbGlnblRvVG9wIT09ZmFsc2UpO31lbHNlIGlmKG9wLnRvcCgpPnZpZXdwb3J0Qm91bmRzLmJvdHRvbSgpKXtpbnRvVmlldyhtYXJrZXIuZWxlbWVudCxhbGlnblRvVG9wPT09dHJ1ZSk7fX07dmFyIHJhbmdlSW50b1dpbmRvdz1mdW5jdGlvbiByYW5nZUludG9XaW5kb3coZWRpdG9yLHJuZyxhbGlnblRvVG9wKXtyZXR1cm4gd2l0aE1hcmtlcihlZGl0b3IsY3VycnkoaW50b1dpbmRvdykscm5nLGFsaWduVG9Ub3ApO307dmFyIGVsZW1lbnRJbnRvV2luZG93PWZ1bmN0aW9uIGVsZW1lbnRJbnRvV2luZG93KGVkaXRvcixlbGVtZW50LGFsaWduVG9Ub3Ape3JldHVybiB3aXRoRWxlbWVudChlZGl0b3IsZWxlbWVudE1hcmtlcihlbGVtZW50KSxjdXJyeShpbnRvV2luZG93KSxhbGlnblRvVG9wKTt9O3ZhciByYW5nZUludG9GcmFtZT1mdW5jdGlvbiByYW5nZUludG9GcmFtZShlZGl0b3Iscm5nLGFsaWduVG9Ub3Ape3JldHVybiB3aXRoTWFya2VyKGVkaXRvcixjdXJyeShpbnRvRnJhbWUsZWRpdG9yKSxybmcsYWxpZ25Ub1RvcCk7fTt2YXIgZWxlbWVudEludG9GcmFtZT1mdW5jdGlvbiBlbGVtZW50SW50b0ZyYW1lKGVkaXRvcixlbGVtZW50LGFsaWduVG9Ub3Ape3JldHVybiB3aXRoRWxlbWVudChlZGl0b3IsZWxlbWVudE1hcmtlcihlbGVtZW50KSxjdXJyeShpbnRvRnJhbWUsZWRpdG9yKSxhbGlnblRvVG9wKTt9O3ZhciBlbGVtZW50SW50b1ZpZXc9ZnVuY3Rpb24gZWxlbWVudEludG9WaWV3KGVkaXRvcixlbGVtZW50LGFsaWduVG9Ub3Ape2lmKGZpcmVTY3JvbGxJbnRvVmlld0V2ZW50KGVkaXRvcixlbGVtZW50LGFsaWduVG9Ub3ApKXtyZXR1cm47fXZhciBzY3JvbGxlcj1lZGl0b3IuaW5saW5lP2VsZW1lbnRJbnRvV2luZG93OmVsZW1lbnRJbnRvRnJhbWU7c2Nyb2xsZXIoZWRpdG9yLGVsZW1lbnQsYWxpZ25Ub1RvcCk7fTt2YXIgcmFuZ2VJbnRvVmlldz1mdW5jdGlvbiByYW5nZUludG9WaWV3KGVkaXRvcixybmcsYWxpZ25Ub1RvcCl7dmFyIHNjcm9sbGVyPWVkaXRvci5pbmxpbmU/cmFuZ2VJbnRvV2luZG93OnJhbmdlSW50b0ZyYW1lO3Njcm9sbGVyKGVkaXRvcixybmcsYWxpZ25Ub1RvcCk7fTt2YXIgU2Nyb2xsSW50b1ZpZXc9e3Njcm9sbEVsZW1lbnRJbnRvVmlldzplbGVtZW50SW50b1ZpZXcsc2Nyb2xsUmFuZ2VJbnRvVmlldzpyYW5nZUludG9WaWV3fTt2YXIgaGFzQ2VQcm9wZXJ0eT1mdW5jdGlvbiBoYXNDZVByb3BlcnR5KG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZVRydWUobm9kZSl8fE5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSk7fTt2YXIgZmluZFBhcmVudD1mdW5jdGlvbiBmaW5kUGFyZW50KG5vZGUscm9vdE5vZGUscHJlZGljYXRlKXt3aGlsZShub2RlJiZub2RlIT09cm9vdE5vZGUpe2lmKHByZWRpY2F0ZShub2RlKSl7cmV0dXJuIG5vZGU7fW5vZGU9bm9kZS5wYXJlbnROb2RlO31yZXR1cm4gbnVsbDt9O3ZhciBmaW5kQ2xvc2VzdEllUmFuZ2U9ZnVuY3Rpb24gZmluZENsb3Nlc3RJZVJhbmdlKGNsaWVudFgsY2xpZW50WSxkb2Mpe3ZhciBlbGVtZW50LHJuZyxyZWN0cztlbGVtZW50PWRvYy5lbGVtZW50RnJvbVBvaW50KGNsaWVudFgsY2xpZW50WSk7cm5nPWRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2lmKCFlbGVtZW50fHxlbGVtZW50LnRhZ05hbWU9PT0nSFRNTCcpe2VsZW1lbnQ9ZG9jLmJvZHk7fXJuZy5tb3ZlVG9FbGVtZW50VGV4dChlbGVtZW50KTtyZWN0cz1Ub29scy50b0FycmF5KHJuZy5nZXRDbGllbnRSZWN0cygpKTtyZWN0cz1yZWN0cy5zb3J0KGZ1bmN0aW9uKGEsYil7YT1NYXRoLmFicyhNYXRoLm1heChhLnRvcC1jbGllbnRZLGEuYm90dG9tLWNsaWVudFkpKTtiPU1hdGguYWJzKE1hdGgubWF4KGIudG9wLWNsaWVudFksYi5ib3R0b20tY2xpZW50WSkpO3JldHVybiBhLWI7fSk7aWYocmVjdHMubGVuZ3RoPjApe2NsaWVudFk9KHJlY3RzWzBdLmJvdHRvbStyZWN0c1swXS50b3ApLzI7dHJ5e3JuZy5tb3ZlVG9Qb2ludChjbGllbnRYLGNsaWVudFkpO3JuZy5jb2xsYXBzZSh0cnVlKTtyZXR1cm4gcm5nO31jYXRjaChleCl7fX1yZXR1cm4gbnVsbDt9O3ZhciBtb3ZlT3V0T2ZDb250ZW50RWRpdGFibGVGYWxzZT1mdW5jdGlvbiBtb3ZlT3V0T2ZDb250ZW50RWRpdGFibGVGYWxzZShybmcscm9vdE5vZGUpe3ZhciBwYXJlbnRFbGVtZW50PXJuZyYmcm5nLnBhcmVudEVsZW1lbnQ/cm5nLnBhcmVudEVsZW1lbnQoKTpudWxsO3JldHVybiBOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKGZpbmRQYXJlbnQocGFyZW50RWxlbWVudCxyb290Tm9kZSxoYXNDZVByb3BlcnR5KSk/bnVsbDpybmc7fTt2YXIgZnJvbVBvaW50JDE9ZnVuY3Rpb24gZnJvbVBvaW50JDEoY2xpZW50WCxjbGllbnRZLGRvYyl7dmFyIHJuZyxwb2ludDt2YXIgcG9pbnREb2M9ZG9jO2lmKHBvaW50RG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpe3BvaW50PXBvaW50RG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoY2xpZW50WCxjbGllbnRZKTtpZihwb2ludCl7cm5nPWRvYy5jcmVhdGVSYW5nZSgpO3JuZy5zZXRTdGFydChwb2ludC5vZmZzZXROb2RlLHBvaW50Lm9mZnNldCk7cm5nLmNvbGxhcHNlKHRydWUpO319ZWxzZSBpZihkb2MuY2FyZXRSYW5nZUZyb21Qb2ludCl7cm5nPWRvYy5jYXJldFJhbmdlRnJvbVBvaW50KGNsaWVudFgsY2xpZW50WSk7fWVsc2UgaWYocG9pbnREb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe3JuZz1wb2ludERvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtybmcubW92ZVRvUG9pbnQoY2xpZW50WCxjbGllbnRZKTtybmcuY29sbGFwc2UodHJ1ZSk7fWNhdGNoKGV4KXtybmc9ZmluZENsb3Nlc3RJZVJhbmdlKGNsaWVudFgsY2xpZW50WSxkb2MpO31yZXR1cm4gbW92ZU91dE9mQ29udGVudEVkaXRhYmxlRmFsc2Uocm5nLGRvYy5ib2R5KTt9cmV0dXJuIHJuZzt9O3ZhciBDYXJldFJhbmdlRnJvbVBvaW50PXtmcm9tUG9pbnQ6ZnJvbVBvaW50JDF9O3ZhciBwcm9jZXNzUmFuZ2VzPWZ1bmN0aW9uIHByb2Nlc3NSYW5nZXMoZWRpdG9yLHJhbmdlcyl7cmV0dXJuIG1hcChyYW5nZXMsZnVuY3Rpb24ocmFuZ2Upe3ZhciBldnQ9ZWRpdG9yLmZpcmUoJ0dldFNlbGVjdGlvblJhbmdlJyx7cmFuZ2U6cmFuZ2V9KTtyZXR1cm4gZXZ0LnJhbmdlIT09cmFuZ2U/ZXZ0LnJhbmdlOnJhbmdlO30pO307dmFyIEV2ZW50UHJvY2Vzc1Jhbmdlcz17cHJvY2Vzc1Jhbmdlczpwcm9jZXNzUmFuZ2VzfTt2YXIgZnJvbUVsZW1lbnRzPWZ1bmN0aW9uIGZyb21FbGVtZW50cyhlbGVtZW50cyxzY29wZSl7dmFyIGRvYz1zY29wZXx8ZG9tR2xvYmFscy5kb2N1bWVudDt2YXIgZnJhZ21lbnQ9ZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlYWNoKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW1lbnQpe2ZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuZG9tKCkpO30pO3JldHVybiBFbGVtZW50LmZyb21Eb20oZnJhZ21lbnQpO307dmFyIHRhYmxlTW9kZWw9SW1tdXRhYmxlKCdlbGVtZW50Jywnd2lkdGgnLCdyb3dzJyk7dmFyIHRhYmxlUm93PUltbXV0YWJsZSgnZWxlbWVudCcsJ2NlbGxzJyk7dmFyIGNlbGxQb3NpdGlvbj1JbW11dGFibGUoJ3gnLCd5Jyk7dmFyIGdldFNwYW49ZnVuY3Rpb24gZ2V0U3Bhbih0ZCxrZXkpe3ZhciB2YWx1ZT1wYXJzZUludChnZXQkMSh0ZCxrZXkpLDEwKTtyZXR1cm4gaXNOYU4odmFsdWUpPzE6dmFsdWU7fTt2YXIgZmlsbG91dD1mdW5jdGlvbiBmaWxsb3V0KHRhYmxlLHgseSx0cix0ZCl7dmFyIHJvd3NwYW49Z2V0U3Bhbih0ZCwncm93c3BhbicpO3ZhciBjb2xzcGFuPWdldFNwYW4odGQsJ2NvbHNwYW4nKTt2YXIgcm93cz10YWJsZS5yb3dzKCk7Zm9yKHZhciB5Mj15O3kyPHkrcm93c3Bhbjt5MisrKXtpZighcm93c1t5Ml0pe3Jvd3NbeTJdPXRhYmxlUm93KGRlZXAodHIpLFtdKTt9Zm9yKHZhciB4Mj14O3gyPHgrY29sc3Bhbjt4MisrKXt2YXIgY2VsbHM9cm93c1t5Ml0uY2VsbHMoKTtjZWxsc1t4Ml09eTI9PT15JiZ4Mj09PXg/dGQ6c2hhbGxvdyh0ZCk7fX19O3ZhciBjZWxsRXhpc3RzPWZ1bmN0aW9uIGNlbGxFeGlzdHModGFibGUseCx5KXt2YXIgcm93cz10YWJsZS5yb3dzKCk7dmFyIGNlbGxzPXJvd3NbeV0/cm93c1t5XS5jZWxscygpOltdO3JldHVybiEhY2VsbHNbeF07fTt2YXIgc2tpcENlbGxzWD1mdW5jdGlvbiBza2lwQ2VsbHNYKHRhYmxlLHgseSl7d2hpbGUoY2VsbEV4aXN0cyh0YWJsZSx4LHkpKXt4Kys7fXJldHVybiB4O307dmFyIGdldFdpZHRoPWZ1bmN0aW9uIGdldFdpZHRoKHJvd3Mpe3JldHVybiBmb2xkbChyb3dzLGZ1bmN0aW9uKGFjYyxyb3cpe3JldHVybiByb3cuY2VsbHMoKS5sZW5ndGg+YWNjP3Jvdy5jZWxscygpLmxlbmd0aDphY2M7fSwwKTt9O3ZhciBmaW5kRWxlbWVudFBvcz1mdW5jdGlvbiBmaW5kRWxlbWVudFBvcyh0YWJsZSxlbGVtZW50KXt2YXIgcm93cz10YWJsZS5yb3dzKCk7Zm9yKHZhciB5PTA7eTxyb3dzLmxlbmd0aDt5Kyspe3ZhciBjZWxscz1yb3dzW3ldLmNlbGxzKCk7Zm9yKHZhciB4PTA7eDxjZWxscy5sZW5ndGg7eCsrKXtpZihlcShjZWxsc1t4XSxlbGVtZW50KSl7cmV0dXJuIE9wdGlvbi5zb21lKGNlbGxQb3NpdGlvbih4LHkpKTt9fX1yZXR1cm4gT3B0aW9uLm5vbmUoKTt9O3ZhciBleHRyYWN0Um93cz1mdW5jdGlvbiBleHRyYWN0Um93cyh0YWJsZSxzeCxzeSxleCxleSl7dmFyIG5ld1Jvd3M9W107dmFyIHJvd3M9dGFibGUucm93cygpO2Zvcih2YXIgeT1zeTt5PD1leTt5Kyspe3ZhciBjZWxscz1yb3dzW3ldLmNlbGxzKCk7dmFyIHNsaWNlPXN4PGV4P2NlbGxzLnNsaWNlKHN4LGV4KzEpOmNlbGxzLnNsaWNlKGV4LHN4KzEpO25ld1Jvd3MucHVzaCh0YWJsZVJvdyhyb3dzW3ldLmVsZW1lbnQoKSxzbGljZSkpO31yZXR1cm4gbmV3Um93czt9O3ZhciBzdWJUYWJsZT1mdW5jdGlvbiBzdWJUYWJsZSh0YWJsZSxzdGFydFBvcyxlbmRQb3Mpe3ZhciBzeD1zdGFydFBvcy54KCksc3k9c3RhcnRQb3MueSgpO3ZhciBleD1lbmRQb3MueCgpLGV5PWVuZFBvcy55KCk7dmFyIG5ld1Jvd3M9c3k8ZXk/ZXh0cmFjdFJvd3ModGFibGUsc3gsc3ksZXgsZXkpOmV4dHJhY3RSb3dzKHRhYmxlLHN4LGV5LGV4LHN5KTtyZXR1cm4gdGFibGVNb2RlbCh0YWJsZS5lbGVtZW50KCksZ2V0V2lkdGgobmV3Um93cyksbmV3Um93cyk7fTt2YXIgY3JlYXRlRG9tVGFibGU9ZnVuY3Rpb24gY3JlYXRlRG9tVGFibGUodGFibGUscm93cyl7dmFyIHRhYmxlRWxlbWVudD1zaGFsbG93KHRhYmxlLmVsZW1lbnQoKSk7dmFyIHRhYmxlQm9keT1FbGVtZW50LmZyb21UYWcoJ3Rib2R5Jyk7YXBwZW5kJDEodGFibGVCb2R5LHJvd3MpO2FwcGVuZCh0YWJsZUVsZW1lbnQsdGFibGVCb2R5KTtyZXR1cm4gdGFibGVFbGVtZW50O307dmFyIG1vZGVsUm93c1RvRG9tUm93cz1mdW5jdGlvbiBtb2RlbFJvd3NUb0RvbVJvd3ModGFibGUpe3JldHVybiBtYXAodGFibGUucm93cygpLGZ1bmN0aW9uKHJvdyl7dmFyIGNlbGxzPW1hcChyb3cuY2VsbHMoKSxmdW5jdGlvbihjZWxsKXt2YXIgdGQ9ZGVlcChjZWxsKTtyZW1vdmUodGQsJ2NvbHNwYW4nKTtyZW1vdmUodGQsJ3Jvd3NwYW4nKTtyZXR1cm4gdGQ7fSk7dmFyIHRyPXNoYWxsb3cocm93LmVsZW1lbnQoKSk7YXBwZW5kJDEodHIsY2VsbHMpO3JldHVybiB0cjt9KTt9O3ZhciBmcm9tRG9tJDE9ZnVuY3Rpb24gZnJvbURvbSQxKHRhYmxlRWxtKXt2YXIgdGFibGU9dGFibGVNb2RlbChzaGFsbG93KHRhYmxlRWxtKSwwLFtdKTtlYWNoKGRlc2NlbmRhbnRzJDEodGFibGVFbG0sJ3RyJyksZnVuY3Rpb24odHIseSl7ZWFjaChkZXNjZW5kYW50cyQxKHRyLCd0ZCx0aCcpLGZ1bmN0aW9uKHRkLHgpe2ZpbGxvdXQodGFibGUsc2tpcENlbGxzWCh0YWJsZSx4LHkpLHksdHIsdGQpO30pO30pO3JldHVybiB0YWJsZU1vZGVsKHRhYmxlLmVsZW1lbnQoKSxnZXRXaWR0aCh0YWJsZS5yb3dzKCkpLHRhYmxlLnJvd3MoKSk7fTt2YXIgdG9Eb209ZnVuY3Rpb24gdG9Eb20odGFibGUpe3JldHVybiBjcmVhdGVEb21UYWJsZSh0YWJsZSxtb2RlbFJvd3NUb0RvbVJvd3ModGFibGUpKTt9O3ZhciBzdWJzZWN0aW9uPWZ1bmN0aW9uIHN1YnNlY3Rpb24odGFibGUsc3RhcnRFbGVtZW50LGVuZEVsZW1lbnQpe3JldHVybiBmaW5kRWxlbWVudFBvcyh0YWJsZSxzdGFydEVsZW1lbnQpLmJpbmQoZnVuY3Rpb24oc3RhcnRQb3Mpe3JldHVybiBmaW5kRWxlbWVudFBvcyh0YWJsZSxlbmRFbGVtZW50KS5tYXAoZnVuY3Rpb24oZW5kUG9zKXtyZXR1cm4gc3ViVGFibGUodGFibGUsc3RhcnRQb3MsZW5kUG9zKTt9KTt9KTt9O3ZhciBTaW1wbGVUYWJsZU1vZGVsPXtmcm9tRG9tOmZyb21Eb20kMSx0b0RvbTp0b0RvbSxzdWJzZWN0aW9uOnN1YnNlY3Rpb259O3ZhciBnZXRSYW5nZXM9ZnVuY3Rpb24gZ2V0UmFuZ2VzKHNlbGVjdGlvbil7dmFyIHJhbmdlcz1bXTtpZihzZWxlY3Rpb24pe2Zvcih2YXIgaT0wO2k8c2VsZWN0aW9uLnJhbmdlQ291bnQ7aSsrKXtyYW5nZXMucHVzaChzZWxlY3Rpb24uZ2V0UmFuZ2VBdChpKSk7fX1yZXR1cm4gcmFuZ2VzO307dmFyIGdldFNlbGVjdGVkTm9kZXM9ZnVuY3Rpb24gZ2V0U2VsZWN0ZWROb2RlcyhyYW5nZXMpe3JldHVybiBiaW5kKHJhbmdlcyxmdW5jdGlvbihyYW5nZSl7dmFyIG5vZGU9Z2V0U2VsZWN0ZWROb2RlKHJhbmdlKTtyZXR1cm4gbm9kZT9bRWxlbWVudC5mcm9tRG9tKG5vZGUpXTpbXTt9KTt9O3ZhciBoYXNNdWx0aXBsZVJhbmdlcz1mdW5jdGlvbiBoYXNNdWx0aXBsZVJhbmdlcyhzZWxlY3Rpb24pe3JldHVybiBnZXRSYW5nZXMoc2VsZWN0aW9uKS5sZW5ndGg+MTt9O3ZhciBNdWx0aVJhbmdlPXtnZXRSYW5nZXM6Z2V0UmFuZ2VzLGdldFNlbGVjdGVkTm9kZXM6Z2V0U2VsZWN0ZWROb2RlcyxoYXNNdWx0aXBsZVJhbmdlczpoYXNNdWx0aXBsZVJhbmdlc307dmFyIGdldENlbGxzRnJvbVJhbmdlcz1mdW5jdGlvbiBnZXRDZWxsc0Zyb21SYW5nZXMocmFuZ2VzKXtyZXR1cm4gZmlsdGVyKE11bHRpUmFuZ2UuZ2V0U2VsZWN0ZWROb2RlcyhyYW5nZXMpLGlzVGFibGVDZWxsKTt9O3ZhciBnZXRDZWxsc0Zyb21FbGVtZW50PWZ1bmN0aW9uIGdldENlbGxzRnJvbUVsZW1lbnQoZWxtKXtyZXR1cm4gZGVzY2VuZGFudHMkMShlbG0sJ3RkW2RhdGEtbWNlLXNlbGVjdGVkXSx0aFtkYXRhLW1jZS1zZWxlY3RlZF0nKTt9O3ZhciBnZXRDZWxsc0Zyb21FbGVtZW50T3JSYW5nZXM9ZnVuY3Rpb24gZ2V0Q2VsbHNGcm9tRWxlbWVudE9yUmFuZ2VzKHJhbmdlcyxlbGVtZW50KXt2YXIgc2VsZWN0ZWRDZWxscz1nZXRDZWxsc0Zyb21FbGVtZW50KGVsZW1lbnQpO3ZhciByYW5nZUNlbGxzPWdldENlbGxzRnJvbVJhbmdlcyhyYW5nZXMpO3JldHVybiBzZWxlY3RlZENlbGxzLmxlbmd0aD4wP3NlbGVjdGVkQ2VsbHM6cmFuZ2VDZWxsczt9O3ZhciBnZXRDZWxsc0Zyb21FZGl0b3I9ZnVuY3Rpb24gZ2V0Q2VsbHNGcm9tRWRpdG9yKGVkaXRvcil7cmV0dXJuIGdldENlbGxzRnJvbUVsZW1lbnRPclJhbmdlcyhNdWx0aVJhbmdlLmdldFJhbmdlcyhlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbCgpKSxFbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSkpO307dmFyIFRhYmxlQ2VsbFNlbGVjdGlvbj17Z2V0Q2VsbHNGcm9tUmFuZ2VzOmdldENlbGxzRnJvbVJhbmdlcyxnZXRDZWxsc0Zyb21FbGVtZW50OmdldENlbGxzRnJvbUVsZW1lbnQsZ2V0Q2VsbHNGcm9tRWxlbWVudE9yUmFuZ2VzOmdldENlbGxzRnJvbUVsZW1lbnRPclJhbmdlcyxnZXRDZWxsc0Zyb21FZGl0b3I6Z2V0Q2VsbHNGcm9tRWRpdG9yfTt2YXIgZmluZFBhcmVudExpc3RDb250YWluZXI9ZnVuY3Rpb24gZmluZFBhcmVudExpc3RDb250YWluZXIocGFyZW50cyl7cmV0dXJuIGZpbmQocGFyZW50cyxmdW5jdGlvbihlbG0pe3JldHVybiBuYW1lKGVsbSk9PT0ndWwnfHxuYW1lKGVsbSk9PT0nb2wnO30pO307dmFyIGdldEZ1bGx5U2VsZWN0ZWRMaXN0V3JhcHBlcnM9ZnVuY3Rpb24gZ2V0RnVsbHlTZWxlY3RlZExpc3RXcmFwcGVycyhwYXJlbnRzLHJuZyl7cmV0dXJuIGZpbmQocGFyZW50cyxmdW5jdGlvbihlbG0pe3JldHVybiBuYW1lKGVsbSk9PT0nbGknJiZoYXNBbGxDb250ZW50c1NlbGVjdGVkKGVsbSxybmcpO30pLmZvbGQoY29uc3RhbnQoW10pLGZ1bmN0aW9uKGxpKXtyZXR1cm4gZmluZFBhcmVudExpc3RDb250YWluZXIocGFyZW50cykubWFwKGZ1bmN0aW9uKGxpc3RDb250KXtyZXR1cm5bRWxlbWVudC5mcm9tVGFnKCdsaScpLEVsZW1lbnQuZnJvbVRhZyhuYW1lKGxpc3RDb250KSldO30pLmdldE9yKFtdKTt9KTt9O3ZhciB3cmFwJDM9ZnVuY3Rpb24gd3JhcCQzKGlubmVyRWxtLGVsbXMpe3ZhciB3cmFwcGVkPWZvbGRsKGVsbXMsZnVuY3Rpb24oYWNjLGVsbSl7YXBwZW5kKGVsbSxhY2MpO3JldHVybiBlbG07fSxpbm5lckVsbSk7cmV0dXJuIGVsbXMubGVuZ3RoPjA/ZnJvbUVsZW1lbnRzKFt3cmFwcGVkXSk6d3JhcHBlZDt9O3ZhciBkaXJlY3RMaXN0V3JhcHBlcnM9ZnVuY3Rpb24gZGlyZWN0TGlzdFdyYXBwZXJzKGNvbW1vbkFuY2hvckNvbnRhaW5lcil7aWYoaXNMaXN0SXRlbShjb21tb25BbmNob3JDb250YWluZXIpKXtyZXR1cm4gcGFyZW50KGNvbW1vbkFuY2hvckNvbnRhaW5lcikuZmlsdGVyKGlzTGlzdCkuZm9sZChjb25zdGFudChbXSksZnVuY3Rpb24obGlzdEVsbSl7cmV0dXJuW2NvbW1vbkFuY2hvckNvbnRhaW5lcixsaXN0RWxtXTt9KTt9ZWxzZXtyZXR1cm4gaXNMaXN0KGNvbW1vbkFuY2hvckNvbnRhaW5lcik/W2NvbW1vbkFuY2hvckNvbnRhaW5lcl06W107fX07dmFyIGdldFdyYXBFbGVtZW50cz1mdW5jdGlvbiBnZXRXcmFwRWxlbWVudHMocm9vdE5vZGUscm5nKXt2YXIgY29tbW9uQW5jaG9yQ29udGFpbmVyPUVsZW1lbnQuZnJvbURvbShybmcuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO3ZhciBwYXJlbnRzPVBhcmVudHMucGFyZW50c0FuZFNlbGYoY29tbW9uQW5jaG9yQ29udGFpbmVyLHJvb3ROb2RlKTt2YXIgd3JhcEVsZW1lbnRzPWZpbHRlcihwYXJlbnRzLGZ1bmN0aW9uKGVsbSl7cmV0dXJuIGlzSW5saW5lKGVsbSl8fGlzSGVhZGluZyhlbG0pO30pO3ZhciBsaXN0V3JhcHBlcnM9Z2V0RnVsbHlTZWxlY3RlZExpc3RXcmFwcGVycyhwYXJlbnRzLHJuZyk7dmFyIGFsbFdyYXBwZXJzPXdyYXBFbGVtZW50cy5jb25jYXQobGlzdFdyYXBwZXJzLmxlbmd0aD9saXN0V3JhcHBlcnM6ZGlyZWN0TGlzdFdyYXBwZXJzKGNvbW1vbkFuY2hvckNvbnRhaW5lcikpO3JldHVybiBtYXAoYWxsV3JhcHBlcnMsc2hhbGxvdyk7fTt2YXIgZW1wdHlGcmFnbWVudD1mdW5jdGlvbiBlbXB0eUZyYWdtZW50KCl7cmV0dXJuIGZyb21FbGVtZW50cyhbXSk7fTt2YXIgZ2V0RnJhZ21lbnRGcm9tUmFuZ2U9ZnVuY3Rpb24gZ2V0RnJhZ21lbnRGcm9tUmFuZ2Uocm9vdE5vZGUscm5nKXtyZXR1cm4gd3JhcCQzKEVsZW1lbnQuZnJvbURvbShybmcuY2xvbmVDb250ZW50cygpKSxnZXRXcmFwRWxlbWVudHMocm9vdE5vZGUscm5nKSk7fTt2YXIgZ2V0UGFyZW50VGFibGU9ZnVuY3Rpb24gZ2V0UGFyZW50VGFibGUocm9vdEVsbSxjZWxsKXtyZXR1cm4gYW5jZXN0b3IkMShjZWxsLCd0YWJsZScsY3VycnkoZXEscm9vdEVsbSkpO307dmFyIGdldFRhYmxlRnJhZ21lbnQ9ZnVuY3Rpb24gZ2V0VGFibGVGcmFnbWVudChyb290Tm9kZSxzZWxlY3RlZFRhYmxlQ2VsbHMpe3JldHVybiBnZXRQYXJlbnRUYWJsZShyb290Tm9kZSxzZWxlY3RlZFRhYmxlQ2VsbHNbMF0pLmJpbmQoZnVuY3Rpb24odGFibGVFbG0pe3ZhciBmaXJzdENlbGw9c2VsZWN0ZWRUYWJsZUNlbGxzWzBdO3ZhciBsYXN0Q2VsbD1zZWxlY3RlZFRhYmxlQ2VsbHNbc2VsZWN0ZWRUYWJsZUNlbGxzLmxlbmd0aC0xXTt2YXIgZnVsbFRhYmxlTW9kZWw9U2ltcGxlVGFibGVNb2RlbC5mcm9tRG9tKHRhYmxlRWxtKTtyZXR1cm4gU2ltcGxlVGFibGVNb2RlbC5zdWJzZWN0aW9uKGZ1bGxUYWJsZU1vZGVsLGZpcnN0Q2VsbCxsYXN0Q2VsbCkubWFwKGZ1bmN0aW9uKHNlY3Rpb25lZFRhYmxlTW9kZWwpe3JldHVybiBmcm9tRWxlbWVudHMoW1NpbXBsZVRhYmxlTW9kZWwudG9Eb20oc2VjdGlvbmVkVGFibGVNb2RlbCldKTt9KTt9KS5nZXRPclRodW5rKGVtcHR5RnJhZ21lbnQpO307dmFyIGdldFNlbGVjdGlvbkZyYWdtZW50PWZ1bmN0aW9uIGdldFNlbGVjdGlvbkZyYWdtZW50KHJvb3ROb2RlLHJhbmdlcyl7cmV0dXJuIHJhbmdlcy5sZW5ndGg+MCYmcmFuZ2VzWzBdLmNvbGxhcHNlZD9lbXB0eUZyYWdtZW50KCk6Z2V0RnJhZ21lbnRGcm9tUmFuZ2Uocm9vdE5vZGUscmFuZ2VzWzBdKTt9O3ZhciByZWFkJDI9ZnVuY3Rpb24gcmVhZCQyKHJvb3ROb2RlLHJhbmdlcyl7dmFyIHNlbGVjdGVkQ2VsbHM9VGFibGVDZWxsU2VsZWN0aW9uLmdldENlbGxzRnJvbUVsZW1lbnRPclJhbmdlcyhyYW5nZXMscm9vdE5vZGUpO3JldHVybiBzZWxlY3RlZENlbGxzLmxlbmd0aD4wP2dldFRhYmxlRnJhZ21lbnQocm9vdE5vZGUsc2VsZWN0ZWRDZWxscyk6Z2V0U2VsZWN0aW9uRnJhZ21lbnQocm9vdE5vZGUscmFuZ2VzKTt9O3ZhciBGcmFnbWVudFJlYWRlcj17cmVhZDpyZWFkJDJ9O3ZhciBnZXRUZXh0Q29udGVudD1mdW5jdGlvbiBnZXRUZXh0Q29udGVudChlZGl0b3Ipe3JldHVybiBPcHRpb24uZnJvbShlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKS5tYXAoZnVuY3Rpb24ocm5nKXt2YXIgYmluPWVkaXRvci5kb20uYWRkKGVkaXRvci5nZXRCb2R5KCksJ2RpdicseydkYXRhLW1jZS1ib2d1cyc6J2FsbCcsJ3N0eWxlJzonb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsnfSxybmcuY2xvbmVDb250ZW50cygpKTt2YXIgdGV4dD1ad3NwLnRyaW0oYmluLmlubmVyVGV4dCk7ZWRpdG9yLmRvbS5yZW1vdmUoYmluKTtyZXR1cm4gdGV4dDt9KS5nZXRPcignJyk7fTt2YXIgZ2V0SHRtbENvbnRlbnQ9ZnVuY3Rpb24gZ2V0SHRtbENvbnRlbnQoZWRpdG9yLGFyZ3Mpe3ZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSx0bXBFbG09ZWRpdG9yLmRvbS5jcmVhdGUoJ2JvZHknKTt2YXIgc2VsPWVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsKCk7dmFyIGZyYWdtZW50O3ZhciByYW5nZXM9RXZlbnRQcm9jZXNzUmFuZ2VzLnByb2Nlc3NSYW5nZXMoZWRpdG9yLE11bHRpUmFuZ2UuZ2V0UmFuZ2VzKHNlbCkpO2ZyYWdtZW50PWFyZ3MuY29udGV4dHVhbD9GcmFnbWVudFJlYWRlci5yZWFkKEVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKSxyYW5nZXMpLmRvbSgpOnJuZy5jbG9uZUNvbnRlbnRzKCk7aWYoZnJhZ21lbnQpe3RtcEVsbS5hcHBlbmRDaGlsZChmcmFnbWVudCk7fXJldHVybiBlZGl0b3Iuc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHRtcEVsbSxhcmdzKTt9O3ZhciBnZXRDb250ZW50JDE9ZnVuY3Rpb24gZ2V0Q29udGVudCQxKGVkaXRvcixhcmdzKXtpZihhcmdzPT09dm9pZCAwKXthcmdzPXt9O31hcmdzLmdldD10cnVlO2FyZ3MuZm9ybWF0PWFyZ3MuZm9ybWF0fHwnaHRtbCc7YXJncy5zZWxlY3Rpb249dHJ1ZTthcmdzPWVkaXRvci5maXJlKCdCZWZvcmVHZXRDb250ZW50JyxhcmdzKTtpZihhcmdzLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlZGl0b3IuZmlyZSgnR2V0Q29udGVudCcsYXJncyk7cmV0dXJuIGFyZ3MuY29udGVudDt9aWYoYXJncy5mb3JtYXQ9PT0ndGV4dCcpe3JldHVybiBnZXRUZXh0Q29udGVudChlZGl0b3IpO31lbHNle2FyZ3MuZ2V0SW5uZXI9dHJ1ZTt2YXIgY29udGVudD1nZXRIdG1sQ29udGVudChlZGl0b3IsYXJncyk7aWYoYXJncy5mb3JtYXQ9PT0ndHJlZScpe3JldHVybiBjb250ZW50O31lbHNle2FyZ3MuY29udGVudD1lZGl0b3Iuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCk/Jyc6Y29udGVudDtlZGl0b3IuZmlyZSgnR2V0Q29udGVudCcsYXJncyk7cmV0dXJuIGFyZ3MuY29udGVudDt9fX07dmFyIEdldFNlbGVjdGlvbkNvbnRlbnQ9e2dldENvbnRlbnQ6Z2V0Q29udGVudCQxfTt2YXIgZmluZFBhcmVudCQxPWZ1bmN0aW9uIGZpbmRQYXJlbnQkMShub2RlLHJvb3ROb2RlLHByZWRpY2F0ZSl7d2hpbGUobm9kZSYmbm9kZSE9PXJvb3ROb2RlKXtpZihwcmVkaWNhdGUobm9kZSkpe3JldHVybiBub2RlO31ub2RlPW5vZGUucGFyZW50Tm9kZTt9cmV0dXJuIG51bGw7fTt2YXIgaGFzUGFyZW50PWZ1bmN0aW9uIGhhc1BhcmVudChub2RlLHJvb3ROb2RlLHByZWRpY2F0ZSl7cmV0dXJuIGZpbmRQYXJlbnQkMShub2RlLHJvb3ROb2RlLHByZWRpY2F0ZSkhPT1udWxsO307dmFyIGhhc1BhcmVudFdpdGhOYW1lPWZ1bmN0aW9uIGhhc1BhcmVudFdpdGhOYW1lKG5vZGUscm9vdE5vZGUsbmFtZSl7cmV0dXJuIGhhc1BhcmVudChub2RlLHJvb3ROb2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLm5vZGVOYW1lPT09bmFtZTt9KTt9O3ZhciBpc1RhYmxlJDM9ZnVuY3Rpb24gaXNUYWJsZSQzKG5vZGUpe3JldHVybiBub2RlJiZub2RlLm5vZGVOYW1lPT09J1RBQkxFJzt9O3ZhciBpc1RhYmxlQ2VsbCQzPWZ1bmN0aW9uIGlzVGFibGVDZWxsJDMobm9kZSl7cmV0dXJuIG5vZGUmJi9eKFREfFRIfENBUFRJT04pJC8udGVzdChub2RlLm5vZGVOYW1lKTt9O3ZhciBpc0NlRmFsc2VDYXJldENvbnRhaW5lcj1mdW5jdGlvbiBpc0NlRmFsc2VDYXJldENvbnRhaW5lcihub2RlLHJvb3ROb2RlKXtyZXR1cm4gaXNDYXJldENvbnRhaW5lcihub2RlKSYmaGFzUGFyZW50KG5vZGUscm9vdE5vZGUsaXNDYXJldE5vZGUpPT09ZmFsc2U7fTt2YXIgaGFzQnJCZWZvcmVBZnRlcj1mdW5jdGlvbiBoYXNCckJlZm9yZUFmdGVyKGRvbSxub2RlLGxlZnQpe3ZhciB3YWxrZXI9bmV3IFRyZWVXYWxrZXIobm9kZSxkb20uZ2V0UGFyZW50KG5vZGUucGFyZW50Tm9kZSxkb20uaXNCbG9jayl8fGRvbS5nZXRSb290KCkpO3doaWxlKG5vZGU9d2Fsa2VyW2xlZnQ/J3ByZXYnOiduZXh0J10oKSl7aWYoTm9kZVR5cGUuaXNCcihub2RlKSl7cmV0dXJuIHRydWU7fX19O3ZhciBpc1ByZXZOb2RlPWZ1bmN0aW9uIGlzUHJldk5vZGUobm9kZSxuYW1lKXtyZXR1cm4gbm9kZS5wcmV2aW91c1NpYmxpbmcmJm5vZGUucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lPT09bmFtZTt9O3ZhciBoYXNDb250ZW50RWRpdGFibGVGYWxzZVBhcmVudD1mdW5jdGlvbiBoYXNDb250ZW50RWRpdGFibGVGYWxzZVBhcmVudChib2R5LG5vZGUpe3doaWxlKG5vZGUmJm5vZGUhPT1ib2R5KXtpZihOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKG5vZGUpKXtyZXR1cm4gdHJ1ZTt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBmYWxzZTt9O3ZhciBmaW5kVGV4dE5vZGVSZWxhdGl2ZT1mdW5jdGlvbiBmaW5kVGV4dE5vZGVSZWxhdGl2ZShkb20saXNBZnRlck5vZGUsY29sbGFwc2VkLGxlZnQsc3RhcnROb2RlKXt2YXIgbGFzdElubGluZUVsZW1lbnQ7dmFyIGJvZHk9ZG9tLmdldFJvb3QoKTt2YXIgbm9kZTt2YXIgbm9uRW1wdHlFbGVtZW50c01hcD1kb20uc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTt2YXIgcGFyZW50QmxvY2tDb250YWluZXI9ZG9tLmdldFBhcmVudChzdGFydE5vZGUucGFyZW50Tm9kZSxkb20uaXNCbG9jayl8fGJvZHk7aWYobGVmdCYmTm9kZVR5cGUuaXNCcihzdGFydE5vZGUpJiZpc0FmdGVyTm9kZSYmZG9tLmlzRW1wdHkocGFyZW50QmxvY2tDb250YWluZXIpKXtyZXR1cm4gT3B0aW9uLnNvbWUoQ2FyZXRQb3NpdGlvbihzdGFydE5vZGUucGFyZW50Tm9kZSxkb20ubm9kZUluZGV4KHN0YXJ0Tm9kZSkpKTt9dmFyIHdhbGtlcj1uZXcgVHJlZVdhbGtlcihzdGFydE5vZGUscGFyZW50QmxvY2tDb250YWluZXIpO3doaWxlKG5vZGU9d2Fsa2VyW2xlZnQ/J3ByZXYnOiduZXh0J10oKSl7aWYoZG9tLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudChub2RlKT09PSdmYWxzZSd8fGlzQ2VGYWxzZUNhcmV0Q29udGFpbmVyKG5vZGUsYm9keSkpe3JldHVybiBPcHRpb24ubm9uZSgpO31pZihOb2RlVHlwZS5pc1RleHQobm9kZSkmJm5vZGUubm9kZVZhbHVlLmxlbmd0aD4wKXtpZihoYXNQYXJlbnRXaXRoTmFtZShub2RlLGJvZHksJ0EnKT09PWZhbHNlKXtyZXR1cm4gT3B0aW9uLnNvbWUoQ2FyZXRQb3NpdGlvbihub2RlLGxlZnQ/bm9kZS5ub2RlVmFsdWUubGVuZ3RoOjApKTt9cmV0dXJuIE9wdGlvbi5ub25lKCk7fWlmKGRvbS5pc0Jsb2NrKG5vZGUpfHxub25FbXB0eUVsZW1lbnRzTWFwW25vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3JldHVybiBPcHRpb24ubm9uZSgpO31sYXN0SW5saW5lRWxlbWVudD1ub2RlO31pZihjb2xsYXBzZWQmJmxhc3RJbmxpbmVFbGVtZW50KXtyZXR1cm4gT3B0aW9uLnNvbWUoQ2FyZXRQb3NpdGlvbihsYXN0SW5saW5lRWxlbWVudCwwKSk7fXJldHVybiBPcHRpb24ubm9uZSgpO307dmFyIG5vcm1hbGl6ZUVuZFBvaW50PWZ1bmN0aW9uIG5vcm1hbGl6ZUVuZFBvaW50KGRvbSxjb2xsYXBzZWQsc3RhcnQscm5nKXt2YXIgY29udGFpbmVyLG9mZnNldDt2YXIgYm9keT1kb20uZ2V0Um9vdCgpO3ZhciBub2RlLG5vbkVtcHR5RWxlbWVudHNNYXA7dmFyIGRpcmVjdGlvbkxlZnQsaXNBZnRlck5vZGUsbm9ybWFsaXplZD1mYWxzZTtjb250YWluZXI9cm5nWyhzdGFydD8nc3RhcnQnOidlbmQnKSsnQ29udGFpbmVyJ107b2Zmc2V0PXJuZ1soc3RhcnQ/J3N0YXJ0JzonZW5kJykrJ09mZnNldCddO2lzQWZ0ZXJOb2RlPU5vZGVUeXBlLmlzRWxlbWVudChjb250YWluZXIpJiZvZmZzZXQ9PT1jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg7bm9uRW1wdHlFbGVtZW50c01hcD1kb20uc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTtkaXJlY3Rpb25MZWZ0PXN0YXJ0O2lmKGlzQ2FyZXRDb250YWluZXIoY29udGFpbmVyKSl7cmV0dXJuIE9wdGlvbi5ub25lKCk7fWlmKE5vZGVUeXBlLmlzRWxlbWVudChjb250YWluZXIpJiZvZmZzZXQ+Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoLTEpe2RpcmVjdGlvbkxlZnQ9ZmFsc2U7fWlmKE5vZGVUeXBlLmlzRG9jdW1lbnQoY29udGFpbmVyKSl7Y29udGFpbmVyPWJvZHk7b2Zmc2V0PTA7fWlmKGNvbnRhaW5lcj09PWJvZHkpe2lmKGRpcmVjdGlvbkxlZnQpe25vZGU9Y29udGFpbmVyLmNoaWxkTm9kZXNbb2Zmc2V0PjA/b2Zmc2V0LTE6MF07aWYobm9kZSl7aWYoaXNDYXJldENvbnRhaW5lcihub2RlKSl7cmV0dXJuIE9wdGlvbi5ub25lKCk7fWlmKG5vbkVtcHR5RWxlbWVudHNNYXBbbm9kZS5ub2RlTmFtZV18fGlzVGFibGUkMyhub2RlKSl7cmV0dXJuIE9wdGlvbi5ub25lKCk7fX19aWYoY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSl7b2Zmc2V0PU1hdGgubWluKCFkaXJlY3Rpb25MZWZ0JiZvZmZzZXQ+MD9vZmZzZXQtMTpvZmZzZXQsY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoLTEpO2NvbnRhaW5lcj1jb250YWluZXIuY2hpbGROb2Rlc1tvZmZzZXRdO29mZnNldD1Ob2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSYmaXNBZnRlck5vZGU/Y29udGFpbmVyLmRhdGEubGVuZ3RoOjA7aWYoIWNvbGxhcHNlZCYmY29udGFpbmVyPT09Ym9keS5sYXN0Q2hpbGQmJmlzVGFibGUkMyhjb250YWluZXIpKXtyZXR1cm4gT3B0aW9uLm5vbmUoKTt9aWYoaGFzQ29udGVudEVkaXRhYmxlRmFsc2VQYXJlbnQoYm9keSxjb250YWluZXIpfHxpc0NhcmV0Q29udGFpbmVyKGNvbnRhaW5lcikpe3JldHVybiBPcHRpb24ubm9uZSgpO31pZihjb250YWluZXIuaGFzQ2hpbGROb2RlcygpJiZpc1RhYmxlJDMoY29udGFpbmVyKT09PWZhbHNlKXtub2RlPWNvbnRhaW5lcjt2YXIgd2Fsa2VyPW5ldyBUcmVlV2Fsa2VyKGNvbnRhaW5lcixib2R5KTtkb3tpZihOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKG5vZGUpfHxpc0NhcmV0Q29udGFpbmVyKG5vZGUpKXtub3JtYWxpemVkPWZhbHNlO2JyZWFrO31pZihOb2RlVHlwZS5pc1RleHQobm9kZSkmJm5vZGUubm9kZVZhbHVlLmxlbmd0aD4wKXtvZmZzZXQ9ZGlyZWN0aW9uTGVmdD8wOm5vZGUubm9kZVZhbHVlLmxlbmd0aDtjb250YWluZXI9bm9kZTtub3JtYWxpemVkPXRydWU7YnJlYWs7fWlmKG5vbkVtcHR5RWxlbWVudHNNYXBbbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmIWlzVGFibGVDZWxsJDMobm9kZSkpe29mZnNldD1kb20ubm9kZUluZGV4KG5vZGUpO2NvbnRhaW5lcj1ub2RlLnBhcmVudE5vZGU7aWYoIWRpcmVjdGlvbkxlZnQpe29mZnNldCsrO31ub3JtYWxpemVkPXRydWU7YnJlYWs7fX13aGlsZShub2RlPWRpcmVjdGlvbkxlZnQ/d2Fsa2VyLm5leHQoKTp3YWxrZXIucHJldigpKTt9fX1pZihjb2xsYXBzZWQpe2lmKE5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpJiZvZmZzZXQ9PT0wKXtmaW5kVGV4dE5vZGVSZWxhdGl2ZShkb20saXNBZnRlck5vZGUsY29sbGFwc2VkLHRydWUsY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKHBvcyl7Y29udGFpbmVyPXBvcy5jb250YWluZXIoKTtvZmZzZXQ9cG9zLm9mZnNldCgpO25vcm1hbGl6ZWQ9dHJ1ZTt9KTt9aWYoTm9kZVR5cGUuaXNFbGVtZW50KGNvbnRhaW5lcikpe25vZGU9Y29udGFpbmVyLmNoaWxkTm9kZXNbb2Zmc2V0XTtpZighbm9kZSl7bm9kZT1jb250YWluZXIuY2hpbGROb2Rlc1tvZmZzZXQtMV07fWlmKG5vZGUmJk5vZGVUeXBlLmlzQnIobm9kZSkmJiFpc1ByZXZOb2RlKG5vZGUsJ0EnKSYmIWhhc0JyQmVmb3JlQWZ0ZXIoZG9tLG5vZGUsZmFsc2UpJiYhaGFzQnJCZWZvcmVBZnRlcihkb20sbm9kZSx0cnVlKSl7ZmluZFRleHROb2RlUmVsYXRpdmUoZG9tLGlzQWZ0ZXJOb2RlLGNvbGxhcHNlZCx0cnVlLG5vZGUpLmVhY2goZnVuY3Rpb24ocG9zKXtjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO29mZnNldD1wb3Mub2Zmc2V0KCk7bm9ybWFsaXplZD10cnVlO30pO319fWlmKGRpcmVjdGlvbkxlZnQmJiFjb2xsYXBzZWQmJk5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpJiZvZmZzZXQ9PT1jb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7ZmluZFRleHROb2RlUmVsYXRpdmUoZG9tLGlzQWZ0ZXJOb2RlLGNvbGxhcHNlZCxmYWxzZSxjb250YWluZXIpLmVhY2goZnVuY3Rpb24ocG9zKXtjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO29mZnNldD1wb3Mub2Zmc2V0KCk7bm9ybWFsaXplZD10cnVlO30pO31yZXR1cm4gbm9ybWFsaXplZD9PcHRpb24uc29tZShDYXJldFBvc2l0aW9uKGNvbnRhaW5lcixvZmZzZXQpKTpPcHRpb24ubm9uZSgpO307dmFyIG5vcm1hbGl6ZSQyPWZ1bmN0aW9uIG5vcm1hbGl6ZSQyKGRvbSxybmcpe3ZhciBjb2xsYXBzZWQ9cm5nLmNvbGxhcHNlZCxub3JtUm5nPXJuZy5jbG9uZVJhbmdlKCk7dmFyIHN0YXJ0UG9zPUNhcmV0UG9zaXRpb24uZnJvbVJhbmdlU3RhcnQocm5nKTtub3JtYWxpemVFbmRQb2ludChkb20sY29sbGFwc2VkLHRydWUsbm9ybVJuZykuZWFjaChmdW5jdGlvbihwb3Mpe2lmKCFjb2xsYXBzZWR8fCFDYXJldFBvc2l0aW9uLmlzQWJvdmUoc3RhcnRQb3MscG9zKSl7bm9ybVJuZy5zZXRTdGFydChwb3MuY29udGFpbmVyKCkscG9zLm9mZnNldCgpKTt9fSk7aWYoIWNvbGxhcHNlZCl7bm9ybWFsaXplRW5kUG9pbnQoZG9tLGNvbGxhcHNlZCxmYWxzZSxub3JtUm5nKS5lYWNoKGZ1bmN0aW9uKHBvcyl7bm9ybVJuZy5zZXRFbmQocG9zLmNvbnRhaW5lcigpLHBvcy5vZmZzZXQoKSk7fSk7fWlmKGNvbGxhcHNlZCl7bm9ybVJuZy5jb2xsYXBzZSh0cnVlKTt9cmV0dXJuIFJhbmdlQ29tcGFyZS5pc0VxKHJuZyxub3JtUm5nKT9PcHRpb24ubm9uZSgpOk9wdGlvbi5zb21lKG5vcm1SbmcpO307dmFyIE5vcm1hbGl6ZVJhbmdlPXtub3JtYWxpemU6bm9ybWFsaXplJDJ9O3ZhciBwcmVwZW5kRGF0YT1mdW5jdGlvbiBwcmVwZW5kRGF0YSh0YXJnZXQsZGF0YSl7dGFyZ2V0Lmluc2VydERhdGEoMCxkYXRhKTt9O3ZhciByZW1vdmVFbXB0eT1mdW5jdGlvbiByZW1vdmVFbXB0eSh0ZXh0KXtpZih0ZXh0LmRvbSgpLmxlbmd0aD09PTApe3JlbW92ZSQxKHRleHQpO3JldHVybiBPcHRpb24ubm9uZSgpO31yZXR1cm4gT3B0aW9uLnNvbWUodGV4dCk7fTt2YXIgcm5nU2V0Q29udGVudD1mdW5jdGlvbiBybmdTZXRDb250ZW50KHJuZyxmcmFnbWVudCl7dmFyIGZpcnN0Q2hpbGQ9T3B0aW9uLmZyb20oZnJhZ21lbnQuZmlyc3RDaGlsZCkubWFwKEVsZW1lbnQuZnJvbURvbSk7dmFyIGxhc3RDaGlsZD1PcHRpb24uZnJvbShmcmFnbWVudC5sYXN0Q2hpbGQpLm1hcChFbGVtZW50LmZyb21Eb20pO3JuZy5kZWxldGVDb250ZW50cygpO3JuZy5pbnNlcnROb2RlKGZyYWdtZW50KTt2YXIgcHJldlRleHQ9Zmlyc3RDaGlsZC5iaW5kKHByZXZTaWJsaW5nKS5maWx0ZXIoaXNUZXh0JDEpLmJpbmQocmVtb3ZlRW1wdHkpO3ZhciBuZXh0VGV4dD1sYXN0Q2hpbGQuYmluZChuZXh0U2libGluZykuZmlsdGVyKGlzVGV4dCQxKS5iaW5kKHJlbW92ZUVtcHR5KTtsaWZ0MihwcmV2VGV4dCxmaXJzdENoaWxkLmZpbHRlcihpc1RleHQkMSksZnVuY3Rpb24ocHJldixzdGFydCl7cHJlcGVuZERhdGEoc3RhcnQuZG9tKCkscHJldi5kb20oKS5kYXRhKTtyZW1vdmUkMShwcmV2KTt9KTtsaWZ0MihuZXh0VGV4dCxsYXN0Q2hpbGQuZmlsdGVyKGlzVGV4dCQxKSxmdW5jdGlvbihuZXh0LGVuZCl7dmFyIG9sZExlbmd0aD1lbmQuZG9tKCkubGVuZ3RoO2VuZC5kb20oKS5hcHBlbmREYXRhKG5leHQuZG9tKCkuZGF0YSk7cm5nLnNldEVuZChlbmQuZG9tKCksb2xkTGVuZ3RoKTtyZW1vdmUkMShuZXh0KTt9KTtybmcuY29sbGFwc2UoZmFsc2UpO307dmFyIHNldHVwQXJncz1mdW5jdGlvbiBzZXR1cEFyZ3MoYXJncyxjb250ZW50KXthcmdzPWFyZ3N8fHtmb3JtYXQ6J2h0bWwnfTthcmdzLnNldD10cnVlO2FyZ3Muc2VsZWN0aW9uPXRydWU7YXJncy5jb250ZW50PWNvbnRlbnQ7cmV0dXJuIGFyZ3M7fTt2YXIgc2V0Q29udGVudCQxPWZ1bmN0aW9uIHNldENvbnRlbnQkMShlZGl0b3IsY29udGVudCxhcmdzKXthcmdzPXNldHVwQXJncyhhcmdzLGNvbnRlbnQpO2lmKCFhcmdzLm5vX2V2ZW50cyl7YXJncz1lZGl0b3IuZmlyZSgnQmVmb3JlU2V0Q29udGVudCcsYXJncyk7aWYoYXJncy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZWRpdG9yLmZpcmUoJ1NldENvbnRlbnQnLGFyZ3MpO3JldHVybjt9fXZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKTtybmdTZXRDb250ZW50KHJuZyxybmcuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGFyZ3MuY29udGVudCkpO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKHJuZyk7U2Nyb2xsSW50b1ZpZXcuc2Nyb2xsUmFuZ2VJbnRvVmlldyhlZGl0b3Iscm5nKTtpZighYXJncy5ub19ldmVudHMpe2VkaXRvci5maXJlKCdTZXRDb250ZW50JyxhcmdzKTt9fTt2YXIgU2V0U2VsZWN0aW9uQ29udGVudD17c2V0Q29udGVudDpzZXRDb250ZW50JDF9O3ZhciBnZXRFbmRwb2ludEVsZW1lbnQ9ZnVuY3Rpb24gZ2V0RW5kcG9pbnRFbGVtZW50KHJvb3Qscm5nLHN0YXJ0LHJlYWwscmVzb2x2ZSl7dmFyIGNvbnRhaW5lcj1zdGFydD9ybmcuc3RhcnRDb250YWluZXI6cm5nLmVuZENvbnRhaW5lcjt2YXIgb2Zmc2V0PXN0YXJ0P3JuZy5zdGFydE9mZnNldDpybmcuZW5kT2Zmc2V0O3JldHVybiBPcHRpb24uZnJvbShjb250YWluZXIpLm1hcChFbGVtZW50LmZyb21Eb20pLm1hcChmdW5jdGlvbihlbG0pe3JldHVybiFyZWFsfHwhcm5nLmNvbGxhcHNlZD9jaGlsZChlbG0scmVzb2x2ZShlbG0sb2Zmc2V0KSkuZ2V0T3IoZWxtKTplbG07fSkuYmluZChmdW5jdGlvbihlbG0pe3JldHVybiBpc0VsZW1lbnQkMShlbG0pP09wdGlvbi5zb21lKGVsbSk6cGFyZW50KGVsbSk7fSkubWFwKGZ1bmN0aW9uKGVsbSl7cmV0dXJuIGVsbS5kb20oKTt9KS5nZXRPcihyb290KTt9O3ZhciBnZXRTdGFydCQyPWZ1bmN0aW9uIGdldFN0YXJ0JDIocm9vdCxybmcscmVhbCl7cmV0dXJuIGdldEVuZHBvaW50RWxlbWVudChyb290LHJuZyx0cnVlLHJlYWwsZnVuY3Rpb24oZWxtLG9mZnNldCl7cmV0dXJuIE1hdGgubWluKGNoaWxkTm9kZXNDb3VudChlbG0pLG9mZnNldCk7fSk7fTt2YXIgZ2V0RW5kPWZ1bmN0aW9uIGdldEVuZChyb290LHJuZyxyZWFsKXtyZXR1cm4gZ2V0RW5kcG9pbnRFbGVtZW50KHJvb3Qscm5nLGZhbHNlLHJlYWwsZnVuY3Rpb24oZWxtLG9mZnNldCl7cmV0dXJuIG9mZnNldD4wP29mZnNldC0xOm9mZnNldDt9KTt9O3ZhciBza2lwRW1wdHlUZXh0Tm9kZXM9ZnVuY3Rpb24gc2tpcEVtcHR5VGV4dE5vZGVzKG5vZGUsZm9yd2FyZHMpe3ZhciBvcmlnPW5vZGU7d2hpbGUobm9kZSYmTm9kZVR5cGUuaXNUZXh0KG5vZGUpJiZub2RlLmxlbmd0aD09PTApe25vZGU9Zm9yd2FyZHM/bm9kZS5uZXh0U2libGluZzpub2RlLnByZXZpb3VzU2libGluZzt9cmV0dXJuIG5vZGV8fG9yaWc7fTt2YXIgZ2V0Tm9kZSQxPWZ1bmN0aW9uIGdldE5vZGUkMShyb290LHJuZyl7dmFyIGVsbSxzdGFydENvbnRhaW5lcixlbmRDb250YWluZXIsc3RhcnRPZmZzZXQsZW5kT2Zmc2V0O2lmKCFybmcpe3JldHVybiByb290O31zdGFydENvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7ZW5kQ29udGFpbmVyPXJuZy5lbmRDb250YWluZXI7c3RhcnRPZmZzZXQ9cm5nLnN0YXJ0T2Zmc2V0O2VuZE9mZnNldD1ybmcuZW5kT2Zmc2V0O2VsbT1ybmcuY29tbW9uQW5jZXN0b3JDb250YWluZXI7aWYoIXJuZy5jb2xsYXBzZWQpe2lmKHN0YXJ0Q29udGFpbmVyPT09ZW5kQ29udGFpbmVyKXtpZihlbmRPZmZzZXQtc3RhcnRPZmZzZXQ8Mil7aWYoc3RhcnRDb250YWluZXIuaGFzQ2hpbGROb2RlcygpKXtlbG09c3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tzdGFydE9mZnNldF07fX19aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGU9PT0zJiZlbmRDb250YWluZXIubm9kZVR5cGU9PT0zKXtpZihzdGFydENvbnRhaW5lci5sZW5ndGg9PT1zdGFydE9mZnNldCl7c3RhcnRDb250YWluZXI9c2tpcEVtcHR5VGV4dE5vZGVzKHN0YXJ0Q29udGFpbmVyLm5leHRTaWJsaW5nLHRydWUpO31lbHNle3N0YXJ0Q29udGFpbmVyPXN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7fWlmKGVuZE9mZnNldD09PTApe2VuZENvbnRhaW5lcj1za2lwRW1wdHlUZXh0Tm9kZXMoZW5kQ29udGFpbmVyLnByZXZpb3VzU2libGluZyxmYWxzZSk7fWVsc2V7ZW5kQ29udGFpbmVyPWVuZENvbnRhaW5lci5wYXJlbnROb2RlO31pZihzdGFydENvbnRhaW5lciYmc3RhcnRDb250YWluZXI9PT1lbmRDb250YWluZXIpe3JldHVybiBzdGFydENvbnRhaW5lcjt9fX1pZihlbG0mJmVsbS5ub2RlVHlwZT09PTMpe3JldHVybiBlbG0ucGFyZW50Tm9kZTt9cmV0dXJuIGVsbTt9O3ZhciBnZXRTZWxlY3RlZEJsb2Nrcz1mdW5jdGlvbiBnZXRTZWxlY3RlZEJsb2Nrcyhkb20scm5nLHN0YXJ0RWxtLGVuZEVsbSl7dmFyIG5vZGUscm9vdDt2YXIgc2VsZWN0ZWRCbG9ja3M9W107cm9vdD1kb20uZ2V0Um9vdCgpO3N0YXJ0RWxtPWRvbS5nZXRQYXJlbnQoc3RhcnRFbG18fGdldFN0YXJ0JDIocm9vdCxybmcscm5nLmNvbGxhcHNlZCksZG9tLmlzQmxvY2spO2VuZEVsbT1kb20uZ2V0UGFyZW50KGVuZEVsbXx8Z2V0RW5kKHJvb3Qscm5nLHJuZy5jb2xsYXBzZWQpLGRvbS5pc0Jsb2NrKTtpZihzdGFydEVsbSYmc3RhcnRFbG0hPT1yb290KXtzZWxlY3RlZEJsb2Nrcy5wdXNoKHN0YXJ0RWxtKTt9aWYoc3RhcnRFbG0mJmVuZEVsbSYmc3RhcnRFbG0hPT1lbmRFbG0pe25vZGU9c3RhcnRFbG07dmFyIHdhbGtlcj1uZXcgVHJlZVdhbGtlcihzdGFydEVsbSxyb290KTt3aGlsZSgobm9kZT13YWxrZXIubmV4dCgpKSYmbm9kZSE9PWVuZEVsbSl7aWYoZG9tLmlzQmxvY2sobm9kZSkpe3NlbGVjdGVkQmxvY2tzLnB1c2gobm9kZSk7fX19aWYoZW5kRWxtJiZzdGFydEVsbSE9PWVuZEVsbSYmZW5kRWxtIT09cm9vdCl7c2VsZWN0ZWRCbG9ja3MucHVzaChlbmRFbG0pO31yZXR1cm4gc2VsZWN0ZWRCbG9ja3M7fTt2YXIgc2VsZWN0JDE9ZnVuY3Rpb24gc2VsZWN0JDEoZG9tLG5vZGUsY29udGVudCl7cmV0dXJuIE9wdGlvbi5mcm9tKG5vZGUpLm1hcChmdW5jdGlvbihub2RlKXt2YXIgaWR4PWRvbS5ub2RlSW5kZXgobm9kZSk7dmFyIHJuZz1kb20uY3JlYXRlUm5nKCk7cm5nLnNldFN0YXJ0KG5vZGUucGFyZW50Tm9kZSxpZHgpO3JuZy5zZXRFbmQobm9kZS5wYXJlbnROb2RlLGlkeCsxKTtpZihjb250ZW50KXttb3ZlRW5kUG9pbnQkMShkb20scm5nLG5vZGUsdHJ1ZSk7bW92ZUVuZFBvaW50JDEoZG9tLHJuZyxub2RlLGZhbHNlKTt9cmV0dXJuIHJuZzt9KTt9O3ZhciBkZWxldGVGcm9tQ2FsbGJhY2tNYXA9ZnVuY3Rpb24gZGVsZXRlRnJvbUNhbGxiYWNrTWFwKGNhbGxiYWNrTWFwLHNlbGVjdG9yLGNhbGxiYWNrKXtpZihjYWxsYmFja01hcCYmY2FsbGJhY2tNYXAuaGFzT3duUHJvcGVydHkoc2VsZWN0b3IpKXt2YXIgbmV3Q2FsbGJhY2tzPWZpbHRlcihjYWxsYmFja01hcFtzZWxlY3Rvcl0sZnVuY3Rpb24oY2Ipe3JldHVybiBjYiE9PWNhbGxiYWNrO30pO2lmKG5ld0NhbGxiYWNrcy5sZW5ndGg9PT0wKXtkZWxldGUgY2FsbGJhY2tNYXBbc2VsZWN0b3JdO31lbHNle2NhbGxiYWNrTWFwW3NlbGVjdG9yXT1uZXdDYWxsYmFja3M7fX19O2Z1bmN0aW9uIFNlbGVjdG9yQ2hhbmdlZChkb20sZWRpdG9yKXt2YXIgc2VsZWN0b3JDaGFuZ2VkRGF0YTt2YXIgY3VycmVudFNlbGVjdG9ycztyZXR1cm57c2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDpmdW5jdGlvbiBzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kKHNlbGVjdG9yLGNhbGxiYWNrKXtpZighc2VsZWN0b3JDaGFuZ2VkRGF0YSl7c2VsZWN0b3JDaGFuZ2VkRGF0YT17fTtjdXJyZW50U2VsZWN0b3JzPXt9O2VkaXRvci5vbignTm9kZUNoYW5nZScsZnVuY3Rpb24oZSl7dmFyIG5vZGU9ZS5lbGVtZW50LHBhcmVudHM9ZG9tLmdldFBhcmVudHMobm9kZSxudWxsLGRvbS5nZXRSb290KCkpLG1hdGNoZWRTZWxlY3RvcnM9e307VG9vbHMuZWFjaChzZWxlY3RvckNoYW5nZWREYXRhLGZ1bmN0aW9uKGNhbGxiYWNrcyxzZWxlY3Rvcil7VG9vbHMuZWFjaChwYXJlbnRzLGZ1bmN0aW9uKG5vZGUpe2lmKGRvbS5pcyhub2RlLHNlbGVjdG9yKSl7aWYoIWN1cnJlbnRTZWxlY3RvcnNbc2VsZWN0b3JdKXtUb29scy5lYWNoKGNhbGxiYWNrcyxmdW5jdGlvbihjYWxsYmFjayl7Y2FsbGJhY2sodHJ1ZSx7bm9kZTpub2RlLHNlbGVjdG9yOnNlbGVjdG9yLHBhcmVudHM6cGFyZW50c30pO30pO2N1cnJlbnRTZWxlY3RvcnNbc2VsZWN0b3JdPWNhbGxiYWNrczt9bWF0Y2hlZFNlbGVjdG9yc1tzZWxlY3Rvcl09Y2FsbGJhY2tzO3JldHVybiBmYWxzZTt9fSk7fSk7VG9vbHMuZWFjaChjdXJyZW50U2VsZWN0b3JzLGZ1bmN0aW9uKGNhbGxiYWNrcyxzZWxlY3Rvcil7aWYoIW1hdGNoZWRTZWxlY3RvcnNbc2VsZWN0b3JdKXtkZWxldGUgY3VycmVudFNlbGVjdG9yc1tzZWxlY3Rvcl07VG9vbHMuZWFjaChjYWxsYmFja3MsZnVuY3Rpb24oY2FsbGJhY2spe2NhbGxiYWNrKGZhbHNlLHtub2RlOm5vZGUsc2VsZWN0b3I6c2VsZWN0b3IscGFyZW50czpwYXJlbnRzfSk7fSk7fX0pO30pO31pZighc2VsZWN0b3JDaGFuZ2VkRGF0YVtzZWxlY3Rvcl0pe3NlbGVjdG9yQ2hhbmdlZERhdGFbc2VsZWN0b3JdPVtdO31zZWxlY3RvckNoYW5nZWREYXRhW3NlbGVjdG9yXS5wdXNoKGNhbGxiYWNrKTtyZXR1cm57dW5iaW5kOmZ1bmN0aW9uIHVuYmluZCgpe2RlbGV0ZUZyb21DYWxsYmFja01hcChzZWxlY3RvckNoYW5nZWREYXRhLHNlbGVjdG9yLGNhbGxiYWNrKTtkZWxldGVGcm9tQ2FsbGJhY2tNYXAoY3VycmVudFNlbGVjdG9ycyxzZWxlY3RvcixjYWxsYmFjayk7fX07fX07fXZhciBpc05hdGl2ZUllU2VsZWN0aW9uPWZ1bmN0aW9uIGlzTmF0aXZlSWVTZWxlY3Rpb24ocm5nKXtyZXR1cm4hIXJuZy5zZWxlY3Q7fTt2YXIgaXNBdHRhY2hlZFRvRG9tPWZ1bmN0aW9uIGlzQXR0YWNoZWRUb0RvbShub2RlKXtyZXR1cm4hIShub2RlJiZub2RlLm93bmVyRG9jdW1lbnQpJiZjb250YWlucyQyKEVsZW1lbnQuZnJvbURvbShub2RlLm93bmVyRG9jdW1lbnQpLEVsZW1lbnQuZnJvbURvbShub2RlKSk7fTt2YXIgaXNWYWxpZFJhbmdlPWZ1bmN0aW9uIGlzVmFsaWRSYW5nZShybmcpe2lmKCFybmcpe3JldHVybiBmYWxzZTt9ZWxzZSBpZihpc05hdGl2ZUllU2VsZWN0aW9uKHJuZykpe3JldHVybiB0cnVlO31lbHNle3JldHVybiBpc0F0dGFjaGVkVG9Eb20ocm5nLnN0YXJ0Q29udGFpbmVyKSYmaXNBdHRhY2hlZFRvRG9tKHJuZy5lbmRDb250YWluZXIpO319O3ZhciBTZWxlY3Rpb24kMT1mdW5jdGlvbiBTZWxlY3Rpb24kMShkb20sd2luLHNlcmlhbGl6ZXIsZWRpdG9yKXt2YXIgYm9va21hcmtNYW5hZ2VyO3ZhciBjb250cm9sU2VsZWN0aW9uO3ZhciBzZWxlY3RlZFJhbmdlO3ZhciBleHBsaWNpdFJhbmdlO3ZhciBzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kPVNlbGVjdG9yQ2hhbmdlZChkb20sZWRpdG9yKS5zZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kO3ZhciBzZXRDdXJzb3JMb2NhdGlvbj1mdW5jdGlvbiBzZXRDdXJzb3JMb2NhdGlvbihub2RlLG9mZnNldCl7dmFyIHJuZz1kb20uY3JlYXRlUm5nKCk7aWYoIW5vZGUpe21vdmVFbmRQb2ludCQxKGRvbSxybmcsZWRpdG9yLmdldEJvZHkoKSx0cnVlKTtzZXRSbmcocm5nKTt9ZWxzZXtybmcuc2V0U3RhcnQobm9kZSxvZmZzZXQpO3JuZy5zZXRFbmQobm9kZSxvZmZzZXQpO3NldFJuZyhybmcpO2NvbGxhcHNlKGZhbHNlKTt9fTt2YXIgZ2V0Q29udGVudD1mdW5jdGlvbiBnZXRDb250ZW50KGFyZ3Mpe3JldHVybiBHZXRTZWxlY3Rpb25Db250ZW50LmdldENvbnRlbnQoZWRpdG9yLGFyZ3MpO307dmFyIHNldENvbnRlbnQ9ZnVuY3Rpb24gc2V0Q29udGVudChjb250ZW50LGFyZ3Mpe3JldHVybiBTZXRTZWxlY3Rpb25Db250ZW50LnNldENvbnRlbnQoZWRpdG9yLGNvbnRlbnQsYXJncyk7fTt2YXIgZ2V0U3RhcnQ9ZnVuY3Rpb24gZ2V0U3RhcnQocmVhbCl7cmV0dXJuIGdldFN0YXJ0JDIoZWRpdG9yLmdldEJvZHkoKSxnZXRSbmcoKSxyZWFsKTt9O3ZhciBnZXRFbmQkMT1mdW5jdGlvbiBnZXRFbmQkMShyZWFsKXtyZXR1cm4gZ2V0RW5kKGVkaXRvci5nZXRCb2R5KCksZ2V0Um5nKCkscmVhbCk7fTt2YXIgZ2V0Qm9va21hcms9ZnVuY3Rpb24gZ2V0Qm9va21hcmsodHlwZSxub3JtYWxpemVkKXtyZXR1cm4gYm9va21hcmtNYW5hZ2VyLmdldEJvb2ttYXJrKHR5cGUsbm9ybWFsaXplZCk7fTt2YXIgbW92ZVRvQm9va21hcms9ZnVuY3Rpb24gbW92ZVRvQm9va21hcmsoYm9va21hcmspe3JldHVybiBib29rbWFya01hbmFnZXIubW92ZVRvQm9va21hcmsoYm9va21hcmspO307dmFyIHNlbGVjdD1mdW5jdGlvbiBzZWxlY3Qobm9kZSxjb250ZW50KXtzZWxlY3QkMShkb20sbm9kZSxjb250ZW50KS5lYWNoKHNldFJuZyk7cmV0dXJuIG5vZGU7fTt2YXIgaXNDb2xsYXBzZWQ9ZnVuY3Rpb24gaXNDb2xsYXBzZWQoKXt2YXIgcm5nPWdldFJuZygpLHNlbD1nZXRTZWwoKTtpZighcm5nfHxybmcuaXRlbSl7cmV0dXJuIGZhbHNlO31pZihybmcuY29tcGFyZUVuZFBvaW50cyl7cmV0dXJuIHJuZy5jb21wYXJlRW5kUG9pbnRzKCdTdGFydFRvRW5kJyxybmcpPT09MDt9cmV0dXJuIXNlbHx8cm5nLmNvbGxhcHNlZDt9O3ZhciBjb2xsYXBzZT1mdW5jdGlvbiBjb2xsYXBzZSh0b1N0YXJ0KXt2YXIgcm5nPWdldFJuZygpO3JuZy5jb2xsYXBzZSghIXRvU3RhcnQpO3NldFJuZyhybmcpO307dmFyIGdldFNlbD1mdW5jdGlvbiBnZXRTZWwoKXtyZXR1cm4gd2luLmdldFNlbGVjdGlvbj93aW4uZ2V0U2VsZWN0aW9uKCk6d2luLmRvY3VtZW50LnNlbGVjdGlvbjt9O3ZhciBnZXRSbmc9ZnVuY3Rpb24gZ2V0Um5nKCl7dmFyIHNlbGVjdGlvbixybmcsZWxtLGRvYzt2YXIgdHJ5Q29tcGFyZUJvdW5kYXJ5UG9pbnRzPWZ1bmN0aW9uIHRyeUNvbXBhcmVCb3VuZGFyeVBvaW50cyhob3csc291cmNlUmFuZ2UsZGVzdGluYXRpb25SYW5nZSl7dHJ5e3JldHVybiBzb3VyY2VSYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHMoaG93LGRlc3RpbmF0aW9uUmFuZ2UpO31jYXRjaChleCl7cmV0dXJuLTE7fX07aWYoIXdpbil7cmV0dXJuIG51bGw7fWRvYz13aW4uZG9jdW1lbnQ7aWYodHlwZW9mIGRvYz09PSd1bmRlZmluZWQnfHxkb2M9PT1udWxsKXtyZXR1cm4gbnVsbDt9aWYoZWRpdG9yLmJvb2ttYXJrIT09dW5kZWZpbmVkJiZFZGl0b3JGb2N1cy5oYXNGb2N1cyhlZGl0b3IpPT09ZmFsc2Upe3ZhciBib29rbWFyaz1TZWxlY3Rpb25Cb29rbWFyay5nZXRSbmcoZWRpdG9yKTtpZihib29rbWFyay5pc1NvbWUoKSl7cmV0dXJuIGJvb2ttYXJrLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gRXZlbnRQcm9jZXNzUmFuZ2VzLnByb2Nlc3NSYW5nZXMoZWRpdG9yLFtyXSlbMF07fSkuZ2V0T3IoZG9jLmNyZWF0ZVJhbmdlKCkpO319dHJ5e2lmKChzZWxlY3Rpb249Z2V0U2VsKCkpJiYhTm9kZVR5cGUuaXNSZXN0cmljdGVkTm9kZShzZWxlY3Rpb24uYW5jaG9yTm9kZSkpe2lmKHNlbGVjdGlvbi5yYW5nZUNvdW50PjApe3JuZz1zZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTt9ZWxzZXtybmc9c2VsZWN0aW9uLmNyZWF0ZVJhbmdlP3NlbGVjdGlvbi5jcmVhdGVSYW5nZSgpOmRvYy5jcmVhdGVSYW5nZSgpO319fWNhdGNoKGV4KXt9cm5nPUV2ZW50UHJvY2Vzc1Jhbmdlcy5wcm9jZXNzUmFuZ2VzKGVkaXRvcixbcm5nXSlbMF07aWYoIXJuZyl7cm5nPWRvYy5jcmVhdGVSYW5nZT9kb2MuY3JlYXRlUmFuZ2UoKTpkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTt9aWYocm5nLnNldFN0YXJ0JiZybmcuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PT05JiZybmcuY29sbGFwc2VkKXtlbG09ZG9tLmdldFJvb3QoKTtybmcuc2V0U3RhcnQoZWxtLDApO3JuZy5zZXRFbmQoZWxtLDApO31pZihzZWxlY3RlZFJhbmdlJiZleHBsaWNpdFJhbmdlKXtpZih0cnlDb21wYXJlQm91bmRhcnlQb2ludHMocm5nLlNUQVJUX1RPX1NUQVJULHJuZyxzZWxlY3RlZFJhbmdlKT09PTAmJnRyeUNvbXBhcmVCb3VuZGFyeVBvaW50cyhybmcuRU5EX1RPX0VORCxybmcsc2VsZWN0ZWRSYW5nZSk9PT0wKXtybmc9ZXhwbGljaXRSYW5nZTt9ZWxzZXtzZWxlY3RlZFJhbmdlPW51bGw7ZXhwbGljaXRSYW5nZT1udWxsO319cmV0dXJuIHJuZzt9O3ZhciBzZXRSbmc9ZnVuY3Rpb24gc2V0Um5nKHJuZyxmb3J3YXJkKXt2YXIgc2VsLG5vZGUsZXZ0O2lmKCFpc1ZhbGlkUmFuZ2Uocm5nKSl7cmV0dXJuO312YXIgaWVSYW5nZT1pc05hdGl2ZUllU2VsZWN0aW9uKHJuZyk/cm5nOm51bGw7aWYoaWVSYW5nZSl7ZXhwbGljaXRSYW5nZT1udWxsO3RyeXtpZVJhbmdlLnNlbGVjdCgpO31jYXRjaChleCl7fXJldHVybjt9c2VsPWdldFNlbCgpO2V2dD1lZGl0b3IuZmlyZSgnU2V0U2VsZWN0aW9uUmFuZ2UnLHtyYW5nZTpybmcsZm9yd2FyZDpmb3J3YXJkfSk7cm5nPWV2dC5yYW5nZTtpZihzZWwpe2V4cGxpY2l0UmFuZ2U9cm5nO3RyeXtzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7c2VsLmFkZFJhbmdlKHJuZyk7fWNhdGNoKGV4KXt9aWYoZm9yd2FyZD09PWZhbHNlJiZzZWwuZXh0ZW5kKXtzZWwuY29sbGFwc2Uocm5nLmVuZENvbnRhaW5lcixybmcuZW5kT2Zmc2V0KTtzZWwuZXh0ZW5kKHJuZy5zdGFydENvbnRhaW5lcixybmcuc3RhcnRPZmZzZXQpO31zZWxlY3RlZFJhbmdlPXNlbC5yYW5nZUNvdW50PjA/c2VsLmdldFJhbmdlQXQoMCk6bnVsbDt9aWYoIXJuZy5jb2xsYXBzZWQmJnJuZy5zdGFydENvbnRhaW5lcj09PXJuZy5lbmRDb250YWluZXImJnNlbC5zZXRCYXNlQW5kRXh0ZW50JiYhRW52LmllKXtpZihybmcuZW5kT2Zmc2V0LXJuZy5zdGFydE9mZnNldDwyKXtpZihybmcuc3RhcnRDb250YWluZXIuaGFzQ2hpbGROb2RlcygpKXtub2RlPXJuZy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF07aWYobm9kZSYmbm9kZS50YWdOYW1lPT09J0lNRycpe3NlbC5zZXRCYXNlQW5kRXh0ZW50KHJuZy5zdGFydENvbnRhaW5lcixybmcuc3RhcnRPZmZzZXQscm5nLmVuZENvbnRhaW5lcixybmcuZW5kT2Zmc2V0KTtpZihzZWwuYW5jaG9yTm9kZSE9PXJuZy5zdGFydENvbnRhaW5lcnx8c2VsLmZvY3VzTm9kZSE9PXJuZy5lbmRDb250YWluZXIpe3NlbC5zZXRCYXNlQW5kRXh0ZW50KG5vZGUsMCxub2RlLDEpO319fX19ZWRpdG9yLmZpcmUoJ0FmdGVyU2V0U2VsZWN0aW9uUmFuZ2UnLHtyYW5nZTpybmcsZm9yd2FyZDpmb3J3YXJkfSk7fTt2YXIgc2V0Tm9kZT1mdW5jdGlvbiBzZXROb2RlKGVsbSl7c2V0Q29udGVudChkb20uZ2V0T3V0ZXJIVE1MKGVsbSkpO3JldHVybiBlbG07fTt2YXIgZ2V0Tm9kZT1mdW5jdGlvbiBnZXROb2RlKCl7cmV0dXJuIGdldE5vZGUkMShlZGl0b3IuZ2V0Qm9keSgpLGdldFJuZygpKTt9O3ZhciBnZXRTZWxlY3RlZEJsb2NrcyQxPWZ1bmN0aW9uIGdldFNlbGVjdGVkQmxvY2tzJDEoc3RhcnRFbG0sZW5kRWxtKXtyZXR1cm4gZ2V0U2VsZWN0ZWRCbG9ja3MoZG9tLGdldFJuZygpLHN0YXJ0RWxtLGVuZEVsbSk7fTt2YXIgaXNGb3J3YXJkPWZ1bmN0aW9uIGlzRm9yd2FyZCgpe3ZhciBzZWw9Z2V0U2VsKCk7dmFyIGFuY2hvclJhbmdlLGZvY3VzUmFuZ2U7aWYoIXNlbHx8IXNlbC5hbmNob3JOb2RlfHwhc2VsLmZvY3VzTm9kZSl7cmV0dXJuIHRydWU7fWFuY2hvclJhbmdlPWRvbS5jcmVhdGVSbmcoKTthbmNob3JSYW5nZS5zZXRTdGFydChzZWwuYW5jaG9yTm9kZSxzZWwuYW5jaG9yT2Zmc2V0KTthbmNob3JSYW5nZS5jb2xsYXBzZSh0cnVlKTtmb2N1c1JhbmdlPWRvbS5jcmVhdGVSbmcoKTtmb2N1c1JhbmdlLnNldFN0YXJ0KHNlbC5mb2N1c05vZGUsc2VsLmZvY3VzT2Zmc2V0KTtmb2N1c1JhbmdlLmNvbGxhcHNlKHRydWUpO3JldHVybiBhbmNob3JSYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHMoYW5jaG9yUmFuZ2UuU1RBUlRfVE9fU1RBUlQsZm9jdXNSYW5nZSk8PTA7fTt2YXIgbm9ybWFsaXplPWZ1bmN0aW9uIG5vcm1hbGl6ZSgpe3ZhciBybmc9Z2V0Um5nKCk7dmFyIHNlbD1nZXRTZWwoKTtpZighTXVsdGlSYW5nZS5oYXNNdWx0aXBsZVJhbmdlcyhzZWwpJiZoYXNBbnlSYW5nZXMoZWRpdG9yKSl7dmFyIG5vcm1Sbmc9Tm9ybWFsaXplUmFuZ2Uubm9ybWFsaXplKGRvbSxybmcpO25vcm1SbmcuZWFjaChmdW5jdGlvbihub3JtUm5nKXtzZXRSbmcobm9ybVJuZyxpc0ZvcndhcmQoKSk7fSk7cmV0dXJuIG5vcm1SbmcuZ2V0T3Iocm5nKTt9cmV0dXJuIHJuZzt9O3ZhciBzZWxlY3RvckNoYW5nZWQ9ZnVuY3Rpb24gc2VsZWN0b3JDaGFuZ2VkKHNlbGVjdG9yLGNhbGxiYWNrKXtzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kKHNlbGVjdG9yLGNhbGxiYWNrKTtyZXR1cm4gZXhwb3J0czt9O3ZhciBnZXRTY3JvbGxDb250YWluZXI9ZnVuY3Rpb24gZ2V0U2Nyb2xsQ29udGFpbmVyKCl7dmFyIHNjcm9sbENvbnRhaW5lcjt2YXIgbm9kZT1kb20uZ2V0Um9vdCgpO3doaWxlKG5vZGUmJm5vZGUubm9kZU5hbWUhPT0nQk9EWScpe2lmKG5vZGUuc2Nyb2xsSGVpZ2h0Pm5vZGUuY2xpZW50SGVpZ2h0KXtzY3JvbGxDb250YWluZXI9bm9kZTticmVhazt9bm9kZT1ub2RlLnBhcmVudE5vZGU7fXJldHVybiBzY3JvbGxDb250YWluZXI7fTt2YXIgc2Nyb2xsSW50b1ZpZXc9ZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoZWxtLGFsaWduVG9Ub3Ape3JldHVybiBTY3JvbGxJbnRvVmlldy5zY3JvbGxFbGVtZW50SW50b1ZpZXcoZWRpdG9yLGVsbSxhbGlnblRvVG9wKTt9O3ZhciBwbGFjZUNhcmV0QXQ9ZnVuY3Rpb24gcGxhY2VDYXJldEF0KGNsaWVudFgsY2xpZW50WSl7cmV0dXJuIHNldFJuZyhDYXJldFJhbmdlRnJvbVBvaW50LmZyb21Qb2ludChjbGllbnRYLGNsaWVudFksZWRpdG9yLmdldERvYygpKSk7fTt2YXIgZ2V0Qm91bmRpbmdDbGllbnRSZWN0PWZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpe3ZhciBybmc9Z2V0Um5nKCk7cmV0dXJuIHJuZy5jb2xsYXBzZWQ/Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KHJuZykuZ2V0Q2xpZW50UmVjdHMoKVswXTpybmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7fTt2YXIgZGVzdHJveT1mdW5jdGlvbiBkZXN0cm95KCl7d2luPXNlbGVjdGVkUmFuZ2U9ZXhwbGljaXRSYW5nZT1udWxsO2NvbnRyb2xTZWxlY3Rpb24uZGVzdHJveSgpO307dmFyIGV4cG9ydHM9e2Jvb2ttYXJrTWFuYWdlcjpudWxsLGNvbnRyb2xTZWxlY3Rpb246bnVsbCxkb206ZG9tLHdpbjp3aW4sc2VyaWFsaXplcjpzZXJpYWxpemVyLGVkaXRvcjplZGl0b3IsY29sbGFwc2U6Y29sbGFwc2Usc2V0Q3Vyc29yTG9jYXRpb246c2V0Q3Vyc29yTG9jYXRpb24sZ2V0Q29udGVudDpnZXRDb250ZW50LHNldENvbnRlbnQ6c2V0Q29udGVudCxnZXRCb29rbWFyazpnZXRCb29rbWFyayxtb3ZlVG9Cb29rbWFyazptb3ZlVG9Cb29rbWFyayxzZWxlY3Q6c2VsZWN0LGlzQ29sbGFwc2VkOmlzQ29sbGFwc2VkLGlzRm9yd2FyZDppc0ZvcndhcmQsc2V0Tm9kZTpzZXROb2RlLGdldE5vZGU6Z2V0Tm9kZSxnZXRTZWw6Z2V0U2VsLHNldFJuZzpzZXRSbmcsZ2V0Um5nOmdldFJuZyxnZXRTdGFydDpnZXRTdGFydCxnZXRFbmQ6Z2V0RW5kJDEsZ2V0U2VsZWN0ZWRCbG9ja3M6Z2V0U2VsZWN0ZWRCbG9ja3MkMSxub3JtYWxpemU6bm9ybWFsaXplLHNlbGVjdG9yQ2hhbmdlZDpzZWxlY3RvckNoYW5nZWQsc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDpzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kLGdldFNjcm9sbENvbnRhaW5lcjpnZXRTY3JvbGxDb250YWluZXIsc2Nyb2xsSW50b1ZpZXc6c2Nyb2xsSW50b1ZpZXcscGxhY2VDYXJldEF0OnBsYWNlQ2FyZXRBdCxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6Z2V0Qm91bmRpbmdDbGllbnRSZWN0LGRlc3Ryb3k6ZGVzdHJveX07Ym9va21hcmtNYW5hZ2VyPUJvb2ttYXJrTWFuYWdlciQxKGV4cG9ydHMpO2NvbnRyb2xTZWxlY3Rpb249Q29udHJvbFNlbGVjdGlvbihleHBvcnRzLGVkaXRvcik7ZXhwb3J0cy5ib29rbWFya01hbmFnZXI9Ym9va21hcmtNYW5hZ2VyO2V4cG9ydHMuY29udHJvbFNlbGVjdGlvbj1jb250cm9sU2VsZWN0aW9uO3JldHVybiBleHBvcnRzO307dmFyIGlzVGV4dCQ4PU5vZGVUeXBlLmlzVGV4dDt2YXIgc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyJDE9ZnVuY3Rpb24gc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyJDEobm9kZSl7cmV0dXJuIGlzVGV4dCQ4KG5vZGUpJiZub2RlLmRhdGFbMF09PT1ad3NwLlpXU1A7fTt2YXIgZW5kc1dpdGhDYXJldENvbnRhaW5lciQxPWZ1bmN0aW9uIGVuZHNXaXRoQ2FyZXRDb250YWluZXIkMShub2RlKXtyZXR1cm4gaXNUZXh0JDgobm9kZSkmJm5vZGUuZGF0YVtub2RlLmRhdGEubGVuZ3RoLTFdPT09WndzcC5aV1NQO307dmFyIGNyZWF0ZVp3c3A9ZnVuY3Rpb24gY3JlYXRlWndzcChub2RlKXtyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFp3c3AuWldTUCk7fTt2YXIgaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uIGluc2VydEJlZm9yZShub2RlKXtpZihpc1RleHQkOChub2RlLnByZXZpb3VzU2libGluZykpe2lmKGVuZHNXaXRoQ2FyZXRDb250YWluZXIkMShub2RlLnByZXZpb3VzU2libGluZykpe3JldHVybiBub2RlLnByZXZpb3VzU2libGluZzt9ZWxzZXtub2RlLnByZXZpb3VzU2libGluZy5hcHBlbmREYXRhKFp3c3AuWldTUCk7cmV0dXJuIG5vZGUucHJldmlvdXNTaWJsaW5nO319ZWxzZSBpZihpc1RleHQkOChub2RlKSl7aWYoc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyJDEobm9kZSkpe3JldHVybiBub2RlO31lbHNle25vZGUuaW5zZXJ0RGF0YSgwLFp3c3AuWldTUCk7cmV0dXJuIG5vZGU7fX1lbHNle3ZhciBuZXdOb2RlPWNyZWF0ZVp3c3Aobm9kZSk7bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLG5vZGUpO3JldHVybiBuZXdOb2RlO319O3ZhciBpbnNlcnRBZnRlcj1mdW5jdGlvbiBpbnNlcnRBZnRlcihub2RlKXtpZihpc1RleHQkOChub2RlLm5leHRTaWJsaW5nKSl7aWYoc3RhcnRzV2l0aENhcmV0Q29udGFpbmVyJDEobm9kZS5uZXh0U2libGluZykpe3JldHVybiBub2RlLm5leHRTaWJsaW5nO31lbHNle25vZGUubmV4dFNpYmxpbmcuaW5zZXJ0RGF0YSgwLFp3c3AuWldTUCk7cmV0dXJuIG5vZGUubmV4dFNpYmxpbmc7fX1lbHNlIGlmKGlzVGV4dCQ4KG5vZGUpKXtpZihlbmRzV2l0aENhcmV0Q29udGFpbmVyJDEobm9kZSkpe3JldHVybiBub2RlO31lbHNle25vZGUuYXBwZW5kRGF0YShad3NwLlpXU1ApO3JldHVybiBub2RlO319ZWxzZXt2YXIgbmV3Tm9kZT1jcmVhdGVad3NwKG5vZGUpO2lmKG5vZGUubmV4dFNpYmxpbmcpe25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSxub2RlLm5leHRTaWJsaW5nKTt9ZWxzZXtub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7fXJldHVybiBuZXdOb2RlO319O3ZhciBpbnNlcnRJbmxpbmUkMT1mdW5jdGlvbiBpbnNlcnRJbmxpbmUkMShiZWZvcmUsbm9kZSl7cmV0dXJuIGJlZm9yZT9pbnNlcnRCZWZvcmUobm9kZSk6aW5zZXJ0QWZ0ZXIobm9kZSk7fTt2YXIgaW5zZXJ0SW5saW5lQmVmb3JlPWN1cnJ5KGluc2VydElubGluZSQxLHRydWUpO3ZhciBpbnNlcnRJbmxpbmVBZnRlcj1jdXJyeShpbnNlcnRJbmxpbmUkMSxmYWxzZSk7dmFyIGluc2VydElubGluZVBvcz1mdW5jdGlvbiBpbnNlcnRJbmxpbmVQb3MocG9zLGJlZm9yZSl7aWYoTm9kZVR5cGUuaXNUZXh0KHBvcy5jb250YWluZXIoKSkpe3JldHVybiBpbnNlcnRJbmxpbmUkMShiZWZvcmUscG9zLmNvbnRhaW5lcigpKTt9ZWxzZXtyZXR1cm4gaW5zZXJ0SW5saW5lJDEoYmVmb3JlLHBvcy5nZXROb2RlKCkpO319O3ZhciBpc1Bvc0NhcmV0Q29udGFpbmVyPWZ1bmN0aW9uIGlzUG9zQ2FyZXRDb250YWluZXIocG9zLGNhcmV0KXt2YXIgY2FyZXROb2RlPWNhcmV0LmdldCgpO3JldHVybiBjYXJldE5vZGUmJnBvcy5jb250YWluZXIoKT09PWNhcmV0Tm9kZSYmaXNDYXJldENvbnRhaW5lcklubGluZShjYXJldE5vZGUpO307dmFyIHJlbmRlckNhcmV0PWZ1bmN0aW9uIHJlbmRlckNhcmV0KGNhcmV0LGxvY2F0aW9uKXtyZXR1cm4gbG9jYXRpb24uZm9sZChmdW5jdGlvbihlbGVtZW50KXtDYXJldENvbnRhaW5lclJlbW92ZS5yZW1vdmUoY2FyZXQuZ2V0KCkpO3ZhciB0ZXh0PWluc2VydElubGluZUJlZm9yZShlbGVtZW50KTtjYXJldC5zZXQodGV4dCk7cmV0dXJuIE9wdGlvbi5zb21lKENhcmV0UG9zaXRpb24kMSh0ZXh0LHRleHQubGVuZ3RoLTEpKTt9LGZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZWxlbWVudCkubWFwKGZ1bmN0aW9uKHBvcyl7aWYoIWlzUG9zQ2FyZXRDb250YWluZXIocG9zLGNhcmV0KSl7Q2FyZXRDb250YWluZXJSZW1vdmUucmVtb3ZlKGNhcmV0LmdldCgpKTt2YXIgdGV4dD1pbnNlcnRJbmxpbmVQb3MocG9zLHRydWUpO2NhcmV0LnNldCh0ZXh0KTtyZXR1cm4gQ2FyZXRQb3NpdGlvbiQxKHRleHQsMSk7fWVsc2V7cmV0dXJuIENhcmV0UG9zaXRpb24kMShjYXJldC5nZXQoKSwxKTt9fSk7fSxmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gQ2FyZXRGaW5kZXIubGFzdFBvc2l0aW9uSW4oZWxlbWVudCkubWFwKGZ1bmN0aW9uKHBvcyl7aWYoIWlzUG9zQ2FyZXRDb250YWluZXIocG9zLGNhcmV0KSl7Q2FyZXRDb250YWluZXJSZW1vdmUucmVtb3ZlKGNhcmV0LmdldCgpKTt2YXIgdGV4dD1pbnNlcnRJbmxpbmVQb3MocG9zLGZhbHNlKTtjYXJldC5zZXQodGV4dCk7cmV0dXJuIENhcmV0UG9zaXRpb24kMSh0ZXh0LHRleHQubGVuZ3RoLTEpO31lbHNle3JldHVybiBDYXJldFBvc2l0aW9uJDEoY2FyZXQuZ2V0KCksY2FyZXQuZ2V0KCkubGVuZ3RoLTEpO319KTt9LGZ1bmN0aW9uKGVsZW1lbnQpe0NhcmV0Q29udGFpbmVyUmVtb3ZlLnJlbW92ZShjYXJldC5nZXQoKSk7dmFyIHRleHQ9aW5zZXJ0SW5saW5lQWZ0ZXIoZWxlbWVudCk7Y2FyZXQuc2V0KHRleHQpO3JldHVybiBPcHRpb24uc29tZShDYXJldFBvc2l0aW9uJDEodGV4dCwxKSk7fSk7fTt2YXIgQm91bmRhcnlDYXJldD17cmVuZGVyQ2FyZXQ6cmVuZGVyQ2FyZXR9O3ZhciBzdHJvbmdSdGw9L1tcdTA1OTEtXHUwN0ZGXHVGQjFELVx1RkRGRlx1RkU3MC1cdUZFRkNdLzt2YXIgaGFzU3Ryb25nUnRsPWZ1bmN0aW9uIGhhc1N0cm9uZ1J0bCh0ZXh0KXtyZXR1cm4gc3Ryb25nUnRsLnRlc3QodGV4dCk7fTt2YXIgaXNJbmxpbmVUYXJnZXQ9ZnVuY3Rpb24gaXNJbmxpbmVUYXJnZXQoZWRpdG9yLGVsbSl7cmV0dXJuIGlzKEVsZW1lbnQuZnJvbURvbShlbG0pLFNldHRpbmdzLmdldElubGluZUJvdW5kYXJ5U2VsZWN0b3IoZWRpdG9yKSk7fTt2YXIgaXNSdGwkMT1mdW5jdGlvbiBpc1J0bCQxKGVsZW1lbnQpe3JldHVybiBET01VdGlscyQxLkRPTS5nZXRTdHlsZShlbGVtZW50LCdkaXJlY3Rpb24nLHRydWUpPT09J3J0bCd8fGhhc1N0cm9uZ1J0bChlbGVtZW50LnRleHRDb250ZW50KTt9O3ZhciBmaW5kSW5saW5lUGFyZW50cz1mdW5jdGlvbiBmaW5kSW5saW5lUGFyZW50cyhpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3Mpe3JldHVybiBmaWx0ZXIoRE9NVXRpbHMkMS5ET00uZ2V0UGFyZW50cyhwb3MuY29udGFpbmVyKCksJyonLHJvb3ROb2RlKSxpc0lubGluZVRhcmdldCk7fTt2YXIgZmluZFJvb3RJbmxpbmU9ZnVuY3Rpb24gZmluZFJvb3RJbmxpbmUoaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUscG9zKXt2YXIgcGFyZW50cz1maW5kSW5saW5lUGFyZW50cyhpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3MpO3JldHVybiBPcHRpb24uZnJvbShwYXJlbnRzW3BhcmVudHMubGVuZ3RoLTFdKTt9O3ZhciBoYXNTYW1lUGFyZW50QmxvY2s9ZnVuY3Rpb24gaGFzU2FtZVBhcmVudEJsb2NrKHJvb3ROb2RlLG5vZGUxLG5vZGUyKXt2YXIgYmxvY2sxPWdldFBhcmVudEJsb2NrKG5vZGUxLHJvb3ROb2RlKTt2YXIgYmxvY2syPWdldFBhcmVudEJsb2NrKG5vZGUyLHJvb3ROb2RlKTtyZXR1cm4gYmxvY2sxJiZibG9jazE9PT1ibG9jazI7fTt2YXIgaXNBdFp3c3A9ZnVuY3Rpb24gaXNBdFp3c3AocG9zKXtyZXR1cm4gaXNCZWZvcmVJbmxpbmUocG9zKXx8aXNBZnRlcklubGluZShwb3MpO307dmFyIG5vcm1hbGl6ZVBvc2l0aW9uPWZ1bmN0aW9uIG5vcm1hbGl6ZVBvc2l0aW9uKGZvcndhcmQscG9zKXtpZighcG9zKXtyZXR1cm4gcG9zO312YXIgY29udGFpbmVyPXBvcy5jb250YWluZXIoKSxvZmZzZXQ9cG9zLm9mZnNldCgpO2lmKGZvcndhcmQpe2lmKGlzQ2FyZXRDb250YWluZXJJbmxpbmUoY29udGFpbmVyKSl7aWYoTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lci5uZXh0U2libGluZykpe3JldHVybiBDYXJldFBvc2l0aW9uJDEoY29udGFpbmVyLm5leHRTaWJsaW5nLDApO31lbHNle3JldHVybiBDYXJldFBvc2l0aW9uJDEuYWZ0ZXIoY29udGFpbmVyKTt9fWVsc2V7cmV0dXJuIGlzQmVmb3JlSW5saW5lKHBvcyk/Q2FyZXRQb3NpdGlvbiQxKGNvbnRhaW5lcixvZmZzZXQrMSk6cG9zO319ZWxzZXtpZihpc0NhcmV0Q29udGFpbmVySW5saW5lKGNvbnRhaW5lcikpe2lmKE5vZGVUeXBlLmlzVGV4dChjb250YWluZXIucHJldmlvdXNTaWJsaW5nKSl7cmV0dXJuIENhcmV0UG9zaXRpb24kMShjb250YWluZXIucHJldmlvdXNTaWJsaW5nLGNvbnRhaW5lci5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpO31lbHNle3JldHVybiBDYXJldFBvc2l0aW9uJDEuYmVmb3JlKGNvbnRhaW5lcik7fX1lbHNle3JldHVybiBpc0FmdGVySW5saW5lKHBvcyk/Q2FyZXRQb3NpdGlvbiQxKGNvbnRhaW5lcixvZmZzZXQtMSk6cG9zO319fTt2YXIgbm9ybWFsaXplRm9yd2FyZHM9Y3Vycnkobm9ybWFsaXplUG9zaXRpb24sdHJ1ZSk7dmFyIG5vcm1hbGl6ZUJhY2t3YXJkcz1jdXJyeShub3JtYWxpemVQb3NpdGlvbixmYWxzZSk7dmFyIElubGluZVV0aWxzPXtpc0lubGluZVRhcmdldDppc0lubGluZVRhcmdldCxmaW5kUm9vdElubGluZTpmaW5kUm9vdElubGluZSxpc1J0bDppc1J0bCQxLGlzQXRad3NwOmlzQXRad3NwLG5vcm1hbGl6ZVBvc2l0aW9uOm5vcm1hbGl6ZVBvc2l0aW9uLG5vcm1hbGl6ZUZvcndhcmRzOm5vcm1hbGl6ZUZvcndhcmRzLG5vcm1hbGl6ZUJhY2t3YXJkczpub3JtYWxpemVCYWNrd2FyZHMsaGFzU2FtZVBhcmVudEJsb2NrOmhhc1NhbWVQYXJlbnRCbG9ja307dmFyIGV2YWx1YXRlVW50aWw9ZnVuY3Rpb24gZXZhbHVhdGVVbnRpbChmbnMsYXJncyl7Zm9yKHZhciBpPTA7aTxmbnMubGVuZ3RoO2krKyl7dmFyIHJlc3VsdD1mbnNbaV0uYXBwbHkobnVsbCxhcmdzKTtpZihyZXN1bHQuaXNTb21lKCkpe3JldHVybiByZXN1bHQ7fX1yZXR1cm4gT3B0aW9uLm5vbmUoKTt9O3ZhciBMYXp5RXZhbHVhdG9yPXtldmFsdWF0ZVVudGlsOmV2YWx1YXRlVW50aWx9O3ZhciBMb2NhdGlvbj1BZHQuZ2VuZXJhdGUoW3tiZWZvcmU6WydlbGVtZW50J119LHtzdGFydDpbJ2VsZW1lbnQnXX0se2VuZDpbJ2VsZW1lbnQnXX0se2FmdGVyOlsnZWxlbWVudCddfV0pO3ZhciByZXNjb3BlPWZ1bmN0aW9uIHJlc2NvcGUocm9vdE5vZGUsbm9kZSl7dmFyIHBhcmVudEJsb2NrPWdldFBhcmVudEJsb2NrKG5vZGUscm9vdE5vZGUpO3JldHVybiBwYXJlbnRCbG9jaz9wYXJlbnRCbG9jazpyb290Tm9kZTt9O3ZhciBiZWZvcmUkND1mdW5jdGlvbiBiZWZvcmUkNChpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3Mpe3ZhciBuUG9zPUlubGluZVV0aWxzLm5vcm1hbGl6ZUZvcndhcmRzKHBvcyk7dmFyIHNjb3BlPXJlc2NvcGUocm9vdE5vZGUsblBvcy5jb250YWluZXIoKSk7cmV0dXJuIElubGluZVV0aWxzLmZpbmRSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHNjb3BlLG5Qb3MpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gQ2FyZXRGaW5kZXIubmV4dFBvc2l0aW9uKHNjb3BlLG5Qb3MpLmJpbmQoY3VycnkoSW5saW5lVXRpbHMuZmluZFJvb3RJbmxpbmUsaXNJbmxpbmVUYXJnZXQsc2NvcGUpKS5tYXAoZnVuY3Rpb24oaW5saW5lKXtyZXR1cm4gTG9jYXRpb24uYmVmb3JlKGlubGluZSk7fSk7fSxPcHRpb24ubm9uZSk7fTt2YXIgaXNOb3RJbnNpZGVGb3JtYXRDYXJldENvbnRhaW5lcj1mdW5jdGlvbiBpc05vdEluc2lkZUZvcm1hdENhcmV0Q29udGFpbmVyKHJvb3ROb2RlLGVsbSl7cmV0dXJuIGdldFBhcmVudENhcmV0Q29udGFpbmVyKHJvb3ROb2RlLGVsbSk9PT1udWxsO307dmFyIGZpbmRJbnNpZGVSb290SW5saW5lPWZ1bmN0aW9uIGZpbmRJbnNpZGVSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLHBvcyl7cmV0dXJuIElubGluZVV0aWxzLmZpbmRSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLHBvcykuZmlsdGVyKGN1cnJ5KGlzTm90SW5zaWRlRm9ybWF0Q2FyZXRDb250YWluZXIscm9vdE5vZGUpKTt9O3ZhciBzdGFydCQxPWZ1bmN0aW9uIHN0YXJ0JDEoaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUscG9zKXt2YXIgblBvcz1JbmxpbmVVdGlscy5ub3JtYWxpemVCYWNrd2FyZHMocG9zKTtyZXR1cm4gZmluZEluc2lkZVJvb3RJbmxpbmUoaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsblBvcykuYmluZChmdW5jdGlvbihpbmxpbmUpe3ZhciBwcmV2UG9zPUNhcmV0RmluZGVyLnByZXZQb3NpdGlvbihpbmxpbmUsblBvcyk7cmV0dXJuIHByZXZQb3MuaXNOb25lKCk/T3B0aW9uLnNvbWUoTG9jYXRpb24uc3RhcnQoaW5saW5lKSk6T3B0aW9uLm5vbmUoKTt9KTt9O3ZhciBlbmQ9ZnVuY3Rpb24gZW5kKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLHBvcyl7dmFyIG5Qb3M9SW5saW5lVXRpbHMubm9ybWFsaXplRm9yd2FyZHMocG9zKTtyZXR1cm4gZmluZEluc2lkZVJvb3RJbmxpbmUoaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsblBvcykuYmluZChmdW5jdGlvbihpbmxpbmUpe3ZhciBuZXh0UG9zPUNhcmV0RmluZGVyLm5leHRQb3NpdGlvbihpbmxpbmUsblBvcyk7cmV0dXJuIG5leHRQb3MuaXNOb25lKCk/T3B0aW9uLnNvbWUoTG9jYXRpb24uZW5kKGlubGluZSkpOk9wdGlvbi5ub25lKCk7fSk7fTt2YXIgYWZ0ZXIkMz1mdW5jdGlvbiBhZnRlciQzKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLHBvcyl7dmFyIG5Qb3M9SW5saW5lVXRpbHMubm9ybWFsaXplQmFja3dhcmRzKHBvcyk7dmFyIHNjb3BlPXJlc2NvcGUocm9vdE5vZGUsblBvcy5jb250YWluZXIoKSk7cmV0dXJuIElubGluZVV0aWxzLmZpbmRSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHNjb3BlLG5Qb3MpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gQ2FyZXRGaW5kZXIucHJldlBvc2l0aW9uKHNjb3BlLG5Qb3MpLmJpbmQoY3VycnkoSW5saW5lVXRpbHMuZmluZFJvb3RJbmxpbmUsaXNJbmxpbmVUYXJnZXQsc2NvcGUpKS5tYXAoZnVuY3Rpb24oaW5saW5lKXtyZXR1cm4gTG9jYXRpb24uYWZ0ZXIoaW5saW5lKTt9KTt9LE9wdGlvbi5ub25lKTt9O3ZhciBpc1ZhbGlkTG9jYXRpb249ZnVuY3Rpb24gaXNWYWxpZExvY2F0aW9uKGxvY2F0aW9uKXtyZXR1cm4gSW5saW5lVXRpbHMuaXNSdGwoZ2V0RWxlbWVudChsb2NhdGlvbikpPT09ZmFsc2U7fTt2YXIgcmVhZExvY2F0aW9uPWZ1bmN0aW9uIHJlYWRMb2NhdGlvbihpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3Mpe3ZhciBsb2NhdGlvbj1MYXp5RXZhbHVhdG9yLmV2YWx1YXRlVW50aWwoW2JlZm9yZSQ0LHN0YXJ0JDEsZW5kLGFmdGVyJDNdLFtpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3NdKTtyZXR1cm4gbG9jYXRpb24uZmlsdGVyKGlzVmFsaWRMb2NhdGlvbik7fTt2YXIgZ2V0RWxlbWVudD1mdW5jdGlvbiBnZXRFbGVtZW50KGxvY2F0aW9uKXtyZXR1cm4gbG9jYXRpb24uZm9sZChpZGVudGl0eSxpZGVudGl0eSxpZGVudGl0eSxpZGVudGl0eSk7fTt2YXIgZ2V0TmFtZT1mdW5jdGlvbiBnZXROYW1lKGxvY2F0aW9uKXtyZXR1cm4gbG9jYXRpb24uZm9sZChjb25zdGFudCgnYmVmb3JlJyksY29uc3RhbnQoJ3N0YXJ0JyksY29uc3RhbnQoJ2VuZCcpLGNvbnN0YW50KCdhZnRlcicpKTt9O3ZhciBvdXRzaWRlPWZ1bmN0aW9uIG91dHNpZGUobG9jYXRpb24pe3JldHVybiBsb2NhdGlvbi5mb2xkKExvY2F0aW9uLmJlZm9yZSxMb2NhdGlvbi5iZWZvcmUsTG9jYXRpb24uYWZ0ZXIsTG9jYXRpb24uYWZ0ZXIpO307dmFyIGluc2lkZT1mdW5jdGlvbiBpbnNpZGUobG9jYXRpb24pe3JldHVybiBsb2NhdGlvbi5mb2xkKExvY2F0aW9uLnN0YXJ0LExvY2F0aW9uLnN0YXJ0LExvY2F0aW9uLmVuZCxMb2NhdGlvbi5lbmQpO307dmFyIGlzRXEkNT1mdW5jdGlvbiBpc0VxJDUobG9jYXRpb24xLGxvY2F0aW9uMil7cmV0dXJuIGdldE5hbWUobG9jYXRpb24xKT09PWdldE5hbWUobG9jYXRpb24yKSYmZ2V0RWxlbWVudChsb2NhdGlvbjEpPT09Z2V0RWxlbWVudChsb2NhdGlvbjIpO307dmFyIGJldHdlZW5JbmxpbmVzPWZ1bmN0aW9uIGJldHdlZW5JbmxpbmVzKGZvcndhcmQsaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsZnJvbSx0byxsb2NhdGlvbil7cmV0dXJuIGxpZnQyKElubGluZVV0aWxzLmZpbmRSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLGZyb20pLElubGluZVV0aWxzLmZpbmRSb290SW5saW5lKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLHRvKSxmdW5jdGlvbihmcm9tSW5saW5lLHRvSW5saW5lKXtpZihmcm9tSW5saW5lIT09dG9JbmxpbmUmJklubGluZVV0aWxzLmhhc1NhbWVQYXJlbnRCbG9jayhyb290Tm9kZSxmcm9tSW5saW5lLHRvSW5saW5lKSl7cmV0dXJuIExvY2F0aW9uLmFmdGVyKGZvcndhcmQ/ZnJvbUlubGluZTp0b0lubGluZSk7fWVsc2V7cmV0dXJuIGxvY2F0aW9uO319KS5nZXRPcihsb2NhdGlvbik7fTt2YXIgc2tpcE5vTW92ZW1lbnQ9ZnVuY3Rpb24gc2tpcE5vTW92ZW1lbnQoZnJvbUxvY2F0aW9uLHRvTG9jYXRpb24pe3JldHVybiBmcm9tTG9jYXRpb24uZm9sZChjb25zdGFudCh0cnVlKSxmdW5jdGlvbihmcm9tTG9jYXRpb24pe3JldHVybiFpc0VxJDUoZnJvbUxvY2F0aW9uLHRvTG9jYXRpb24pO30pO307dmFyIGZpbmRMb2NhdGlvblRyYXZlcnNlPWZ1bmN0aW9uIGZpbmRMb2NhdGlvblRyYXZlcnNlKGZvcndhcmQsaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsZnJvbUxvY2F0aW9uLHBvcyl7dmFyIGZyb209SW5saW5lVXRpbHMubm9ybWFsaXplUG9zaXRpb24oZm9yd2FyZCxwb3MpO3ZhciB0bz1DYXJldEZpbmRlci5mcm9tUG9zaXRpb24oZm9yd2FyZCxyb290Tm9kZSxmcm9tKS5tYXAoY3VycnkoSW5saW5lVXRpbHMubm9ybWFsaXplUG9zaXRpb24sZm9yd2FyZCkpO3ZhciBsb2NhdGlvbj10by5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGZyb21Mb2NhdGlvbi5tYXAob3V0c2lkZSk7fSxmdW5jdGlvbih0byl7cmV0dXJuIHJlYWRMb2NhdGlvbihpc0lubGluZVRhcmdldCxyb290Tm9kZSx0bykubWFwKGN1cnJ5KGJldHdlZW5JbmxpbmVzLGZvcndhcmQsaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsZnJvbSx0bykpLmZpbHRlcihjdXJyeShza2lwTm9Nb3ZlbWVudCxmcm9tTG9jYXRpb24pKTt9KTtyZXR1cm4gbG9jYXRpb24uZmlsdGVyKGlzVmFsaWRMb2NhdGlvbik7fTt2YXIgZmluZExvY2F0aW9uU2ltcGxlPWZ1bmN0aW9uIGZpbmRMb2NhdGlvblNpbXBsZShmb3J3YXJkLGxvY2F0aW9uKXtpZihmb3J3YXJkKXtyZXR1cm4gbG9jYXRpb24uZm9sZChjb21wb3NlKE9wdGlvbi5zb21lLExvY2F0aW9uLnN0YXJ0KSxPcHRpb24ubm9uZSxjb21wb3NlKE9wdGlvbi5zb21lLExvY2F0aW9uLmFmdGVyKSxPcHRpb24ubm9uZSk7fWVsc2V7cmV0dXJuIGxvY2F0aW9uLmZvbGQoT3B0aW9uLm5vbmUsY29tcG9zZShPcHRpb24uc29tZSxMb2NhdGlvbi5iZWZvcmUpLE9wdGlvbi5ub25lLGNvbXBvc2UoT3B0aW9uLnNvbWUsTG9jYXRpb24uZW5kKSk7fX07dmFyIGZpbmRMb2NhdGlvbj1mdW5jdGlvbiBmaW5kTG9jYXRpb24oZm9yd2FyZCxpc0lubGluZVRhcmdldCxyb290Tm9kZSxwb3Mpe3ZhciBmcm9tPUlubGluZVV0aWxzLm5vcm1hbGl6ZVBvc2l0aW9uKGZvcndhcmQscG9zKTt2YXIgZnJvbUxvY2F0aW9uPXJlYWRMb2NhdGlvbihpc0lubGluZVRhcmdldCxyb290Tm9kZSxmcm9tKTtyZXR1cm4gcmVhZExvY2F0aW9uKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLGZyb20pLmJpbmQoY3VycnkoZmluZExvY2F0aW9uU2ltcGxlLGZvcndhcmQpKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGZpbmRMb2NhdGlvblRyYXZlcnNlKGZvcndhcmQsaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsZnJvbUxvY2F0aW9uLHBvcyk7fSk7fTt2YXIgQm91bmRhcnlMb2NhdGlvbj17cmVhZExvY2F0aW9uOnJlYWRMb2NhdGlvbixmaW5kTG9jYXRpb246ZmluZExvY2F0aW9uLHByZXZMb2NhdGlvbjpjdXJyeShmaW5kTG9jYXRpb24sZmFsc2UpLG5leHRMb2NhdGlvbjpjdXJyeShmaW5kTG9jYXRpb24sdHJ1ZSksZ2V0RWxlbWVudDpnZXRFbGVtZW50LG91dHNpZGU6b3V0c2lkZSxpbnNpZGU6aW5zaWRlfTt2YXIgaGFzU2VsZWN0aW9uTW9kaWZ5QXBpPWZ1bmN0aW9uIGhhc1NlbGVjdGlvbk1vZGlmeUFwaShlZGl0b3Ipe3JldHVybiBpc0Z1bmN0aW9uKGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KTt9O3ZhciBtb3ZlUmVsPWZ1bmN0aW9uIG1vdmVSZWwoZm9yd2FyZCxzZWxlY3Rpb24scG9zKXt2YXIgZGVsdGE9Zm9yd2FyZD8xOi0xO3NlbGVjdGlvbi5zZXRSbmcoQ2FyZXRQb3NpdGlvbiQxKHBvcy5jb250YWluZXIoKSxwb3Mub2Zmc2V0KCkrZGVsdGEpLnRvUmFuZ2UoKSk7c2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSgnbW92ZScsZm9yd2FyZD8nZm9yd2FyZCc6J2JhY2t3YXJkJywnd29yZCcpO3JldHVybiB0cnVlO307dmFyIG1vdmVCeVdvcmQ9ZnVuY3Rpb24gbW92ZUJ5V29yZChmb3J3YXJkLGVkaXRvcil7dmFyIHJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO3ZhciBwb3M9Zm9yd2FyZD9DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlRW5kKHJuZyk6Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KHJuZyk7aWYoIWhhc1NlbGVjdGlvbk1vZGlmeUFwaShlZGl0b3IpKXtyZXR1cm4gZmFsc2U7fWVsc2UgaWYoZm9yd2FyZCYmaXNCZWZvcmVJbmxpbmUocG9zKSl7cmV0dXJuIG1vdmVSZWwodHJ1ZSxlZGl0b3Iuc2VsZWN0aW9uLHBvcyk7fWVsc2UgaWYoIWZvcndhcmQmJmlzQWZ0ZXJJbmxpbmUocG9zKSl7cmV0dXJuIG1vdmVSZWwoZmFsc2UsZWRpdG9yLnNlbGVjdGlvbixwb3MpO31lbHNle3JldHVybiBmYWxzZTt9fTt2YXIgV29yZFNlbGVjdGlvbj17aGFzU2VsZWN0aW9uTW9kaWZ5QXBpOmhhc1NlbGVjdGlvbk1vZGlmeUFwaSxtb3ZlQnlXb3JkOm1vdmVCeVdvcmR9O3ZhciBzZXRDYXJldFBvc2l0aW9uPWZ1bmN0aW9uIHNldENhcmV0UG9zaXRpb24oZWRpdG9yLHBvcyl7dmFyIHJuZz1lZGl0b3IuZG9tLmNyZWF0ZVJuZygpO3JuZy5zZXRTdGFydChwb3MuY29udGFpbmVyKCkscG9zLm9mZnNldCgpKTtybmcuc2V0RW5kKHBvcy5jb250YWluZXIoKSxwb3Mub2Zmc2V0KCkpO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKHJuZyk7fTt2YXIgaXNGZWF0dXJlRW5hYmxlZD1mdW5jdGlvbiBpc0ZlYXR1cmVFbmFibGVkKGVkaXRvcil7cmV0dXJuIGVkaXRvci5zZXR0aW5ncy5pbmxpbmVfYm91bmRhcmllcyE9PWZhbHNlO307dmFyIHNldFNlbGVjdGVkPWZ1bmN0aW9uIHNldFNlbGVjdGVkKHN0YXRlLGVsbSl7aWYoc3RhdGUpe2VsbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLXNlbGVjdGVkJywnaW5saW5lLWJvdW5kYXJ5Jyk7fWVsc2V7ZWxtLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1tY2Utc2VsZWN0ZWQnKTt9fTt2YXIgcmVuZGVyQ2FyZXRMb2NhdGlvbj1mdW5jdGlvbiByZW5kZXJDYXJldExvY2F0aW9uKGVkaXRvcixjYXJldCxsb2NhdGlvbil7cmV0dXJuIEJvdW5kYXJ5Q2FyZXQucmVuZGVyQ2FyZXQoY2FyZXQsbG9jYXRpb24pLm1hcChmdW5jdGlvbihwb3Mpe3NldENhcmV0UG9zaXRpb24oZWRpdG9yLHBvcyk7cmV0dXJuIGxvY2F0aW9uO30pO307dmFyIGZpbmRMb2NhdGlvbiQxPWZ1bmN0aW9uIGZpbmRMb2NhdGlvbiQxKGVkaXRvcixjYXJldCxmb3J3YXJkKXt2YXIgcm9vdE5vZGU9ZWRpdG9yLmdldEJvZHkoKTt2YXIgZnJvbT1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7dmFyIGlzSW5saW5lVGFyZ2V0PWN1cnJ5KElubGluZVV0aWxzLmlzSW5saW5lVGFyZ2V0LGVkaXRvcik7dmFyIGxvY2F0aW9uPUJvdW5kYXJ5TG9jYXRpb24uZmluZExvY2F0aW9uKGZvcndhcmQsaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsZnJvbSk7cmV0dXJuIGxvY2F0aW9uLmJpbmQoZnVuY3Rpb24obG9jYXRpb24pe3JldHVybiByZW5kZXJDYXJldExvY2F0aW9uKGVkaXRvcixjYXJldCxsb2NhdGlvbik7fSk7fTt2YXIgdG9nZ2xlSW5saW5lcz1mdW5jdGlvbiB0b2dnbGVJbmxpbmVzKGlzSW5saW5lVGFyZ2V0LGRvbSxlbG1zKXt2YXIgc2VsZWN0ZWRJbmxpbmVzPWZpbHRlcihkb20uc2VsZWN0KCcqW2RhdGEtbWNlLXNlbGVjdGVkPSJpbmxpbmUtYm91bmRhcnkiXScpLGlzSW5saW5lVGFyZ2V0KTt2YXIgdGFyZ2V0SW5saW5lcz1maWx0ZXIoZWxtcyxpc0lubGluZVRhcmdldCk7ZWFjaChkaWZmZXJlbmNlKHNlbGVjdGVkSW5saW5lcyx0YXJnZXRJbmxpbmVzKSxjdXJyeShzZXRTZWxlY3RlZCxmYWxzZSkpO2VhY2goZGlmZmVyZW5jZSh0YXJnZXRJbmxpbmVzLHNlbGVjdGVkSW5saW5lcyksY3Vycnkoc2V0U2VsZWN0ZWQsdHJ1ZSkpO307dmFyIHNhZmVSZW1vdmVDYXJldENvbnRhaW5lcj1mdW5jdGlvbiBzYWZlUmVtb3ZlQ2FyZXRDb250YWluZXIoZWRpdG9yLGNhcmV0KXtpZihlZGl0b3Iuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJmVkaXRvci5jb21wb3NpbmchPT10cnVlJiZjYXJldC5nZXQoKSl7dmFyIHBvcz1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7aWYoQ2FyZXRQb3NpdGlvbiQxLmlzVGV4dFBvc2l0aW9uKHBvcykmJklubGluZVV0aWxzLmlzQXRad3NwKHBvcyk9PT1mYWxzZSl7c2V0Q2FyZXRQb3NpdGlvbihlZGl0b3IsQ2FyZXRDb250YWluZXJSZW1vdmUucmVtb3ZlQW5kUmVwb3NpdGlvbihjYXJldC5nZXQoKSxwb3MpKTtjYXJldC5zZXQobnVsbCk7fX19O3ZhciByZW5kZXJJbnNpZGVJbmxpbmVDYXJldD1mdW5jdGlvbiByZW5kZXJJbnNpZGVJbmxpbmVDYXJldChpc0lubGluZVRhcmdldCxlZGl0b3IsY2FyZXQsZWxtcyl7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXt2YXIgaW5saW5lcz1maWx0ZXIoZWxtcyxpc0lubGluZVRhcmdldCk7ZWFjaChpbmxpbmVzLGZ1bmN0aW9uKGlubGluZSl7dmFyIHBvcz1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7Qm91bmRhcnlMb2NhdGlvbi5yZWFkTG9jYXRpb24oaXNJbmxpbmVUYXJnZXQsZWRpdG9yLmdldEJvZHkoKSxwb3MpLmJpbmQoZnVuY3Rpb24obG9jYXRpb24pe3JldHVybiByZW5kZXJDYXJldExvY2F0aW9uKGVkaXRvcixjYXJldCxsb2NhdGlvbik7fSk7fSk7fX07dmFyIG1vdmUkMT1mdW5jdGlvbiBtb3ZlJDEoZWRpdG9yLGNhcmV0LGZvcndhcmQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBpc0ZlYXR1cmVFbmFibGVkKGVkaXRvcik/ZmluZExvY2F0aW9uJDEoZWRpdG9yLGNhcmV0LGZvcndhcmQpLmlzU29tZSgpOmZhbHNlO307fTt2YXIgbW92ZVdvcmQ9ZnVuY3Rpb24gbW92ZVdvcmQoZm9yd2FyZCxlZGl0b3IsY2FyZXQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBpc0ZlYXR1cmVFbmFibGVkKGVkaXRvcik/V29yZFNlbGVjdGlvbi5tb3ZlQnlXb3JkKGZvcndhcmQsZWRpdG9yKTpmYWxzZTt9O307dmFyIHNldHVwU2VsZWN0ZWRTdGF0ZT1mdW5jdGlvbiBzZXR1cFNlbGVjdGVkU3RhdGUoZWRpdG9yKXt2YXIgY2FyZXQ9Q2VsbChudWxsKTt2YXIgaXNJbmxpbmVUYXJnZXQ9Y3VycnkoSW5saW5lVXRpbHMuaXNJbmxpbmVUYXJnZXQsZWRpdG9yKTtlZGl0b3Iub24oJ05vZGVDaGFuZ2UnLGZ1bmN0aW9uKGUpe2lmKGlzRmVhdHVyZUVuYWJsZWQoZWRpdG9yKSl7dG9nZ2xlSW5saW5lcyhpc0lubGluZVRhcmdldCxlZGl0b3IuZG9tLGUucGFyZW50cyk7c2FmZVJlbW92ZUNhcmV0Q29udGFpbmVyKGVkaXRvcixjYXJldCk7cmVuZGVySW5zaWRlSW5saW5lQ2FyZXQoaXNJbmxpbmVUYXJnZXQsZWRpdG9yLGNhcmV0LGUucGFyZW50cyk7fX0pO3JldHVybiBjYXJldDt9O3ZhciBtb3ZlTmV4dFdvcmQ9Y3VycnkobW92ZVdvcmQsdHJ1ZSk7dmFyIG1vdmVQcmV2V29yZD1jdXJyeShtb3ZlV29yZCxmYWxzZSk7dmFyIEJvdW5kYXJ5U2VsZWN0aW9uPXttb3ZlOm1vdmUkMSxtb3ZlTmV4dFdvcmQ6bW92ZU5leHRXb3JkLG1vdmVQcmV2V29yZDptb3ZlUHJldldvcmQsc2V0dXBTZWxlY3RlZFN0YXRlOnNldHVwU2VsZWN0ZWRTdGF0ZSxzZXRDYXJldFBvc2l0aW9uOnNldENhcmV0UG9zaXRpb259O3ZhciBCcmVha1R5cGU7KGZ1bmN0aW9uKEJyZWFrVHlwZSl7QnJlYWtUeXBlW0JyZWFrVHlwZVsnQnInXT0wXT0nQnInO0JyZWFrVHlwZVtCcmVha1R5cGVbJ0Jsb2NrJ109MV09J0Jsb2NrJztCcmVha1R5cGVbQnJlYWtUeXBlWydXcmFwJ109Ml09J1dyYXAnO0JyZWFrVHlwZVtCcmVha1R5cGVbJ0VvbCddPTNdPSdFb2wnO30pKEJyZWFrVHlwZXx8KEJyZWFrVHlwZT17fSkpO3ZhciBmbGlwPWZ1bmN0aW9uIGZsaXAoZGlyZWN0aW9uLHBvc2l0aW9ucyl7cmV0dXJuIGRpcmVjdGlvbj09PUhEaXJlY3Rpb24uQmFja3dhcmRzP3Bvc2l0aW9ucy5yZXZlcnNlKCk6cG9zaXRpb25zO307dmFyIHdhbGskMz1mdW5jdGlvbiB3YWxrJDMoZGlyZWN0aW9uLGNhcmV0V2Fsa2VyLHBvcyl7cmV0dXJuIGRpcmVjdGlvbj09PUhEaXJlY3Rpb24uRm9yd2FyZHM/Y2FyZXRXYWxrZXIubmV4dChwb3MpOmNhcmV0V2Fsa2VyLnByZXYocG9zKTt9O3ZhciBnZXRCcmVha1R5cGU9ZnVuY3Rpb24gZ2V0QnJlYWtUeXBlKHNjb3BlLGRpcmVjdGlvbixjdXJyZW50UG9zLG5leHRQb3Mpe2lmKE5vZGVUeXBlLmlzQnIobmV4dFBvcy5nZXROb2RlKGRpcmVjdGlvbj09PUhEaXJlY3Rpb24uRm9yd2FyZHMpKSl7cmV0dXJuIEJyZWFrVHlwZS5Ccjt9ZWxzZSBpZihpc0luU2FtZUJsb2NrKGN1cnJlbnRQb3MsbmV4dFBvcyk9PT1mYWxzZSl7cmV0dXJuIEJyZWFrVHlwZS5CbG9jazt9ZWxzZXtyZXR1cm4gQnJlYWtUeXBlLldyYXA7fX07dmFyIGdldFBvc2l0aW9uc1VudGlsPWZ1bmN0aW9uIGdldFBvc2l0aW9uc1VudGlsKHByZWRpY2F0ZSxkaXJlY3Rpb24sc2NvcGUsc3RhcnQpe3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihzY29wZSk7dmFyIGN1cnJlbnRQb3M9c3RhcnQsbmV4dFBvczt2YXIgcG9zaXRpb25zPVtdO3doaWxlKGN1cnJlbnRQb3Mpe25leHRQb3M9d2FsayQzKGRpcmVjdGlvbixjYXJldFdhbGtlcixjdXJyZW50UG9zKTtpZighbmV4dFBvcyl7YnJlYWs7fWlmKE5vZGVUeXBlLmlzQnIobmV4dFBvcy5nZXROb2RlKGZhbHNlKSkpe2lmKGRpcmVjdGlvbj09PUhEaXJlY3Rpb24uRm9yd2FyZHMpe3JldHVybntwb3NpdGlvbnM6ZmxpcChkaXJlY3Rpb24scG9zaXRpb25zKS5jb25jYXQoW25leHRQb3NdKSxicmVha1R5cGU6QnJlYWtUeXBlLkJyLGJyZWFrQXQ6T3B0aW9uLnNvbWUobmV4dFBvcyl9O31lbHNle3JldHVybntwb3NpdGlvbnM6ZmxpcChkaXJlY3Rpb24scG9zaXRpb25zKSxicmVha1R5cGU6QnJlYWtUeXBlLkJyLGJyZWFrQXQ6T3B0aW9uLnNvbWUobmV4dFBvcyl9O319aWYoIW5leHRQb3MuaXNWaXNpYmxlKCkpe2N1cnJlbnRQb3M9bmV4dFBvcztjb250aW51ZTt9aWYocHJlZGljYXRlKGN1cnJlbnRQb3MsbmV4dFBvcykpe3ZhciBicmVha1R5cGU9Z2V0QnJlYWtUeXBlKHNjb3BlLGRpcmVjdGlvbixjdXJyZW50UG9zLG5leHRQb3MpO3JldHVybntwb3NpdGlvbnM6ZmxpcChkaXJlY3Rpb24scG9zaXRpb25zKSxicmVha1R5cGU6YnJlYWtUeXBlLGJyZWFrQXQ6T3B0aW9uLnNvbWUobmV4dFBvcyl9O31wb3NpdGlvbnMucHVzaChuZXh0UG9zKTtjdXJyZW50UG9zPW5leHRQb3M7fXJldHVybntwb3NpdGlvbnM6ZmxpcChkaXJlY3Rpb24scG9zaXRpb25zKSxicmVha1R5cGU6QnJlYWtUeXBlLkVvbCxicmVha0F0Ok9wdGlvbi5ub25lKCl9O307dmFyIGdldEFkamFjZW50TGluZVBvc2l0aW9ucz1mdW5jdGlvbiBnZXRBZGphY2VudExpbmVQb3NpdGlvbnMoZGlyZWN0aW9uLGdldFBvc2l0aW9uc1VudGlsQnJlYWssc2NvcGUsc3RhcnQpe3JldHVybiBnZXRQb3NpdGlvbnNVbnRpbEJyZWFrKHNjb3BlLHN0YXJ0KS5icmVha0F0Lm1hcChmdW5jdGlvbihwb3Mpe3ZhciBwb3NpdGlvbnM9Z2V0UG9zaXRpb25zVW50aWxCcmVhayhzY29wZSxwb3MpLnBvc2l0aW9ucztyZXR1cm4gZGlyZWN0aW9uPT09SERpcmVjdGlvbi5CYWNrd2FyZHM/cG9zaXRpb25zLmNvbmNhdChwb3MpOltwb3NdLmNvbmNhdChwb3NpdGlvbnMpO30pLmdldE9yKFtdKTt9O3ZhciBmaW5kQ2xvc2VzdEhvcml6b250YWxQb3NpdGlvbkZyb21Qb2ludD1mdW5jdGlvbiBmaW5kQ2xvc2VzdEhvcml6b250YWxQb3NpdGlvbkZyb21Qb2ludChwb3NpdGlvbnMseCl7cmV0dXJuIGZvbGRsKHBvc2l0aW9ucyxmdW5jdGlvbihhY2MsbmV3UG9zKXtyZXR1cm4gYWNjLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gT3B0aW9uLnNvbWUobmV3UG9zKTt9LGZ1bmN0aW9uKGxhc3RQb3Mpe3JldHVybiBsaWZ0MihoZWFkKGxhc3RQb3MuZ2V0Q2xpZW50UmVjdHMoKSksaGVhZChuZXdQb3MuZ2V0Q2xpZW50UmVjdHMoKSksZnVuY3Rpb24obGFzdFJlY3QsbmV3UmVjdCl7dmFyIGxhc3REaXN0PU1hdGguYWJzKHgtbGFzdFJlY3QubGVmdCk7dmFyIG5ld0Rpc3Q9TWF0aC5hYnMoeC1uZXdSZWN0LmxlZnQpO3JldHVybiBuZXdEaXN0PD1sYXN0RGlzdD9uZXdQb3M6bGFzdFBvczt9KS5vcihhY2MpO30pO30sT3B0aW9uLm5vbmUoKSk7fTt2YXIgZmluZENsb3Nlc3RIb3Jpem9udGFsUG9zaXRpb249ZnVuY3Rpb24gZmluZENsb3Nlc3RIb3Jpem9udGFsUG9zaXRpb24ocG9zaXRpb25zLHBvcyl7cmV0dXJuIGhlYWQocG9zLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24odGFyZ2V0UmVjdCl7cmV0dXJuIGZpbmRDbG9zZXN0SG9yaXpvbnRhbFBvc2l0aW9uRnJvbVBvaW50KHBvc2l0aW9ucyx0YXJnZXRSZWN0LmxlZnQpO30pO307dmFyIGdldFBvc2l0aW9uc1VudGlsUHJldmlvdXNMaW5lPWN1cnJ5KGdldFBvc2l0aW9uc1VudGlsLENhcmV0UG9zaXRpb24uaXNBYm92ZSwtMSk7dmFyIGdldFBvc2l0aW9uc1VudGlsTmV4dExpbmU9Y3VycnkoZ2V0UG9zaXRpb25zVW50aWwsQ2FyZXRQb3NpdGlvbi5pc0JlbG93LDEpO3ZhciBpc0F0Rmlyc3RMaW5lPWZ1bmN0aW9uIGlzQXRGaXJzdExpbmUoc2NvcGUscG9zKXtyZXR1cm4gZ2V0UG9zaXRpb25zVW50aWxQcmV2aW91c0xpbmUoc2NvcGUscG9zKS5icmVha0F0LmlzTm9uZSgpO307dmFyIGlzQXRMYXN0TGluZT1mdW5jdGlvbiBpc0F0TGFzdExpbmUoc2NvcGUscG9zKXtyZXR1cm4gZ2V0UG9zaXRpb25zVW50aWxOZXh0TGluZShzY29wZSxwb3MpLmJyZWFrQXQuaXNOb25lKCk7fTt2YXIgZ2V0UG9zaXRpb25zQWJvdmU9Y3VycnkoZ2V0QWRqYWNlbnRMaW5lUG9zaXRpb25zLC0xLGdldFBvc2l0aW9uc1VudGlsUHJldmlvdXNMaW5lKTt2YXIgZ2V0UG9zaXRpb25zQmVsb3c9Y3VycnkoZ2V0QWRqYWNlbnRMaW5lUG9zaXRpb25zLDEsZ2V0UG9zaXRpb25zVW50aWxOZXh0TGluZSk7dmFyIGdldEZpcnN0TGluZVBvc2l0aW9ucz1mdW5jdGlvbiBnZXRGaXJzdExpbmVQb3NpdGlvbnMoc2NvcGUpe3JldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oc2NvcGUpLm1hcChmdW5jdGlvbihwb3Mpe3JldHVybltwb3NdLmNvbmNhdChnZXRQb3NpdGlvbnNVbnRpbE5leHRMaW5lKHNjb3BlLHBvcykucG9zaXRpb25zKTt9KS5nZXRPcihbXSk7fTt2YXIgZ2V0TGFzdExpbmVQb3NpdGlvbnM9ZnVuY3Rpb24gZ2V0TGFzdExpbmVQb3NpdGlvbnMoc2NvcGUpe3JldHVybiBDYXJldEZpbmRlci5sYXN0UG9zaXRpb25JbihzY29wZSkubWFwKGZ1bmN0aW9uKHBvcyl7cmV0dXJuIGdldFBvc2l0aW9uc1VudGlsUHJldmlvdXNMaW5lKHNjb3BlLHBvcykucG9zaXRpb25zLmNvbmNhdChwb3MpO30pLmdldE9yKFtdKTt9O3ZhciBpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJGI9Tm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZTt2YXIgZ2V0U2VsZWN0ZWROb2RlJDE9Z2V0U2VsZWN0ZWROb2RlO3ZhciBtb3ZlVG9DZUZhbHNlSG9yaXpvbnRhbGx5PWZ1bmN0aW9uIG1vdmVUb0NlRmFsc2VIb3Jpem9udGFsbHkoZGlyZWN0aW9uLGVkaXRvcixnZXROZXh0UG9zRm4scmFuZ2Upe3ZhciBmb3J3YXJkcz1kaXJlY3Rpb249PT1IRGlyZWN0aW9uLkZvcndhcmRzO3ZhciBpc0JlZm9yZUNvbnRlbnRFZGl0YWJsZUZhbHNlRm49Zm9yd2FyZHM/aXNCZWZvcmVDb250ZW50RWRpdGFibGVGYWxzZTppc0FmdGVyQ29udGVudEVkaXRhYmxlRmFsc2U7aWYoIXJhbmdlLmNvbGxhcHNlZCl7dmFyIG5vZGU9Z2V0U2VsZWN0ZWROb2RlJDEocmFuZ2UpO2lmKGlzQ29udGVudEVkaXRhYmxlRmFsc2UkYihub2RlKSl7cmV0dXJuIHNob3dDYXJldChkaXJlY3Rpb24sZWRpdG9yLG5vZGUsZGlyZWN0aW9uPT09SERpcmVjdGlvbi5CYWNrd2FyZHMsdHJ1ZSk7fX12YXIgcmFuZ2VJc0luQ29udGFpbmVyQmxvY2s9aXNSYW5nZUluQ2FyZXRDb250YWluZXJCbG9jayhyYW5nZSk7dmFyIGNhcmV0UG9zaXRpb249Z2V0Tm9ybWFsaXplZFJhbmdlRW5kUG9pbnQoZGlyZWN0aW9uLGVkaXRvci5nZXRCb2R5KCkscmFuZ2UpO2lmKGlzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2VGbihjYXJldFBvc2l0aW9uKSl7cmV0dXJuIHNlbGVjdE5vZGUoZWRpdG9yLGNhcmV0UG9zaXRpb24uZ2V0Tm9kZSghZm9yd2FyZHMpKTt9dmFyIG5leHRDYXJldFBvc2l0aW9uPUlubGluZVV0aWxzLm5vcm1hbGl6ZVBvc2l0aW9uKGZvcndhcmRzLGdldE5leHRQb3NGbihjYXJldFBvc2l0aW9uKSk7aWYoIW5leHRDYXJldFBvc2l0aW9uKXtpZihyYW5nZUlzSW5Db250YWluZXJCbG9jayl7cmV0dXJuIHJhbmdlO31yZXR1cm4gbnVsbDt9aWYoaXNCZWZvcmVDb250ZW50RWRpdGFibGVGYWxzZUZuKG5leHRDYXJldFBvc2l0aW9uKSl7cmV0dXJuIHNob3dDYXJldChkaXJlY3Rpb24sZWRpdG9yLG5leHRDYXJldFBvc2l0aW9uLmdldE5vZGUoIWZvcndhcmRzKSxmb3J3YXJkcyx0cnVlKTt9dmFyIHBlZWtDYXJldFBvc2l0aW9uPWdldE5leHRQb3NGbihuZXh0Q2FyZXRQb3NpdGlvbik7aWYocGVla0NhcmV0UG9zaXRpb24mJmlzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2VGbihwZWVrQ2FyZXRQb3NpdGlvbikpe2lmKGlzTW92ZUluc2lkZVNhbWVCbG9jayhuZXh0Q2FyZXRQb3NpdGlvbixwZWVrQ2FyZXRQb3NpdGlvbikpe3JldHVybiBzaG93Q2FyZXQoZGlyZWN0aW9uLGVkaXRvcixwZWVrQ2FyZXRQb3NpdGlvbi5nZXROb2RlKCFmb3J3YXJkcyksZm9yd2FyZHMsdHJ1ZSk7fX1pZihyYW5nZUlzSW5Db250YWluZXJCbG9jayl7cmV0dXJuIHJlbmRlclJhbmdlQ2FyZXQoZWRpdG9yLG5leHRDYXJldFBvc2l0aW9uLnRvUmFuZ2UoKSx0cnVlKTt9cmV0dXJuIG51bGw7fTt2YXIgbW92ZVRvQ2VGYWxzZVZlcnRpY2FsbHk9ZnVuY3Rpb24gbW92ZVRvQ2VGYWxzZVZlcnRpY2FsbHkoZGlyZWN0aW9uLGVkaXRvcix3YWxrZXJGbixyYW5nZSl7dmFyIGNhcmV0UG9zaXRpb24sbGluZVBvc2l0aW9ucyxuZXh0TGluZVBvc2l0aW9uczt2YXIgY2xvc2VzdE5leHRMaW5lUmVjdCxjYXJldENsaWVudFJlY3QsY2xpZW50WDt2YXIgZGlzdDEsZGlzdDIsY29udGVudEVkaXRhYmxlRmFsc2VOb2RlO2NvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZT1nZXRTZWxlY3RlZE5vZGUkMShyYW5nZSk7Y2FyZXRQb3NpdGlvbj1nZXROb3JtYWxpemVkUmFuZ2VFbmRQb2ludChkaXJlY3Rpb24sZWRpdG9yLmdldEJvZHkoKSxyYW5nZSk7bGluZVBvc2l0aW9ucz13YWxrZXJGbihlZGl0b3IuZ2V0Qm9keSgpLGlzQWJvdmVMaW5lKDEpLGNhcmV0UG9zaXRpb24pO25leHRMaW5lUG9zaXRpb25zPWZpbHRlcihsaW5lUG9zaXRpb25zLGlzTGluZSgxKSk7Y2FyZXRDbGllbnRSZWN0PUFyclV0aWxzLmxhc3QoY2FyZXRQb3NpdGlvbi5nZXRDbGllbnRSZWN0cygpKTtpZihpc0JlZm9yZUNvbnRlbnRFZGl0YWJsZUZhbHNlKGNhcmV0UG9zaXRpb24pfHxpc0JlZm9yZVRhYmxlKGNhcmV0UG9zaXRpb24pKXtjb250ZW50RWRpdGFibGVGYWxzZU5vZGU9Y2FyZXRQb3NpdGlvbi5nZXROb2RlKCk7fWlmKGlzQWZ0ZXJDb250ZW50RWRpdGFibGVGYWxzZShjYXJldFBvc2l0aW9uKXx8aXNBZnRlclRhYmxlKGNhcmV0UG9zaXRpb24pKXtjb250ZW50RWRpdGFibGVGYWxzZU5vZGU9Y2FyZXRQb3NpdGlvbi5nZXROb2RlKHRydWUpO31pZighY2FyZXRDbGllbnRSZWN0KXtyZXR1cm4gbnVsbDt9Y2xpZW50WD1jYXJldENsaWVudFJlY3QubGVmdDtjbG9zZXN0TmV4dExpbmVSZWN0PWZpbmRDbG9zZXN0Q2xpZW50UmVjdChuZXh0TGluZVBvc2l0aW9ucyxjbGllbnRYKTtpZihjbG9zZXN0TmV4dExpbmVSZWN0KXtpZihpc0NvbnRlbnRFZGl0YWJsZUZhbHNlJGIoY2xvc2VzdE5leHRMaW5lUmVjdC5ub2RlKSl7ZGlzdDE9TWF0aC5hYnMoY2xpZW50WC1jbG9zZXN0TmV4dExpbmVSZWN0LmxlZnQpO2Rpc3QyPU1hdGguYWJzKGNsaWVudFgtY2xvc2VzdE5leHRMaW5lUmVjdC5yaWdodCk7cmV0dXJuIHNob3dDYXJldChkaXJlY3Rpb24sZWRpdG9yLGNsb3Nlc3ROZXh0TGluZVJlY3Qubm9kZSxkaXN0MTxkaXN0Mix0cnVlKTt9fWlmKGNvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZSl7dmFyIGNhcmV0UG9zaXRpb25zPXBvc2l0aW9uc1VudGlsKGRpcmVjdGlvbixlZGl0b3IuZ2V0Qm9keSgpLGlzQWJvdmVMaW5lKDEpLGNvbnRlbnRFZGl0YWJsZUZhbHNlTm9kZSk7Y2xvc2VzdE5leHRMaW5lUmVjdD1maW5kQ2xvc2VzdENsaWVudFJlY3QoZmlsdGVyKGNhcmV0UG9zaXRpb25zLGlzTGluZSgxKSksY2xpZW50WCk7aWYoY2xvc2VzdE5leHRMaW5lUmVjdCl7cmV0dXJuIHJlbmRlclJhbmdlQ2FyZXQoZWRpdG9yLGNsb3Nlc3ROZXh0TGluZVJlY3QucG9zaXRpb24udG9SYW5nZSgpLHRydWUpO31jbG9zZXN0TmV4dExpbmVSZWN0PUFyclV0aWxzLmxhc3QoZmlsdGVyKGNhcmV0UG9zaXRpb25zLGlzTGluZSgwKSkpO2lmKGNsb3Nlc3ROZXh0TGluZVJlY3Qpe3JldHVybiByZW5kZXJSYW5nZUNhcmV0KGVkaXRvcixjbG9zZXN0TmV4dExpbmVSZWN0LnBvc2l0aW9uLnRvUmFuZ2UoKSx0cnVlKTt9fX07dmFyIGNyZWF0ZVRleHRCbG9jaz1mdW5jdGlvbiBjcmVhdGVUZXh0QmxvY2soZWRpdG9yKXt2YXIgdGV4dEJsb2NrPWVkaXRvci5kb20uY3JlYXRlKFNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9jayhlZGl0b3IpKTtpZighRW52LmllfHxFbnYuaWU+PTExKXt0ZXh0QmxvY2suaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPic7fXJldHVybiB0ZXh0QmxvY2s7fTt2YXIgZXhpdFByZUJsb2NrPWZ1bmN0aW9uIGV4aXRQcmVCbG9jayhlZGl0b3IsZGlyZWN0aW9uLHJhbmdlKXt2YXIgcHJlLGNhcmV0UG9zLG5ld0Jsb2NrO3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihlZGl0b3IuZ2V0Qm9keSgpKTt2YXIgZ2V0TmV4dFZpc3VhbENhcmV0UG9zaXRpb249Y3VycnkoZ2V0VmlzdWFsQ2FyZXRQb3NpdGlvbixjYXJldFdhbGtlci5uZXh0KTt2YXIgZ2V0UHJldlZpc3VhbENhcmV0UG9zaXRpb249Y3VycnkoZ2V0VmlzdWFsQ2FyZXRQb3NpdGlvbixjYXJldFdhbGtlci5wcmV2KTtpZihyYW5nZS5jb2xsYXBzZWQmJmVkaXRvci5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jayl7cHJlPWVkaXRvci5kb20uZ2V0UGFyZW50KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCdQUkUnKTtpZighcHJlKXtyZXR1cm47fWlmKGRpcmVjdGlvbj09PTEpe2NhcmV0UG9zPWdldE5leHRWaXN1YWxDYXJldFBvc2l0aW9uKENhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChyYW5nZSkpO31lbHNle2NhcmV0UG9zPWdldFByZXZWaXN1YWxDYXJldFBvc2l0aW9uKENhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChyYW5nZSkpO31pZighY2FyZXRQb3Mpe25ld0Jsb2NrPWNyZWF0ZVRleHRCbG9jayhlZGl0b3IpO2lmKGRpcmVjdGlvbj09PTEpe2VkaXRvci4kKHByZSkuYWZ0ZXIobmV3QmxvY2spO31lbHNle2VkaXRvci4kKHByZSkuYmVmb3JlKG5ld0Jsb2NrKTt9ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3QobmV3QmxvY2ssdHJ1ZSk7ZWRpdG9yLnNlbGVjdGlvbi5jb2xsYXBzZSgpO319fTt2YXIgZ2V0SG9yaXpvbnRhbFJhbmdlPWZ1bmN0aW9uIGdldEhvcml6b250YWxSYW5nZShlZGl0b3IsZm9yd2FyZCl7dmFyIGNhcmV0V2Fsa2VyPUNhcmV0V2Fsa2VyKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBnZXROZXh0VmlzdWFsQ2FyZXRQb3NpdGlvbj1jdXJyeShnZXRWaXN1YWxDYXJldFBvc2l0aW9uLGNhcmV0V2Fsa2VyLm5leHQpO3ZhciBnZXRQcmV2VmlzdWFsQ2FyZXRQb3NpdGlvbj1jdXJyeShnZXRWaXN1YWxDYXJldFBvc2l0aW9uLGNhcmV0V2Fsa2VyLnByZXYpO3ZhciBuZXdSYW5nZTt2YXIgZGlyZWN0aW9uPWZvcndhcmQ/SERpcmVjdGlvbi5Gb3J3YXJkczpIRGlyZWN0aW9uLkJhY2t3YXJkczt2YXIgZ2V0TmV4dFBvc0ZuPWZvcndhcmQ/Z2V0TmV4dFZpc3VhbENhcmV0UG9zaXRpb246Z2V0UHJldlZpc3VhbENhcmV0UG9zaXRpb247dmFyIHJhbmdlPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7bmV3UmFuZ2U9bW92ZVRvQ2VGYWxzZUhvcml6b250YWxseShkaXJlY3Rpb24sZWRpdG9yLGdldE5leHRQb3NGbixyYW5nZSk7aWYobmV3UmFuZ2Upe3JldHVybiBuZXdSYW5nZTt9bmV3UmFuZ2U9ZXhpdFByZUJsb2NrKGVkaXRvcixkaXJlY3Rpb24scmFuZ2UpO2lmKG5ld1JhbmdlKXtyZXR1cm4gbmV3UmFuZ2U7fXJldHVybiBudWxsO307dmFyIGdldFZlcnRpY2FsUmFuZ2U9ZnVuY3Rpb24gZ2V0VmVydGljYWxSYW5nZShlZGl0b3IsZG93bil7dmFyIG5ld1JhbmdlO3ZhciBkaXJlY3Rpb249ZG93bj8xOi0xO3ZhciB3YWxrZXJGbj1kb3duP2Rvd25VbnRpbDp1cFVudGlsO3ZhciByYW5nZT1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO25ld1JhbmdlPW1vdmVUb0NlRmFsc2VWZXJ0aWNhbGx5KGRpcmVjdGlvbixlZGl0b3Isd2Fsa2VyRm4scmFuZ2UpO2lmKG5ld1JhbmdlKXtyZXR1cm4gbmV3UmFuZ2U7fW5ld1JhbmdlPWV4aXRQcmVCbG9jayhlZGl0b3IsZGlyZWN0aW9uLHJhbmdlKTtpZihuZXdSYW5nZSl7cmV0dXJuIG5ld1JhbmdlO31yZXR1cm4gbnVsbDt9O3ZhciBtb3ZlSD1mdW5jdGlvbiBtb3ZlSChlZGl0b3IsZm9yd2FyZCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG5ld1JuZz1nZXRIb3Jpem9udGFsUmFuZ2UoZWRpdG9yLGZvcndhcmQpO2lmKG5ld1JuZyl7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcobmV3Um5nKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07fTt2YXIgbW92ZVY9ZnVuY3Rpb24gbW92ZVYoZWRpdG9yLGRvd24pe3JldHVybiBmdW5jdGlvbigpe3ZhciBuZXdSbmc9Z2V0VmVydGljYWxSYW5nZShlZGl0b3IsZG93bik7aWYobmV3Um5nKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhuZXdSbmcpO3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fTt9O3ZhciBpc0NlZlBvc2l0aW9uPWZ1bmN0aW9uIGlzQ2VmUG9zaXRpb24oZm9yd2FyZCl7cmV0dXJuIGZ1bmN0aW9uKHBvcyl7cmV0dXJuIGZvcndhcmQ/aXNBZnRlckNvbnRlbnRFZGl0YWJsZUZhbHNlKHBvcyk6aXNCZWZvcmVDb250ZW50RWRpdGFibGVGYWxzZShwb3MpO307fTt2YXIgbW92ZVRvTGluZUVuZFBvaW50PWZ1bmN0aW9uIG1vdmVUb0xpbmVFbmRQb2ludChlZGl0b3IsZm9yd2FyZCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGZyb209Zm9yd2FyZD9DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlRW5kKGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpOkNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKTt2YXIgcmVzdWx0PWZvcndhcmQ/Z2V0UG9zaXRpb25zVW50aWxOZXh0TGluZShlZGl0b3IuZ2V0Qm9keSgpLGZyb20pOmdldFBvc2l0aW9uc1VudGlsUHJldmlvdXNMaW5lKGVkaXRvci5nZXRCb2R5KCksZnJvbSk7dmFyIHRvPWZvcndhcmQ/bGFzdChyZXN1bHQucG9zaXRpb25zKTpoZWFkKHJlc3VsdC5wb3NpdGlvbnMpO3JldHVybiB0by5maWx0ZXIoaXNDZWZQb3NpdGlvbihmb3J3YXJkKSkuZm9sZChjb25zdGFudChmYWxzZSksZnVuY3Rpb24ocG9zKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhwb3MudG9SYW5nZSgpKTtyZXR1cm4gdHJ1ZTt9KTt9O307dmFyIGRlZmxhdGU9ZnVuY3Rpb24gZGVmbGF0ZShyZWN0LGRlbHRhKXtyZXR1cm57bGVmdDpyZWN0LmxlZnQtZGVsdGEsdG9wOnJlY3QudG9wLWRlbHRhLHJpZ2h0OnJlY3QucmlnaHQrZGVsdGEqMixib3R0b206cmVjdC5ib3R0b20rZGVsdGEqMix3aWR0aDpyZWN0LndpZHRoK2RlbHRhLGhlaWdodDpyZWN0LmhlaWdodCtkZWx0YX07fTt2YXIgZ2V0Q29ybmVycz1mdW5jdGlvbiBnZXRDb3JuZXJzKGdldFlBeGlzVmFsdWUsdGRzKXtyZXR1cm4gYmluZCh0ZHMsZnVuY3Rpb24odGQpe3ZhciByZWN0PWRlZmxhdGUoY2xvbmUkMSh0ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksLTEpO3JldHVyblt7eDpyZWN0LmxlZnQseTpnZXRZQXhpc1ZhbHVlKHJlY3QpLGNlbGw6dGR9LHt4OnJlY3QucmlnaHQseTpnZXRZQXhpc1ZhbHVlKHJlY3QpLGNlbGw6dGR9XTt9KTt9O3ZhciBmaW5kQ2xvc2VzdENvcm5lcj1mdW5jdGlvbiBmaW5kQ2xvc2VzdENvcm5lcihjb3JuZXJzLHgseSl7cmV0dXJuIGZvbGRsKGNvcm5lcnMsZnVuY3Rpb24oYWNjLG5ld0Nvcm5lcil7cmV0dXJuIGFjYy5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIE9wdGlvbi5zb21lKG5ld0Nvcm5lcik7fSxmdW5jdGlvbihvbGRDb3JuZXIpe3ZhciBvbGREaXN0PU1hdGguc3FydChNYXRoLmFicyhvbGRDb3JuZXIueC14KStNYXRoLmFicyhvbGRDb3JuZXIueS15KSk7dmFyIG5ld0Rpc3Q9TWF0aC5zcXJ0KE1hdGguYWJzKG5ld0Nvcm5lci54LXgpK01hdGguYWJzKG5ld0Nvcm5lci55LXkpKTtyZXR1cm4gT3B0aW9uLnNvbWUobmV3RGlzdDxvbGREaXN0P25ld0Nvcm5lcjpvbGRDb3JuZXIpO30pO30sT3B0aW9uLm5vbmUoKSk7fTt2YXIgZ2V0Q2xvc2VzdENlbGw9ZnVuY3Rpb24gZ2V0Q2xvc2VzdENlbGwoZ2V0WUF4aXNWYWx1ZSxpc1RhcmdldENvcm5lcix0YWJsZSx4LHkpe3ZhciBjZWxscz1kZXNjZW5kYW50cyQxKEVsZW1lbnQuZnJvbURvbSh0YWJsZSksJ3RkLHRoLGNhcHRpb24nKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCk7fSk7dmFyIGNvcm5lcnM9ZmlsdGVyKGdldENvcm5lcnMoZ2V0WUF4aXNWYWx1ZSxjZWxscyksZnVuY3Rpb24oY29ybmVyKXtyZXR1cm4gaXNUYXJnZXRDb3JuZXIoY29ybmVyLHkpO30pO3JldHVybiBmaW5kQ2xvc2VzdENvcm5lcihjb3JuZXJzLHgseSkubWFwKGZ1bmN0aW9uKGNvcm5lcil7cmV0dXJuIGNvcm5lci5jZWxsO30pO307dmFyIGdldEJvdHRvbVZhbHVlPWZ1bmN0aW9uIGdldEJvdHRvbVZhbHVlKHJlY3Qpe3JldHVybiByZWN0LmJvdHRvbTt9O3ZhciBnZXRUb3BWYWx1ZT1mdW5jdGlvbiBnZXRUb3BWYWx1ZShyZWN0KXtyZXR1cm4gcmVjdC50b3A7fTt2YXIgaXNBYm92ZSQxPWZ1bmN0aW9uIGlzQWJvdmUkMShjb3JuZXIseSl7cmV0dXJuIGNvcm5lci55PHk7fTt2YXIgaXNCZWxvdyQxPWZ1bmN0aW9uIGlzQmVsb3ckMShjb3JuZXIseSl7cmV0dXJuIGNvcm5lci55Pnk7fTt2YXIgZ2V0Q2xvc2VzdENlbGxBYm92ZT1jdXJyeShnZXRDbG9zZXN0Q2VsbCxnZXRCb3R0b21WYWx1ZSxpc0Fib3ZlJDEpO3ZhciBnZXRDbG9zZXN0Q2VsbEJlbG93PWN1cnJ5KGdldENsb3Nlc3RDZWxsLGdldFRvcFZhbHVlLGlzQmVsb3ckMSk7dmFyIGZpbmRDbG9zZXN0UG9zaXRpb25JbkFib3ZlQ2VsbD1mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvc2l0aW9uSW5BYm92ZUNlbGwodGFibGUscG9zKXtyZXR1cm4gaGVhZChwb3MuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihyZWN0KXtyZXR1cm4gZ2V0Q2xvc2VzdENlbGxBYm92ZSh0YWJsZSxyZWN0LmxlZnQscmVjdC50b3ApO30pLmJpbmQoZnVuY3Rpb24oY2VsbCl7cmV0dXJuIGZpbmRDbG9zZXN0SG9yaXpvbnRhbFBvc2l0aW9uKGdldExhc3RMaW5lUG9zaXRpb25zKGNlbGwpLHBvcyk7fSk7fTt2YXIgZmluZENsb3Nlc3RQb3NpdGlvbkluQmVsb3dDZWxsPWZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9zaXRpb25JbkJlbG93Q2VsbCh0YWJsZSxwb3Mpe3JldHVybiBsYXN0KHBvcy5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKHJlY3Qpe3JldHVybiBnZXRDbG9zZXN0Q2VsbEJlbG93KHRhYmxlLHJlY3QubGVmdCxyZWN0LnRvcCk7fSkuYmluZChmdW5jdGlvbihjZWxsKXtyZXR1cm4gZmluZENsb3Nlc3RIb3Jpem9udGFsUG9zaXRpb24oZ2V0Rmlyc3RMaW5lUG9zaXRpb25zKGNlbGwpLHBvcyk7fSk7fTt2YXIgbW92ZVRvUmFuZ2U9ZnVuY3Rpb24gbW92ZVRvUmFuZ2UoZWRpdG9yLHJuZyl7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocm5nKTtTY3JvbGxJbnRvVmlldy5zY3JvbGxSYW5nZUludG9WaWV3KGVkaXRvcixybmcpO307dmFyIGhhc05leHRCcmVhaz1mdW5jdGlvbiBoYXNOZXh0QnJlYWsoZ2V0UG9zaXRpb25zVW50aWwsc2NvcGUsbGluZUluZm8pe3JldHVybiBsaW5lSW5mby5icmVha0F0Lm1hcChmdW5jdGlvbihicmVha1Bvcyl7cmV0dXJuIGdldFBvc2l0aW9uc1VudGlsKHNjb3BlLGJyZWFrUG9zKS5icmVha0F0LmlzU29tZSgpO30pLmdldE9yKGZhbHNlKTt9O3ZhciBzdGFydHNXaXRoV3JhcEJyZWFrPWZ1bmN0aW9uIHN0YXJ0c1dpdGhXcmFwQnJlYWsobGluZUluZm8pe3JldHVybiBsaW5lSW5mby5icmVha1R5cGU9PT1CcmVha1R5cGUuV3JhcCYmbGluZUluZm8ucG9zaXRpb25zLmxlbmd0aD09PTA7fTt2YXIgc3RhcnRzV2l0aEJyQnJlYWs9ZnVuY3Rpb24gc3RhcnRzV2l0aEJyQnJlYWsobGluZUluZm8pe3JldHVybiBsaW5lSW5mby5icmVha1R5cGU9PT1CcmVha1R5cGUuQnImJmxpbmVJbmZvLnBvc2l0aW9ucy5sZW5ndGg9PT0xO307dmFyIGlzQXRUYWJsZUNlbGxMaW5lPWZ1bmN0aW9uIGlzQXRUYWJsZUNlbGxMaW5lKGdldFBvc2l0aW9uc1VudGlsLHNjb3BlLHBvcyl7dmFyIGxpbmVJbmZvPWdldFBvc2l0aW9uc1VudGlsKHNjb3BlLHBvcyk7aWYoc3RhcnRzV2l0aFdyYXBCcmVhayhsaW5lSW5mbyl8fCFOb2RlVHlwZS5pc0JyKHBvcy5nZXROb2RlKCkpJiZzdGFydHNXaXRoQnJCcmVhayhsaW5lSW5mbykpe3JldHVybiFoYXNOZXh0QnJlYWsoZ2V0UG9zaXRpb25zVW50aWwsc2NvcGUsbGluZUluZm8pO31lbHNle3JldHVybiBsaW5lSW5mby5icmVha0F0LmlzTm9uZSgpO319O3ZhciBpc0F0Rmlyc3RUYWJsZUNlbGxMaW5lPWN1cnJ5KGlzQXRUYWJsZUNlbGxMaW5lLGdldFBvc2l0aW9uc1VudGlsUHJldmlvdXNMaW5lKTt2YXIgaXNBdExhc3RUYWJsZUNlbGxMaW5lPWN1cnJ5KGlzQXRUYWJsZUNlbGxMaW5lLGdldFBvc2l0aW9uc1VudGlsTmV4dExpbmUpO3ZhciBpc0NhcmV0QXRTdGFydE9yRW5kT2ZUYWJsZT1mdW5jdGlvbiBpc0NhcmV0QXRTdGFydE9yRW5kT2ZUYWJsZShmb3J3YXJkLHJuZyx0YWJsZSl7dmFyIGNhcmV0UG9zPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChybmcpO3JldHVybiBDYXJldEZpbmRlci5wb3NpdGlvbkluKCFmb3J3YXJkLHRhYmxlKS5tYXAoZnVuY3Rpb24ocG9zKXtyZXR1cm4gcG9zLmlzRXF1YWwoY2FyZXRQb3MpO30pLmdldE9yKGZhbHNlKTt9O3ZhciBuYXZpZ2F0ZUhvcml6b250YWxseT1mdW5jdGlvbiBuYXZpZ2F0ZUhvcml6b250YWxseShlZGl0b3IsZm9yd2FyZCx0YWJsZSx0ZCl7dmFyIHJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO3ZhciBkaXJlY3Rpb249Zm9yd2FyZD8xOi0xO2lmKGlzRmFrZUNhcmV0VGFibGVCcm93c2VyKCkmJmlzQ2FyZXRBdFN0YXJ0T3JFbmRPZlRhYmxlKGZvcndhcmQscm5nLHRhYmxlKSl7dmFyIG5ld1JuZz1zaG93Q2FyZXQoZGlyZWN0aW9uLGVkaXRvcix0YWJsZSwhZm9yd2FyZCx0cnVlKTttb3ZlVG9SYW5nZShlZGl0b3IsbmV3Um5nKTtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO307dmFyIGdldENsb3Nlc3RBYm92ZVBvc2l0aW9uPWZ1bmN0aW9uIGdldENsb3Nlc3RBYm92ZVBvc2l0aW9uKHJvb3QsdGFibGUsc3RhcnQpe3JldHVybiBmaW5kQ2xvc2VzdFBvc2l0aW9uSW5BYm92ZUNlbGwodGFibGUsc3RhcnQpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gaGVhZChzdGFydC5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKHJlY3Qpe3JldHVybiBmaW5kQ2xvc2VzdEhvcml6b250YWxQb3NpdGlvbkZyb21Qb2ludChnZXRQb3NpdGlvbnNBYm92ZShyb290LENhcmV0UG9zaXRpb24kMS5iZWZvcmUodGFibGUpKSxyZWN0LmxlZnQpO30pO30pLmdldE9yKENhcmV0UG9zaXRpb24kMS5iZWZvcmUodGFibGUpKTt9O3ZhciBnZXRDbG9zZXN0QmVsb3dQb3NpdGlvbj1mdW5jdGlvbiBnZXRDbG9zZXN0QmVsb3dQb3NpdGlvbihyb290LHRhYmxlLHN0YXJ0KXtyZXR1cm4gZmluZENsb3Nlc3RQb3NpdGlvbkluQmVsb3dDZWxsKHRhYmxlLHN0YXJ0KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGhlYWQoc3RhcnQuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihyZWN0KXtyZXR1cm4gZmluZENsb3Nlc3RIb3Jpem9udGFsUG9zaXRpb25Gcm9tUG9pbnQoZ2V0UG9zaXRpb25zQmVsb3cocm9vdCxDYXJldFBvc2l0aW9uJDEuYWZ0ZXIodGFibGUpKSxyZWN0LmxlZnQpO30pO30pLmdldE9yKENhcmV0UG9zaXRpb24kMS5hZnRlcih0YWJsZSkpO307dmFyIGdldFRhYmxlPWZ1bmN0aW9uIGdldFRhYmxlKHByZXZpb3VzLHBvcyl7dmFyIG5vZGU9cG9zLmdldE5vZGUocHJldmlvdXMpO3JldHVybiBOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJm5vZGUubm9kZU5hbWU9PT0nVEFCTEUnP09wdGlvbi5zb21lKG5vZGUpOk9wdGlvbi5ub25lKCk7fTt2YXIgcmVuZGVyQmxvY2s9ZnVuY3Rpb24gcmVuZGVyQmxvY2soZG93bixlZGl0b3IsdGFibGUscG9zKXt2YXIgZm9yY2VkUm9vdEJsb2NrPVNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9jayhlZGl0b3IpO2lmKGZvcmNlZFJvb3RCbG9jayl7ZWRpdG9yLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9RWxlbWVudC5mcm9tVGFnKGZvcmNlZFJvb3RCbG9jayk7c2V0QWxsKGVsZW1lbnQsU2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrQXR0cnMoZWRpdG9yKSk7YXBwZW5kKGVsZW1lbnQsRWxlbWVudC5mcm9tVGFnKCdicicpKTtpZihkb3duKXthZnRlcihFbGVtZW50LmZyb21Eb20odGFibGUpLGVsZW1lbnQpO31lbHNle2JlZm9yZShFbGVtZW50LmZyb21Eb20odGFibGUpLGVsZW1lbnQpO312YXIgcm5nPWVkaXRvci5kb20uY3JlYXRlUm5nKCk7cm5nLnNldFN0YXJ0KGVsZW1lbnQuZG9tKCksMCk7cm5nLnNldEVuZChlbGVtZW50LmRvbSgpLDApO21vdmVUb1JhbmdlKGVkaXRvcixybmcpO30pO31lbHNle21vdmVUb1JhbmdlKGVkaXRvcixwb3MudG9SYW5nZSgpKTt9fTt2YXIgbW92ZUNhcmV0PWZ1bmN0aW9uIG1vdmVDYXJldChlZGl0b3IsZG93bixwb3Mpe3ZhciB0YWJsZT1kb3duP2dldFRhYmxlKHRydWUscG9zKTpnZXRUYWJsZShmYWxzZSxwb3MpO3ZhciBsYXN0PWRvd249PT1mYWxzZTt0YWJsZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG1vdmVUb1JhbmdlKGVkaXRvcixwb3MudG9SYW5nZSgpKTt9LGZ1bmN0aW9uKHRhYmxlKXtyZXR1cm4gQ2FyZXRGaW5kZXIucG9zaXRpb25JbihsYXN0LGVkaXRvci5nZXRCb2R5KCkpLmZpbHRlcihmdW5jdGlvbihsYXN0UG9zKXtyZXR1cm4gbGFzdFBvcy5pc0VxdWFsKHBvcyk7fSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBtb3ZlVG9SYW5nZShlZGl0b3IscG9zLnRvUmFuZ2UoKSk7fSxmdW5jdGlvbihfKXtyZXR1cm4gcmVuZGVyQmxvY2soZG93bixlZGl0b3IsdGFibGUscG9zKTt9KTt9KTt9O3ZhciBuYXZpZ2F0ZVZlcnRpY2FsbHk9ZnVuY3Rpb24gbmF2aWdhdGVWZXJ0aWNhbGx5KGVkaXRvcixkb3duLHRhYmxlLHRkKXt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7dmFyIHBvcz1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQocm5nKTt2YXIgcm9vdD1lZGl0b3IuZ2V0Qm9keSgpO2lmKCFkb3duJiZpc0F0Rmlyc3RUYWJsZUNlbGxMaW5lKHRkLHBvcykpe3ZhciBuZXdQb3M9Z2V0Q2xvc2VzdEFib3ZlUG9zaXRpb24ocm9vdCx0YWJsZSxwb3MpO21vdmVDYXJldChlZGl0b3IsZG93bixuZXdQb3MpO3JldHVybiB0cnVlO31lbHNlIGlmKGRvd24mJmlzQXRMYXN0VGFibGVDZWxsTGluZSh0ZCxwb3MpKXt2YXIgbmV3UG9zPWdldENsb3Nlc3RCZWxvd1Bvc2l0aW9uKHJvb3QsdGFibGUscG9zKTttb3ZlQ2FyZXQoZWRpdG9yLGRvd24sbmV3UG9zKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIG1vdmVIJDE9ZnVuY3Rpb24gbW92ZUgkMShlZGl0b3IsZm9yd2FyZCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIE9wdGlvbi5mcm9tKGVkaXRvci5kb20uZ2V0UGFyZW50KGVkaXRvci5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCd0ZCx0aCcpKS5iaW5kKGZ1bmN0aW9uKHRkKXtyZXR1cm4gT3B0aW9uLmZyb20oZWRpdG9yLmRvbS5nZXRQYXJlbnQodGQsJ3RhYmxlJykpLm1hcChmdW5jdGlvbih0YWJsZSl7cmV0dXJuIG5hdmlnYXRlSG9yaXpvbnRhbGx5KGVkaXRvcixmb3J3YXJkLHRhYmxlKTt9KTt9KS5nZXRPcihmYWxzZSk7fTt9O3ZhciBtb3ZlViQxPWZ1bmN0aW9uIG1vdmVWJDEoZWRpdG9yLGZvcndhcmQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBPcHRpb24uZnJvbShlZGl0b3IuZG9tLmdldFBhcmVudChlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKSwndGQsdGgnKSkuYmluZChmdW5jdGlvbih0ZCl7cmV0dXJuIE9wdGlvbi5mcm9tKGVkaXRvci5kb20uZ2V0UGFyZW50KHRkLCd0YWJsZScpKS5tYXAoZnVuY3Rpb24odGFibGUpe3JldHVybiBuYXZpZ2F0ZVZlcnRpY2FsbHkoZWRpdG9yLGZvcndhcmQsdGFibGUsdGQpO30pO30pLmdldE9yKGZhbHNlKTt9O307dmFyIGlzVGFyZ2V0PWZ1bmN0aW9uIGlzVGFyZ2V0KG5vZGUpe3JldHVybiBjb250YWlucyhbJ2ZpZ2NhcHRpb24nXSxuYW1lKG5vZGUpKTt9O3ZhciByYW5nZUJlZm9yZT1mdW5jdGlvbiByYW5nZUJlZm9yZSh0YXJnZXQpe3ZhciBybmc9ZG9tR2xvYmFscy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JuZy5zZXRTdGFydEJlZm9yZSh0YXJnZXQuZG9tKCkpO3JuZy5zZXRFbmRCZWZvcmUodGFyZ2V0LmRvbSgpKTtyZXR1cm4gcm5nO307dmFyIGluc2VydEVsZW1lbnQ9ZnVuY3Rpb24gaW5zZXJ0RWxlbWVudChyb290LGVsbSxmb3J3YXJkKXtpZihmb3J3YXJkKXthcHBlbmQocm9vdCxlbG0pO31lbHNle3ByZXBlbmQocm9vdCxlbG0pO319O3ZhciBpbnNlcnRCcj1mdW5jdGlvbiBpbnNlcnRCcihyb290LGZvcndhcmQpe3ZhciBicj1FbGVtZW50LmZyb21UYWcoJ2JyJyk7aW5zZXJ0RWxlbWVudChyb290LGJyLGZvcndhcmQpO3JldHVybiByYW5nZUJlZm9yZShicik7fTt2YXIgaW5zZXJ0QmxvY2skMT1mdW5jdGlvbiBpbnNlcnRCbG9jayQxKHJvb3QsZm9yd2FyZCxibG9ja05hbWUsYXR0cnMpe3ZhciBibG9jaz1FbGVtZW50LmZyb21UYWcoYmxvY2tOYW1lKTt2YXIgYnI9RWxlbWVudC5mcm9tVGFnKCdicicpO3NldEFsbChibG9jayxhdHRycyk7YXBwZW5kKGJsb2NrLGJyKTtpbnNlcnRFbGVtZW50KHJvb3QsYmxvY2ssZm9yd2FyZCk7cmV0dXJuIHJhbmdlQmVmb3JlKGJyKTt9O3ZhciBpbnNlcnRFbXB0eUxpbmU9ZnVuY3Rpb24gaW5zZXJ0RW1wdHlMaW5lKHJvb3Qscm9vdEJsb2NrTmFtZSxhdHRycyxmb3J3YXJkKXtpZihyb290QmxvY2tOYW1lPT09Jycpe3JldHVybiBpbnNlcnRCcihyb290LGZvcndhcmQpO31lbHNle3JldHVybiBpbnNlcnRCbG9jayQxKHJvb3QsZm9yd2FyZCxyb290QmxvY2tOYW1lLGF0dHJzKTt9fTt2YXIgZ2V0Q2xvc2VzdFRhcmdldEJsb2NrPWZ1bmN0aW9uIGdldENsb3Nlc3RUYXJnZXRCbG9jayhwb3Mscm9vdCl7dmFyIGlzUm9vdD1jdXJyeShlcSxyb290KTtyZXR1cm4gY2xvc2VzdChFbGVtZW50LmZyb21Eb20ocG9zLmNvbnRhaW5lcigpKSxpc0Jsb2NrLGlzUm9vdCkuZmlsdGVyKGlzVGFyZ2V0KTt9O3ZhciBpc0F0Rmlyc3RPckxhc3RMaW5lPWZ1bmN0aW9uIGlzQXRGaXJzdE9yTGFzdExpbmUocm9vdCxmb3J3YXJkLHBvcyl7cmV0dXJuIGZvcndhcmQ/aXNBdExhc3RMaW5lKHJvb3QuZG9tKCkscG9zKTppc0F0Rmlyc3RMaW5lKHJvb3QuZG9tKCkscG9zKTt9O3ZhciBtb3ZlQ2FyZXRUb05ld0VtcHR5TGluZT1mdW5jdGlvbiBtb3ZlQ2FyZXRUb05ld0VtcHR5TGluZShlZGl0b3IsZm9yd2FyZCl7dmFyIHJvb3Q9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBwb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpO3ZhciByb290QmxvY2s9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik7dmFyIHJvb3RCbG9ja0F0dHJzPVNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9ja0F0dHJzKGVkaXRvcik7cmV0dXJuIGdldENsb3Nlc3RUYXJnZXRCbG9jayhwb3Mscm9vdCkuZXhpc3RzKGZ1bmN0aW9uKCl7aWYoaXNBdEZpcnN0T3JMYXN0TGluZShyb290LGZvcndhcmQscG9zKSl7dmFyIHJuZz1pbnNlcnRFbXB0eUxpbmUocm9vdCxyb290QmxvY2sscm9vdEJsb2NrQXR0cnMsZm9yd2FyZCk7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocm5nKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0pO307dmFyIG1vdmVWJDI9ZnVuY3Rpb24gbW92ZVYkMihlZGl0b3IsZm9yd2FyZCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXtyZXR1cm4gbW92ZUNhcmV0VG9OZXdFbXB0eUxpbmUoZWRpdG9yLGZvcndhcmQpO31lbHNle3JldHVybiBmYWxzZTt9fTt9O3ZhciBkZWZhdWx0UGF0dGVybnM9ZnVuY3Rpb24gZGVmYXVsdFBhdHRlcm5zKHBhdHRlcm5zKXtyZXR1cm4gbWFwKHBhdHRlcm5zLGZ1bmN0aW9uKHBhdHRlcm4pe3JldHVybiBtZXJnZSh7c2hpZnRLZXk6ZmFsc2UsYWx0S2V5OmZhbHNlLGN0cmxLZXk6ZmFsc2UsbWV0YUtleTpmYWxzZSxrZXlDb2RlOjAsYWN0aW9uOm5vb3B9LHBhdHRlcm4pO30pO307dmFyIG1hdGNoZXNFdmVudD1mdW5jdGlvbiBtYXRjaGVzRXZlbnQocGF0dGVybixldnQpe3JldHVybiBldnQua2V5Q29kZT09PXBhdHRlcm4ua2V5Q29kZSYmZXZ0LnNoaWZ0S2V5PT09cGF0dGVybi5zaGlmdEtleSYmZXZ0LmFsdEtleT09PXBhdHRlcm4uYWx0S2V5JiZldnQuY3RybEtleT09PXBhdHRlcm4uY3RybEtleSYmZXZ0Lm1ldGFLZXk9PT1wYXR0ZXJuLm1ldGFLZXk7fTt2YXIgbWF0Y2gkMT1mdW5jdGlvbiBtYXRjaCQxKHBhdHRlcm5zLGV2dCl7cmV0dXJuIGJpbmQoZGVmYXVsdFBhdHRlcm5zKHBhdHRlcm5zKSxmdW5jdGlvbihwYXR0ZXJuKXtyZXR1cm4gbWF0Y2hlc0V2ZW50KHBhdHRlcm4sZXZ0KT9bcGF0dGVybl06W107fSk7fTt2YXIgYWN0aW9uPWZ1bmN0aW9uIGFjdGlvbihmKXt2YXIgeD1bXTtmb3IodmFyIF9pPTE7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKXt4W19pLTFdPWFyZ3VtZW50c1tfaV07fXZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZi5hcHBseShudWxsLGFyZ3MpO307fTt2YXIgZXhlY3V0ZT1mdW5jdGlvbiBleGVjdXRlKHBhdHRlcm5zLGV2dCl7cmV0dXJuIGZpbmQobWF0Y2gkMShwYXR0ZXJucyxldnQpLGZ1bmN0aW9uKHBhdHRlcm4pe3JldHVybiBwYXR0ZXJuLmFjdGlvbigpO30pO307dmFyIE1hdGNoS2V5cz17bWF0Y2g6bWF0Y2gkMSxhY3Rpb246YWN0aW9uLGV4ZWN1dGU6ZXhlY3V0ZX07dmFyIGV4ZWN1dGVLZXlkb3duT3ZlcnJpZGU9ZnVuY3Rpb24gZXhlY3V0ZUtleWRvd25PdmVycmlkZShlZGl0b3IsY2FyZXQsZXZ0KXt2YXIgb3M9ZGV0ZWN0JDMoKS5vcztNYXRjaEtleXMuZXhlY3V0ZShbe2tleUNvZGU6VksuUklHSFQsYWN0aW9uOm1vdmVIKGVkaXRvcix0cnVlKX0se2tleUNvZGU6VksuTEVGVCxhY3Rpb246bW92ZUgoZWRpdG9yLGZhbHNlKX0se2tleUNvZGU6VksuVVAsYWN0aW9uOm1vdmVWKGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLkRPV04sYWN0aW9uOm1vdmVWKGVkaXRvcix0cnVlKX0se2tleUNvZGU6VksuUklHSFQsYWN0aW9uOm1vdmVIJDEoZWRpdG9yLHRydWUpfSx7a2V5Q29kZTpWSy5MRUZULGFjdGlvbjptb3ZlSCQxKGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLlVQLGFjdGlvbjptb3ZlViQxKGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLkRPV04sYWN0aW9uOm1vdmVWJDEoZWRpdG9yLHRydWUpfSx7a2V5Q29kZTpWSy5SSUdIVCxhY3Rpb246Qm91bmRhcnlTZWxlY3Rpb24ubW92ZShlZGl0b3IsY2FyZXQsdHJ1ZSl9LHtrZXlDb2RlOlZLLkxFRlQsYWN0aW9uOkJvdW5kYXJ5U2VsZWN0aW9uLm1vdmUoZWRpdG9yLGNhcmV0LGZhbHNlKX0se2tleUNvZGU6VksuUklHSFQsY3RybEtleTohb3MuaXNPU1goKSxhbHRLZXk6b3MuaXNPU1goKSxhY3Rpb246Qm91bmRhcnlTZWxlY3Rpb24ubW92ZU5leHRXb3JkKGVkaXRvcixjYXJldCl9LHtrZXlDb2RlOlZLLkxFRlQsY3RybEtleTohb3MuaXNPU1goKSxhbHRLZXk6b3MuaXNPU1goKSxhY3Rpb246Qm91bmRhcnlTZWxlY3Rpb24ubW92ZVByZXZXb3JkKGVkaXRvcixjYXJldCl9LHtrZXlDb2RlOlZLLlVQLGFjdGlvbjptb3ZlViQyKGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLkRPV04sYWN0aW9uOm1vdmVWJDIoZWRpdG9yLHRydWUpfV0sZXZ0KS5lYWNoKGZ1bmN0aW9uKF8pe2V2dC5wcmV2ZW50RGVmYXVsdCgpO30pO307dmFyIHNldHVwJDg9ZnVuY3Rpb24gc2V0dXAkOChlZGl0b3IsY2FyZXQpe2VkaXRvci5vbigna2V5ZG93bicsZnVuY3Rpb24oZXZ0KXtpZihldnQuaXNEZWZhdWx0UHJldmVudGVkKCk9PT1mYWxzZSl7ZXhlY3V0ZUtleWRvd25PdmVycmlkZShlZGl0b3IsY2FyZXQsZXZ0KTt9fSk7fTt2YXIgQXJyb3dLZXlzPXtzZXR1cDpzZXR1cCQ4fTt2YXIgaXNCZWZvcmVSb290PWZ1bmN0aW9uIGlzQmVmb3JlUm9vdChyb290Tm9kZSl7cmV0dXJuIGZ1bmN0aW9uKGVsbSl7cmV0dXJuIGVxKHJvb3ROb2RlLEVsZW1lbnQuZnJvbURvbShlbG0uZG9tKCkucGFyZW50Tm9kZSkpO307fTt2YXIgZ2V0UGFyZW50QmxvY2skMT1mdW5jdGlvbiBnZXRQYXJlbnRCbG9jayQxKHJvb3ROb2RlLGVsbSl7cmV0dXJuIGNvbnRhaW5zJDIocm9vdE5vZGUsZWxtKT9jbG9zZXN0KGVsbSxmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gaXNUZXh0QmxvY2soZWxlbWVudCl8fGlzTGlzdEl0ZW0oZWxlbWVudCk7fSxpc0JlZm9yZVJvb3Qocm9vdE5vZGUpKTpPcHRpb24ubm9uZSgpO307dmFyIHBsYWNlQ2FyZXRJbkVtcHR5Qm9keT1mdW5jdGlvbiBwbGFjZUNhcmV0SW5FbXB0eUJvZHkoZWRpdG9yKXt2YXIgYm9keT1lZGl0b3IuZ2V0Qm9keSgpO3ZhciBub2RlPWJvZHkuZmlyc3RDaGlsZCYmZWRpdG9yLmRvbS5pc0Jsb2NrKGJvZHkuZmlyc3RDaGlsZCk/Ym9keS5maXJzdENoaWxkOmJvZHk7ZWRpdG9yLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihub2RlLDApO307dmFyIHBhZGRFbXB0eUJvZHk9ZnVuY3Rpb24gcGFkZEVtcHR5Qm9keShlZGl0b3Ipe2lmKGVkaXRvci5kb20uaXNFbXB0eShlZGl0b3IuZ2V0Qm9keSgpKSl7ZWRpdG9yLnNldENvbnRlbnQoJycpO3BsYWNlQ2FyZXRJbkVtcHR5Qm9keShlZGl0b3IpO319O3ZhciB3aWxsRGVsZXRlTGFzdFBvc2l0aW9uSW5FbGVtZW50PWZ1bmN0aW9uIHdpbGxEZWxldGVMYXN0UG9zaXRpb25JbkVsZW1lbnQoZm9yd2FyZCxmcm9tUG9zLGVsbSl7cmV0dXJuIGxpZnQyKENhcmV0RmluZGVyLmZpcnN0UG9zaXRpb25JbihlbG0pLENhcmV0RmluZGVyLmxhc3RQb3NpdGlvbkluKGVsbSksZnVuY3Rpb24oZmlyc3RQb3MsbGFzdFBvcyl7dmFyIG5vcm1hbGl6ZWRGaXJzdFBvcz1JbmxpbmVVdGlscy5ub3JtYWxpemVQb3NpdGlvbih0cnVlLGZpcnN0UG9zKTt2YXIgbm9ybWFsaXplZExhc3RQb3M9SW5saW5lVXRpbHMubm9ybWFsaXplUG9zaXRpb24oZmFsc2UsbGFzdFBvcyk7dmFyIG5vcm1hbGl6ZWRGcm9tUG9zPUlubGluZVV0aWxzLm5vcm1hbGl6ZVBvc2l0aW9uKGZhbHNlLGZyb21Qb3MpO2lmKGZvcndhcmQpe3JldHVybiBDYXJldEZpbmRlci5uZXh0UG9zaXRpb24oZWxtLG5vcm1hbGl6ZWRGcm9tUG9zKS5tYXAoZnVuY3Rpb24obmV4dFBvcyl7cmV0dXJuIG5leHRQb3MuaXNFcXVhbChub3JtYWxpemVkTGFzdFBvcykmJmZyb21Qb3MuaXNFcXVhbChub3JtYWxpemVkRmlyc3RQb3MpO30pLmdldE9yKGZhbHNlKTt9ZWxzZXtyZXR1cm4gQ2FyZXRGaW5kZXIucHJldlBvc2l0aW9uKGVsbSxub3JtYWxpemVkRnJvbVBvcykubWFwKGZ1bmN0aW9uKHByZXZQb3Mpe3JldHVybiBwcmV2UG9zLmlzRXF1YWwobm9ybWFsaXplZEZpcnN0UG9zKSYmZnJvbVBvcy5pc0VxdWFsKG5vcm1hbGl6ZWRMYXN0UG9zKTt9KS5nZXRPcihmYWxzZSk7fX0pLmdldE9yKHRydWUpO307dmFyIERlbGV0ZVV0aWxzPXtnZXRQYXJlbnRCbG9jazpnZXRQYXJlbnRCbG9jayQxLHBhZGRFbXB0eUJvZHk6cGFkZEVtcHR5Qm9keSx3aWxsRGVsZXRlTGFzdFBvc2l0aW9uSW5FbGVtZW50OndpbGxEZWxldGVMYXN0UG9zaXRpb25JbkVsZW1lbnR9O3ZhciBibG9ja1Bvc2l0aW9uPWZ1bmN0aW9uIGJsb2NrUG9zaXRpb24oYmxvY2sscG9zaXRpb24pe3JldHVybntibG9jazpjb25zdGFudChibG9jaykscG9zaXRpb246Y29uc3RhbnQocG9zaXRpb24pfTt9O3ZhciBibG9ja0JvdW5kYXJ5PWZ1bmN0aW9uIGJsb2NrQm91bmRhcnkoZnJvbSx0byl7cmV0dXJue2Zyb206Y29uc3RhbnQoZnJvbSksdG86Y29uc3RhbnQodG8pfTt9O3ZhciBnZXRCbG9ja1Bvc2l0aW9uPWZ1bmN0aW9uIGdldEJsb2NrUG9zaXRpb24ocm9vdE5vZGUscG9zKXt2YXIgcm9vdEVsbT1FbGVtZW50LmZyb21Eb20ocm9vdE5vZGUpO3ZhciBjb250YWluZXJFbG09RWxlbWVudC5mcm9tRG9tKHBvcy5jb250YWluZXIoKSk7cmV0dXJuIERlbGV0ZVV0aWxzLmdldFBhcmVudEJsb2NrKHJvb3RFbG0sY29udGFpbmVyRWxtKS5tYXAoZnVuY3Rpb24oYmxvY2spe3JldHVybiBibG9ja1Bvc2l0aW9uKGJsb2NrLHBvcyk7fSk7fTt2YXIgaXNEaWZmZXJlbnRCbG9ja3M9ZnVuY3Rpb24gaXNEaWZmZXJlbnRCbG9ja3MoYmxvY2tCb3VuZGFyeSl7cmV0dXJuIGVxKGJsb2NrQm91bmRhcnkuZnJvbSgpLmJsb2NrKCksYmxvY2tCb3VuZGFyeS50bygpLmJsb2NrKCkpPT09ZmFsc2U7fTt2YXIgaGFzU2FtZVBhcmVudD1mdW5jdGlvbiBoYXNTYW1lUGFyZW50KGJsb2NrQm91bmRhcnkpe3JldHVybiBwYXJlbnQoYmxvY2tCb3VuZGFyeS5mcm9tKCkuYmxvY2soKSkuYmluZChmdW5jdGlvbihwYXJlbnQxKXtyZXR1cm4gcGFyZW50KGJsb2NrQm91bmRhcnkudG8oKS5ibG9jaygpKS5maWx0ZXIoZnVuY3Rpb24ocGFyZW50Mil7cmV0dXJuIGVxKHBhcmVudDEscGFyZW50Mik7fSk7fSkuaXNTb21lKCk7fTt2YXIgaXNFZGl0YWJsZT1mdW5jdGlvbiBpc0VkaXRhYmxlKGJsb2NrQm91bmRhcnkpe3JldHVybiBOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKGJsb2NrQm91bmRhcnkuZnJvbSgpLmJsb2NrKCkuZG9tKCkpPT09ZmFsc2UmJk5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2UoYmxvY2tCb3VuZGFyeS50bygpLmJsb2NrKCkuZG9tKCkpPT09ZmFsc2U7fTt2YXIgc2tpcExhc3RCcj1mdW5jdGlvbiBza2lwTGFzdEJyKHJvb3ROb2RlLGZvcndhcmQsYmxvY2tQb3NpdGlvbil7aWYoTm9kZVR5cGUuaXNCcihibG9ja1Bvc2l0aW9uLnBvc2l0aW9uKCkuZ2V0Tm9kZSgpKSYmRW1wdHkuaXNFbXB0eShibG9ja1Bvc2l0aW9uLmJsb2NrKCkpPT09ZmFsc2Upe3JldHVybiBDYXJldEZpbmRlci5wb3NpdGlvbkluKGZhbHNlLGJsb2NrUG9zaXRpb24uYmxvY2soKS5kb20oKSkuYmluZChmdW5jdGlvbihsYXN0UG9zaXRpb25JbkJsb2NrKXtpZihsYXN0UG9zaXRpb25JbkJsb2NrLmlzRXF1YWwoYmxvY2tQb3NpdGlvbi5wb3NpdGlvbigpKSl7cmV0dXJuIENhcmV0RmluZGVyLmZyb21Qb3NpdGlvbihmb3J3YXJkLHJvb3ROb2RlLGxhc3RQb3NpdGlvbkluQmxvY2spLmJpbmQoZnVuY3Rpb24odG8pe3JldHVybiBnZXRCbG9ja1Bvc2l0aW9uKHJvb3ROb2RlLHRvKTt9KTt9ZWxzZXtyZXR1cm4gT3B0aW9uLnNvbWUoYmxvY2tQb3NpdGlvbik7fX0pLmdldE9yKGJsb2NrUG9zaXRpb24pO31lbHNle3JldHVybiBibG9ja1Bvc2l0aW9uO319O3ZhciByZWFkRnJvbVJhbmdlPWZ1bmN0aW9uIHJlYWRGcm9tUmFuZ2Uocm9vdE5vZGUsZm9yd2FyZCxybmcpe3ZhciBmcm9tQmxvY2tQb3M9Z2V0QmxvY2tQb3NpdGlvbihyb290Tm9kZSxDYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQocm5nKSk7dmFyIHRvQmxvY2tQb3M9ZnJvbUJsb2NrUG9zLmJpbmQoZnVuY3Rpb24oYmxvY2tQb3Mpe3JldHVybiBDYXJldEZpbmRlci5mcm9tUG9zaXRpb24oZm9yd2FyZCxyb290Tm9kZSxibG9ja1Bvcy5wb3NpdGlvbigpKS5iaW5kKGZ1bmN0aW9uKHRvKXtyZXR1cm4gZ2V0QmxvY2tQb3NpdGlvbihyb290Tm9kZSx0bykubWFwKGZ1bmN0aW9uKGJsb2NrUG9zKXtyZXR1cm4gc2tpcExhc3RCcihyb290Tm9kZSxmb3J3YXJkLGJsb2NrUG9zKTt9KTt9KTt9KTtyZXR1cm4gbGlmdDIoZnJvbUJsb2NrUG9zLHRvQmxvY2tQb3MsYmxvY2tCb3VuZGFyeSkuZmlsdGVyKGZ1bmN0aW9uKGJsb2NrQm91bmRhcnkpe3JldHVybiBpc0RpZmZlcmVudEJsb2NrcyhibG9ja0JvdW5kYXJ5KSYmaGFzU2FtZVBhcmVudChibG9ja0JvdW5kYXJ5KSYmaXNFZGl0YWJsZShibG9ja0JvdW5kYXJ5KTt9KTt9O3ZhciByZWFkJDM9ZnVuY3Rpb24gcmVhZCQzKHJvb3ROb2RlLGZvcndhcmQscm5nKXtyZXR1cm4gcm5nLmNvbGxhcHNlZD9yZWFkRnJvbVJhbmdlKHJvb3ROb2RlLGZvcndhcmQscm5nKTpPcHRpb24ubm9uZSgpO307dmFyIEJsb2NrTWVyZ2VCb3VuZGFyeT17cmVhZDpyZWFkJDN9O3ZhciBnZXRDaGlsZHJlblVudGlsQmxvY2tCb3VuZGFyeT1mdW5jdGlvbiBnZXRDaGlsZHJlblVudGlsQmxvY2tCb3VuZGFyeShibG9jayl7dmFyIGNoaWxkcmVuJDE9Y2hpbGRyZW4oYmxvY2spO3JldHVybiBmaW5kSW5kZXgoY2hpbGRyZW4kMSxpc0Jsb2NrKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGNoaWxkcmVuJDE7fSxmdW5jdGlvbihpbmRleCl7cmV0dXJuIGNoaWxkcmVuJDEuc2xpY2UoMCxpbmRleCk7fSk7fTt2YXIgZXh0cmFjdENoaWxkcmVuPWZ1bmN0aW9uIGV4dHJhY3RDaGlsZHJlbihibG9jayl7dmFyIGNoaWxkcmVuPWdldENoaWxkcmVuVW50aWxCbG9ja0JvdW5kYXJ5KGJsb2NrKTtlYWNoKGNoaWxkcmVuLHJlbW92ZSQxKTtyZXR1cm4gY2hpbGRyZW47fTt2YXIgcmVtb3ZlRW1wdHlSb290PWZ1bmN0aW9uIHJlbW92ZUVtcHR5Um9vdChyb290Tm9kZSxibG9jayl7dmFyIHBhcmVudHM9UGFyZW50cy5wYXJlbnRzQW5kU2VsZihibG9jayxyb290Tm9kZSk7cmV0dXJuIGZpbmQocGFyZW50cy5yZXZlcnNlKCksRW1wdHkuaXNFbXB0eSkuZWFjaChyZW1vdmUkMSk7fTt2YXIgaXNFbXB0eUJlZm9yZT1mdW5jdGlvbiBpc0VtcHR5QmVmb3JlKGVsKXtyZXR1cm4gZmlsdGVyKHByZXZTaWJsaW5ncyhlbCksZnVuY3Rpb24oZWwpe3JldHVybiFFbXB0eS5pc0VtcHR5KGVsKTt9KS5sZW5ndGg9PT0wO307dmFyIG5lc3RlZEJsb2NrTWVyZ2U9ZnVuY3Rpb24gbmVzdGVkQmxvY2tNZXJnZShyb290Tm9kZSxmcm9tQmxvY2ssdG9CbG9jayxpbnNlcnRpb25Qb2ludCl7aWYoRW1wdHkuaXNFbXB0eSh0b0Jsb2NrKSl7UGFkZGluZ0JyLmZpbGxXaXRoUGFkZGluZ0JyKHRvQmxvY2spO3JldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4odG9CbG9jay5kb20oKSk7fWlmKGlzRW1wdHlCZWZvcmUoaW5zZXJ0aW9uUG9pbnQpJiZFbXB0eS5pc0VtcHR5KGZyb21CbG9jaykpe2JlZm9yZShpbnNlcnRpb25Qb2ludCxFbGVtZW50LmZyb21UYWcoJ2JyJykpO312YXIgcG9zaXRpb249Q2FyZXRGaW5kZXIucHJldlBvc2l0aW9uKHRvQmxvY2suZG9tKCksQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShpbnNlcnRpb25Qb2ludC5kb20oKSkpO2VhY2goZXh0cmFjdENoaWxkcmVuKGZyb21CbG9jayksZnVuY3Rpb24oY2hpbGQpe2JlZm9yZShpbnNlcnRpb25Qb2ludCxjaGlsZCk7fSk7cmVtb3ZlRW1wdHlSb290KHJvb3ROb2RlLGZyb21CbG9jayk7cmV0dXJuIHBvc2l0aW9uO307dmFyIHNpZGVsb25nQmxvY2tNZXJnZT1mdW5jdGlvbiBzaWRlbG9uZ0Jsb2NrTWVyZ2Uocm9vdE5vZGUsZnJvbUJsb2NrLHRvQmxvY2spe2lmKEVtcHR5LmlzRW1wdHkodG9CbG9jaykpe3JlbW92ZSQxKHRvQmxvY2spO2lmKEVtcHR5LmlzRW1wdHkoZnJvbUJsb2NrKSl7UGFkZGluZ0JyLmZpbGxXaXRoUGFkZGluZ0JyKGZyb21CbG9jayk7fXJldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZnJvbUJsb2NrLmRvbSgpKTt9dmFyIHBvc2l0aW9uPUNhcmV0RmluZGVyLmxhc3RQb3NpdGlvbkluKHRvQmxvY2suZG9tKCkpO2VhY2goZXh0cmFjdENoaWxkcmVuKGZyb21CbG9jayksZnVuY3Rpb24oY2hpbGQpe2FwcGVuZCh0b0Jsb2NrLGNoaWxkKTt9KTtyZW1vdmVFbXB0eVJvb3Qocm9vdE5vZGUsZnJvbUJsb2NrKTtyZXR1cm4gcG9zaXRpb247fTt2YXIgZmluZEluc2VydGlvblBvaW50PWZ1bmN0aW9uIGZpbmRJbnNlcnRpb25Qb2ludCh0b0Jsb2NrLGJsb2NrKXt2YXIgcGFyZW50c0FuZFNlbGY9UGFyZW50cy5wYXJlbnRzQW5kU2VsZihibG9jayx0b0Jsb2NrKTtyZXR1cm4gT3B0aW9uLmZyb20ocGFyZW50c0FuZFNlbGZbcGFyZW50c0FuZFNlbGYubGVuZ3RoLTFdKTt9O3ZhciBnZXRJbnNlcnRpb25Qb2ludD1mdW5jdGlvbiBnZXRJbnNlcnRpb25Qb2ludChmcm9tQmxvY2ssdG9CbG9jayl7cmV0dXJuIGNvbnRhaW5zJDIodG9CbG9jayxmcm9tQmxvY2spP2ZpbmRJbnNlcnRpb25Qb2ludCh0b0Jsb2NrLGZyb21CbG9jayk6T3B0aW9uLm5vbmUoKTt9O3ZhciB0cmltQnI9ZnVuY3Rpb24gdHJpbUJyKGZpcnN0LGJsb2NrKXtDYXJldEZpbmRlci5wb3NpdGlvbkluKGZpcnN0LGJsb2NrLmRvbSgpKS5tYXAoZnVuY3Rpb24ocG9zaXRpb24pe3JldHVybiBwb3NpdGlvbi5nZXROb2RlKCk7fSkubWFwKEVsZW1lbnQuZnJvbURvbSkuZmlsdGVyKGlzQnIkMSkuZWFjaChyZW1vdmUkMSk7fTt2YXIgbWVyZ2VCbG9ja0ludG89ZnVuY3Rpb24gbWVyZ2VCbG9ja0ludG8ocm9vdE5vZGUsZnJvbUJsb2NrLHRvQmxvY2spe3RyaW1Ccih0cnVlLGZyb21CbG9jayk7dHJpbUJyKGZhbHNlLHRvQmxvY2spO3JldHVybiBnZXRJbnNlcnRpb25Qb2ludChmcm9tQmxvY2ssdG9CbG9jaykuZm9sZChjdXJyeShzaWRlbG9uZ0Jsb2NrTWVyZ2Uscm9vdE5vZGUsZnJvbUJsb2NrLHRvQmxvY2spLGN1cnJ5KG5lc3RlZEJsb2NrTWVyZ2Uscm9vdE5vZGUsZnJvbUJsb2NrLHRvQmxvY2spKTt9O3ZhciBtZXJnZUJsb2Nrcz1mdW5jdGlvbiBtZXJnZUJsb2Nrcyhyb290Tm9kZSxmb3J3YXJkLGJsb2NrMSxibG9jazIpe3JldHVybiBmb3J3YXJkP21lcmdlQmxvY2tJbnRvKHJvb3ROb2RlLGJsb2NrMixibG9jazEpOm1lcmdlQmxvY2tJbnRvKHJvb3ROb2RlLGJsb2NrMSxibG9jazIpO307dmFyIE1lcmdlQmxvY2tzPXttZXJnZUJsb2NrczptZXJnZUJsb2Nrc307dmFyIGJhY2tzcGFjZURlbGV0ZT1mdW5jdGlvbiBiYWNrc3BhY2VEZWxldGUoZWRpdG9yLGZvcndhcmQpe3ZhciByb290Tm9kZT1FbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSk7dmFyIHBvc2l0aW9uPUJsb2NrTWVyZ2VCb3VuZGFyeS5yZWFkKHJvb3ROb2RlLmRvbSgpLGZvcndhcmQsZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSkuYmluZChmdW5jdGlvbihibG9ja0JvdW5kYXJ5KXtyZXR1cm4gTWVyZ2VCbG9ja3MubWVyZ2VCbG9ja3Mocm9vdE5vZGUsZm9yd2FyZCxibG9ja0JvdW5kYXJ5LmZyb20oKS5ibG9jaygpLGJsb2NrQm91bmRhcnkudG8oKS5ibG9jaygpKTt9KTtwb3NpdGlvbi5lYWNoKGZ1bmN0aW9uKHBvcyl7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocG9zLnRvUmFuZ2UoKSk7fSk7cmV0dXJuIHBvc2l0aW9uLmlzU29tZSgpO307dmFyIEJsb2NrQm91bmRhcnlEZWxldGU9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGV9O3ZhciBkZWxldGVSYW5nZU1lcmdlQmxvY2tzPWZ1bmN0aW9uIGRlbGV0ZVJhbmdlTWVyZ2VCbG9ja3Mocm9vdE5vZGUsc2VsZWN0aW9uKXt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gbGlmdDIoRGVsZXRlVXRpbHMuZ2V0UGFyZW50QmxvY2socm9vdE5vZGUsRWxlbWVudC5mcm9tRG9tKHJuZy5zdGFydENvbnRhaW5lcikpLERlbGV0ZVV0aWxzLmdldFBhcmVudEJsb2NrKHJvb3ROb2RlLEVsZW1lbnQuZnJvbURvbShybmcuZW5kQ29udGFpbmVyKSksZnVuY3Rpb24oYmxvY2sxLGJsb2NrMil7aWYoZXEoYmxvY2sxLGJsb2NrMik9PT1mYWxzZSl7cm5nLmRlbGV0ZUNvbnRlbnRzKCk7TWVyZ2VCbG9ja3MubWVyZ2VCbG9ja3Mocm9vdE5vZGUsdHJ1ZSxibG9jazEsYmxvY2syKS5lYWNoKGZ1bmN0aW9uKHBvcyl7c2VsZWN0aW9uLnNldFJuZyhwb3MudG9SYW5nZSgpKTt9KTtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0pLmdldE9yKGZhbHNlKTt9O3ZhciBpc1Jhd05vZGVJblRhYmxlPWZ1bmN0aW9uIGlzUmF3Tm9kZUluVGFibGUocm9vdCxyYXdOb2RlKXt2YXIgbm9kZT1FbGVtZW50LmZyb21Eb20ocmF3Tm9kZSk7dmFyIGlzUm9vdD1jdXJyeShlcSxyb290KTtyZXR1cm4gYW5jZXN0b3Iobm9kZSxpc1RhYmxlQ2VsbCxpc1Jvb3QpLmlzU29tZSgpO307dmFyIGlzU2VsZWN0aW9uSW5UYWJsZT1mdW5jdGlvbiBpc1NlbGVjdGlvbkluVGFibGUocm9vdCxybmcpe3JldHVybiBpc1Jhd05vZGVJblRhYmxlKHJvb3Qscm5nLnN0YXJ0Q29udGFpbmVyKXx8aXNSYXdOb2RlSW5UYWJsZShyb290LHJuZy5lbmRDb250YWluZXIpO307dmFyIGlzRXZlcnl0aGluZ1NlbGVjdGVkPWZ1bmN0aW9uIGlzRXZlcnl0aGluZ1NlbGVjdGVkKHJvb3Qscm5nKXt2YXIgbm9QcmV2aW91cz1DYXJldEZpbmRlci5wcmV2UG9zaXRpb24ocm9vdC5kb20oKSxDYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQocm5nKSkuaXNOb25lKCk7dmFyIG5vTmV4dD1DYXJldEZpbmRlci5uZXh0UG9zaXRpb24ocm9vdC5kb20oKSxDYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlRW5kKHJuZykpLmlzTm9uZSgpO3JldHVybiFpc1NlbGVjdGlvbkluVGFibGUocm9vdCxybmcpJiZub1ByZXZpb3VzJiZub05leHQ7fTt2YXIgZW1wdHlFZGl0b3I9ZnVuY3Rpb24gZW1wdHlFZGl0b3IoZWRpdG9yKXtlZGl0b3Iuc2V0Q29udGVudCgnJyk7ZWRpdG9yLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpO3JldHVybiB0cnVlO307dmFyIGRlbGV0ZVJhbmdlPWZ1bmN0aW9uIGRlbGV0ZVJhbmdlKGVkaXRvcil7dmFyIHJvb3ROb2RlPUVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKTt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuIGlzRXZlcnl0aGluZ1NlbGVjdGVkKHJvb3ROb2RlLHJuZyk/ZW1wdHlFZGl0b3IoZWRpdG9yKTpkZWxldGVSYW5nZU1lcmdlQmxvY2tzKHJvb3ROb2RlLGVkaXRvci5zZWxlY3Rpb24pO307dmFyIGJhY2tzcGFjZURlbGV0ZSQxPWZ1bmN0aW9uIGJhY2tzcGFjZURlbGV0ZSQxKGVkaXRvcixmb3J3YXJkKXtyZXR1cm4gZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP2ZhbHNlOmRlbGV0ZVJhbmdlKGVkaXRvcik7fTt2YXIgQmxvY2tSYW5nZURlbGV0ZT17YmFja3NwYWNlRGVsZXRlOmJhY2tzcGFjZURlbGV0ZSQxfTt2YXIgaXNCciQ1PWZ1bmN0aW9uIGlzQnIkNShwb3Mpe3JldHVybiBnZXRFbGVtZW50RnJvbVBvc2l0aW9uKHBvcykuZXhpc3RzKGlzQnIkMSk7fTt2YXIgZmluZEJyPWZ1bmN0aW9uIGZpbmRCcihmb3J3YXJkLHJvb3QscG9zKXt2YXIgcGFyZW50QmxvY2tzPWZpbHRlcihQYXJlbnRzLnBhcmVudHNBbmRTZWxmKEVsZW1lbnQuZnJvbURvbShwb3MuY29udGFpbmVyKCkpLHJvb3QpLGlzQmxvY2spO3ZhciBzY29wZT1oZWFkKHBhcmVudEJsb2NrcykuZ2V0T3Iocm9vdCk7cmV0dXJuIENhcmV0RmluZGVyLmZyb21Qb3NpdGlvbihmb3J3YXJkLHNjb3BlLmRvbSgpLHBvcykuZmlsdGVyKGlzQnIkNSk7fTt2YXIgaXNCZWZvcmVCcj1mdW5jdGlvbiBpc0JlZm9yZUJyKHJvb3QscG9zKXtyZXR1cm4gZ2V0RWxlbWVudEZyb21Qb3NpdGlvbihwb3MpLmV4aXN0cyhpc0JyJDEpfHxmaW5kQnIodHJ1ZSxyb290LHBvcykuaXNTb21lKCk7fTt2YXIgaXNBZnRlckJyPWZ1bmN0aW9uIGlzQWZ0ZXJCcihyb290LHBvcyl7cmV0dXJuIGdldEVsZW1lbnRGcm9tUHJldlBvc2l0aW9uKHBvcykuZXhpc3RzKGlzQnIkMSl8fGZpbmRCcihmYWxzZSxyb290LHBvcykuaXNTb21lKCk7fTt2YXIgZmluZFByZXZpb3VzQnI9Y3VycnkoZmluZEJyLGZhbHNlKTt2YXIgZmluZE5leHRCcj1jdXJyeShmaW5kQnIsdHJ1ZSk7dmFyIGlzQ29tcG91bmRFbGVtZW50PWZ1bmN0aW9uIGlzQ29tcG91bmRFbGVtZW50KG5vZGUpe3JldHVybiBpc1RhYmxlQ2VsbChFbGVtZW50LmZyb21Eb20obm9kZSkpfHxpc0xpc3RJdGVtKEVsZW1lbnQuZnJvbURvbShub2RlKSk7fTt2YXIgRGVsZXRlQWN0aW9uPUFkdC5nZW5lcmF0ZShbe3JlbW92ZTpbJ2VsZW1lbnQnXX0se21vdmVUb0VsZW1lbnQ6WydlbGVtZW50J119LHttb3ZlVG9Qb3NpdGlvbjpbJ3Bvc2l0aW9uJ119XSk7dmFyIGlzQXRDb250ZW50RWRpdGFibGVCbG9ja0NhcmV0PWZ1bmN0aW9uIGlzQXRDb250ZW50RWRpdGFibGVCbG9ja0NhcmV0KGZvcndhcmQsZnJvbSl7dmFyIGVsbT1mcm9tLmdldE5vZGUoZm9yd2FyZD09PWZhbHNlKTt2YXIgY2FyZXRMb2NhdGlvbj1mb3J3YXJkPydhZnRlcic6J2JlZm9yZSc7cmV0dXJuIE5vZGVUeXBlLmlzRWxlbWVudChlbG0pJiZlbG0uZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpPT09Y2FyZXRMb2NhdGlvbjt9O3ZhciBpc0RlbGV0ZUZyb21DZWZEaWZmZXJlbnRCbG9ja3M9ZnVuY3Rpb24gaXNEZWxldGVGcm9tQ2VmRGlmZmVyZW50QmxvY2tzKHJvb3QsZm9yd2FyZCxmcm9tLHRvKXt2YXIgaW5TYW1lQmxvY2s9ZnVuY3Rpb24gaW5TYW1lQmxvY2soZWxtKXtyZXR1cm4gaXNJbmxpbmUoRWxlbWVudC5mcm9tRG9tKGVsbSkpJiYhaXNJblNhbWVCbG9jayhmcm9tLHRvLHJvb3QpO307cmV0dXJuIGdldFJlbGF0aXZlQ2VmRWxtKCFmb3J3YXJkLGZyb20pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZ2V0UmVsYXRpdmVDZWZFbG0oZm9yd2FyZCx0bykuZm9sZChjb25zdGFudChmYWxzZSksaW5TYW1lQmxvY2spO30saW5TYW1lQmxvY2spO307dmFyIGRlbGV0ZUVtcHR5QmxvY2tPck1vdmVUb0NlZj1mdW5jdGlvbiBkZWxldGVFbXB0eUJsb2NrT3JNb3ZlVG9DZWYocm9vdCxmb3J3YXJkLGZyb20sdG8pe3ZhciB0b0NlZkVsbT10by5nZXROb2RlKGZvcndhcmQ9PT1mYWxzZSk7cmV0dXJuIERlbGV0ZVV0aWxzLmdldFBhcmVudEJsb2NrKEVsZW1lbnQuZnJvbURvbShyb290KSxFbGVtZW50LmZyb21Eb20oZnJvbS5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24oYmxvY2tFbG0pe3JldHVybiBFbXB0eS5pc0VtcHR5KGJsb2NrRWxtKT9EZWxldGVBY3Rpb24ucmVtb3ZlKGJsb2NrRWxtLmRvbSgpKTpEZWxldGVBY3Rpb24ubW92ZVRvRWxlbWVudCh0b0NlZkVsbSk7fSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBPcHRpb24uc29tZShEZWxldGVBY3Rpb24ubW92ZVRvRWxlbWVudCh0b0NlZkVsbSkpO30pO307dmFyIGZpbmRDZWZQb3NpdGlvbj1mdW5jdGlvbiBmaW5kQ2VmUG9zaXRpb24ocm9vdCxmb3J3YXJkLGZyb20pe3JldHVybiBDYXJldEZpbmRlci5mcm9tUG9zaXRpb24oZm9yd2FyZCxyb290LGZyb20pLmJpbmQoZnVuY3Rpb24odG8pe2lmKGlzQ29tcG91bmRFbGVtZW50KHRvLmdldE5vZGUoKSkpe3JldHVybiBPcHRpb24ubm9uZSgpO31lbHNlIGlmKGlzRGVsZXRlRnJvbUNlZkRpZmZlcmVudEJsb2Nrcyhyb290LGZvcndhcmQsZnJvbSx0bykpe3JldHVybiBPcHRpb24ubm9uZSgpO31lbHNlIGlmKGZvcndhcmQmJk5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2UodG8uZ2V0Tm9kZSgpKSl7cmV0dXJuIGRlbGV0ZUVtcHR5QmxvY2tPck1vdmVUb0NlZihyb290LGZvcndhcmQsZnJvbSx0byk7fWVsc2UgaWYoZm9yd2FyZD09PWZhbHNlJiZOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKHRvLmdldE5vZGUodHJ1ZSkpKXtyZXR1cm4gZGVsZXRlRW1wdHlCbG9ja09yTW92ZVRvQ2VmKHJvb3QsZm9yd2FyZCxmcm9tLHRvKTt9ZWxzZSBpZihmb3J3YXJkJiZpc0FmdGVyQ29udGVudEVkaXRhYmxlRmFsc2UoZnJvbSkpe3JldHVybiBPcHRpb24uc29tZShEZWxldGVBY3Rpb24ubW92ZVRvUG9zaXRpb24odG8pKTt9ZWxzZSBpZihmb3J3YXJkPT09ZmFsc2UmJmlzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2UoZnJvbSkpe3JldHVybiBPcHRpb24uc29tZShEZWxldGVBY3Rpb24ubW92ZVRvUG9zaXRpb24odG8pKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLm5vbmUoKTt9fSk7fTt2YXIgZ2V0Q29udGVudEVkaXRhYmxlQmxvY2tBY3Rpb249ZnVuY3Rpb24gZ2V0Q29udGVudEVkaXRhYmxlQmxvY2tBY3Rpb24oZm9yd2FyZCxlbG0pe2lmKGZvcndhcmQmJk5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2UoZWxtLm5leHRTaWJsaW5nKSl7cmV0dXJuIE9wdGlvbi5zb21lKERlbGV0ZUFjdGlvbi5tb3ZlVG9FbGVtZW50KGVsbS5uZXh0U2libGluZykpO31lbHNlIGlmKGZvcndhcmQ9PT1mYWxzZSYmTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZShlbG0ucHJldmlvdXNTaWJsaW5nKSl7cmV0dXJuIE9wdGlvbi5zb21lKERlbGV0ZUFjdGlvbi5tb3ZlVG9FbGVtZW50KGVsbS5wcmV2aW91c1NpYmxpbmcpKTt9ZWxzZXtyZXR1cm4gT3B0aW9uLm5vbmUoKTt9fTt2YXIgc2tpcE1vdmVUb0FjdGlvbkZyb21JbmxpbmVDZWZUb0NvbnRlbnQ9ZnVuY3Rpb24gc2tpcE1vdmVUb0FjdGlvbkZyb21JbmxpbmVDZWZUb0NvbnRlbnQocm9vdCxmcm9tLGRlbGV0ZUFjdGlvbil7cmV0dXJuIGRlbGV0ZUFjdGlvbi5mb2xkKGZ1bmN0aW9uKGVsbSl7cmV0dXJuIE9wdGlvbi5zb21lKERlbGV0ZUFjdGlvbi5yZW1vdmUoZWxtKSk7fSxmdW5jdGlvbihlbG0pe3JldHVybiBPcHRpb24uc29tZShEZWxldGVBY3Rpb24ubW92ZVRvRWxlbWVudChlbG0pKTt9LGZ1bmN0aW9uKHRvKXtpZihpc0luU2FtZUJsb2NrKGZyb20sdG8scm9vdCkpe3JldHVybiBPcHRpb24ubm9uZSgpO31lbHNle3JldHVybiBPcHRpb24uc29tZShEZWxldGVBY3Rpb24ubW92ZVRvUG9zaXRpb24odG8pKTt9fSk7fTt2YXIgZ2V0Q29udGVudEVkaXRhYmxlQWN0aW9uPWZ1bmN0aW9uIGdldENvbnRlbnRFZGl0YWJsZUFjdGlvbihyb290LGZvcndhcmQsZnJvbSl7aWYoaXNBdENvbnRlbnRFZGl0YWJsZUJsb2NrQ2FyZXQoZm9yd2FyZCxmcm9tKSl7cmV0dXJuIGdldENvbnRlbnRFZGl0YWJsZUJsb2NrQWN0aW9uKGZvcndhcmQsZnJvbS5nZXROb2RlKGZvcndhcmQ9PT1mYWxzZSkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZmluZENlZlBvc2l0aW9uKHJvb3QsZm9yd2FyZCxmcm9tKTt9LE9wdGlvbi5zb21lKTt9ZWxzZXtyZXR1cm4gZmluZENlZlBvc2l0aW9uKHJvb3QsZm9yd2FyZCxmcm9tKS5iaW5kKGZ1bmN0aW9uKGRlbGV0ZUFjdGlvbil7cmV0dXJuIHNraXBNb3ZlVG9BY3Rpb25Gcm9tSW5saW5lQ2VmVG9Db250ZW50KHJvb3QsZnJvbSxkZWxldGVBY3Rpb24pO30pO319O3ZhciByZWFkJDQ9ZnVuY3Rpb24gcmVhZCQ0KHJvb3QsZm9yd2FyZCxybmcpe3ZhciBub3JtYWxpemVkUmFuZ2U9bm9ybWFsaXplUmFuZ2UoZm9yd2FyZD8xOi0xLHJvb3Qscm5nKTt2YXIgZnJvbT1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQobm9ybWFsaXplZFJhbmdlKTt2YXIgcm9vdEVsZW1lbnQ9RWxlbWVudC5mcm9tRG9tKHJvb3QpO2lmKGZvcndhcmQ9PT1mYWxzZSYmaXNBZnRlckNvbnRlbnRFZGl0YWJsZUZhbHNlKGZyb20pKXtyZXR1cm4gT3B0aW9uLnNvbWUoRGVsZXRlQWN0aW9uLnJlbW92ZShmcm9tLmdldE5vZGUodHJ1ZSkpKTt9ZWxzZSBpZihmb3J3YXJkJiZpc0JlZm9yZUNvbnRlbnRFZGl0YWJsZUZhbHNlKGZyb20pKXtyZXR1cm4gT3B0aW9uLnNvbWUoRGVsZXRlQWN0aW9uLnJlbW92ZShmcm9tLmdldE5vZGUoKSkpO31lbHNlIGlmKGZvcndhcmQ9PT1mYWxzZSYmaXNCZWZvcmVDb250ZW50RWRpdGFibGVGYWxzZShmcm9tKSYmaXNBZnRlckJyKHJvb3RFbGVtZW50LGZyb20pKXtyZXR1cm4gZmluZFByZXZpb3VzQnIocm9vdEVsZW1lbnQsZnJvbSkubWFwKGZ1bmN0aW9uKGJyKXtyZXR1cm4gRGVsZXRlQWN0aW9uLnJlbW92ZShici5nZXROb2RlKCkpO30pO31lbHNlIGlmKGZvcndhcmQmJmlzQWZ0ZXJDb250ZW50RWRpdGFibGVGYWxzZShmcm9tKSYmaXNCZWZvcmVCcihyb290RWxlbWVudCxmcm9tKSl7cmV0dXJuIGZpbmROZXh0QnIocm9vdEVsZW1lbnQsZnJvbSkubWFwKGZ1bmN0aW9uKGJyKXtyZXR1cm4gRGVsZXRlQWN0aW9uLnJlbW92ZShici5nZXROb2RlKCkpO30pO31lbHNle3JldHVybiBnZXRDb250ZW50RWRpdGFibGVBY3Rpb24ocm9vdCxmb3J3YXJkLGZyb20pO319O3ZhciBkZWxldGVFbGVtZW50JDE9ZnVuY3Rpb24gZGVsZXRlRWxlbWVudCQxKGVkaXRvcixmb3J3YXJkKXtyZXR1cm4gZnVuY3Rpb24oZWxlbWVudCl7ZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpO0RlbGV0ZUVsZW1lbnQuZGVsZXRlRWxlbWVudChlZGl0b3IsZm9yd2FyZCxFbGVtZW50LmZyb21Eb20oZWxlbWVudCkpO3JldHVybiB0cnVlO307fTt2YXIgbW92ZVRvRWxlbWVudD1mdW5jdGlvbiBtb3ZlVG9FbGVtZW50KGVkaXRvcixmb3J3YXJkKXtyZXR1cm4gZnVuY3Rpb24oZWxlbWVudCl7dmFyIHBvcz1mb3J3YXJkP0NhcmV0UG9zaXRpb24kMS5iZWZvcmUoZWxlbWVudCk6Q2FyZXRQb3NpdGlvbiQxLmFmdGVyKGVsZW1lbnQpO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKHBvcy50b1JhbmdlKCkpO3JldHVybiB0cnVlO307fTt2YXIgbW92ZVRvUG9zaXRpb249ZnVuY3Rpb24gbW92ZVRvUG9zaXRpb24oZWRpdG9yKXtyZXR1cm4gZnVuY3Rpb24ocG9zKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhwb3MudG9SYW5nZSgpKTtyZXR1cm4gdHJ1ZTt9O307dmFyIGdldEFuY2VzdG9yQ2U9ZnVuY3Rpb24gZ2V0QW5jZXN0b3JDZShlZGl0b3Isbm9kZSl7cmV0dXJuIE9wdGlvbi5mcm9tKGdldENvbnRlbnRFZGl0YWJsZVJvb3QkMihlZGl0b3IuZ2V0Qm9keSgpLG5vZGUpKTt9O3ZhciBiYWNrc3BhY2VEZWxldGVDYXJldD1mdW5jdGlvbiBiYWNrc3BhY2VEZWxldGVDYXJldChlZGl0b3IsZm9yd2FyZCl7dmFyIHNlbGVjdGVkTm9kZT1lZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4gZ2V0QW5jZXN0b3JDZShlZGl0b3Isc2VsZWN0ZWROb2RlKS5maWx0ZXIoTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZSkuZm9sZChmdW5jdGlvbigpe3ZhciByZXN1bHQ9cmVhZCQ0KGVkaXRvci5nZXRCb2R5KCksZm9yd2FyZCxlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKS5tYXAoZnVuY3Rpb24oZGVsZXRlQWN0aW9uKXtyZXR1cm4gZGVsZXRlQWN0aW9uLmZvbGQoZGVsZXRlRWxlbWVudCQxKGVkaXRvcixmb3J3YXJkKSxtb3ZlVG9FbGVtZW50KGVkaXRvcixmb3J3YXJkKSxtb3ZlVG9Qb3NpdGlvbihlZGl0b3IpKTt9KTtyZXR1cm4gcmVzdWx0LmdldE9yKGZhbHNlKTt9LGZ1bmN0aW9uKCl7cmV0dXJuIHRydWU7fSk7fTt2YXIgZGVsZXRlT2Zmc2NyZWVuU2VsZWN0aW9uPWZ1bmN0aW9uIGRlbGV0ZU9mZnNjcmVlblNlbGVjdGlvbihyb290RWxlbWVudCl7ZWFjaChkZXNjZW5kYW50cyQxKHJvb3RFbGVtZW50LCcubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24nKSxyZW1vdmUkMSk7fTt2YXIgYmFja3NwYWNlRGVsZXRlUmFuZ2U9ZnVuY3Rpb24gYmFja3NwYWNlRGVsZXRlUmFuZ2UoZWRpdG9yLGZvcndhcmQpe3ZhciBzZWxlY3RlZE5vZGU9ZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCk7aWYoTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVGYWxzZShzZWxlY3RlZE5vZGUpKXt2YXIgaGFzQ2VmQW5jZXN0b3I9Z2V0QW5jZXN0b3JDZShlZGl0b3Isc2VsZWN0ZWROb2RlLnBhcmVudE5vZGUpLmZpbHRlcihOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKTtyZXR1cm4gaGFzQ2VmQW5jZXN0b3IuZm9sZChmdW5jdGlvbigpe2RlbGV0ZU9mZnNjcmVlblNlbGVjdGlvbihFbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSkpO0RlbGV0ZUVsZW1lbnQuZGVsZXRlRWxlbWVudChlZGl0b3IsZm9yd2FyZCxFbGVtZW50LmZyb21Eb20oZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCkpKTtEZWxldGVVdGlscy5wYWRkRW1wdHlCb2R5KGVkaXRvcik7cmV0dXJuIHRydWU7fSxmdW5jdGlvbigpe3JldHVybiB0cnVlO30pO31yZXR1cm4gZmFsc2U7fTt2YXIgZ2V0Q29udGVudEVkaXRhYmxlUm9vdCQyPWZ1bmN0aW9uIGdldENvbnRlbnRFZGl0YWJsZVJvb3QkMihyb290LG5vZGUpe3doaWxlKG5vZGUmJm5vZGUhPT1yb290KXtpZihOb2RlVHlwZS5pc0NvbnRlbnRFZGl0YWJsZVRydWUobm9kZSl8fE5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2Uobm9kZSkpe3JldHVybiBub2RlO31ub2RlPW5vZGUucGFyZW50Tm9kZTt9cmV0dXJuIG51bGw7fTt2YXIgcGFkZEVtcHR5RWxlbWVudD1mdW5jdGlvbiBwYWRkRW1wdHlFbGVtZW50KGVkaXRvcil7dmFyIGJyO3ZhciBjZVJvb3Q9Z2V0Q29udGVudEVkaXRhYmxlUm9vdCQyKGVkaXRvci5nZXRCb2R5KCksZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCkpO2lmKE5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlVHJ1ZShjZVJvb3QpJiZlZGl0b3IuZG9tLmlzQmxvY2soY2VSb290KSYmZWRpdG9yLmRvbS5pc0VtcHR5KGNlUm9vdCkpe2JyPWVkaXRvci5kb20uY3JlYXRlKCdicicseydkYXRhLW1jZS1ib2d1cyc6JzEnfSk7ZWRpdG9yLmRvbS5zZXRIVE1MKGNlUm9vdCwnJyk7Y2VSb290LmFwcGVuZENoaWxkKGJyKTtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhDYXJldFBvc2l0aW9uJDEuYmVmb3JlKGJyKS50b1JhbmdlKCkpO31yZXR1cm4gdHJ1ZTt9O3ZhciBiYWNrc3BhY2VEZWxldGUkMj1mdW5jdGlvbiBiYWNrc3BhY2VEZWxldGUkMihlZGl0b3IsZm9yd2FyZCl7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXtyZXR1cm4gYmFja3NwYWNlRGVsZXRlQ2FyZXQoZWRpdG9yLGZvcndhcmQpO31lbHNle3JldHVybiBiYWNrc3BhY2VEZWxldGVSYW5nZShlZGl0b3IsZm9yd2FyZCk7fX07dmFyIENlZkRlbGV0ZT17YmFja3NwYWNlRGVsZXRlOmJhY2tzcGFjZURlbGV0ZSQyLHBhZGRFbXB0eUVsZW1lbnQ6cGFkZEVtcHR5RWxlbWVudH07dmFyIHRyaW1FbXB0eVRleHROb2RlJDE9ZnVuY3Rpb24gdHJpbUVtcHR5VGV4dE5vZGUkMShkb20sbm9kZSl7aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpJiZub2RlLmRhdGEubGVuZ3RoPT09MCl7ZG9tLnJlbW92ZShub2RlKTt9fTt2YXIgZGVsZXRlQ29udGVudEFuZFNob3dDYXJldD1mdW5jdGlvbiBkZWxldGVDb250ZW50QW5kU2hvd0NhcmV0KGVkaXRvcixyYW5nZSxub2RlLGRpcmVjdGlvbixmb3J3YXJkLHBlZWtDYXJldFBvc2l0aW9uKXt2YXIgY2FyZXRSYW5nZT1zaG93Q2FyZXQoZGlyZWN0aW9uLGVkaXRvcixwZWVrQ2FyZXRQb3NpdGlvbi5nZXROb2RlKCFmb3J3YXJkKSxmb3J3YXJkLHRydWUpO2lmKHJhbmdlLmNvbGxhcHNlZCl7dmFyIGRlbGV0ZVJhbmdlPXJhbmdlLmNsb25lUmFuZ2UoKTtpZihmb3J3YXJkKXtkZWxldGVSYW5nZS5zZXRFbmQoY2FyZXRSYW5nZS5zdGFydENvbnRhaW5lcixjYXJldFJhbmdlLnN0YXJ0T2Zmc2V0KTt9ZWxzZXtkZWxldGVSYW5nZS5zZXRTdGFydChjYXJldFJhbmdlLmVuZENvbnRhaW5lcixjYXJldFJhbmdlLmVuZE9mZnNldCk7fWRlbGV0ZVJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7fWVsc2V7cmFuZ2UuZGVsZXRlQ29udGVudHMoKTt9ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcoY2FyZXRSYW5nZSk7dHJpbUVtcHR5VGV4dE5vZGUkMShlZGl0b3IuZG9tLG5vZGUpO3JldHVybiB0cnVlO307dmFyIGRlbGV0ZUNlZkJvdW5kYXJ5VGV4dD1mdW5jdGlvbiBkZWxldGVDZWZCb3VuZGFyeVRleHQoZWRpdG9yLGZvcndhcmQpe3ZhciByYW5nZT1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO2lmKCFOb2RlVHlwZS5pc1RleHQocmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIpKXtyZXR1cm4gZmFsc2U7fXZhciBkaXJlY3Rpb249Zm9yd2FyZD9IRGlyZWN0aW9uLkZvcndhcmRzOkhEaXJlY3Rpb24uQmFja3dhcmRzO3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihlZGl0b3IuZ2V0Qm9keSgpKTt2YXIgZ2V0TmV4dFZpc3VhbENhcmV0UG9zaXRpb249Y3VycnkoZ2V0VmlzdWFsQ2FyZXRQb3NpdGlvbixjYXJldFdhbGtlci5uZXh0KTt2YXIgZ2V0UHJldlZpc3VhbENhcmV0UG9zaXRpb249Y3VycnkoZ2V0VmlzdWFsQ2FyZXRQb3NpdGlvbixjYXJldFdhbGtlci5wcmV2KTt2YXIgZ2V0TmV4dFBvc0ZuPWZvcndhcmQ/Z2V0TmV4dFZpc3VhbENhcmV0UG9zaXRpb246Z2V0UHJldlZpc3VhbENhcmV0UG9zaXRpb247dmFyIGlzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2VGbj1mb3J3YXJkP2lzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2U6aXNBZnRlckNvbnRlbnRFZGl0YWJsZUZhbHNlO3ZhciBjYXJldFBvc2l0aW9uPWdldE5vcm1hbGl6ZWRSYW5nZUVuZFBvaW50KGRpcmVjdGlvbixlZGl0b3IuZ2V0Qm9keSgpLHJhbmdlKTt2YXIgbmV4dENhcmV0UG9zaXRpb249SW5saW5lVXRpbHMubm9ybWFsaXplUG9zaXRpb24oZm9yd2FyZCxnZXROZXh0UG9zRm4oY2FyZXRQb3NpdGlvbikpO2lmKCFuZXh0Q2FyZXRQb3NpdGlvbnx8IWlzTW92ZUluc2lkZVNhbWVCbG9jayhjYXJldFBvc2l0aW9uLG5leHRDYXJldFBvc2l0aW9uKSl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGlzQmVmb3JlQ29udGVudEVkaXRhYmxlRmFsc2VGbihuZXh0Q2FyZXRQb3NpdGlvbikpe3JldHVybiBkZWxldGVDb250ZW50QW5kU2hvd0NhcmV0KGVkaXRvcixyYW5nZSxjYXJldFBvc2l0aW9uLmdldE5vZGUoKSxkaXJlY3Rpb24sZm9yd2FyZCxuZXh0Q2FyZXRQb3NpdGlvbik7fXZhciBwZWVrQ2FyZXRQb3NpdGlvbj1nZXROZXh0UG9zRm4obmV4dENhcmV0UG9zaXRpb24pO2lmKHBlZWtDYXJldFBvc2l0aW9uJiZpc0JlZm9yZUNvbnRlbnRFZGl0YWJsZUZhbHNlRm4ocGVla0NhcmV0UG9zaXRpb24pKXtpZihpc01vdmVJbnNpZGVTYW1lQmxvY2sobmV4dENhcmV0UG9zaXRpb24scGVla0NhcmV0UG9zaXRpb24pKXtyZXR1cm4gZGVsZXRlQ29udGVudEFuZFNob3dDYXJldChlZGl0b3IscmFuZ2UsY2FyZXRQb3NpdGlvbi5nZXROb2RlKCksZGlyZWN0aW9uLGZvcndhcmQscGVla0NhcmV0UG9zaXRpb24pO319cmV0dXJuIGZhbHNlO307dmFyIGJhY2tzcGFjZURlbGV0ZSQzPWZ1bmN0aW9uIGJhY2tzcGFjZURlbGV0ZSQzKGVkaXRvcixmb3J3YXJkKXtyZXR1cm4gZGVsZXRlQ2VmQm91bmRhcnlUZXh0KGVkaXRvcixmb3J3YXJkKTt9O3ZhciBDZWZCb3VuZGFyeURlbGV0ZT17YmFja3NwYWNlRGVsZXRlOmJhY2tzcGFjZURlbGV0ZSQzfTt2YXIgaXNGZWF0dXJlRW5hYmxlZCQxPWZ1bmN0aW9uIGlzRmVhdHVyZUVuYWJsZWQkMShlZGl0b3Ipe3JldHVybiBlZGl0b3Iuc2V0dGluZ3MuaW5saW5lX2JvdW5kYXJpZXMhPT1mYWxzZTt9O3ZhciByYW5nZUZyb21Qb3NpdGlvbnM9ZnVuY3Rpb24gcmFuZ2VGcm9tUG9zaXRpb25zKGZyb20sdG8pe3ZhciByYW5nZT1kb21HbG9iYWxzLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmFuZ2Uuc2V0U3RhcnQoZnJvbS5jb250YWluZXIoKSxmcm9tLm9mZnNldCgpKTtyYW5nZS5zZXRFbmQodG8uY29udGFpbmVyKCksdG8ub2Zmc2V0KCkpO3JldHVybiByYW5nZTt9O3ZhciBoYXNPbmx5VHdvT3JMZXNzUG9zaXRpb25zTGVmdD1mdW5jdGlvbiBoYXNPbmx5VHdvT3JMZXNzUG9zaXRpb25zTGVmdChlbG0pe3JldHVybiBsaWZ0MihDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZWxtKSxDYXJldEZpbmRlci5sYXN0UG9zaXRpb25JbihlbG0pLGZ1bmN0aW9uKGZpcnN0UG9zLGxhc3RQb3Mpe3ZhciBub3JtYWxpemVkRmlyc3RQb3M9SW5saW5lVXRpbHMubm9ybWFsaXplUG9zaXRpb24odHJ1ZSxmaXJzdFBvcyk7dmFyIG5vcm1hbGl6ZWRMYXN0UG9zPUlubGluZVV0aWxzLm5vcm1hbGl6ZVBvc2l0aW9uKGZhbHNlLGxhc3RQb3MpO3JldHVybiBDYXJldEZpbmRlci5uZXh0UG9zaXRpb24oZWxtLG5vcm1hbGl6ZWRGaXJzdFBvcykubWFwKGZ1bmN0aW9uKHBvcyl7cmV0dXJuIHBvcy5pc0VxdWFsKG5vcm1hbGl6ZWRMYXN0UG9zKTt9KS5nZXRPcih0cnVlKTt9KS5nZXRPcih0cnVlKTt9O3ZhciBzZXRDYXJldExvY2F0aW9uPWZ1bmN0aW9uIHNldENhcmV0TG9jYXRpb24oZWRpdG9yLGNhcmV0KXtyZXR1cm4gZnVuY3Rpb24obG9jYXRpb24pe3JldHVybiBCb3VuZGFyeUNhcmV0LnJlbmRlckNhcmV0KGNhcmV0LGxvY2F0aW9uKS5tYXAoZnVuY3Rpb24ocG9zKXtCb3VuZGFyeVNlbGVjdGlvbi5zZXRDYXJldFBvc2l0aW9uKGVkaXRvcixwb3MpO3JldHVybiB0cnVlO30pLmdldE9yKGZhbHNlKTt9O307dmFyIGRlbGV0ZUZyb21Ubz1mdW5jdGlvbiBkZWxldGVGcm9tVG8oZWRpdG9yLGNhcmV0LGZyb20sdG8pe3ZhciByb290Tm9kZT1lZGl0b3IuZ2V0Qm9keSgpO3ZhciBpc0lubGluZVRhcmdldD1jdXJyeShJbmxpbmVVdGlscy5pc0lubGluZVRhcmdldCxlZGl0b3IpO2VkaXRvci51bmRvTWFuYWdlci5pZ25vcmUoZnVuY3Rpb24oKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhyYW5nZUZyb21Qb3NpdGlvbnMoZnJvbSx0bykpO2VkaXRvci5leGVjQ29tbWFuZCgnRGVsZXRlJyk7Qm91bmRhcnlMb2NhdGlvbi5yZWFkTG9jYXRpb24oaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUsQ2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5tYXAoQm91bmRhcnlMb2NhdGlvbi5pbnNpZGUpLm1hcChzZXRDYXJldExvY2F0aW9uKGVkaXRvcixjYXJldCkpO30pO2VkaXRvci5ub2RlQ2hhbmdlZCgpO307dmFyIHJlc2NvcGUkMT1mdW5jdGlvbiByZXNjb3BlJDEocm9vdE5vZGUsbm9kZSl7dmFyIHBhcmVudEJsb2NrPWdldFBhcmVudEJsb2NrKG5vZGUscm9vdE5vZGUpO3JldHVybiBwYXJlbnRCbG9jaz9wYXJlbnRCbG9jazpyb290Tm9kZTt9O3ZhciBiYWNrc3BhY2VEZWxldGVDb2xsYXBzZWQ9ZnVuY3Rpb24gYmFja3NwYWNlRGVsZXRlQ29sbGFwc2VkKGVkaXRvcixjYXJldCxmb3J3YXJkLGZyb20pe3ZhciByb290Tm9kZT1yZXNjb3BlJDEoZWRpdG9yLmdldEJvZHkoKSxmcm9tLmNvbnRhaW5lcigpKTt2YXIgaXNJbmxpbmVUYXJnZXQ9Y3VycnkoSW5saW5lVXRpbHMuaXNJbmxpbmVUYXJnZXQsZWRpdG9yKTt2YXIgZnJvbUxvY2F0aW9uPUJvdW5kYXJ5TG9jYXRpb24ucmVhZExvY2F0aW9uKGlzSW5saW5lVGFyZ2V0LHJvb3ROb2RlLGZyb20pO3JldHVybiBmcm9tTG9jYXRpb24uYmluZChmdW5jdGlvbihsb2NhdGlvbil7aWYoZm9yd2FyZCl7cmV0dXJuIGxvY2F0aW9uLmZvbGQoY29uc3RhbnQoT3B0aW9uLnNvbWUoQm91bmRhcnlMb2NhdGlvbi5pbnNpZGUobG9jYXRpb24pKSksT3B0aW9uLm5vbmUsY29uc3RhbnQoT3B0aW9uLnNvbWUoQm91bmRhcnlMb2NhdGlvbi5vdXRzaWRlKGxvY2F0aW9uKSkpLE9wdGlvbi5ub25lKTt9ZWxzZXtyZXR1cm4gbG9jYXRpb24uZm9sZChPcHRpb24ubm9uZSxjb25zdGFudChPcHRpb24uc29tZShCb3VuZGFyeUxvY2F0aW9uLm91dHNpZGUobG9jYXRpb24pKSksT3B0aW9uLm5vbmUsY29uc3RhbnQoT3B0aW9uLnNvbWUoQm91bmRhcnlMb2NhdGlvbi5pbnNpZGUobG9jYXRpb24pKSkpO319KS5tYXAoc2V0Q2FyZXRMb2NhdGlvbihlZGl0b3IsY2FyZXQpKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIHRvUG9zaXRpb249Q2FyZXRGaW5kZXIubmF2aWdhdGUoZm9yd2FyZCxyb290Tm9kZSxmcm9tKTt2YXIgdG9Mb2NhdGlvbj10b1Bvc2l0aW9uLmJpbmQoZnVuY3Rpb24ocG9zKXtyZXR1cm4gQm91bmRhcnlMb2NhdGlvbi5yZWFkTG9jYXRpb24oaXNJbmxpbmVUYXJnZXQscm9vdE5vZGUscG9zKTt9KTtpZihmcm9tTG9jYXRpb24uaXNTb21lKCkmJnRvTG9jYXRpb24uaXNTb21lKCkpe3JldHVybiBJbmxpbmVVdGlscy5maW5kUm9vdElubGluZShpc0lubGluZVRhcmdldCxyb290Tm9kZSxmcm9tKS5tYXAoZnVuY3Rpb24oZWxtKXtpZihoYXNPbmx5VHdvT3JMZXNzUG9zaXRpb25zTGVmdChlbG0pKXtEZWxldGVFbGVtZW50LmRlbGV0ZUVsZW1lbnQoZWRpdG9yLGZvcndhcmQsRWxlbWVudC5mcm9tRG9tKGVsbSkpO3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fSkuZ2V0T3IoZmFsc2UpO31lbHNle3JldHVybiB0b0xvY2F0aW9uLmJpbmQoZnVuY3Rpb24oXyl7cmV0dXJuIHRvUG9zaXRpb24ubWFwKGZ1bmN0aW9uKHRvKXtpZihmb3J3YXJkKXtkZWxldGVGcm9tVG8oZWRpdG9yLGNhcmV0LGZyb20sdG8pO31lbHNle2RlbGV0ZUZyb21UbyhlZGl0b3IsY2FyZXQsdG8sZnJvbSk7fXJldHVybiB0cnVlO30pO30pLmdldE9yKGZhbHNlKTt9fSk7fTt2YXIgYmFja3NwYWNlRGVsZXRlJDQ9ZnVuY3Rpb24gYmFja3NwYWNlRGVsZXRlJDQoZWRpdG9yLGNhcmV0LGZvcndhcmQpe2lmKGVkaXRvci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmaXNGZWF0dXJlRW5hYmxlZCQxKGVkaXRvcikpe3ZhciBmcm9tPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gYmFja3NwYWNlRGVsZXRlQ29sbGFwc2VkKGVkaXRvcixjYXJldCxmb3J3YXJkLGZyb20pO31yZXR1cm4gZmFsc2U7fTt2YXIgQm91bmRhcnlEZWxldGU9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGUkNH07dmFyIGdldFBhcmVudElubGluZXM9ZnVuY3Rpb24gZ2V0UGFyZW50SW5saW5lcyhyb290RWxtLHN0YXJ0RWxtKXt2YXIgcGFyZW50cz1QYXJlbnRzLnBhcmVudHNBbmRTZWxmKHN0YXJ0RWxtLHJvb3RFbG0pO3JldHVybiBmaW5kSW5kZXgocGFyZW50cyxpc0Jsb2NrKS5mb2xkKGNvbnN0YW50KHBhcmVudHMpLGZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gcGFyZW50cy5zbGljZSgwLGluZGV4KTt9KTt9O3ZhciBoYXNPbmx5T25lQ2hpbGQ9ZnVuY3Rpb24gaGFzT25seU9uZUNoaWxkKGVsbSl7cmV0dXJuIGNoaWxkcmVuKGVsbSkubGVuZ3RoPT09MTt9O3ZhciBkZWxldGVMYXN0UG9zaXRpb249ZnVuY3Rpb24gZGVsZXRlTGFzdFBvc2l0aW9uKGZvcndhcmQsZWRpdG9yLHRhcmdldCxwYXJlbnRJbmxpbmVzKXt2YXIgaXNGb3JtYXRFbGVtZW50JDE9Y3VycnkoaXNGb3JtYXRFbGVtZW50LGVkaXRvcik7dmFyIGZvcm1hdE5vZGVzPW1hcChmaWx0ZXIocGFyZW50SW5saW5lcyxpc0Zvcm1hdEVsZW1lbnQkMSksZnVuY3Rpb24oZWxtKXtyZXR1cm4gZWxtLmRvbSgpO30pO2lmKGZvcm1hdE5vZGVzLmxlbmd0aD09PTApe0RlbGV0ZUVsZW1lbnQuZGVsZXRlRWxlbWVudChlZGl0b3IsZm9yd2FyZCx0YXJnZXQpO31lbHNle3ZhciBwb3M9cmVwbGFjZVdpdGhDYXJldEZvcm1hdCh0YXJnZXQuZG9tKCksZm9ybWF0Tm9kZXMpO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKHBvcy50b1JhbmdlKCkpO319O3ZhciBkZWxldGVDYXJldD1mdW5jdGlvbiBkZWxldGVDYXJldChlZGl0b3IsZm9yd2FyZCl7dmFyIHJvb3RFbG09RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBzdGFydEVsbT1FbGVtZW50LmZyb21Eb20oZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpKTt2YXIgcGFyZW50SW5saW5lcz1maWx0ZXIoZ2V0UGFyZW50SW5saW5lcyhyb290RWxtLHN0YXJ0RWxtKSxoYXNPbmx5T25lQ2hpbGQpO3JldHVybiBsYXN0KHBhcmVudElubGluZXMpLm1hcChmdW5jdGlvbih0YXJnZXQpe3ZhciBmcm9tUG9zPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKTtpZihEZWxldGVVdGlscy53aWxsRGVsZXRlTGFzdFBvc2l0aW9uSW5FbGVtZW50KGZvcndhcmQsZnJvbVBvcyx0YXJnZXQuZG9tKCkpJiYhaXNFbXB0eUNhcmV0Rm9ybWF0RWxlbWVudCh0YXJnZXQpKXtkZWxldGVMYXN0UG9zaXRpb24oZm9yd2FyZCxlZGl0b3IsdGFyZ2V0LHBhcmVudElubGluZXMpO3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fSkuZ2V0T3IoZmFsc2UpO307dmFyIGJhY2tzcGFjZURlbGV0ZSQ1PWZ1bmN0aW9uIGJhY2tzcGFjZURlbGV0ZSQ1KGVkaXRvcixmb3J3YXJkKXtyZXR1cm4gZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP2RlbGV0ZUNhcmV0KGVkaXRvcixmb3J3YXJkKTpmYWxzZTt9O3ZhciBJbmxpbmVGb3JtYXREZWxldGU9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGUkNX07dmFyIHRhYmxlQ2VsbFJuZz1mdW5jdGlvbiB0YWJsZUNlbGxSbmcoc3RhcnQsZW5kKXtyZXR1cm57c3RhcnQ6Y29uc3RhbnQoc3RhcnQpLGVuZDpjb25zdGFudChlbmQpfTt9O3ZhciB0YWJsZVNlbGVjdGlvbj1mdW5jdGlvbiB0YWJsZVNlbGVjdGlvbihybmcsdGFibGUsY2VsbHMpe3JldHVybntybmc6Y29uc3RhbnQocm5nKSx0YWJsZTpjb25zdGFudCh0YWJsZSksY2VsbHM6Y29uc3RhbnQoY2VsbHMpfTt9O3ZhciBkZWxldGVBY3Rpb249QWR0LmdlbmVyYXRlKFt7cmVtb3ZlVGFibGU6WydlbGVtZW50J119LHtlbXB0eUNlbGxzOlsnY2VsbHMnXX1dKTt2YXIgaXNSb290RnJvbUVsZW1lbnQ9ZnVuY3Rpb24gaXNSb290RnJvbUVsZW1lbnQocm9vdCl7cmV0dXJuIGZ1bmN0aW9uKGN1cil7cmV0dXJuIGVxKHJvb3QsY3VyKTt9O307dmFyIGdldENsb3Nlc3RDZWxsJDE9ZnVuY3Rpb24gZ2V0Q2xvc2VzdENlbGwkMShjb250YWluZXIsaXNSb290KXtyZXR1cm4gY2xvc2VzdCQxKEVsZW1lbnQuZnJvbURvbShjb250YWluZXIpLCd0ZCx0aCcsaXNSb290KTt9O3ZhciBnZXRDbG9zZXN0VGFibGU9ZnVuY3Rpb24gZ2V0Q2xvc2VzdFRhYmxlKGNlbGwsaXNSb290KXtyZXR1cm4gYW5jZXN0b3IkMShjZWxsLCd0YWJsZScsaXNSb290KTt9O3ZhciBpc0V4cGFuZGVkQ2VsbFJuZz1mdW5jdGlvbiBpc0V4cGFuZGVkQ2VsbFJuZyhjZWxsUm5nKXtyZXR1cm4gZXEoY2VsbFJuZy5zdGFydCgpLGNlbGxSbmcuZW5kKCkpPT09ZmFsc2U7fTt2YXIgZ2V0VGFibGVGcm9tQ2VsbFJuZz1mdW5jdGlvbiBnZXRUYWJsZUZyb21DZWxsUm5nKGNlbGxSbmcsaXNSb290KXtyZXR1cm4gZ2V0Q2xvc2VzdFRhYmxlKGNlbGxSbmcuc3RhcnQoKSxpc1Jvb3QpLmJpbmQoZnVuY3Rpb24oc3RhcnRQYXJlbnRUYWJsZSl7cmV0dXJuIGdldENsb3Nlc3RUYWJsZShjZWxsUm5nLmVuZCgpLGlzUm9vdCkuYmluZChmdW5jdGlvbihlbmRQYXJlbnRUYWJsZSl7cmV0dXJuIHNvbWVJZihlcShzdGFydFBhcmVudFRhYmxlLGVuZFBhcmVudFRhYmxlKSxzdGFydFBhcmVudFRhYmxlKTt9KTt9KTt9O3ZhciBnZXRUYWJsZUNlbGxzPWZ1bmN0aW9uIGdldFRhYmxlQ2VsbHModGFibGUpe3JldHVybiBkZXNjZW5kYW50cyQxKHRhYmxlLCd0ZCx0aCcpO307dmFyIGdldENlbGxSYW5nZUZyb21TdGFydFRhYmxlPWZ1bmN0aW9uIGdldENlbGxSYW5nZUZyb21TdGFydFRhYmxlKGNlbGxSbmcsaXNSb290KXtyZXR1cm4gZ2V0Q2xvc2VzdFRhYmxlKGNlbGxSbmcuc3RhcnQoKSxpc1Jvb3QpLmJpbmQoZnVuY3Rpb24odGFibGUpe3JldHVybiBsYXN0KGdldFRhYmxlQ2VsbHModGFibGUpKS5tYXAoZnVuY3Rpb24oZW5kQ2VsbCl7cmV0dXJuIHRhYmxlQ2VsbFJuZyhjZWxsUm5nLnN0YXJ0KCksZW5kQ2VsbCk7fSk7fSk7fTt2YXIgcGFydGlhbFNlbGVjdGlvbj1mdW5jdGlvbiBwYXJ0aWFsU2VsZWN0aW9uKGlzUm9vdCxybmcpe3ZhciBzdGFydENlbGw9Z2V0Q2xvc2VzdENlbGwkMShybmcuc3RhcnRDb250YWluZXIsaXNSb290KTt2YXIgZW5kQ2VsbD1nZXRDbG9zZXN0Q2VsbCQxKHJuZy5lbmRDb250YWluZXIsaXNSb290KTtyZXR1cm4gcm5nLmNvbGxhcHNlZD9PcHRpb24ubm9uZSgpOmxpZnQyKHN0YXJ0Q2VsbCxlbmRDZWxsLHRhYmxlQ2VsbFJuZykuZm9sZChmdW5jdGlvbigpe3JldHVybiBzdGFydENlbGwuZm9sZChmdW5jdGlvbigpe3JldHVybiBlbmRDZWxsLmJpbmQoZnVuY3Rpb24oZW5kQ2VsbCl7cmV0dXJuIGdldENsb3Nlc3RUYWJsZShlbmRDZWxsLGlzUm9vdCkuYmluZChmdW5jdGlvbih0YWJsZSl7cmV0dXJuIGhlYWQoZ2V0VGFibGVDZWxscyh0YWJsZSkpLm1hcChmdW5jdGlvbihzdGFydENlbGwpe3JldHVybiB0YWJsZUNlbGxSbmcoc3RhcnRDZWxsLGVuZENlbGwpO30pO30pO30pO30sZnVuY3Rpb24oc3RhcnRDZWxsKXtyZXR1cm4gZ2V0Q2xvc2VzdFRhYmxlKHN0YXJ0Q2VsbCxpc1Jvb3QpLmJpbmQoZnVuY3Rpb24odGFibGUpe3JldHVybiBsYXN0KGdldFRhYmxlQ2VsbHModGFibGUpKS5tYXAoZnVuY3Rpb24oZW5kQ2VsbCl7cmV0dXJuIHRhYmxlQ2VsbFJuZyhzdGFydENlbGwsZW5kQ2VsbCk7fSk7fSk7fSk7fSxmdW5jdGlvbihjZWxsUm5nKXtyZXR1cm4gaXNXaXRoaW5TYW1lVGFibGUoaXNSb290LGNlbGxSbmcpP09wdGlvbi5ub25lKCk6Z2V0Q2VsbFJhbmdlRnJvbVN0YXJ0VGFibGUoY2VsbFJuZyxpc1Jvb3QpO30pO307dmFyIGlzV2l0aGluU2FtZVRhYmxlPWZ1bmN0aW9uIGlzV2l0aGluU2FtZVRhYmxlKGlzUm9vdCxjZWxsUm5nKXtyZXR1cm4gZ2V0VGFibGVGcm9tQ2VsbFJuZyhjZWxsUm5nLGlzUm9vdCkuaXNTb21lKCk7fTt2YXIgZ2V0Q2VsbFJuZz1mdW5jdGlvbiBnZXRDZWxsUm5nKHJuZyxpc1Jvb3Qpe3ZhciBzdGFydENlbGw9Z2V0Q2xvc2VzdENlbGwkMShybmcuc3RhcnRDb250YWluZXIsaXNSb290KTt2YXIgZW5kQ2VsbD1nZXRDbG9zZXN0Q2VsbCQxKHJuZy5lbmRDb250YWluZXIsaXNSb290KTtyZXR1cm4gbGlmdDIoc3RhcnRDZWxsLGVuZENlbGwsdGFibGVDZWxsUm5nKS5maWx0ZXIoaXNFeHBhbmRlZENlbGxSbmcpLmZpbHRlcihmdW5jdGlvbihjZWxsUm5nKXtyZXR1cm4gaXNXaXRoaW5TYW1lVGFibGUoaXNSb290LGNlbGxSbmcpO30pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gcGFydGlhbFNlbGVjdGlvbihpc1Jvb3Qscm5nKTt9KTt9O3ZhciBnZXRUYWJsZVNlbGVjdGlvbkZyb21DZWxsUm5nPWZ1bmN0aW9uIGdldFRhYmxlU2VsZWN0aW9uRnJvbUNlbGxSbmcoY2VsbFJuZyxpc1Jvb3Qpe3JldHVybiBnZXRUYWJsZUZyb21DZWxsUm5nKGNlbGxSbmcsaXNSb290KS5tYXAoZnVuY3Rpb24odGFibGUpe3JldHVybiB0YWJsZVNlbGVjdGlvbihjZWxsUm5nLHRhYmxlLGdldFRhYmxlQ2VsbHModGFibGUpKTt9KTt9O3ZhciBnZXRUYWJsZVNlbGVjdGlvbkZyb21Sbmc9ZnVuY3Rpb24gZ2V0VGFibGVTZWxlY3Rpb25Gcm9tUm5nKHJvb3Qscm5nKXt2YXIgaXNSb290PWlzUm9vdEZyb21FbGVtZW50KHJvb3QpO3JldHVybiBnZXRDZWxsUm5nKHJuZyxpc1Jvb3QpLmJpbmQoZnVuY3Rpb24oY2VsbFJuZyl7cmV0dXJuIGdldFRhYmxlU2VsZWN0aW9uRnJvbUNlbGxSbmcoY2VsbFJuZyxpc1Jvb3QpO30pO307dmFyIGdldENlbGxJbmRleD1mdW5jdGlvbiBnZXRDZWxsSW5kZXgoY2VsbHMsY2VsbCl7cmV0dXJuIGZpbmRJbmRleChjZWxscyxmdW5jdGlvbih4KXtyZXR1cm4gZXEoeCxjZWxsKTt9KTt9O3ZhciBnZXRTZWxlY3RlZENlbGxzPWZ1bmN0aW9uIGdldFNlbGVjdGVkQ2VsbHModGFibGVTZWxlY3Rpb24pe3JldHVybiBsaWZ0MihnZXRDZWxsSW5kZXgodGFibGVTZWxlY3Rpb24uY2VsbHMoKSx0YWJsZVNlbGVjdGlvbi5ybmcoKS5zdGFydCgpKSxnZXRDZWxsSW5kZXgodGFibGVTZWxlY3Rpb24uY2VsbHMoKSx0YWJsZVNlbGVjdGlvbi5ybmcoKS5lbmQoKSksZnVuY3Rpb24oc3RhcnRJbmRleCxlbmRJbmRleCl7cmV0dXJuIHRhYmxlU2VsZWN0aW9uLmNlbGxzKCkuc2xpY2Uoc3RhcnRJbmRleCxlbmRJbmRleCsxKTt9KTt9O3ZhciBnZXRBY3Rpb249ZnVuY3Rpb24gZ2V0QWN0aW9uKHRhYmxlU2VsZWN0aW9uKXtyZXR1cm4gZ2V0U2VsZWN0ZWRDZWxscyh0YWJsZVNlbGVjdGlvbikubWFwKGZ1bmN0aW9uKHNlbGVjdGVkKXt2YXIgY2VsbHM9dGFibGVTZWxlY3Rpb24uY2VsbHMoKTtyZXR1cm4gc2VsZWN0ZWQubGVuZ3RoPT09Y2VsbHMubGVuZ3RoP2RlbGV0ZUFjdGlvbi5yZW1vdmVUYWJsZSh0YWJsZVNlbGVjdGlvbi50YWJsZSgpKTpkZWxldGVBY3Rpb24uZW1wdHlDZWxscyhzZWxlY3RlZCk7fSk7fTt2YXIgZ2V0QWN0aW9uRnJvbVJhbmdlPWZ1bmN0aW9uIGdldEFjdGlvbkZyb21SYW5nZShyb290LHJuZyl7cmV0dXJuIGdldFRhYmxlU2VsZWN0aW9uRnJvbVJuZyhyb290LHJuZykuYmluZChnZXRBY3Rpb24pO307dmFyIGVtcHR5Q2VsbHM9ZnVuY3Rpb24gZW1wdHlDZWxscyhlZGl0b3IsY2VsbHMpe2VhY2goY2VsbHMsUGFkZGluZ0JyLmZpbGxXaXRoUGFkZGluZ0JyKTtlZGl0b3Iuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGNlbGxzWzBdLmRvbSgpLDApO3JldHVybiB0cnVlO307dmFyIGRlbGV0ZVRhYmxlRWxlbWVudD1mdW5jdGlvbiBkZWxldGVUYWJsZUVsZW1lbnQoZWRpdG9yLHRhYmxlKXtEZWxldGVFbGVtZW50LmRlbGV0ZUVsZW1lbnQoZWRpdG9yLGZhbHNlLHRhYmxlKTtyZXR1cm4gdHJ1ZTt9O3ZhciBkZWxldGVDZWxsUmFuZ2U9ZnVuY3Rpb24gZGVsZXRlQ2VsbFJhbmdlKGVkaXRvcixyb290RWxtLHJuZyl7cmV0dXJuIGdldEFjdGlvbkZyb21SYW5nZShyb290RWxtLHJuZykubWFwKGZ1bmN0aW9uKGFjdGlvbil7cmV0dXJuIGFjdGlvbi5mb2xkKGN1cnJ5KGRlbGV0ZVRhYmxlRWxlbWVudCxlZGl0b3IpLGN1cnJ5KGVtcHR5Q2VsbHMsZWRpdG9yKSk7fSk7fTt2YXIgZGVsZXRlQ2FwdGlvblJhbmdlPWZ1bmN0aW9uIGRlbGV0ZUNhcHRpb25SYW5nZShlZGl0b3IsY2FwdGlvbil7cmV0dXJuIGVtcHR5RWxlbWVudChlZGl0b3IsY2FwdGlvbik7fTt2YXIgZGVsZXRlVGFibGVSYW5nZT1mdW5jdGlvbiBkZWxldGVUYWJsZVJhbmdlKGVkaXRvcixyb290RWxtLHJuZyxzdGFydEVsbSl7cmV0dXJuIGdldFBhcmVudENhcHRpb24ocm9vdEVsbSxzdGFydEVsbSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBkZWxldGVDZWxsUmFuZ2UoZWRpdG9yLHJvb3RFbG0scm5nKTt9LGZ1bmN0aW9uKGNhcHRpb24pe3JldHVybiBkZWxldGVDYXB0aW9uUmFuZ2UoZWRpdG9yLGNhcHRpb24pO30pLmdldE9yKGZhbHNlKTt9O3ZhciBkZWxldGVSYW5nZSQxPWZ1bmN0aW9uIGRlbGV0ZVJhbmdlJDEoZWRpdG9yLHN0YXJ0RWxtKXt2YXIgcm9vdE5vZGU9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3ZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgc2VsZWN0ZWRDZWxscz1UYWJsZUNlbGxTZWxlY3Rpb24uZ2V0Q2VsbHNGcm9tRWRpdG9yKGVkaXRvcik7cmV0dXJuIHNlbGVjdGVkQ2VsbHMubGVuZ3RoIT09MD9lbXB0eUNlbGxzKGVkaXRvcixzZWxlY3RlZENlbGxzKTpkZWxldGVUYWJsZVJhbmdlKGVkaXRvcixyb290Tm9kZSxybmcsc3RhcnRFbG0pO307dmFyIGdldFBhcmVudENlbGw9ZnVuY3Rpb24gZ2V0UGFyZW50Q2VsbChyb290RWxtLGVsbSl7cmV0dXJuIGZpbmQoUGFyZW50cy5wYXJlbnRzQW5kU2VsZihlbG0scm9vdEVsbSksaXNUYWJsZUNlbGwpO307dmFyIGdldFBhcmVudENhcHRpb249ZnVuY3Rpb24gZ2V0UGFyZW50Q2FwdGlvbihyb290RWxtLGVsbSl7cmV0dXJuIGZpbmQoUGFyZW50cy5wYXJlbnRzQW5kU2VsZihlbG0scm9vdEVsbSksZnVuY3Rpb24oZWxtKXtyZXR1cm4gbmFtZShlbG0pPT09J2NhcHRpb24nO30pO307dmFyIGRlbGV0ZUJldHdlZW5DZWxscz1mdW5jdGlvbiBkZWxldGVCZXR3ZWVuQ2VsbHMoZWRpdG9yLHJvb3RFbG0sZm9yd2FyZCxmcm9tQ2VsbCxmcm9tKXtyZXR1cm4gQ2FyZXRGaW5kZXIubmF2aWdhdGUoZm9yd2FyZCxlZGl0b3IuZ2V0Qm9keSgpLGZyb20pLmJpbmQoZnVuY3Rpb24odG8pe3JldHVybiBnZXRQYXJlbnRDZWxsKHJvb3RFbG0sRWxlbWVudC5mcm9tRG9tKHRvLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbih0b0NlbGwpe3JldHVybiBlcSh0b0NlbGwsZnJvbUNlbGwpPT09ZmFsc2U7fSk7fSk7fTt2YXIgZW1wdHlFbGVtZW50PWZ1bmN0aW9uIGVtcHR5RWxlbWVudChlZGl0b3IsZWxtKXtQYWRkaW5nQnIuZmlsbFdpdGhQYWRkaW5nQnIoZWxtKTtlZGl0b3Iuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGVsbS5kb20oKSwwKTtyZXR1cm4gT3B0aW9uLnNvbWUodHJ1ZSk7fTt2YXIgaXNEZWxldGVPZkxhc3RDaGFyUG9zPWZ1bmN0aW9uIGlzRGVsZXRlT2ZMYXN0Q2hhclBvcyhmcm9tQ2FwdGlvbixmb3J3YXJkLGZyb20sdG8pe3JldHVybiBDYXJldEZpbmRlci5maXJzdFBvc2l0aW9uSW4oZnJvbUNhcHRpb24uZG9tKCkpLmJpbmQoZnVuY3Rpb24oZmlyc3Qpe3JldHVybiBDYXJldEZpbmRlci5sYXN0UG9zaXRpb25Jbihmcm9tQ2FwdGlvbi5kb20oKSkubWFwKGZ1bmN0aW9uKGxhc3Qpe3JldHVybiBmb3J3YXJkP2Zyb20uaXNFcXVhbChmaXJzdCkmJnRvLmlzRXF1YWwobGFzdCk6ZnJvbS5pc0VxdWFsKGxhc3QpJiZ0by5pc0VxdWFsKGZpcnN0KTt9KTt9KS5nZXRPcih0cnVlKTt9O3ZhciBlbXB0eUNhcmV0Q2FwdGlvbj1mdW5jdGlvbiBlbXB0eUNhcmV0Q2FwdGlvbihlZGl0b3IsZWxtKXtyZXR1cm4gZW1wdHlFbGVtZW50KGVkaXRvcixlbG0pO307dmFyIHZhbGlkYXRlQ2FyZXRDYXB0aW9uPWZ1bmN0aW9uIHZhbGlkYXRlQ2FyZXRDYXB0aW9uKHJvb3RFbG0sZnJvbUNhcHRpb24sdG8pe3JldHVybiBnZXRQYXJlbnRDYXB0aW9uKHJvb3RFbG0sRWxlbWVudC5mcm9tRG9tKHRvLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbih0b0NhcHRpb24pe3JldHVybiBlcSh0b0NhcHRpb24sZnJvbUNhcHRpb24pPT09ZmFsc2U7fSk7fTt2YXIgZGVsZXRlQ2FyZXRJbnNpZGVDYXB0aW9uPWZ1bmN0aW9uIGRlbGV0ZUNhcmV0SW5zaWRlQ2FwdGlvbihlZGl0b3Iscm9vdEVsbSxmb3J3YXJkLGZyb21DYXB0aW9uLGZyb20pe3JldHVybiBDYXJldEZpbmRlci5uYXZpZ2F0ZShmb3J3YXJkLGVkaXRvci5nZXRCb2R5KCksZnJvbSkuYmluZChmdW5jdGlvbih0byl7cmV0dXJuIGlzRGVsZXRlT2ZMYXN0Q2hhclBvcyhmcm9tQ2FwdGlvbixmb3J3YXJkLGZyb20sdG8pP2VtcHR5Q2FyZXRDYXB0aW9uKGVkaXRvcixmcm9tQ2FwdGlvbik6dmFsaWRhdGVDYXJldENhcHRpb24ocm9vdEVsbSxmcm9tQ2FwdGlvbix0byk7fSkub3IoT3B0aW9uLnNvbWUodHJ1ZSkpO307dmFyIGRlbGV0ZUNhcmV0Q2VsbHM9ZnVuY3Rpb24gZGVsZXRlQ2FyZXRDZWxscyhlZGl0b3IsZm9yd2FyZCxyb290RWxtLHN0YXJ0RWxtKXt2YXIgZnJvbT1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIGdldFBhcmVudENlbGwocm9vdEVsbSxzdGFydEVsbSkuYmluZChmdW5jdGlvbihmcm9tQ2VsbCl7cmV0dXJuIEVtcHR5LmlzRW1wdHkoZnJvbUNlbGwpP2VtcHR5RWxlbWVudChlZGl0b3IsZnJvbUNlbGwpOmRlbGV0ZUJldHdlZW5DZWxscyhlZGl0b3Iscm9vdEVsbSxmb3J3YXJkLGZyb21DZWxsLGZyb20pO30pLmdldE9yKGZhbHNlKTt9O3ZhciBkZWxldGVDYXJldENhcHRpb249ZnVuY3Rpb24gZGVsZXRlQ2FyZXRDYXB0aW9uKGVkaXRvcixmb3J3YXJkLHJvb3RFbG0sZnJvbUNhcHRpb24pe3ZhciBmcm9tPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gRW1wdHkuaXNFbXB0eShmcm9tQ2FwdGlvbik/ZW1wdHlFbGVtZW50KGVkaXRvcixmcm9tQ2FwdGlvbik6ZGVsZXRlQ2FyZXRJbnNpZGVDYXB0aW9uKGVkaXRvcixyb290RWxtLGZvcndhcmQsZnJvbUNhcHRpb24sZnJvbSk7fTt2YXIgaXNOZWFyVGFibGU9ZnVuY3Rpb24gaXNOZWFyVGFibGUoZm9yd2FyZCxwb3Mpe3JldHVybiBmb3J3YXJkP2lzQmVmb3JlVGFibGUocG9zKTppc0FmdGVyVGFibGUocG9zKTt9O3ZhciBpc0JlZm9yZU9yQWZ0ZXJUYWJsZT1mdW5jdGlvbiBpc0JlZm9yZU9yQWZ0ZXJUYWJsZShlZGl0b3IsZm9yd2FyZCl7dmFyIGZyb21Qb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBpc05lYXJUYWJsZShmb3J3YXJkLGZyb21Qb3MpfHxDYXJldEZpbmRlci5mcm9tUG9zaXRpb24oZm9yd2FyZCxlZGl0b3IuZ2V0Qm9keSgpLGZyb21Qb3MpLm1hcChmdW5jdGlvbihwb3Mpe3JldHVybiBpc05lYXJUYWJsZShmb3J3YXJkLHBvcyk7fSkuZ2V0T3IoZmFsc2UpO307dmFyIGRlbGV0ZUNhcmV0JDE9ZnVuY3Rpb24gZGVsZXRlQ2FyZXQkMShlZGl0b3IsZm9yd2FyZCxzdGFydEVsbSl7dmFyIHJvb3RFbG09RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXRCb2R5KCkpO3JldHVybiBnZXRQYXJlbnRDYXB0aW9uKHJvb3RFbG0sc3RhcnRFbG0pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlQ2FyZXRDZWxscyhlZGl0b3IsZm9yd2FyZCxyb290RWxtLHN0YXJ0RWxtKXx8aXNCZWZvcmVPckFmdGVyVGFibGUoZWRpdG9yLGZvcndhcmQpO30sZnVuY3Rpb24oZnJvbUNhcHRpb24pe3JldHVybiBkZWxldGVDYXJldENhcHRpb24oZWRpdG9yLGZvcndhcmQscm9vdEVsbSxmcm9tQ2FwdGlvbikuZ2V0T3IoZmFsc2UpO30pO307dmFyIGJhY2tzcGFjZURlbGV0ZSQ2PWZ1bmN0aW9uIGJhY2tzcGFjZURlbGV0ZSQ2KGVkaXRvcixmb3J3YXJkKXt2YXIgc3RhcnRFbG09RWxlbWVudC5mcm9tRG9tKGVkaXRvci5zZWxlY3Rpb24uZ2V0U3RhcnQodHJ1ZSkpO3ZhciBjZWxscz1UYWJsZUNlbGxTZWxlY3Rpb24uZ2V0Q2VsbHNGcm9tRWRpdG9yKGVkaXRvcik7cmV0dXJuIGVkaXRvci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmY2VsbHMubGVuZ3RoPT09MD9kZWxldGVDYXJldCQxKGVkaXRvcixmb3J3YXJkLHN0YXJ0RWxtKTpkZWxldGVSYW5nZSQxKGVkaXRvcixzdGFydEVsbSk7fTt2YXIgVGFibGVEZWxldGU9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGUkNn07dmFyIGRlbGV0ZUNhcmV0JDI9ZnVuY3Rpb24gZGVsZXRlQ2FyZXQkMihlZGl0b3IsZm9yd2FyZCl7dmFyIGZyb21Qb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBDYXJldEZpbmRlci5mcm9tUG9zaXRpb24oZm9yd2FyZCxlZGl0b3IuZ2V0Qm9keSgpLGZyb21Qb3MpLmZpbHRlcihmdW5jdGlvbihwb3Mpe3JldHVybiBmb3J3YXJkP2lzQmVmb3JlSW1hZ2VCbG9jayhwb3MpOmlzQWZ0ZXJJbWFnZUJsb2NrKHBvcyk7fSkuYmluZChmdW5jdGlvbihwb3Mpe3JldHVybiBPcHRpb24uZnJvbShnZXRDaGlsZE5vZGVBdFJlbGF0aXZlT2Zmc2V0KGZvcndhcmQ/MDotMSxwb3MpKTt9KS5tYXAoZnVuY3Rpb24oZWxtKXtlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdChlbG0pO3JldHVybiB0cnVlO30pLmdldE9yKGZhbHNlKTt9O3ZhciBiYWNrc3BhY2VEZWxldGUkNz1mdW5jdGlvbiBiYWNrc3BhY2VEZWxldGUkNyhlZGl0b3IsZm9yd2FyZCl7cmV0dXJuIGVkaXRvci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT9kZWxldGVDYXJldCQyKGVkaXRvcixmb3J3YXJkKTpmYWxzZTt9O3ZhciBQYWdlQnJlYWtEZWxldGU9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGUkN307dmFyIGlzRWRpdGFibGUkMT1mdW5jdGlvbiBpc0VkaXRhYmxlJDEodGFyZ2V0KXtyZXR1cm4gY2xvc2VzdCh0YXJnZXQsZnVuY3Rpb24oZWxtKXtyZXR1cm4gTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVUcnVlKGVsbS5kb20oKSl8fE5vZGVUeXBlLmlzQ29udGVudEVkaXRhYmxlRmFsc2UoZWxtLmRvbSgpKTt9KS5leGlzdHMoZnVuY3Rpb24oZWxtKXtyZXR1cm4gTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVUcnVlKGVsbS5kb20oKSk7fSk7fTt2YXIgcGFyc2VJbmRlbnRWYWx1ZT1mdW5jdGlvbiBwYXJzZUluZGVudFZhbHVlKHZhbHVlKXt2YXIgbnVtYmVyPXBhcnNlSW50KHZhbHVlLDEwKTtyZXR1cm4gaXNOYU4obnVtYmVyKT8wOm51bWJlcjt9O3ZhciBnZXRJbmRlbnRTdHlsZU5hbWU9ZnVuY3Rpb24gZ2V0SW5kZW50U3R5bGVOYW1lKHVzZU1hcmdpbixlbGVtZW50KXt2YXIgaW5kZW50U3R5bGVOYW1lPXVzZU1hcmdpbnx8aXNUYWJsZSQxKGVsZW1lbnQpPydtYXJnaW4nOidwYWRkaW5nJzt2YXIgc3VmZml4PWdldCQyKGVsZW1lbnQsJ2RpcmVjdGlvbicpPT09J3J0bCc/Jy1yaWdodCc6Jy1sZWZ0JztyZXR1cm4gaW5kZW50U3R5bGVOYW1lK3N1ZmZpeDt9O3ZhciBpbmRlbnRFbGVtZW50PWZ1bmN0aW9uIGluZGVudEVsZW1lbnQoZG9tLGNvbW1hbmQsdXNlTWFyZ2luLHZhbHVlLHVuaXQsZWxlbWVudCl7dmFyIGluZGVudFN0eWxlTmFtZT1nZXRJbmRlbnRTdHlsZU5hbWUodXNlTWFyZ2luLEVsZW1lbnQuZnJvbURvbShlbGVtZW50KSk7aWYoY29tbWFuZD09PSdvdXRkZW50Jyl7dmFyIHN0eWxlVmFsdWU9TWF0aC5tYXgoMCxwYXJzZUluZGVudFZhbHVlKGVsZW1lbnQuc3R5bGVbaW5kZW50U3R5bGVOYW1lXSktdmFsdWUpO2RvbS5zZXRTdHlsZShlbGVtZW50LGluZGVudFN0eWxlTmFtZSxzdHlsZVZhbHVlP3N0eWxlVmFsdWUrdW5pdDonJyk7fWVsc2V7dmFyIHN0eWxlVmFsdWU9cGFyc2VJbmRlbnRWYWx1ZShlbGVtZW50LnN0eWxlW2luZGVudFN0eWxlTmFtZV0pK3ZhbHVlK3VuaXQ7ZG9tLnNldFN0eWxlKGVsZW1lbnQsaW5kZW50U3R5bGVOYW1lLHN0eWxlVmFsdWUpO319O3ZhciB2YWxpZGF0ZUJsb2Nrcz1mdW5jdGlvbiB2YWxpZGF0ZUJsb2NrcyhlZGl0b3IsYmxvY2tzKXtyZXR1cm4gZm9yYWxsKGJsb2NrcyxmdW5jdGlvbihibG9jayl7dmFyIGluZGVudFN0eWxlTmFtZT1nZXRJbmRlbnRTdHlsZU5hbWUoU2V0dGluZ3Muc2hvdWxkSW5kZW50VXNlTWFyZ2luKGVkaXRvciksYmxvY2spO3ZhciBpbnRlbnRWYWx1ZT1nZXRSYXcoYmxvY2ssaW5kZW50U3R5bGVOYW1lKS5tYXAocGFyc2VJbmRlbnRWYWx1ZSkuZ2V0T3IoMCk7dmFyIGNvbnRlbnRFZGl0YWJsZT1lZGl0b3IuZG9tLmdldENvbnRlbnRFZGl0YWJsZShibG9jay5kb20oKSk7cmV0dXJuIGNvbnRlbnRFZGl0YWJsZSE9PSdmYWxzZScmJmludGVudFZhbHVlPjA7fSk7fTt2YXIgY2FuT3V0ZGVudD1mdW5jdGlvbiBjYW5PdXRkZW50KGVkaXRvcil7dmFyIGJsb2Nrcz1nZXRCbG9ja3NUb0luZGVudChlZGl0b3IpO3JldHVybiBlZGl0b3IucmVhZG9ubHkhPT10cnVlJiYoYmxvY2tzLmxlbmd0aD4xfHx2YWxpZGF0ZUJsb2NrcyhlZGl0b3IsYmxvY2tzKSk7fTt2YXIgaXNMaXN0Q29tcG9uZW50PWZ1bmN0aW9uIGlzTGlzdENvbXBvbmVudChlbCl7cmV0dXJuIGlzTGlzdChlbCl8fGlzTGlzdEl0ZW0oZWwpO307dmFyIHBhcmVudElzTGlzdENvbXBvbmVudD1mdW5jdGlvbiBwYXJlbnRJc0xpc3RDb21wb25lbnQoZWwpe3JldHVybiBwYXJlbnQoZWwpLm1hcChpc0xpc3RDb21wb25lbnQpLmdldE9yKGZhbHNlKTt9O3ZhciBnZXRCbG9ja3NUb0luZGVudD1mdW5jdGlvbiBnZXRCbG9ja3NUb0luZGVudChlZGl0b3Ipe3JldHVybiBmaWx0ZXIobWFwKGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSxFbGVtZW50LmZyb21Eb20pLGZ1bmN0aW9uKGVsKXtyZXR1cm4haXNMaXN0Q29tcG9uZW50KGVsKSYmIXBhcmVudElzTGlzdENvbXBvbmVudChlbCkmJmlzRWRpdGFibGUkMShlbCk7fSk7fTt2YXIgaGFuZGxlPWZ1bmN0aW9uIGhhbmRsZShlZGl0b3IsY29tbWFuZCl7dmFyIGRvbT1lZGl0b3IuZG9tLHNlbGVjdGlvbj1lZGl0b3Iuc2VsZWN0aW9uLGZvcm1hdHRlcj1lZGl0b3IuZm9ybWF0dGVyO3ZhciBpbmRlbnRhdGlvbj1TZXR0aW5ncy5nZXRJbmRlbnRhdGlvbihlZGl0b3IpO3ZhciBpbmRlbnRVbml0PS9bYS16JV0rJC9pLmV4ZWMoaW5kZW50YXRpb24pWzBdO3ZhciBpbmRlbnRWYWx1ZT1wYXJzZUludChpbmRlbnRhdGlvbiwxMCk7dmFyIHVzZU1hcmdpbj1TZXR0aW5ncy5zaG91bGRJbmRlbnRVc2VNYXJnaW4oZWRpdG9yKTt2YXIgZm9yY2VkUm9vdEJsb2NrPVNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9jayhlZGl0b3IpO2lmKCFlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ0luc2VydFVub3JkZXJlZExpc3QnKSYmIWVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgnSW5zZXJ0T3JkZXJlZExpc3QnKSl7aWYoZm9yY2VkUm9vdEJsb2NrPT09JycmJiFkb20uZ2V0UGFyZW50KHNlbGVjdGlvbi5nZXROb2RlKCksZG9tLmlzQmxvY2spKXtmb3JtYXR0ZXIuYXBwbHkoJ2RpdicpO319ZWFjaChnZXRCbG9ja3NUb0luZGVudChlZGl0b3IpLGZ1bmN0aW9uKGJsb2NrKXtpbmRlbnRFbGVtZW50KGRvbSxjb21tYW5kLHVzZU1hcmdpbixpbmRlbnRWYWx1ZSxpbmRlbnRVbml0LGJsb2NrLmRvbSgpKTt9KTt9O3ZhciBuYXZpZ2F0ZUlnbm9yZUVtcHR5VGV4dE5vZGVzPWZ1bmN0aW9uIG5hdmlnYXRlSWdub3JlRW1wdHlUZXh0Tm9kZXMoZm9yd2FyZCxyb290LGZyb20pe3JldHVybiBDYXJldEZpbmRlci5uYXZpZ2F0ZUlnbm9yZShmb3J3YXJkLHJvb3QsZnJvbSxpc0VtcHR5VGV4dCk7fTt2YXIgZ2V0Q2xvc2VzdEJsb2NrPWZ1bmN0aW9uIGdldENsb3Nlc3RCbG9jayhyb290LHBvcyl7cmV0dXJuIGZpbmQoUGFyZW50cy5wYXJlbnRzQW5kU2VsZihFbGVtZW50LmZyb21Eb20ocG9zLmNvbnRhaW5lcigpKSxyb290KSxpc0Jsb2NrKTt9O3ZhciBpc0F0QmVmb3JlQWZ0ZXJCbG9ja0JvdW5kYXJ5PWZ1bmN0aW9uIGlzQXRCZWZvcmVBZnRlckJsb2NrQm91bmRhcnkoZm9yd2FyZCxyb290LHBvcyl7cmV0dXJuIG5hdmlnYXRlSWdub3JlRW1wdHlUZXh0Tm9kZXMoZm9yd2FyZCxyb290LmRvbSgpLHBvcykuZm9yYWxsKGZ1bmN0aW9uKG5ld1Bvcyl7cmV0dXJuIGdldENsb3Nlc3RCbG9jayhyb290LHBvcykuZm9sZChmdW5jdGlvbigpe3JldHVybiBpc0luU2FtZUJsb2NrKG5ld1Bvcyxwb3Mscm9vdC5kb20oKSk9PT1mYWxzZTt9LGZ1bmN0aW9uKGZyb21CbG9jayl7cmV0dXJuIGlzSW5TYW1lQmxvY2sobmV3UG9zLHBvcyxyb290LmRvbSgpKT09PWZhbHNlJiZjb250YWlucyQyKGZyb21CbG9jayxFbGVtZW50LmZyb21Eb20obmV3UG9zLmNvbnRhaW5lcigpKSk7fSk7fSk7fTt2YXIgaXNBdEJsb2NrQm91bmRhcnk9ZnVuY3Rpb24gaXNBdEJsb2NrQm91bmRhcnkoZm9yd2FyZCxyb290LHBvcyl7cmV0dXJuIGdldENsb3Nlc3RCbG9jayhyb290LHBvcykuZm9sZChmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0ZUlnbm9yZUVtcHR5VGV4dE5vZGVzKGZvcndhcmQscm9vdC5kb20oKSxwb3MpLmZvcmFsbChmdW5jdGlvbihuZXdQb3Mpe3JldHVybiBpc0luU2FtZUJsb2NrKG5ld1Bvcyxwb3Mscm9vdC5kb20oKSk9PT1mYWxzZTt9KTt9LGZ1bmN0aW9uKHBhcmVudCl7cmV0dXJuIG5hdmlnYXRlSWdub3JlRW1wdHlUZXh0Tm9kZXMoZm9yd2FyZCxwYXJlbnQuZG9tKCkscG9zKS5pc05vbmUoKTt9KTt9O3ZhciBpc0F0U3RhcnRPZkJsb2NrPWN1cnJ5KGlzQXRCbG9ja0JvdW5kYXJ5LGZhbHNlKTt2YXIgaXNBdEVuZE9mQmxvY2s9Y3VycnkoaXNBdEJsb2NrQm91bmRhcnksdHJ1ZSk7dmFyIGlzQmVmb3JlQmxvY2s9Y3VycnkoaXNBdEJlZm9yZUFmdGVyQmxvY2tCb3VuZGFyeSxmYWxzZSk7dmFyIGlzQWZ0ZXJCbG9jaz1jdXJyeShpc0F0QmVmb3JlQWZ0ZXJCbG9ja0JvdW5kYXJ5LHRydWUpO3ZhciBiYWNrc3BhY2VEZWxldGUkOD1mdW5jdGlvbiBiYWNrc3BhY2VEZWxldGUkOChlZGl0b3IsX2NhcmV0LF9mb3J3YXJkKXtpZihlZGl0b3Iuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJmNhbk91dGRlbnQoZWRpdG9yKSl7dmFyIGRvbT1lZGl0b3IuZG9tO3ZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgcG9zPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChybmcpO3ZhciBibG9jaz1kb20uZ2V0UGFyZW50KHJuZy5zdGFydENvbnRhaW5lcixkb20uaXNCbG9jayk7aWYoYmxvY2shPT1udWxsJiZpc0F0U3RhcnRPZkJsb2NrKEVsZW1lbnQuZnJvbURvbShibG9jaykscG9zKSl7aGFuZGxlKGVkaXRvciwnb3V0ZGVudCcpO3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307dmFyIE91dGRlbnQ9e2JhY2tzcGFjZURlbGV0ZTpiYWNrc3BhY2VEZWxldGUkOH07dmFyIGV4ZWN1dGVLZXlkb3duT3ZlcnJpZGUkMT1mdW5jdGlvbiBleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDEoZWRpdG9yLGNhcmV0LGV2dCl7TWF0Y2hLZXlzLmV4ZWN1dGUoW3trZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihPdXRkZW50LmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsZmFsc2UpfSx7a2V5Q29kZTpWSy5CQUNLU1BBQ0UsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oQ2VmRGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsZmFsc2UpfSx7a2V5Q29kZTpWSy5ERUxFVEUsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oQ2VmRGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsdHJ1ZSl9LHtrZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihDZWZCb3VuZGFyeURlbGV0ZS5iYWNrc3BhY2VEZWxldGUsZWRpdG9yLGZhbHNlKX0se2tleUNvZGU6VksuREVMRVRFLGFjdGlvbjpNYXRjaEtleXMuYWN0aW9uKENlZkJvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsdHJ1ZSl9LHtrZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihCb3VuZGFyeURlbGV0ZS5iYWNrc3BhY2VEZWxldGUsZWRpdG9yLGNhcmV0LGZhbHNlKX0se2tleUNvZGU6VksuREVMRVRFLGFjdGlvbjpNYXRjaEtleXMuYWN0aW9uKEJvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsY2FyZXQsdHJ1ZSl9LHtrZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihUYWJsZURlbGV0ZS5iYWNrc3BhY2VEZWxldGUsZWRpdG9yLGZhbHNlKX0se2tleUNvZGU6VksuREVMRVRFLGFjdGlvbjpNYXRjaEtleXMuYWN0aW9uKFRhYmxlRGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsdHJ1ZSl9LHtrZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihQYWdlQnJlYWtEZWxldGUuYmFja3NwYWNlRGVsZXRlLGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLkRFTEVURSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihQYWdlQnJlYWtEZWxldGUuYmFja3NwYWNlRGVsZXRlLGVkaXRvcix0cnVlKX0se2tleUNvZGU6VksuQkFDS1NQQUNFLGFjdGlvbjpNYXRjaEtleXMuYWN0aW9uKEJsb2NrUmFuZ2VEZWxldGUuYmFja3NwYWNlRGVsZXRlLGVkaXRvcixmYWxzZSl9LHtrZXlDb2RlOlZLLkRFTEVURSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihCbG9ja1JhbmdlRGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsdHJ1ZSl9LHtrZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihCbG9ja0JvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsZmFsc2UpfSx7a2V5Q29kZTpWSy5ERUxFVEUsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oQmxvY2tCb3VuZGFyeURlbGV0ZS5iYWNrc3BhY2VEZWxldGUsZWRpdG9yLHRydWUpfSx7a2V5Q29kZTpWSy5CQUNLU1BBQ0UsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oSW5saW5lRm9ybWF0RGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsZmFsc2UpfSx7a2V5Q29kZTpWSy5ERUxFVEUsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oSW5saW5lRm9ybWF0RGVsZXRlLmJhY2tzcGFjZURlbGV0ZSxlZGl0b3IsdHJ1ZSl9XSxldnQpLmVhY2goZnVuY3Rpb24oXyl7ZXZ0LnByZXZlbnREZWZhdWx0KCk7fSk7fTt2YXIgZXhlY3V0ZUtleXVwT3ZlcnJpZGU9ZnVuY3Rpb24gZXhlY3V0ZUtleXVwT3ZlcnJpZGUoZWRpdG9yLGV2dCl7TWF0Y2hLZXlzLmV4ZWN1dGUoW3trZXlDb2RlOlZLLkJBQ0tTUEFDRSxhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihDZWZEZWxldGUucGFkZEVtcHR5RWxlbWVudCxlZGl0b3IpfSx7a2V5Q29kZTpWSy5ERUxFVEUsYWN0aW9uOk1hdGNoS2V5cy5hY3Rpb24oQ2VmRGVsZXRlLnBhZGRFbXB0eUVsZW1lbnQsZWRpdG9yKX1dLGV2dCk7fTt2YXIgc2V0dXAkOT1mdW5jdGlvbiBzZXR1cCQ5KGVkaXRvcixjYXJldCl7ZWRpdG9yLm9uKCdrZXlkb3duJyxmdW5jdGlvbihldnQpe2lmKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT09PWZhbHNlKXtleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDEoZWRpdG9yLGNhcmV0LGV2dCk7fX0pO2VkaXRvci5vbigna2V5dXAnLGZ1bmN0aW9uKGV2dCl7aWYoZXZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpPT09ZmFsc2Upe2V4ZWN1dGVLZXl1cE92ZXJyaWRlKGVkaXRvcixldnQpO319KTt9O3ZhciBEZWxldGVCYWNrc3BhY2VLZXlzPXtzZXR1cDpzZXR1cCQ5fTt2YXIgZmlyc3ROb25XaGl0ZVNwYWNlTm9kZVNpYmxpbmc9ZnVuY3Rpb24gZmlyc3ROb25XaGl0ZVNwYWNlTm9kZVNpYmxpbmcobm9kZSl7d2hpbGUobm9kZSl7aWYobm9kZS5ub2RlVHlwZT09PTF8fG5vZGUubm9kZVR5cGU9PT0zJiZub2RlLmRhdGEmJi9bXHJcblxzXS8udGVzdChub2RlLmRhdGEpKXtyZXR1cm4gbm9kZTt9bm9kZT1ub2RlLm5leHRTaWJsaW5nO319O3ZhciBtb3ZlVG9DYXJldFBvc2l0aW9uPWZ1bmN0aW9uIG1vdmVUb0NhcmV0UG9zaXRpb24oZWRpdG9yLHJvb3Qpe3ZhciBub2RlLHJuZyxsYXN0Tm9kZT1yb290O3ZhciBkb209ZWRpdG9yLmRvbTt2YXIgbW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzTWFwPWVkaXRvci5zY2hlbWEuZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzKCk7aWYoIXJvb3Qpe3JldHVybjt9aWYoL14oTEl8RFR8REQpJC8udGVzdChyb290Lm5vZGVOYW1lKSl7dmFyIGZpcnN0Q2hpbGQ9Zmlyc3ROb25XaGl0ZVNwYWNlTm9kZVNpYmxpbmcocm9vdC5maXJzdENoaWxkKTtpZihmaXJzdENoaWxkJiYvXihVTHxPTHxETCkkLy50ZXN0KGZpcnN0Q2hpbGQubm9kZU5hbWUpKXtyb290Lmluc2VydEJlZm9yZShkb20uZG9jLmNyZWF0ZVRleHROb2RlKCdceEEwJykscm9vdC5maXJzdENoaWxkKTt9fXJuZz1kb20uY3JlYXRlUm5nKCk7cm9vdC5ub3JtYWxpemUoKTtpZihyb290Lmhhc0NoaWxkTm9kZXMoKSl7dmFyIHdhbGtlcj1uZXcgVHJlZVdhbGtlcihyb290LHJvb3QpO3doaWxlKG5vZGU9d2Fsa2VyLmN1cnJlbnQoKSl7aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpKXtybmcuc2V0U3RhcnQobm9kZSwwKTtybmcuc2V0RW5kKG5vZGUsMCk7YnJlYWs7fWlmKG1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50c01hcFtub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtybmcuc2V0U3RhcnRCZWZvcmUobm9kZSk7cm5nLnNldEVuZEJlZm9yZShub2RlKTticmVhazt9bGFzdE5vZGU9bm9kZTtub2RlPXdhbGtlci5uZXh0KCk7fWlmKCFub2RlKXtybmcuc2V0U3RhcnQobGFzdE5vZGUsMCk7cm5nLnNldEVuZChsYXN0Tm9kZSwwKTt9fWVsc2V7aWYoTm9kZVR5cGUuaXNCcihyb290KSl7aWYocm9vdC5uZXh0U2libGluZyYmZG9tLmlzQmxvY2socm9vdC5uZXh0U2libGluZykpe3JuZy5zZXRTdGFydEJlZm9yZShyb290KTtybmcuc2V0RW5kQmVmb3JlKHJvb3QpO31lbHNle3JuZy5zZXRTdGFydEFmdGVyKHJvb3QpO3JuZy5zZXRFbmRBZnRlcihyb290KTt9fWVsc2V7cm5nLnNldFN0YXJ0KHJvb3QsMCk7cm5nLnNldEVuZChyb290LDApO319ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcocm5nKTtlZGl0b3Iuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHJvb3QpO307dmFyIGdldEVkaXRhYmxlUm9vdD1mdW5jdGlvbiBnZXRFZGl0YWJsZVJvb3QoZG9tLG5vZGUpe3ZhciByb290PWRvbS5nZXRSb290KCk7dmFyIHBhcmVudCxlZGl0YWJsZVJvb3Q7cGFyZW50PW5vZGU7d2hpbGUocGFyZW50IT09cm9vdCYmZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpIT09J2ZhbHNlJyl7aWYoZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpPT09J3RydWUnKXtlZGl0YWJsZVJvb3Q9cGFyZW50O31wYXJlbnQ9cGFyZW50LnBhcmVudE5vZGU7fXJldHVybiBwYXJlbnQhPT1yb290P2VkaXRhYmxlUm9vdDpyb290O307dmFyIGdldFBhcmVudEJsb2NrJDI9ZnVuY3Rpb24gZ2V0UGFyZW50QmxvY2skMihlZGl0b3Ipe3JldHVybiBPcHRpb24uZnJvbShlZGl0b3IuZG9tLmdldFBhcmVudChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0KHRydWUpLGVkaXRvci5kb20uaXNCbG9jaykpO307dmFyIGdldFBhcmVudEJsb2NrTmFtZT1mdW5jdGlvbiBnZXRQYXJlbnRCbG9ja05hbWUoZWRpdG9yKXtyZXR1cm4gZ2V0UGFyZW50QmxvY2skMihlZGl0b3IpLmZvbGQoY29uc3RhbnQoJycpLGZ1bmN0aW9uKHBhcmVudEJsb2NrKXtyZXR1cm4gcGFyZW50QmxvY2subm9kZU5hbWUudG9VcHBlckNhc2UoKTt9KTt9O3ZhciBpc0xpc3RJdGVtUGFyZW50QmxvY2s9ZnVuY3Rpb24gaXNMaXN0SXRlbVBhcmVudEJsb2NrKGVkaXRvcil7cmV0dXJuIGdldFBhcmVudEJsb2NrJDIoZWRpdG9yKS5maWx0ZXIoZnVuY3Rpb24oZWxtKXtyZXR1cm4gaXNMaXN0SXRlbShFbGVtZW50LmZyb21Eb20oZWxtKSk7fSkuaXNTb21lKCk7fTt2YXIgTmV3TGluZVV0aWxzPXttb3ZlVG9DYXJldFBvc2l0aW9uOm1vdmVUb0NhcmV0UG9zaXRpb24sZ2V0RWRpdGFibGVSb290OmdldEVkaXRhYmxlUm9vdCxnZXRQYXJlbnRCbG9jazpnZXRQYXJlbnRCbG9jayQyLGdldFBhcmVudEJsb2NrTmFtZTpnZXRQYXJlbnRCbG9ja05hbWUsaXNMaXN0SXRlbVBhcmVudEJsb2NrOmlzTGlzdEl0ZW1QYXJlbnRCbG9ja307dmFyIGhhc0ZpcnN0Q2hpbGQ9ZnVuY3Rpb24gaGFzRmlyc3RDaGlsZChlbG0sbmFtZSl7cmV0dXJuIGVsbS5maXJzdENoaWxkJiZlbG0uZmlyc3RDaGlsZC5ub2RlTmFtZT09PW5hbWU7fTt2YXIgaGFzUGFyZW50JDE9ZnVuY3Rpb24gaGFzUGFyZW50JDEoZWxtLHBhcmVudE5hbWUpe3JldHVybiBlbG0mJmVsbS5wYXJlbnROb2RlJiZlbG0ucGFyZW50Tm9kZS5ub2RlTmFtZT09PXBhcmVudE5hbWU7fTt2YXIgaXNMaXN0QmxvY2s9ZnVuY3Rpb24gaXNMaXN0QmxvY2soZWxtKXtyZXR1cm4gZWxtJiYvXihPTHxVTHxMSSkkLy50ZXN0KGVsbS5ub2RlTmFtZSk7fTt2YXIgaXNOZXN0ZWRMaXN0PWZ1bmN0aW9uIGlzTmVzdGVkTGlzdChlbG0pe3JldHVybiBpc0xpc3RCbG9jayhlbG0pJiZpc0xpc3RCbG9jayhlbG0ucGFyZW50Tm9kZSk7fTt2YXIgZ2V0Q29udGFpbmVyQmxvY2s9ZnVuY3Rpb24gZ2V0Q29udGFpbmVyQmxvY2soY29udGFpbmVyQmxvY2spe3ZhciBjb250YWluZXJCbG9ja1BhcmVudD1jb250YWluZXJCbG9jay5wYXJlbnROb2RlO2lmKC9eKExJfERUfEREKSQvLnRlc3QoY29udGFpbmVyQmxvY2tQYXJlbnQubm9kZU5hbWUpKXtyZXR1cm4gY29udGFpbmVyQmxvY2tQYXJlbnQ7fXJldHVybiBjb250YWluZXJCbG9jazt9O3ZhciBpc0ZpcnN0T3JMYXN0TGk9ZnVuY3Rpb24gaXNGaXJzdE9yTGFzdExpKGNvbnRhaW5lckJsb2NrLHBhcmVudEJsb2NrLGZpcnN0KXt2YXIgbm9kZT1jb250YWluZXJCbG9ja1tmaXJzdD8nZmlyc3RDaGlsZCc6J2xhc3RDaGlsZCddO3doaWxlKG5vZGUpe2lmKE5vZGVUeXBlLmlzRWxlbWVudChub2RlKSl7YnJlYWs7fW5vZGU9bm9kZVtmaXJzdD8nbmV4dFNpYmxpbmcnOidwcmV2aW91c1NpYmxpbmcnXTt9cmV0dXJuIG5vZGU9PT1wYXJlbnRCbG9jazt9O3ZhciBpbnNlcnQ9ZnVuY3Rpb24gaW5zZXJ0KGVkaXRvcixjcmVhdGVOZXdCbG9jayxjb250YWluZXJCbG9jayxwYXJlbnRCbG9jayxuZXdCbG9ja05hbWUpe3ZhciBkb209ZWRpdG9yLmRvbTt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7aWYoY29udGFpbmVyQmxvY2s9PT1lZGl0b3IuZ2V0Qm9keSgpKXtyZXR1cm47fWlmKGlzTmVzdGVkTGlzdChjb250YWluZXJCbG9jaykpe25ld0Jsb2NrTmFtZT0nTEknO312YXIgbmV3QmxvY2s9bmV3QmxvY2tOYW1lP2NyZWF0ZU5ld0Jsb2NrKG5ld0Jsb2NrTmFtZSk6ZG9tLmNyZWF0ZSgnQlInKTtpZihpc0ZpcnN0T3JMYXN0TGkoY29udGFpbmVyQmxvY2sscGFyZW50QmxvY2ssdHJ1ZSkmJmlzRmlyc3RPckxhc3RMaShjb250YWluZXJCbG9jayxwYXJlbnRCbG9jayxmYWxzZSkpe2lmKGhhc1BhcmVudCQxKGNvbnRhaW5lckJsb2NrLCdMSScpKXtkb20uaW5zZXJ0QWZ0ZXIobmV3QmxvY2ssZ2V0Q29udGFpbmVyQmxvY2soY29udGFpbmVyQmxvY2spKTt9ZWxzZXtkb20ucmVwbGFjZShuZXdCbG9jayxjb250YWluZXJCbG9jayk7fX1lbHNlIGlmKGlzRmlyc3RPckxhc3RMaShjb250YWluZXJCbG9jayxwYXJlbnRCbG9jayx0cnVlKSl7aWYoaGFzUGFyZW50JDEoY29udGFpbmVyQmxvY2ssJ0xJJykpe2RvbS5pbnNlcnRBZnRlcihuZXdCbG9jayxnZXRDb250YWluZXJCbG9jayhjb250YWluZXJCbG9jaykpO25ld0Jsb2NrLmFwcGVuZENoaWxkKGRvbS5kb2MuY3JlYXRlVGV4dE5vZGUoJyAnKSk7bmV3QmxvY2suYXBwZW5kQ2hpbGQoY29udGFpbmVyQmxvY2spO31lbHNle2NvbnRhaW5lckJsb2NrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0Jsb2NrLGNvbnRhaW5lckJsb2NrKTt9fWVsc2UgaWYoaXNGaXJzdE9yTGFzdExpKGNvbnRhaW5lckJsb2NrLHBhcmVudEJsb2NrLGZhbHNlKSl7ZG9tLmluc2VydEFmdGVyKG5ld0Jsb2NrLGdldENvbnRhaW5lckJsb2NrKGNvbnRhaW5lckJsb2NrKSk7fWVsc2V7Y29udGFpbmVyQmxvY2s9Z2V0Q29udGFpbmVyQmxvY2soY29udGFpbmVyQmxvY2spO3ZhciB0bXBSbmc9cm5nLmNsb25lUmFuZ2UoKTt0bXBSbmcuc2V0U3RhcnRBZnRlcihwYXJlbnRCbG9jayk7dG1wUm5nLnNldEVuZEFmdGVyKGNvbnRhaW5lckJsb2NrKTt2YXIgZnJhZ21lbnQ9dG1wUm5nLmV4dHJhY3RDb250ZW50cygpO2lmKG5ld0Jsb2NrTmFtZT09PSdMSScmJmhhc0ZpcnN0Q2hpbGQoZnJhZ21lbnQsJ0xJJykpe25ld0Jsb2NrPWZyYWdtZW50LmZpcnN0Q2hpbGQ7ZG9tLmluc2VydEFmdGVyKGZyYWdtZW50LGNvbnRhaW5lckJsb2NrKTt9ZWxzZXtkb20uaW5zZXJ0QWZ0ZXIoZnJhZ21lbnQsY29udGFpbmVyQmxvY2spO2RvbS5pbnNlcnRBZnRlcihuZXdCbG9jayxjb250YWluZXJCbG9jayk7fX1kb20ucmVtb3ZlKHBhcmVudEJsb2NrKTtOZXdMaW5lVXRpbHMubW92ZVRvQ2FyZXRQb3NpdGlvbihlZGl0b3IsbmV3QmxvY2spO307dmFyIEluc2VydExpPXtpbnNlcnQ6aW5zZXJ0fTt2YXIgdHJpbVp3c3A9ZnVuY3Rpb24gdHJpbVp3c3AoZnJhZ21lbnQpe2VhY2goZGVzY2VuZGFudHMoRWxlbWVudC5mcm9tRG9tKGZyYWdtZW50KSxpc1RleHQkMSksZnVuY3Rpb24odGV4dCl7dmFyIHJhd05vZGU9dGV4dC5kb20oKTtyYXdOb2RlLm5vZGVWYWx1ZT1ad3NwLnRyaW0ocmF3Tm9kZS5ub2RlVmFsdWUpO30pO307dmFyIGlzRW1wdHlBbmNob3I9ZnVuY3Rpb24gaXNFbXB0eUFuY2hvcihkb20sZWxtKXtyZXR1cm4gZWxtJiZlbG0ubm9kZU5hbWU9PT0nQScmJmRvbS5pc0VtcHR5KGVsbSk7fTt2YXIgaXNUYWJsZUNlbGwkND1mdW5jdGlvbiBpc1RhYmxlQ2VsbCQ0KG5vZGUpe3JldHVybiBub2RlJiYvXihURHxUSHxDQVBUSU9OKSQvLnRlc3Qobm9kZS5ub2RlTmFtZSk7fTt2YXIgZW1wdHlCbG9jaz1mdW5jdGlvbiBlbXB0eUJsb2NrKGVsbSl7ZWxtLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nO307dmFyIGNvbnRhaW5lckFuZFNpYmxpbmdOYW1lPWZ1bmN0aW9uIGNvbnRhaW5lckFuZFNpYmxpbmdOYW1lKGNvbnRhaW5lcixub2RlTmFtZSl7cmV0dXJuIGNvbnRhaW5lci5ub2RlTmFtZT09PW5vZGVOYW1lfHxjb250YWluZXIucHJldmlvdXNTaWJsaW5nJiZjb250YWluZXIucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lPT09bm9kZU5hbWU7fTt2YXIgY2FuU3BsaXRCbG9jaz1mdW5jdGlvbiBjYW5TcGxpdEJsb2NrKGRvbSxub2RlKXtyZXR1cm4gbm9kZSYmZG9tLmlzQmxvY2sobm9kZSkmJiEvXihURHxUSHxDQVBUSU9OfEZPUk0pJC8udGVzdChub2RlLm5vZGVOYW1lKSYmIS9eKGZpeGVkfGFic29sdXRlKS9pLnRlc3Qobm9kZS5zdHlsZS5wb3NpdGlvbikmJmRvbS5nZXRDb250ZW50RWRpdGFibGUobm9kZSkhPT0ndHJ1ZSc7fTt2YXIgdHJpbUlubGluZUVsZW1lbnRzT25MZWZ0U2lkZU9mQmxvY2s9ZnVuY3Rpb24gdHJpbUlubGluZUVsZW1lbnRzT25MZWZ0U2lkZU9mQmxvY2soZG9tLG5vbkVtcHR5RWxlbWVudHNNYXAsYmxvY2spe3ZhciBub2RlPWJsb2NrO3ZhciBmaXJzdENoaWxkcz1bXTt2YXIgaTtpZighbm9kZSl7cmV0dXJuO313aGlsZShub2RlPW5vZGUuZmlyc3RDaGlsZCl7aWYoZG9tLmlzQmxvY2sobm9kZSkpe3JldHVybjt9aWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpJiYhbm9uRW1wdHlFbGVtZW50c01hcFtub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtmaXJzdENoaWxkcy5wdXNoKG5vZGUpO319aT1maXJzdENoaWxkcy5sZW5ndGg7d2hpbGUoaS0tKXtub2RlPWZpcnN0Q2hpbGRzW2ldO2lmKCFub2RlLmhhc0NoaWxkTm9kZXMoKXx8bm9kZS5maXJzdENoaWxkPT09bm9kZS5sYXN0Q2hpbGQmJm5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWU9PT0nJyl7ZG9tLnJlbW92ZShub2RlKTt9ZWxzZXtpZihpc0VtcHR5QW5jaG9yKGRvbSxub2RlKSl7ZG9tLnJlbW92ZShub2RlKTt9fX19O3ZhciBub3JtYWxpemVad3NwT2Zmc2V0PWZ1bmN0aW9uIG5vcm1hbGl6ZVp3c3BPZmZzZXQoc3RhcnQsY29udGFpbmVyLG9mZnNldCl7aWYoTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lcik9PT1mYWxzZSl7cmV0dXJuIG9mZnNldDt9ZWxzZSBpZihzdGFydCl7cmV0dXJuIG9mZnNldD09PTEmJmNvbnRhaW5lci5kYXRhLmNoYXJBdChvZmZzZXQtMSk9PT1ad3NwLlpXU1A/MDpvZmZzZXQ7fWVsc2V7cmV0dXJuIG9mZnNldD09PWNvbnRhaW5lci5kYXRhLmxlbmd0aC0xJiZjb250YWluZXIuZGF0YS5jaGFyQXQob2Zmc2V0KT09PVp3c3AuWldTUD9jb250YWluZXIuZGF0YS5sZW5ndGg6b2Zmc2V0O319O3ZhciBpbmNsdWRlWndzcEluUmFuZ2U9ZnVuY3Rpb24gaW5jbHVkZVp3c3BJblJhbmdlKHJuZyl7dmFyIG5ld1JuZz1ybmcuY2xvbmVSYW5nZSgpO25ld1JuZy5zZXRTdGFydChybmcuc3RhcnRDb250YWluZXIsbm9ybWFsaXplWndzcE9mZnNldCh0cnVlLHJuZy5zdGFydENvbnRhaW5lcixybmcuc3RhcnRPZmZzZXQpKTtuZXdSbmcuc2V0RW5kKHJuZy5lbmRDb250YWluZXIsbm9ybWFsaXplWndzcE9mZnNldChmYWxzZSxybmcuZW5kQ29udGFpbmVyLHJuZy5lbmRPZmZzZXQpKTtyZXR1cm4gbmV3Um5nO307dmFyIHRyaW1MZWFkaW5nTGluZUJyZWFrcz1mdW5jdGlvbiB0cmltTGVhZGluZ0xpbmVCcmVha3Mobm9kZSl7ZG97aWYoTm9kZVR5cGUuaXNUZXh0KG5vZGUpKXtub2RlLm5vZGVWYWx1ZT1ub2RlLm5vZGVWYWx1ZS5yZXBsYWNlKC9eW1xyXG5dKy8sJycpO31ub2RlPW5vZGUuZmlyc3RDaGlsZDt9d2hpbGUobm9kZSk7fTt2YXIgZ2V0RWRpdGFibGVSb290JDE9ZnVuY3Rpb24gZ2V0RWRpdGFibGVSb290JDEoZG9tLG5vZGUpe3ZhciByb290PWRvbS5nZXRSb290KCk7dmFyIHBhcmVudCxlZGl0YWJsZVJvb3Q7cGFyZW50PW5vZGU7d2hpbGUocGFyZW50IT09cm9vdCYmZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpIT09J2ZhbHNlJyl7aWYoZG9tLmdldENvbnRlbnRFZGl0YWJsZShwYXJlbnQpPT09J3RydWUnKXtlZGl0YWJsZVJvb3Q9cGFyZW50O31wYXJlbnQ9cGFyZW50LnBhcmVudE5vZGU7fXJldHVybiBwYXJlbnQhPT1yb290P2VkaXRhYmxlUm9vdDpyb290O307dmFyIHNldEZvcmNlZEJsb2NrQXR0cnM9ZnVuY3Rpb24gc2V0Rm9yY2VkQmxvY2tBdHRycyhlZGl0b3Isbm9kZSl7dmFyIGZvcmNlZFJvb3RCbG9ja05hbWU9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik7aWYoZm9yY2VkUm9vdEJsb2NrTmFtZSYmZm9yY2VkUm9vdEJsb2NrTmFtZS50b0xvd2VyQ2FzZSgpPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe2VkaXRvci5kb20uc2V0QXR0cmlicyhub2RlLFNldHRpbmdzLmdldEZvcmNlZFJvb3RCbG9ja0F0dHJzKGVkaXRvcikpO319O3ZhciB3cmFwU2VsZkFuZFNpYmxpbmdzSW5EZWZhdWx0QmxvY2s9ZnVuY3Rpb24gd3JhcFNlbGZBbmRTaWJsaW5nc0luRGVmYXVsdEJsb2NrKGVkaXRvcixuZXdCbG9ja05hbWUscm5nLGNvbnRhaW5lcixvZmZzZXQpe3ZhciBuZXdCbG9jayxwYXJlbnRCbG9jayxzdGFydE5vZGUsbm9kZSxuZXh0LHJvb3RCbG9ja05hbWU7dmFyIGJsb2NrTmFtZT1uZXdCbG9ja05hbWV8fCdQJzt2YXIgZG9tPWVkaXRvci5kb20sZWRpdGFibGVSb290PWdldEVkaXRhYmxlUm9vdCQxKGRvbSxjb250YWluZXIpO3BhcmVudEJsb2NrPWRvbS5nZXRQYXJlbnQoY29udGFpbmVyLGRvbS5pc0Jsb2NrKTtpZighcGFyZW50QmxvY2t8fCFjYW5TcGxpdEJsb2NrKGRvbSxwYXJlbnRCbG9jaykpe3BhcmVudEJsb2NrPXBhcmVudEJsb2NrfHxlZGl0YWJsZVJvb3Q7aWYocGFyZW50QmxvY2s9PT1lZGl0b3IuZ2V0Qm9keSgpfHxpc1RhYmxlQ2VsbCQ0KHBhcmVudEJsb2NrKSl7cm9vdEJsb2NrTmFtZT1wYXJlbnRCbG9jay5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO31lbHNle3Jvb3RCbG9ja05hbWU9cGFyZW50QmxvY2sucGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO31pZighcGFyZW50QmxvY2suaGFzQ2hpbGROb2RlcygpKXtuZXdCbG9jaz1kb20uY3JlYXRlKGJsb2NrTmFtZSk7c2V0Rm9yY2VkQmxvY2tBdHRycyhlZGl0b3IsbmV3QmxvY2spO3BhcmVudEJsb2NrLmFwcGVuZENoaWxkKG5ld0Jsb2NrKTtybmcuc2V0U3RhcnQobmV3QmxvY2ssMCk7cm5nLnNldEVuZChuZXdCbG9jaywwKTtyZXR1cm4gbmV3QmxvY2s7fW5vZGU9Y29udGFpbmVyO3doaWxlKG5vZGUucGFyZW50Tm9kZSE9PXBhcmVudEJsb2NrKXtub2RlPW5vZGUucGFyZW50Tm9kZTt9d2hpbGUobm9kZSYmIWRvbS5pc0Jsb2NrKG5vZGUpKXtzdGFydE5vZGU9bm9kZTtub2RlPW5vZGUucHJldmlvdXNTaWJsaW5nO31pZihzdGFydE5vZGUmJmVkaXRvci5zY2hlbWEuaXNWYWxpZENoaWxkKHJvb3RCbG9ja05hbWUsYmxvY2tOYW1lLnRvTG93ZXJDYXNlKCkpKXtuZXdCbG9jaz1kb20uY3JlYXRlKGJsb2NrTmFtZSk7c2V0Rm9yY2VkQmxvY2tBdHRycyhlZGl0b3IsbmV3QmxvY2spO3N0YXJ0Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdCbG9jayxzdGFydE5vZGUpO25vZGU9c3RhcnROb2RlO3doaWxlKG5vZGUmJiFkb20uaXNCbG9jayhub2RlKSl7bmV4dD1ub2RlLm5leHRTaWJsaW5nO25ld0Jsb2NrLmFwcGVuZENoaWxkKG5vZGUpO25vZGU9bmV4dDt9cm5nLnNldFN0YXJ0KGNvbnRhaW5lcixvZmZzZXQpO3JuZy5zZXRFbmQoY29udGFpbmVyLG9mZnNldCk7fX1yZXR1cm4gY29udGFpbmVyO307dmFyIGFkZEJyVG9CbG9ja0lmTmVlZGVkPWZ1bmN0aW9uIGFkZEJyVG9CbG9ja0lmTmVlZGVkKGRvbSxibG9jayl7dmFyIGxhc3RDaGlsZDtibG9jay5ub3JtYWxpemUoKTtsYXN0Q2hpbGQ9YmxvY2subGFzdENoaWxkO2lmKCFsYXN0Q2hpbGR8fC9eKGxlZnR8cmlnaHQpJC9naS50ZXN0KGRvbS5nZXRTdHlsZShsYXN0Q2hpbGQsJ2Zsb2F0Jyx0cnVlKSkpe2RvbS5hZGQoYmxvY2ssJ2JyJyk7fX07dmFyIGluc2VydCQxPWZ1bmN0aW9uIGluc2VydCQxKGVkaXRvcixldnQpe3ZhciB0bXBSbmcsZWRpdGFibGVSb290LGNvbnRhaW5lcixvZmZzZXQscGFyZW50QmxvY2ssc2hpZnRLZXk7dmFyIG5ld0Jsb2NrLGZyYWdtZW50LGNvbnRhaW5lckJsb2NrLHBhcmVudEJsb2NrTmFtZSxjb250YWluZXJCbG9ja05hbWUsbmV3QmxvY2tOYW1lLGlzQWZ0ZXJMYXN0Tm9kZUluQ29udGFpbmVyO3ZhciBkb209ZWRpdG9yLmRvbTt2YXIgc2NoZW1hPWVkaXRvci5zY2hlbWEsbm9uRW1wdHlFbGVtZW50c01hcD1zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3ZhciBybmc9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgY3JlYXRlTmV3QmxvY2s9ZnVuY3Rpb24gY3JlYXRlTmV3QmxvY2sobmFtZSl7dmFyIG5vZGU9Y29udGFpbmVyLGJsb2NrLGNsb25lZE5vZGUsY2FyZXROb2RlO3ZhciB0ZXh0SW5saW5lRWxlbWVudHM9c2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpO2lmKG5hbWV8fHBhcmVudEJsb2NrTmFtZT09PSdUQUJMRSd8fHBhcmVudEJsb2NrTmFtZT09PSdIUicpe2Jsb2NrPWRvbS5jcmVhdGUobmFtZXx8bmV3QmxvY2tOYW1lKTtzZXRGb3JjZWRCbG9ja0F0dHJzKGVkaXRvcixibG9jayk7fWVsc2V7YmxvY2s9cGFyZW50QmxvY2suY2xvbmVOb2RlKGZhbHNlKTt9Y2FyZXROb2RlPWJsb2NrO2lmKFNldHRpbmdzLnNob3VsZEtlZXBTdHlsZXMoZWRpdG9yKT09PWZhbHNlKXtkb20uc2V0QXR0cmliKGJsb2NrLCdzdHlsZScsbnVsbCk7ZG9tLnNldEF0dHJpYihibG9jaywnY2xhc3MnLG51bGwpO31lbHNle2Rve2lmKHRleHRJbmxpbmVFbGVtZW50c1tub2RlLm5vZGVOYW1lXSl7aWYoaXNDYXJldE5vZGUobm9kZSl8fEJvb2ttYXJrcy5pc0Jvb2ttYXJrTm9kZShub2RlKSl7Y29udGludWU7fWNsb25lZE5vZGU9bm9kZS5jbG9uZU5vZGUoZmFsc2UpO2RvbS5zZXRBdHRyaWIoY2xvbmVkTm9kZSwnaWQnLCcnKTtpZihibG9jay5oYXNDaGlsZE5vZGVzKCkpe2Nsb25lZE5vZGUuYXBwZW5kQ2hpbGQoYmxvY2suZmlyc3RDaGlsZCk7YmxvY2suYXBwZW5kQ2hpbGQoY2xvbmVkTm9kZSk7fWVsc2V7Y2FyZXROb2RlPWNsb25lZE5vZGU7YmxvY2suYXBwZW5kQ2hpbGQoY2xvbmVkTm9kZSk7fX19d2hpbGUoKG5vZGU9bm9kZS5wYXJlbnROb2RlKSYmbm9kZSE9PWVkaXRhYmxlUm9vdCk7fWVtcHR5QmxvY2soY2FyZXROb2RlKTtyZXR1cm4gYmxvY2s7fTt2YXIgaXNDYXJldEF0U3RhcnRPckVuZE9mQmxvY2s9ZnVuY3Rpb24gaXNDYXJldEF0U3RhcnRPckVuZE9mQmxvY2soc3RhcnQpe3ZhciBub2RlLG5hbWU7dmFyIG5vcm1hbGl6ZWRPZmZzZXQ9bm9ybWFsaXplWndzcE9mZnNldChzdGFydCxjb250YWluZXIsb2Zmc2V0KTtpZihOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSYmKHN0YXJ0P25vcm1hbGl6ZWRPZmZzZXQ+MDpub3JtYWxpemVkT2Zmc2V0PGNvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKSl7cmV0dXJuIGZhbHNlO31pZihjb250YWluZXIucGFyZW50Tm9kZT09PXBhcmVudEJsb2NrJiZpc0FmdGVyTGFzdE5vZGVJbkNvbnRhaW5lciYmIXN0YXJ0KXtyZXR1cm4gdHJ1ZTt9aWYoc3RhcnQmJk5vZGVUeXBlLmlzRWxlbWVudChjb250YWluZXIpJiZjb250YWluZXI9PT1wYXJlbnRCbG9jay5maXJzdENoaWxkKXtyZXR1cm4gdHJ1ZTt9aWYoY29udGFpbmVyQW5kU2libGluZ05hbWUoY29udGFpbmVyLCdUQUJMRScpfHxjb250YWluZXJBbmRTaWJsaW5nTmFtZShjb250YWluZXIsJ0hSJykpe3JldHVybiBpc0FmdGVyTGFzdE5vZGVJbkNvbnRhaW5lciYmIXN0YXJ0fHwhaXNBZnRlckxhc3ROb2RlSW5Db250YWluZXImJnN0YXJ0O312YXIgd2Fsa2VyPW5ldyBUcmVlV2Fsa2VyKGNvbnRhaW5lcixwYXJlbnRCbG9jayk7aWYoTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lcikpe2lmKHN0YXJ0JiZub3JtYWxpemVkT2Zmc2V0PT09MCl7d2Fsa2VyLnByZXYoKTt9ZWxzZSBpZighc3RhcnQmJm5vcm1hbGl6ZWRPZmZzZXQ9PT1jb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7d2Fsa2VyLm5leHQoKTt9fXdoaWxlKG5vZGU9d2Fsa2VyLmN1cnJlbnQoKSl7aWYoTm9kZVR5cGUuaXNFbGVtZW50KG5vZGUpKXtpZighbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLWJvZ3VzJykpe25hbWU9bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKG5vbkVtcHR5RWxlbWVudHNNYXBbbmFtZV0mJm5hbWUhPT0nYnInKXtyZXR1cm4gZmFsc2U7fX19ZWxzZSBpZihOb2RlVHlwZS5pc1RleHQobm9kZSkmJiEvXlsgXHRcclxuXSokLy50ZXN0KG5vZGUubm9kZVZhbHVlKSl7cmV0dXJuIGZhbHNlO31pZihzdGFydCl7d2Fsa2VyLnByZXYoKTt9ZWxzZXt3YWxrZXIubmV4dCgpO319cmV0dXJuIHRydWU7fTt2YXIgaW5zZXJ0TmV3QmxvY2tBZnRlcj1mdW5jdGlvbiBpbnNlcnROZXdCbG9ja0FmdGVyKCl7aWYoL14oSFsxLTZdfFBSRXxGSUdVUkUpJC8udGVzdChwYXJlbnRCbG9ja05hbWUpJiZjb250YWluZXJCbG9ja05hbWUhPT0nSEdST1VQJyl7bmV3QmxvY2s9Y3JlYXRlTmV3QmxvY2sobmV3QmxvY2tOYW1lKTt9ZWxzZXtuZXdCbG9jaz1jcmVhdGVOZXdCbG9jaygpO31pZihTZXR0aW5ncy5zaG91bGRFbmRDb250YWluZXJPbkVtcHR5QmxvY2soZWRpdG9yKSYmY2FuU3BsaXRCbG9jayhkb20sY29udGFpbmVyQmxvY2spJiZkb20uaXNFbXB0eShwYXJlbnRCbG9jaykpe25ld0Jsb2NrPWRvbS5zcGxpdChjb250YWluZXJCbG9jayxwYXJlbnRCbG9jayk7fWVsc2V7ZG9tLmluc2VydEFmdGVyKG5ld0Jsb2NrLHBhcmVudEJsb2NrKTt9TmV3TGluZVV0aWxzLm1vdmVUb0NhcmV0UG9zaXRpb24oZWRpdG9yLG5ld0Jsb2NrKTt9O05vcm1hbGl6ZVJhbmdlLm5vcm1hbGl6ZShkb20scm5nKS5lYWNoKGZ1bmN0aW9uKG5vcm1Sbmcpe3JuZy5zZXRTdGFydChub3JtUm5nLnN0YXJ0Q29udGFpbmVyLG5vcm1Sbmcuc3RhcnRPZmZzZXQpO3JuZy5zZXRFbmQobm9ybVJuZy5lbmRDb250YWluZXIsbm9ybVJuZy5lbmRPZmZzZXQpO30pO2NvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7b2Zmc2V0PXJuZy5zdGFydE9mZnNldDtuZXdCbG9ja05hbWU9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik7c2hpZnRLZXk9ISEoZXZ0JiZldnQuc2hpZnRLZXkpO3ZhciBjdHJsS2V5PSEhKGV2dCYmZXZ0LmN0cmxLZXkpO2lmKE5vZGVUeXBlLmlzRWxlbWVudChjb250YWluZXIpJiZjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKXtpc0FmdGVyTGFzdE5vZGVJbkNvbnRhaW5lcj1vZmZzZXQ+Y29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoLTE7Y29udGFpbmVyPWNvbnRhaW5lci5jaGlsZE5vZGVzW01hdGgubWluKG9mZnNldCxjb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGgtMSldfHxjb250YWluZXI7aWYoaXNBZnRlckxhc3ROb2RlSW5Db250YWluZXImJk5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpKXtvZmZzZXQ9Y29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGg7fWVsc2V7b2Zmc2V0PTA7fX1lZGl0YWJsZVJvb3Q9Z2V0RWRpdGFibGVSb290JDEoZG9tLGNvbnRhaW5lcik7aWYoIWVkaXRhYmxlUm9vdCl7cmV0dXJuO31pZihuZXdCbG9ja05hbWUmJiFzaGlmdEtleXx8IW5ld0Jsb2NrTmFtZSYmc2hpZnRLZXkpe2NvbnRhaW5lcj13cmFwU2VsZkFuZFNpYmxpbmdzSW5EZWZhdWx0QmxvY2soZWRpdG9yLG5ld0Jsb2NrTmFtZSxybmcsY29udGFpbmVyLG9mZnNldCk7fXBhcmVudEJsb2NrPWRvbS5nZXRQYXJlbnQoY29udGFpbmVyLGRvbS5pc0Jsb2NrKTtjb250YWluZXJCbG9jaz1wYXJlbnRCbG9jaz9kb20uZ2V0UGFyZW50KHBhcmVudEJsb2NrLnBhcmVudE5vZGUsZG9tLmlzQmxvY2spOm51bGw7cGFyZW50QmxvY2tOYW1lPXBhcmVudEJsb2NrP3BhcmVudEJsb2NrLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6Jyc7Y29udGFpbmVyQmxvY2tOYW1lPWNvbnRhaW5lckJsb2NrP2NvbnRhaW5lckJsb2NrLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6Jyc7aWYoY29udGFpbmVyQmxvY2tOYW1lPT09J0xJJyYmIWN0cmxLZXkpe3BhcmVudEJsb2NrPWNvbnRhaW5lckJsb2NrO2NvbnRhaW5lckJsb2NrPWNvbnRhaW5lckJsb2NrLnBhcmVudE5vZGU7cGFyZW50QmxvY2tOYW1lPWNvbnRhaW5lckJsb2NrTmFtZTt9aWYoL14oTEl8RFR8REQpJC8udGVzdChwYXJlbnRCbG9ja05hbWUpKXtpZihkb20uaXNFbXB0eShwYXJlbnRCbG9jaykpe0luc2VydExpLmluc2VydChlZGl0b3IsY3JlYXRlTmV3QmxvY2ssY29udGFpbmVyQmxvY2sscGFyZW50QmxvY2ssbmV3QmxvY2tOYW1lKTtyZXR1cm47fX1pZihuZXdCbG9ja05hbWUmJnBhcmVudEJsb2NrPT09ZWRpdG9yLmdldEJvZHkoKSl7cmV0dXJuO31uZXdCbG9ja05hbWU9bmV3QmxvY2tOYW1lfHwnUCc7aWYoaXNDYXJldENvbnRhaW5lckJsb2NrKHBhcmVudEJsb2NrKSl7bmV3QmxvY2s9c2hvd0NhcmV0Q29udGFpbmVyQmxvY2socGFyZW50QmxvY2spO2lmKGRvbS5pc0VtcHR5KHBhcmVudEJsb2NrKSl7ZW1wdHlCbG9jayhwYXJlbnRCbG9jayk7fU5ld0xpbmVVdGlscy5tb3ZlVG9DYXJldFBvc2l0aW9uKGVkaXRvcixuZXdCbG9jayk7fWVsc2UgaWYoaXNDYXJldEF0U3RhcnRPckVuZE9mQmxvY2soKSl7aW5zZXJ0TmV3QmxvY2tBZnRlcigpO31lbHNlIGlmKGlzQ2FyZXRBdFN0YXJ0T3JFbmRPZkJsb2NrKHRydWUpKXtuZXdCbG9jaz1wYXJlbnRCbG9jay5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjcmVhdGVOZXdCbG9jaygpLHBhcmVudEJsb2NrKTtOZXdMaW5lVXRpbHMubW92ZVRvQ2FyZXRQb3NpdGlvbihlZGl0b3IsY29udGFpbmVyQW5kU2libGluZ05hbWUocGFyZW50QmxvY2ssJ0hSJyk/bmV3QmxvY2s6cGFyZW50QmxvY2spO31lbHNle3RtcFJuZz1pbmNsdWRlWndzcEluUmFuZ2Uocm5nKS5jbG9uZVJhbmdlKCk7dG1wUm5nLnNldEVuZEFmdGVyKHBhcmVudEJsb2NrKTtmcmFnbWVudD10bXBSbmcuZXh0cmFjdENvbnRlbnRzKCk7dHJpbVp3c3AoZnJhZ21lbnQpO3RyaW1MZWFkaW5nTGluZUJyZWFrcyhmcmFnbWVudCk7bmV3QmxvY2s9ZnJhZ21lbnQuZmlyc3RDaGlsZDtkb20uaW5zZXJ0QWZ0ZXIoZnJhZ21lbnQscGFyZW50QmxvY2spO3RyaW1JbmxpbmVFbGVtZW50c09uTGVmdFNpZGVPZkJsb2NrKGRvbSxub25FbXB0eUVsZW1lbnRzTWFwLG5ld0Jsb2NrKTthZGRCclRvQmxvY2tJZk5lZWRlZChkb20scGFyZW50QmxvY2spO2lmKGRvbS5pc0VtcHR5KHBhcmVudEJsb2NrKSl7ZW1wdHlCbG9jayhwYXJlbnRCbG9jayk7fW5ld0Jsb2NrLm5vcm1hbGl6ZSgpO2lmKGRvbS5pc0VtcHR5KG5ld0Jsb2NrKSl7ZG9tLnJlbW92ZShuZXdCbG9jayk7aW5zZXJ0TmV3QmxvY2tBZnRlcigpO31lbHNle05ld0xpbmVVdGlscy5tb3ZlVG9DYXJldFBvc2l0aW9uKGVkaXRvcixuZXdCbG9jayk7fX1kb20uc2V0QXR0cmliKG5ld0Jsb2NrLCdpZCcsJycpO2VkaXRvci5maXJlKCdOZXdCbG9jaycse25ld0Jsb2NrOm5ld0Jsb2NrfSk7fTt2YXIgSW5zZXJ0QmxvY2s9e2luc2VydDppbnNlcnQkMX07dmFyIGhhc1JpZ2h0U2lkZUNvbnRlbnQ9ZnVuY3Rpb24gaGFzUmlnaHRTaWRlQ29udGVudChzY2hlbWEsY29udGFpbmVyLHBhcmVudEJsb2NrKXt2YXIgd2Fsa2VyPW5ldyBUcmVlV2Fsa2VyKGNvbnRhaW5lcixwYXJlbnRCbG9jayk7dmFyIG5vZGU7dmFyIG5vbkVtcHR5RWxlbWVudHNNYXA9c2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTt3aGlsZShub2RlPXdhbGtlci5uZXh0KCkpe2lmKG5vbkVtcHR5RWxlbWVudHNNYXBbbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8bm9kZS5sZW5ndGg+MCl7cmV0dXJuIHRydWU7fX19O3ZhciBzY3JvbGxUb0JyPWZ1bmN0aW9uIHNjcm9sbFRvQnIoZG9tLHNlbGVjdGlvbixickVsbSl7dmFyIG1hcmtlcj1kb20uY3JlYXRlKCdzcGFuJyx7fSwnJm5ic3A7Jyk7YnJFbG0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobWFya2VyLGJyRWxtKTtzZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcobWFya2VyKTtkb20ucmVtb3ZlKG1hcmtlcik7fTt2YXIgbW92ZVNlbGVjdGlvblRvQnI9ZnVuY3Rpb24gbW92ZVNlbGVjdGlvblRvQnIoZG9tLHNlbGVjdGlvbixickVsbSxleHRyYUJyKXt2YXIgcm5nPWRvbS5jcmVhdGVSbmcoKTtpZighZXh0cmFCcil7cm5nLnNldFN0YXJ0QWZ0ZXIoYnJFbG0pO3JuZy5zZXRFbmRBZnRlcihickVsbSk7fWVsc2V7cm5nLnNldFN0YXJ0QmVmb3JlKGJyRWxtKTtybmcuc2V0RW5kQmVmb3JlKGJyRWxtKTt9c2VsZWN0aW9uLnNldFJuZyhybmcpO307dmFyIGluc2VydEJyQXRDYXJldD1mdW5jdGlvbiBpbnNlcnRCckF0Q2FyZXQoZWRpdG9yLGV2dCl7dmFyIHNlbGVjdGlvbj1lZGl0b3Iuc2VsZWN0aW9uO3ZhciBkb209ZWRpdG9yLmRvbTt2YXIgcm5nPXNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgYnJFbG07dmFyIGV4dHJhQnI7Tm9ybWFsaXplUmFuZ2Uubm9ybWFsaXplKGRvbSxybmcpLmVhY2goZnVuY3Rpb24obm9ybVJuZyl7cm5nLnNldFN0YXJ0KG5vcm1Sbmcuc3RhcnRDb250YWluZXIsbm9ybVJuZy5zdGFydE9mZnNldCk7cm5nLnNldEVuZChub3JtUm5nLmVuZENvbnRhaW5lcixub3JtUm5nLmVuZE9mZnNldCk7fSk7dmFyIG9mZnNldD1ybmcuc3RhcnRPZmZzZXQ7dmFyIGNvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7aWYoY29udGFpbmVyLm5vZGVUeXBlPT09MSYmY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSl7dmFyIGlzQWZ0ZXJMYXN0Tm9kZUluQ29udGFpbmVyPW9mZnNldD5jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGgtMTtjb250YWluZXI9Y29udGFpbmVyLmNoaWxkTm9kZXNbTWF0aC5taW4ob2Zmc2V0LGNvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fGNvbnRhaW5lcjtpZihpc0FmdGVyTGFzdE5vZGVJbkNvbnRhaW5lciYmY29udGFpbmVyLm5vZGVUeXBlPT09Myl7b2Zmc2V0PWNvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoO31lbHNle29mZnNldD0wO319dmFyIHBhcmVudEJsb2NrPWRvbS5nZXRQYXJlbnQoY29udGFpbmVyLGRvbS5pc0Jsb2NrKTt2YXIgY29udGFpbmVyQmxvY2s9cGFyZW50QmxvY2s/ZG9tLmdldFBhcmVudChwYXJlbnRCbG9jay5wYXJlbnROb2RlLGRvbS5pc0Jsb2NrKTpudWxsO3ZhciBjb250YWluZXJCbG9ja05hbWU9Y29udGFpbmVyQmxvY2s/Y29udGFpbmVyQmxvY2subm9kZU5hbWUudG9VcHBlckNhc2UoKTonJzt2YXIgaXNDb250cm9sS2V5PSEhKGV2dCYmZXZ0LmN0cmxLZXkpO2lmKGNvbnRhaW5lckJsb2NrTmFtZT09PSdMSScmJiFpc0NvbnRyb2xLZXkpe3BhcmVudEJsb2NrPWNvbnRhaW5lckJsb2NrO31pZihjb250YWluZXImJmNvbnRhaW5lci5ub2RlVHlwZT09PTMmJm9mZnNldD49Y29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGgpe2lmKCFoYXNSaWdodFNpZGVDb250ZW50KGVkaXRvci5zY2hlbWEsY29udGFpbmVyLHBhcmVudEJsb2NrKSl7YnJFbG09ZG9tLmNyZWF0ZSgnYnInKTtybmcuaW5zZXJ0Tm9kZShickVsbSk7cm5nLnNldFN0YXJ0QWZ0ZXIoYnJFbG0pO3JuZy5zZXRFbmRBZnRlcihickVsbSk7ZXh0cmFCcj10cnVlO319YnJFbG09ZG9tLmNyZWF0ZSgnYnInKTtyYW5nZUluc2VydE5vZGUoZG9tLHJuZyxickVsbSk7c2Nyb2xsVG9Ccihkb20sc2VsZWN0aW9uLGJyRWxtKTttb3ZlU2VsZWN0aW9uVG9Ccihkb20sc2VsZWN0aW9uLGJyRWxtLGV4dHJhQnIpO2VkaXRvci51bmRvTWFuYWdlci5hZGQoKTt9O3ZhciBpbnNlcnRCckJlZm9yZT1mdW5jdGlvbiBpbnNlcnRCckJlZm9yZShlZGl0b3IsaW5saW5lKXt2YXIgYnI9RWxlbWVudC5mcm9tVGFnKCdicicpO2JlZm9yZShFbGVtZW50LmZyb21Eb20oaW5saW5lKSxicik7ZWRpdG9yLnVuZG9NYW5hZ2VyLmFkZCgpO307dmFyIGluc2VydEJyQWZ0ZXI9ZnVuY3Rpb24gaW5zZXJ0QnJBZnRlcihlZGl0b3IsaW5saW5lKXtpZighaGFzQnJBZnRlcihlZGl0b3IuZ2V0Qm9keSgpLGlubGluZSkpe2FmdGVyKEVsZW1lbnQuZnJvbURvbShpbmxpbmUpLEVsZW1lbnQuZnJvbVRhZygnYnInKSk7fXZhciBicj1FbGVtZW50LmZyb21UYWcoJ2JyJyk7YWZ0ZXIoRWxlbWVudC5mcm9tRG9tKGlubGluZSksYnIpO3Njcm9sbFRvQnIoZWRpdG9yLmRvbSxlZGl0b3Iuc2VsZWN0aW9uLGJyLmRvbSgpKTttb3ZlU2VsZWN0aW9uVG9CcihlZGl0b3IuZG9tLGVkaXRvci5zZWxlY3Rpb24sYnIuZG9tKCksZmFsc2UpO2VkaXRvci51bmRvTWFuYWdlci5hZGQoKTt9O3ZhciBpc0JlZm9yZUJyJDE9ZnVuY3Rpb24gaXNCZWZvcmVCciQxKHBvcyl7cmV0dXJuIE5vZGVUeXBlLmlzQnIocG9zLmdldE5vZGUoKSk7fTt2YXIgaGFzQnJBZnRlcj1mdW5jdGlvbiBoYXNCckFmdGVyKHJvb3ROb2RlLHN0YXJ0Tm9kZSl7aWYoaXNCZWZvcmVCciQxKENhcmV0UG9zaXRpb24kMS5hZnRlcihzdGFydE5vZGUpKSl7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIENhcmV0RmluZGVyLm5leHRQb3NpdGlvbihyb290Tm9kZSxDYXJldFBvc2l0aW9uJDEuYWZ0ZXIoc3RhcnROb2RlKSkubWFwKGZ1bmN0aW9uKHBvcyl7cmV0dXJuIE5vZGVUeXBlLmlzQnIocG9zLmdldE5vZGUoKSk7fSkuZ2V0T3IoZmFsc2UpO319O3ZhciBpc0FuY2hvckxpbms9ZnVuY3Rpb24gaXNBbmNob3JMaW5rKGVsbSl7cmV0dXJuIGVsbSYmZWxtLm5vZGVOYW1lPT09J0EnJiYnaHJlZidpbiBlbG07fTt2YXIgaXNJbnNpZGVBbmNob3I9ZnVuY3Rpb24gaXNJbnNpZGVBbmNob3IobG9jYXRpb24pe3JldHVybiBsb2NhdGlvbi5mb2xkKGNvbnN0YW50KGZhbHNlKSxpc0FuY2hvckxpbmssaXNBbmNob3JMaW5rLGNvbnN0YW50KGZhbHNlKSk7fTt2YXIgcmVhZElubGluZUFuY2hvckxvY2F0aW9uPWZ1bmN0aW9uIHJlYWRJbmxpbmVBbmNob3JMb2NhdGlvbihlZGl0b3Ipe3ZhciBpc0lubGluZVRhcmdldD1jdXJyeShJbmxpbmVVdGlscy5pc0lubGluZVRhcmdldCxlZGl0b3IpO3ZhciBwb3NpdGlvbj1DYXJldFBvc2l0aW9uJDEuZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIEJvdW5kYXJ5TG9jYXRpb24ucmVhZExvY2F0aW9uKGlzSW5saW5lVGFyZ2V0LGVkaXRvci5nZXRCb2R5KCkscG9zaXRpb24pLmZpbHRlcihpc0luc2lkZUFuY2hvcik7fTt2YXIgaW5zZXJ0QnJPdXRzaWRlQW5jaG9yPWZ1bmN0aW9uIGluc2VydEJyT3V0c2lkZUFuY2hvcihlZGl0b3IsbG9jYXRpb24pe2xvY2F0aW9uLmZvbGQobm9vcCxjdXJyeShpbnNlcnRCckJlZm9yZSxlZGl0b3IpLGN1cnJ5KGluc2VydEJyQWZ0ZXIsZWRpdG9yKSxub29wKTt9O3ZhciBpbnNlcnQkMj1mdW5jdGlvbiBpbnNlcnQkMihlZGl0b3IsZXZ0KXt2YXIgYW5jaG9yTG9jYXRpb249cmVhZElubGluZUFuY2hvckxvY2F0aW9uKGVkaXRvcik7aWYoYW5jaG9yTG9jYXRpb24uaXNTb21lKCkpe2FuY2hvckxvY2F0aW9uLmVhY2goY3VycnkoaW5zZXJ0QnJPdXRzaWRlQW5jaG9yLGVkaXRvcikpO31lbHNle2luc2VydEJyQXRDYXJldChlZGl0b3IsZXZ0KTt9fTt2YXIgSW5zZXJ0QnI9e2luc2VydDppbnNlcnQkMn07dmFyIG1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZWRpdG9yLHNlbGVjdG9yKXtyZXR1cm4gTmV3TGluZVV0aWxzLmdldFBhcmVudEJsb2NrKGVkaXRvcikuZmlsdGVyKGZ1bmN0aW9uKHBhcmVudEJsb2NrKXtyZXR1cm4gc2VsZWN0b3IubGVuZ3RoPjAmJmlzKEVsZW1lbnQuZnJvbURvbShwYXJlbnRCbG9jayksc2VsZWN0b3IpO30pLmlzU29tZSgpO307dmFyIHNob3VsZEluc2VydEJyPWZ1bmN0aW9uIHNob3VsZEluc2VydEJyKGVkaXRvcil7cmV0dXJuIG1hdGNoZXNTZWxlY3RvcihlZGl0b3IsU2V0dGluZ3MuZ2V0QnJOZXdMaW5lU2VsZWN0b3IoZWRpdG9yKSk7fTt2YXIgc2hvdWxkQmxvY2tOZXdMaW5lPWZ1bmN0aW9uIHNob3VsZEJsb2NrTmV3TGluZShlZGl0b3Ipe3JldHVybiBtYXRjaGVzU2VsZWN0b3IoZWRpdG9yLFNldHRpbmdzLmdldE5vTmV3TGluZVNlbGVjdG9yKGVkaXRvcikpO307dmFyIENvbnRleHRTZWxlY3RvcnM9e3Nob3VsZEluc2VydEJyOnNob3VsZEluc2VydEJyLHNob3VsZEJsb2NrTmV3TGluZTpzaG91bGRCbG9ja05ld0xpbmV9O3ZhciBuZXdMaW5lQWN0aW9uPUFkdC5nZW5lcmF0ZShbe2JyOltdfSx7YmxvY2s6W119LHtub25lOltdfV0pO3ZhciBzaG91bGRCbG9ja05ld0xpbmUkMT1mdW5jdGlvbiBzaG91bGRCbG9ja05ld0xpbmUkMShlZGl0b3Isc2hpZnRLZXkpe3JldHVybiBDb250ZXh0U2VsZWN0b3JzLnNob3VsZEJsb2NrTmV3TGluZShlZGl0b3IpO307dmFyIGlzQnJNb2RlPWZ1bmN0aW9uIGlzQnJNb2RlKHJlcXVpcmVkU3RhdGUpe3JldHVybiBmdW5jdGlvbihlZGl0b3Isc2hpZnRLZXkpe3ZhciBick1vZGU9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik9PT0nJztyZXR1cm4gYnJNb2RlPT09cmVxdWlyZWRTdGF0ZTt9O307dmFyIGluTGlzdEJsb2NrPWZ1bmN0aW9uIGluTGlzdEJsb2NrKHJlcXVpcmVkU3RhdGUpe3JldHVybiBmdW5jdGlvbihlZGl0b3Isc2hpZnRLZXkpe3JldHVybiBOZXdMaW5lVXRpbHMuaXNMaXN0SXRlbVBhcmVudEJsb2NrKGVkaXRvcik9PT1yZXF1aXJlZFN0YXRlO307fTt2YXIgaW5CbG9jaz1mdW5jdGlvbiBpbkJsb2NrKGJsb2NrTmFtZSxyZXF1aXJlZFN0YXRlKXtyZXR1cm4gZnVuY3Rpb24oZWRpdG9yLHNoaWZ0S2V5KXt2YXIgc3RhdGU9TmV3TGluZVV0aWxzLmdldFBhcmVudEJsb2NrTmFtZShlZGl0b3IpPT09YmxvY2tOYW1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHN0YXRlPT09cmVxdWlyZWRTdGF0ZTt9O307dmFyIGluUHJlQmxvY2s9ZnVuY3Rpb24gaW5QcmVCbG9jayhyZXF1aXJlZFN0YXRlKXtyZXR1cm4gaW5CbG9jaygncHJlJyxyZXF1aXJlZFN0YXRlKTt9O3ZhciBpblN1bW1hcnlCbG9jaz1mdW5jdGlvbiBpblN1bW1hcnlCbG9jaygpe3JldHVybiBpbkJsb2NrKCdzdW1tYXJ5Jyx0cnVlKTt9O3ZhciBzaG91bGRQdXRCckluUHJlJDE9ZnVuY3Rpb24gc2hvdWxkUHV0QnJJblByZSQxKHJlcXVpcmVkU3RhdGUpe3JldHVybiBmdW5jdGlvbihlZGl0b3Isc2hpZnRLZXkpe3JldHVybiBTZXR0aW5ncy5zaG91bGRQdXRCckluUHJlKGVkaXRvcik9PT1yZXF1aXJlZFN0YXRlO307fTt2YXIgaW5CckNvbnRleHQ9ZnVuY3Rpb24gaW5CckNvbnRleHQoZWRpdG9yLHNoaWZ0S2V5KXtyZXR1cm4gQ29udGV4dFNlbGVjdG9ycy5zaG91bGRJbnNlcnRCcihlZGl0b3IpO307dmFyIGhhc1NoaWZ0S2V5PWZ1bmN0aW9uIGhhc1NoaWZ0S2V5KGVkaXRvcixzaGlmdEtleSl7cmV0dXJuIHNoaWZ0S2V5O307dmFyIGNhbkluc2VydEludG9FZGl0YWJsZVJvb3Q9ZnVuY3Rpb24gY2FuSW5zZXJ0SW50b0VkaXRhYmxlUm9vdChlZGl0b3Ipe3ZhciBmb3JjZWRSb290QmxvY2s9U2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcik7dmFyIHJvb3RFZGl0YWJsZT1OZXdMaW5lVXRpbHMuZ2V0RWRpdGFibGVSb290KGVkaXRvci5kb20sZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpKTtyZXR1cm4gcm9vdEVkaXRhYmxlJiZlZGl0b3Iuc2NoZW1hLmlzVmFsaWRDaGlsZChyb290RWRpdGFibGUubm9kZU5hbWUsZm9yY2VkUm9vdEJsb2NrP2ZvcmNlZFJvb3RCbG9jazonUCcpO307dmFyIG1hdGNoJDI9ZnVuY3Rpb24gbWF0Y2gkMihwcmVkaWNhdGVzLGFjdGlvbil7cmV0dXJuIGZ1bmN0aW9uKGVkaXRvcixzaGlmdEtleSl7dmFyIGlzTWF0Y2g9Zm9sZGwocHJlZGljYXRlcyxmdW5jdGlvbihyZXMscCl7cmV0dXJuIHJlcyYmcChlZGl0b3Isc2hpZnRLZXkpO30sdHJ1ZSk7cmV0dXJuIGlzTWF0Y2g/T3B0aW9uLnNvbWUoYWN0aW9uKTpPcHRpb24ubm9uZSgpO307fTt2YXIgZ2V0QWN0aW9uJDE9ZnVuY3Rpb24gZ2V0QWN0aW9uJDEoZWRpdG9yLGV2dCl7cmV0dXJuIExhenlFdmFsdWF0b3IuZXZhbHVhdGVVbnRpbChbbWF0Y2gkMihbc2hvdWxkQmxvY2tOZXdMaW5lJDFdLG5ld0xpbmVBY3Rpb24ubm9uZSgpKSxtYXRjaCQyKFtpblN1bW1hcnlCbG9jaygpXSxuZXdMaW5lQWN0aW9uLmJyKCkpLG1hdGNoJDIoW2luUHJlQmxvY2sodHJ1ZSksc2hvdWxkUHV0QnJJblByZSQxKGZhbHNlKSxoYXNTaGlmdEtleV0sbmV3TGluZUFjdGlvbi5icigpKSxtYXRjaCQyKFtpblByZUJsb2NrKHRydWUpLHNob3VsZFB1dEJySW5QcmUkMShmYWxzZSldLG5ld0xpbmVBY3Rpb24uYmxvY2soKSksbWF0Y2gkMihbaW5QcmVCbG9jayh0cnVlKSxzaG91bGRQdXRCckluUHJlJDEodHJ1ZSksaGFzU2hpZnRLZXldLG5ld0xpbmVBY3Rpb24uYmxvY2soKSksbWF0Y2gkMihbaW5QcmVCbG9jayh0cnVlKSxzaG91bGRQdXRCckluUHJlJDEodHJ1ZSldLG5ld0xpbmVBY3Rpb24uYnIoKSksbWF0Y2gkMihbaW5MaXN0QmxvY2sodHJ1ZSksaGFzU2hpZnRLZXldLG5ld0xpbmVBY3Rpb24uYnIoKSksbWF0Y2gkMihbaW5MaXN0QmxvY2sodHJ1ZSldLG5ld0xpbmVBY3Rpb24uYmxvY2soKSksbWF0Y2gkMihbaXNCck1vZGUodHJ1ZSksaGFzU2hpZnRLZXksY2FuSW5zZXJ0SW50b0VkaXRhYmxlUm9vdF0sbmV3TGluZUFjdGlvbi5ibG9jaygpKSxtYXRjaCQyKFtpc0JyTW9kZSh0cnVlKV0sbmV3TGluZUFjdGlvbi5icigpKSxtYXRjaCQyKFtpbkJyQ29udGV4dF0sbmV3TGluZUFjdGlvbi5icigpKSxtYXRjaCQyKFtpc0JyTW9kZShmYWxzZSksaGFzU2hpZnRLZXldLG5ld0xpbmVBY3Rpb24uYnIoKSksbWF0Y2gkMihbY2FuSW5zZXJ0SW50b0VkaXRhYmxlUm9vdF0sbmV3TGluZUFjdGlvbi5ibG9jaygpKV0sW2VkaXRvciwhIShldnQmJmV2dC5zaGlmdEtleSldKS5nZXRPcihuZXdMaW5lQWN0aW9uLm5vbmUoKSk7fTt2YXIgTmV3TGluZUFjdGlvbj17Z2V0QWN0aW9uOmdldEFjdGlvbiQxfTt2YXIgaW5zZXJ0JDM9ZnVuY3Rpb24gaW5zZXJ0JDMoZWRpdG9yLGV2dCl7TmV3TGluZUFjdGlvbi5nZXRBY3Rpb24oZWRpdG9yLGV2dCkuZm9sZChmdW5jdGlvbigpe0luc2VydEJyLmluc2VydChlZGl0b3IsZXZ0KTt9LGZ1bmN0aW9uKCl7SW5zZXJ0QmxvY2suaW5zZXJ0KGVkaXRvcixldnQpO30sbm9vcCk7fTt2YXIgSW5zZXJ0TmV3TGluZT17aW5zZXJ0Omluc2VydCQzfTt2YXIgaGFuZGxlRW50ZXJLZXlFdmVudD1mdW5jdGlvbiBoYW5kbGVFbnRlcktleUV2ZW50KGVkaXRvcixldmVudCl7aWYoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybjt9ZXZlbnQucHJldmVudERlZmF1bHQoKTtlbmRUeXBpbmdMZXZlbElnbm9yZUxvY2tzKGVkaXRvci51bmRvTWFuYWdlcik7ZWRpdG9yLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPT09ZmFsc2Upe2VkaXRvci5leGVjQ29tbWFuZCgnRGVsZXRlJyk7fUluc2VydE5ld0xpbmUuaW5zZXJ0KGVkaXRvcixldmVudCk7fSk7fTt2YXIgc2V0dXAkYT1mdW5jdGlvbiBzZXR1cCRhKGVkaXRvcil7ZWRpdG9yLm9uKCdrZXlkb3duJyxmdW5jdGlvbihldmVudCl7aWYoZXZlbnQua2V5Q29kZT09PVZLLkVOVEVSKXtoYW5kbGVFbnRlcktleUV2ZW50KGVkaXRvcixldmVudCk7fX0pO307dmFyIEVudGVyS2V5PXtzZXR1cDpzZXR1cCRhfTt2YXIgaW5zZXJ0VGV4dEF0UG9zaXRpb249ZnVuY3Rpb24gaW5zZXJ0VGV4dEF0UG9zaXRpb24odGV4dCxwb3Mpe3ZhciBjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO3ZhciBvZmZzZXQ9cG9zLm9mZnNldCgpO2lmKE5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpKXtjb250YWluZXIuaW5zZXJ0RGF0YShvZmZzZXQsdGV4dCk7cmV0dXJuIE9wdGlvbi5zb21lKENhcmV0UG9zaXRpb24oY29udGFpbmVyLG9mZnNldCt0ZXh0Lmxlbmd0aCkpO31lbHNle3JldHVybiBnZXRFbGVtZW50RnJvbVBvc2l0aW9uKHBvcykubWFwKGZ1bmN0aW9uKGVsbSl7dmFyIHRleHROb2RlPUVsZW1lbnQuZnJvbVRleHQodGV4dCk7aWYocG9zLmlzQXRFbmQoKSl7YWZ0ZXIoZWxtLHRleHROb2RlKTt9ZWxzZXtiZWZvcmUoZWxtLHRleHROb2RlKTt9cmV0dXJuIENhcmV0UG9zaXRpb24odGV4dE5vZGUuZG9tKCksdGV4dC5sZW5ndGgpO30pO319O3ZhciBpbnNlcnROYnNwQXRQb3NpdGlvbj1jdXJyeShpbnNlcnRUZXh0QXRQb3NpdGlvbiwnXHhBMCcpO3ZhciBpbnNlcnRTcGFjZUF0UG9zaXRpb249Y3VycnkoaW5zZXJ0VGV4dEF0UG9zaXRpb24sJyAnKTt2YXIgbmJzcD0nXHhBMCc7dmFyIGlzSW5NaWRkbGVPZlRleHQ9ZnVuY3Rpb24gaXNJbk1pZGRsZU9mVGV4dChwb3Mpe3JldHVybiBDYXJldFBvc2l0aW9uLmlzVGV4dFBvc2l0aW9uKHBvcykmJiFwb3MuaXNBdFN0YXJ0KCkmJiFwb3MuaXNBdEVuZCgpO307dmFyIGdldENsb3Nlc3RCbG9jayQxPWZ1bmN0aW9uIGdldENsb3Nlc3RCbG9jayQxKHJvb3QscG9zKXt2YXIgcGFyZW50QmxvY2tzPWZpbHRlcihQYXJlbnRzLnBhcmVudHNBbmRTZWxmKEVsZW1lbnQuZnJvbURvbShwb3MuY29udGFpbmVyKCkpLHJvb3QpLGlzQmxvY2spO3JldHVybiBoZWFkKHBhcmVudEJsb2NrcykuZ2V0T3Iocm9vdCk7fTt2YXIgaGFzU3BhY2VCZWZvcmU9ZnVuY3Rpb24gaGFzU3BhY2VCZWZvcmUocm9vdCxwb3Mpe2lmKGlzSW5NaWRkbGVPZlRleHQocG9zKSl7cmV0dXJuIGlzQWZ0ZXJTcGFjZShwb3MpO31lbHNle3JldHVybiBpc0FmdGVyU3BhY2UocG9zKXx8Q2FyZXRGaW5kZXIucHJldlBvc2l0aW9uKGdldENsb3Nlc3RCbG9jayQxKHJvb3QscG9zKS5kb20oKSxwb3MpLmV4aXN0cyhpc0FmdGVyU3BhY2UpO319O3ZhciBoYXNTcGFjZUFmdGVyPWZ1bmN0aW9uIGhhc1NwYWNlQWZ0ZXIocm9vdCxwb3Mpe2lmKGlzSW5NaWRkbGVPZlRleHQocG9zKSl7cmV0dXJuIGlzQmVmb3JlU3BhY2UocG9zKTt9ZWxzZXtyZXR1cm4gaXNCZWZvcmVTcGFjZShwb3MpfHxDYXJldEZpbmRlci5uZXh0UG9zaXRpb24oZ2V0Q2xvc2VzdEJsb2NrJDEocm9vdCxwb3MpLmRvbSgpLHBvcykuZXhpc3RzKGlzQmVmb3JlU3BhY2UpO319O3ZhciBpc1ByZVZhbHVlPWZ1bmN0aW9uIGlzUHJlVmFsdWUodmFsdWUpe3JldHVybiBjb250YWlucyhbJ3ByZScsJ3ByZS13cmFwJ10sdmFsdWUpO307dmFyIGlzSW5QcmU9ZnVuY3Rpb24gaXNJblByZShwb3Mpe3JldHVybiBnZXRFbGVtZW50RnJvbVBvc2l0aW9uKHBvcykuYmluZChmdW5jdGlvbihlbG0pe3JldHVybiBjbG9zZXN0KGVsbSxpc0VsZW1lbnQkMSk7fSkuZXhpc3RzKGZ1bmN0aW9uKGVsbSl7cmV0dXJuIGlzUHJlVmFsdWUoZ2V0JDIoZWxtLCd3aGl0ZS1zcGFjZScpKTt9KTt9O3ZhciBpc0F0QmVnaW5uaW5nT2ZCb2R5PWZ1bmN0aW9uIGlzQXRCZWdpbm5pbmdPZkJvZHkocm9vdCxwb3Mpe3JldHVybiBDYXJldEZpbmRlci5wcmV2UG9zaXRpb24ocm9vdC5kb20oKSxwb3MpLmlzTm9uZSgpO307dmFyIGlzQXRFbmRPZkJvZHk9ZnVuY3Rpb24gaXNBdEVuZE9mQm9keShyb290LHBvcyl7cmV0dXJuIENhcmV0RmluZGVyLm5leHRQb3NpdGlvbihyb290LmRvbSgpLHBvcykuaXNOb25lKCk7fTt2YXIgaXNBdExpbmVCb3VuZGFyeT1mdW5jdGlvbiBpc0F0TGluZUJvdW5kYXJ5KHJvb3QscG9zKXtyZXR1cm4gaXNBdEJlZ2lubmluZ09mQm9keShyb290LHBvcyl8fGlzQXRFbmRPZkJvZHkocm9vdCxwb3MpfHxpc0F0U3RhcnRPZkJsb2NrKHJvb3QscG9zKXx8aXNBdEVuZE9mQmxvY2socm9vdCxwb3MpfHxpc0FmdGVyQnIocm9vdCxwb3MpfHxpc0JlZm9yZUJyKHJvb3QscG9zKTt9O3ZhciBuZWVkc1RvSGF2ZU5ic3A9ZnVuY3Rpb24gbmVlZHNUb0hhdmVOYnNwKHJvb3QscG9zKXtpZihpc0luUHJlKHBvcykpe3JldHVybiBmYWxzZTt9ZWxzZXtyZXR1cm4gaXNBdExpbmVCb3VuZGFyeShyb290LHBvcyl8fGhhc1NwYWNlQmVmb3JlKHJvb3QscG9zKXx8aGFzU3BhY2VBZnRlcihyb290LHBvcyk7fX07dmFyIG5lZWRzVG9CZU5ic3BMZWZ0PWZ1bmN0aW9uIG5lZWRzVG9CZU5ic3BMZWZ0KHJvb3QscG9zKXtpZihpc0luUHJlKHBvcykpe3JldHVybiBmYWxzZTt9ZWxzZXtyZXR1cm4gaXNBdFN0YXJ0T2ZCbG9jayhyb290LHBvcyl8fGlzQmVmb3JlQmxvY2socm9vdCxwb3MpfHxpc0FmdGVyQnIocm9vdCxwb3MpfHxoYXNTcGFjZUJlZm9yZShyb290LHBvcyk7fX07dmFyIGxlYW5SaWdodD1mdW5jdGlvbiBsZWFuUmlnaHQocG9zKXt2YXIgY29udGFpbmVyPXBvcy5jb250YWluZXIoKTt2YXIgb2Zmc2V0PXBvcy5vZmZzZXQoKTtpZihOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSYmb2Zmc2V0PGNvbnRhaW5lci5kYXRhLmxlbmd0aCl7cmV0dXJuIENhcmV0UG9zaXRpb24oY29udGFpbmVyLG9mZnNldCsxKTt9ZWxzZXtyZXR1cm4gcG9zO319O3ZhciBuZWVkc1RvQmVOYnNwUmlnaHQ9ZnVuY3Rpb24gbmVlZHNUb0JlTmJzcFJpZ2h0KHJvb3QscG9zKXt2YXIgYWZ0ZXJQb3M9bGVhblJpZ2h0KHBvcyk7aWYoaXNJblByZShhZnRlclBvcykpe3JldHVybiBmYWxzZTt9ZWxzZXtyZXR1cm4gaXNBdEVuZE9mQmxvY2socm9vdCxhZnRlclBvcyl8fGlzQWZ0ZXJCbG9jayhyb290LGFmdGVyUG9zKXx8aXNCZWZvcmVCcihyb290LGFmdGVyUG9zKXx8aGFzU3BhY2VBZnRlcihyb290LGFmdGVyUG9zKTt9fTt2YXIgbmVlZHNUb0JlTmJzcD1mdW5jdGlvbiBuZWVkc1RvQmVOYnNwKHJvb3QscG9zKXtyZXR1cm4gbmVlZHNUb0JlTmJzcExlZnQocm9vdCxwb3MpfHxuZWVkc1RvQmVOYnNwUmlnaHQocm9vdCxwb3MpO307dmFyIGlzTmJzcEF0PWZ1bmN0aW9uIGlzTmJzcEF0KHRleHQsb2Zmc2V0KXtyZXR1cm4gaXNOYnNwKHRleHQuY2hhckF0KG9mZnNldCkpO307dmFyIGhhc05ic3A9ZnVuY3Rpb24gaGFzTmJzcChwb3Mpe3ZhciBjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO3JldHVybiBOb2RlVHlwZS5pc1RleHQoY29udGFpbmVyKSYmY29udGFpbnMkMShjb250YWluZXIuZGF0YSxuYnNwKTt9O3ZhciBub3JtYWxpemVOYnNwTWlkZGxlPWZ1bmN0aW9uIG5vcm1hbGl6ZU5ic3BNaWRkbGUodGV4dCl7dmFyIGNoYXJzPXRleHQuc3BsaXQoJycpO3JldHVybiBtYXAoY2hhcnMsZnVuY3Rpb24oY2hyLGkpe2lmKGlzTmJzcChjaHIpJiZpPjAmJmk8Y2hhcnMubGVuZ3RoLTEmJmlzQ29udGVudChjaGFyc1tpLTFdKSYmaXNDb250ZW50KGNoYXJzW2krMV0pKXtyZXR1cm4nICc7fWVsc2V7cmV0dXJuIGNocjt9fSkuam9pbignJyk7fTt2YXIgbm9ybWFsaXplTmJzcEF0U3RhcnQ9ZnVuY3Rpb24gbm9ybWFsaXplTmJzcEF0U3RhcnQocm9vdCxub2RlKXt2YXIgdGV4dD1ub2RlLmRhdGE7dmFyIGZpcnN0UG9zPUNhcmV0UG9zaXRpb24obm9kZSwwKTtpZihpc05ic3BBdCh0ZXh0LDApJiYhbmVlZHNUb0JlTmJzcChyb290LGZpcnN0UG9zKSl7bm9kZS5kYXRhPScgJyt0ZXh0LnNsaWNlKDEpO3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fTt2YXIgbm9ybWFsaXplTmJzcEluTWlkZGxlT2ZUZXh0Tm9kZT1mdW5jdGlvbiBub3JtYWxpemVOYnNwSW5NaWRkbGVPZlRleHROb2RlKG5vZGUpe3ZhciB0ZXh0PW5vZGUuZGF0YTt2YXIgbmV3VGV4dD1ub3JtYWxpemVOYnNwTWlkZGxlKHRleHQpO2lmKG5ld1RleHQhPT10ZXh0KXtub2RlLmRhdGE9bmV3VGV4dDtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIG5vcm1hbGl6ZU5ic3BBdEVuZD1mdW5jdGlvbiBub3JtYWxpemVOYnNwQXRFbmQocm9vdCxub2RlKXt2YXIgdGV4dD1ub2RlLmRhdGE7dmFyIGxhc3RQb3M9Q2FyZXRQb3NpdGlvbihub2RlLHRleHQubGVuZ3RoLTEpO2lmKGlzTmJzcEF0KHRleHQsdGV4dC5sZW5ndGgtMSkmJiFuZWVkc1RvQmVOYnNwKHJvb3QsbGFzdFBvcykpe25vZGUuZGF0YT10ZXh0LnNsaWNlKDAsLTEpKycgJztyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07dmFyIG5vcm1hbGl6ZU5ic3BzPWZ1bmN0aW9uIG5vcm1hbGl6ZU5ic3BzKHJvb3QscG9zKXtyZXR1cm4gT3B0aW9uLnNvbWUocG9zKS5maWx0ZXIoaGFzTmJzcCkuYmluZChmdW5jdGlvbihwb3Mpe3ZhciBjb250YWluZXI9cG9zLmNvbnRhaW5lcigpO3ZhciBub3JtYWxpemVkPW5vcm1hbGl6ZU5ic3BBdFN0YXJ0KHJvb3QsY29udGFpbmVyKXx8bm9ybWFsaXplTmJzcEluTWlkZGxlT2ZUZXh0Tm9kZShjb250YWluZXIpfHxub3JtYWxpemVOYnNwQXRFbmQocm9vdCxjb250YWluZXIpO3JldHVybiBub3JtYWxpemVkP09wdGlvbi5zb21lKHBvcyk6T3B0aW9uLm5vbmUoKTt9KTt9O3ZhciBub3JtYWxpemVOYnNwc0luRWRpdG9yPWZ1bmN0aW9uIG5vcm1hbGl6ZU5ic3BzSW5FZGl0b3IoZWRpdG9yKXt2YXIgcm9vdD1FbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSk7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXtub3JtYWxpemVOYnNwcyhyb290LENhcmV0UG9zaXRpb24uZnJvbVJhbmdlU3RhcnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSkpLmVhY2goZnVuY3Rpb24ocG9zKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhwb3MudG9SYW5nZSgpKTt9KTt9fTt2YXIgbG9jYXRpb25Ub0NhcmV0UG9zaXRpb249ZnVuY3Rpb24gbG9jYXRpb25Ub0NhcmV0UG9zaXRpb24ocm9vdCl7cmV0dXJuIGZ1bmN0aW9uKGxvY2F0aW9uKXtyZXR1cm4gbG9jYXRpb24uZm9sZChmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gQ2FyZXRGaW5kZXIucHJldlBvc2l0aW9uKHJvb3QuZG9tKCksQ2FyZXRQb3NpdGlvbiQxLmJlZm9yZShlbGVtZW50KSk7fSxmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gQ2FyZXRGaW5kZXIuZmlyc3RQb3NpdGlvbkluKGVsZW1lbnQpO30sZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIENhcmV0RmluZGVyLmxhc3RQb3NpdGlvbkluKGVsZW1lbnQpO30sZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIENhcmV0RmluZGVyLm5leHRQb3NpdGlvbihyb290LmRvbSgpLENhcmV0UG9zaXRpb24kMS5hZnRlcihlbGVtZW50KSk7fSk7fTt9O3ZhciBpbnNlcnRJbmxpbmVCb3VuZGFyeVNwYWNlT3JOYnNwPWZ1bmN0aW9uIGluc2VydElubGluZUJvdW5kYXJ5U3BhY2VPck5ic3Aocm9vdCxwb3Mpe3JldHVybiBmdW5jdGlvbihjaGVja1Bvcyl7cmV0dXJuIG5lZWRzVG9IYXZlTmJzcChyb290LGNoZWNrUG9zKT9pbnNlcnROYnNwQXRQb3NpdGlvbihwb3MpOmluc2VydFNwYWNlQXRQb3NpdGlvbihwb3MpO307fTt2YXIgc2V0U2VsZWN0aW9uJDE9ZnVuY3Rpb24gc2V0U2VsZWN0aW9uJDEoZWRpdG9yKXtyZXR1cm4gZnVuY3Rpb24ocG9zKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhwb3MudG9SYW5nZSgpKTtlZGl0b3Iubm9kZUNoYW5nZWQoKTtyZXR1cm4gdHJ1ZTt9O307dmFyIGluc2VydFNwYWNlT3JOYnNwQXRTZWxlY3Rpb249ZnVuY3Rpb24gaW5zZXJ0U3BhY2VPck5ic3BBdFNlbGVjdGlvbihlZGl0b3Ipe3ZhciBwb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpO3ZhciByb290PUVsZW1lbnQuZnJvbURvbShlZGl0b3IuZ2V0Qm9keSgpKTtpZihlZGl0b3Iuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpe3ZhciBpc0lubGluZVRhcmdldD1jdXJyeShJbmxpbmVVdGlscy5pc0lubGluZVRhcmdldCxlZGl0b3IpO3ZhciBjYXJldFBvc2l0aW9uPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gQm91bmRhcnlMb2NhdGlvbi5yZWFkTG9jYXRpb24oaXNJbmxpbmVUYXJnZXQsZWRpdG9yLmdldEJvZHkoKSxjYXJldFBvc2l0aW9uKS5iaW5kKGxvY2F0aW9uVG9DYXJldFBvc2l0aW9uKHJvb3QpKS5iaW5kKGluc2VydElubGluZUJvdW5kYXJ5U3BhY2VPck5ic3Aocm9vdCxwb3MpKS5leGlzdHMoc2V0U2VsZWN0aW9uJDEoZWRpdG9yKSk7fWVsc2V7cmV0dXJuIGZhbHNlO319O3ZhciBleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDI9ZnVuY3Rpb24gZXhlY3V0ZUtleWRvd25PdmVycmlkZSQyKGVkaXRvcixldnQpe01hdGNoS2V5cy5leGVjdXRlKFt7a2V5Q29kZTpWSy5TUEFDRUJBUixhY3Rpb246TWF0Y2hLZXlzLmFjdGlvbihpbnNlcnRTcGFjZU9yTmJzcEF0U2VsZWN0aW9uLGVkaXRvcil9XSxldnQpLmVhY2goZnVuY3Rpb24oXyl7ZXZ0LnByZXZlbnREZWZhdWx0KCk7fSk7fTt2YXIgc2V0dXAkYj1mdW5jdGlvbiBzZXR1cCRiKGVkaXRvcil7ZWRpdG9yLm9uKCdrZXlkb3duJyxmdW5jdGlvbihldnQpe2lmKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT09PWZhbHNlKXtleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDIoZWRpdG9yLGV2dCk7fX0pO307dmFyIFNwYWNlS2V5PXtzZXR1cDpzZXR1cCRifTt2YXIgZmluZEJsb2NrQ2FyZXRDb250YWluZXI9ZnVuY3Rpb24gZmluZEJsb2NrQ2FyZXRDb250YWluZXIoZWRpdG9yKXtyZXR1cm4gZGVzY2VuZGFudChFbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSksJypbZGF0YS1tY2UtY2FyZXRdJykuZm9sZChjb25zdGFudChudWxsKSxmdW5jdGlvbihlbG0pe3JldHVybiBlbG0uZG9tKCk7fSk7fTt2YXIgcmVtb3ZlSWVDb250cm9sUmVjdD1mdW5jdGlvbiByZW1vdmVJZUNvbnRyb2xSZWN0KGVkaXRvcil7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7fTt2YXIgc2hvd0Jsb2NrQ2FyZXRDb250YWluZXI9ZnVuY3Rpb24gc2hvd0Jsb2NrQ2FyZXRDb250YWluZXIoZWRpdG9yLGJsb2NrQ2FyZXRDb250YWluZXIpe2lmKGJsb2NrQ2FyZXRDb250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLW1jZS1jYXJldCcpKXtzaG93Q2FyZXRDb250YWluZXJCbG9jayhibG9ja0NhcmV0Q29udGFpbmVyKTtyZW1vdmVJZUNvbnRyb2xSZWN0KGVkaXRvcik7ZWRpdG9yLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyhibG9ja0NhcmV0Q29udGFpbmVyKTt9fTt2YXIgaGFuZGxlQmxvY2tDb250YWluZXI9ZnVuY3Rpb24gaGFuZGxlQmxvY2tDb250YWluZXIoZWRpdG9yLGUpe3ZhciBibG9ja0NhcmV0Q29udGFpbmVyPWZpbmRCbG9ja0NhcmV0Q29udGFpbmVyKGVkaXRvcik7aWYoIWJsb2NrQ2FyZXRDb250YWluZXIpe3JldHVybjt9aWYoZS50eXBlPT09J2NvbXBvc2l0aW9uc3RhcnQnKXtlLnByZXZlbnREZWZhdWx0KCk7ZS5zdG9wUHJvcGFnYXRpb24oKTtzaG93QmxvY2tDYXJldENvbnRhaW5lcihlZGl0b3IsYmxvY2tDYXJldENvbnRhaW5lcik7cmV0dXJuO31pZihoYXNDb250ZW50KGJsb2NrQ2FyZXRDb250YWluZXIpKXtzaG93QmxvY2tDYXJldENvbnRhaW5lcihlZGl0b3IsYmxvY2tDYXJldENvbnRhaW5lcik7ZWRpdG9yLnVuZG9NYW5hZ2VyLmFkZCgpO319O3ZhciBzZXR1cCRjPWZ1bmN0aW9uIHNldHVwJGMoZWRpdG9yKXtlZGl0b3Iub24oJ2tleXVwIGNvbXBvc2l0aW9uc3RhcnQnLGN1cnJ5KGhhbmRsZUJsb2NrQ29udGFpbmVyLGVkaXRvcikpO307dmFyIENhcmV0Q29udGFpbmVySW5wdXQ9e3NldHVwOnNldHVwJGN9O3ZhciBicm93c2VyJDU9ZGV0ZWN0JDMoKS5icm93c2VyO3ZhciBzZXR1cEllSW5wdXQ9ZnVuY3Rpb24gc2V0dXBJZUlucHV0KGVkaXRvcil7dmFyIGtleXByZXNzVGhyb3R0ZXI9Zmlyc3QoZnVuY3Rpb24oKXtpZighZWRpdG9yLmNvbXBvc2luZyl7bm9ybWFsaXplTmJzcHNJbkVkaXRvcihlZGl0b3IpO319LDApO2lmKGJyb3dzZXIkNS5pc0lFKCkpe2VkaXRvci5vbigna2V5cHJlc3MnLGZ1bmN0aW9uKGUpe2tleXByZXNzVGhyb3R0ZXIudGhyb3R0bGUoKTt9KTtlZGl0b3Iub24oJ3JlbW92ZScsZnVuY3Rpb24oZSl7a2V5cHJlc3NUaHJvdHRlci5jYW5jZWwoKTt9KTt9fTt2YXIgc2V0dXAkZD1mdW5jdGlvbiBzZXR1cCRkKGVkaXRvcil7c2V0dXBJZUlucHV0KGVkaXRvcik7ZWRpdG9yLm9uKCdpbnB1dCcsZnVuY3Rpb24oZSl7aWYoZS5pc0NvbXBvc2luZz09PWZhbHNlKXtub3JtYWxpemVOYnNwc0luRWRpdG9yKGVkaXRvcik7fX0pO307dmFyIGV4ZWN1dGVLZXlkb3duT3ZlcnJpZGUkMz1mdW5jdGlvbiBleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDMoZWRpdG9yLGV2dCl7TWF0Y2hLZXlzLmV4ZWN1dGUoW3trZXlDb2RlOlZLLkVORCxhY3Rpb246bW92ZVRvTGluZUVuZFBvaW50KGVkaXRvcix0cnVlKX0se2tleUNvZGU6VksuSE9NRSxhY3Rpb246bW92ZVRvTGluZUVuZFBvaW50KGVkaXRvcixmYWxzZSl9XSxldnQpLmVhY2goZnVuY3Rpb24oXyl7ZXZ0LnByZXZlbnREZWZhdWx0KCk7fSk7fTt2YXIgc2V0dXAkZT1mdW5jdGlvbiBzZXR1cCRlKGVkaXRvcil7ZWRpdG9yLm9uKCdrZXlkb3duJyxmdW5jdGlvbihldnQpe2lmKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT09PWZhbHNlKXtleGVjdXRlS2V5ZG93bk92ZXJyaWRlJDMoZWRpdG9yLGV2dCk7fX0pO307dmFyIEhvbWVFbmRLZXlzPXtzZXR1cDpzZXR1cCRlfTt2YXIgc2V0dXAkZj1mdW5jdGlvbiBzZXR1cCRmKGVkaXRvcil7dmFyIGNhcmV0PUJvdW5kYXJ5U2VsZWN0aW9uLnNldHVwU2VsZWN0ZWRTdGF0ZShlZGl0b3IpO0NhcmV0Q29udGFpbmVySW5wdXQuc2V0dXAoZWRpdG9yKTtBcnJvd0tleXMuc2V0dXAoZWRpdG9yLGNhcmV0KTtEZWxldGVCYWNrc3BhY2VLZXlzLnNldHVwKGVkaXRvcixjYXJldCk7RW50ZXJLZXkuc2V0dXAoZWRpdG9yKTtTcGFjZUtleS5zZXR1cChlZGl0b3IpO3NldHVwJGQoZWRpdG9yKTtIb21lRW5kS2V5cy5zZXR1cChlZGl0b3IpO307dmFyIEtleWJvYXJkT3ZlcnJpZGVzPXtzZXR1cDpzZXR1cCRmfTt2YXIgUXVpcmtzPWZ1bmN0aW9uIFF1aXJrcyhlZGl0b3Ipe3ZhciBlYWNoPVRvb2xzLmVhY2g7dmFyIEJBQ0tTUEFDRT1WSy5CQUNLU1BBQ0UsREVMRVRFPVZLLkRFTEVURSxkb209ZWRpdG9yLmRvbSxzZWxlY3Rpb249ZWRpdG9yLnNlbGVjdGlvbixzZXR0aW5ncz1lZGl0b3Iuc2V0dGluZ3MscGFyc2VyPWVkaXRvci5wYXJzZXI7dmFyIGlzR2Vja289RW52LmdlY2tvLGlzSUU9RW52LmllLGlzV2ViS2l0PUVudi53ZWJraXQ7dmFyIG1jZUludGVybmFsVXJsUHJlZml4PSdkYXRhOnRleHQvbWNlLWludGVybmFsLCc7dmFyIG1jZUludGVybmFsRGF0YVR5cGU9aXNJRT8nVGV4dCc6J1VSTCc7dmFyIHNldEVkaXRvckNvbW1hbmRTdGF0ZT1mdW5jdGlvbiBzZXRFZGl0b3JDb21tYW5kU3RhdGUoY21kLHN0YXRlKXt0cnl7ZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKGNtZCxmYWxzZSxzdGF0ZSk7fWNhdGNoKGV4KXt9fTt2YXIgaXNEZWZhdWx0UHJldmVudGVkPWZ1bmN0aW9uIGlzRGVmYXVsdFByZXZlbnRlZChlKXtyZXR1cm4gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKTt9O3ZhciBzZXRNY2VJbnRlcm5hbENvbnRlbnQ9ZnVuY3Rpb24gc2V0TWNlSW50ZXJuYWxDb250ZW50KGUpe3ZhciBzZWxlY3Rpb25IdG1sLGludGVybmFsQ29udGVudDtpZihlLmRhdGFUcmFuc2Zlcil7aWYoZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZlLnRhcmdldC50YWdOYW1lPT09J0lNRycpe3NlbGVjdGlvbi5zZWxlY3QoZS50YXJnZXQpO31zZWxlY3Rpb25IdG1sPWVkaXRvci5zZWxlY3Rpb24uZ2V0Q29udGVudCgpO2lmKHNlbGVjdGlvbkh0bWwubGVuZ3RoPjApe2ludGVybmFsQ29udGVudD1tY2VJbnRlcm5hbFVybFByZWZpeCtlc2NhcGUoZWRpdG9yLmlkKSsnLCcrZXNjYXBlKHNlbGVjdGlvbkh0bWwpO2UuZGF0YVRyYW5zZmVyLnNldERhdGEobWNlSW50ZXJuYWxEYXRhVHlwZSxpbnRlcm5hbENvbnRlbnQpO319fTt2YXIgZ2V0TWNlSW50ZXJuYWxDb250ZW50PWZ1bmN0aW9uIGdldE1jZUludGVybmFsQ29udGVudChlKXt2YXIgaW50ZXJuYWxDb250ZW50O2lmKGUuZGF0YVRyYW5zZmVyKXtpbnRlcm5hbENvbnRlbnQ9ZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShtY2VJbnRlcm5hbERhdGFUeXBlKTtpZihpbnRlcm5hbENvbnRlbnQmJmludGVybmFsQ29udGVudC5pbmRleE9mKG1jZUludGVybmFsVXJsUHJlZml4KT49MCl7aW50ZXJuYWxDb250ZW50PWludGVybmFsQ29udGVudC5zdWJzdHIobWNlSW50ZXJuYWxVcmxQcmVmaXgubGVuZ3RoKS5zcGxpdCgnLCcpO3JldHVybntpZDp1bmVzY2FwZShpbnRlcm5hbENvbnRlbnRbMF0pLGh0bWw6dW5lc2NhcGUoaW50ZXJuYWxDb250ZW50WzFdKX07fX1yZXR1cm4gbnVsbDt9O3ZhciBpbnNlcnRDbGlwYm9hcmRDb250ZW50cz1mdW5jdGlvbiBpbnNlcnRDbGlwYm9hcmRDb250ZW50cyhjb250ZW50LGludGVybmFsKXtpZihlZGl0b3IucXVlcnlDb21tYW5kU3VwcG9ydGVkKCdtY2VJbnNlcnRDbGlwYm9hcmRDb250ZW50Jykpe2VkaXRvci5leGVjQ29tbWFuZCgnbWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCcsZmFsc2Use2NvbnRlbnQ6Y29udGVudCxpbnRlcm5hbDppbnRlcm5hbH0pO31lbHNle2VkaXRvci5leGVjQ29tbWFuZCgnbWNlSW5zZXJ0Q29udGVudCcsZmFsc2UsY29udGVudCk7fX07dmFyIGVtcHR5RWRpdG9yV2hlbkRlbGV0aW5nPWZ1bmN0aW9uIGVtcHR5RWRpdG9yV2hlbkRlbGV0aW5nKCl7dmFyIHNlcmlhbGl6ZVJuZz1mdW5jdGlvbiBzZXJpYWxpemVSbmcocm5nKXt2YXIgYm9keT1kb20uY3JlYXRlKCdib2R5Jyk7dmFyIGNvbnRlbnRzPXJuZy5jbG9uZUNvbnRlbnRzKCk7Ym9keS5hcHBlbmRDaGlsZChjb250ZW50cyk7cmV0dXJuIHNlbGVjdGlvbi5zZXJpYWxpemVyLnNlcmlhbGl6ZShib2R5LHtmb3JtYXQ6J2h0bWwnfSk7fTt2YXIgYWxsQ29udGVudHNTZWxlY3RlZD1mdW5jdGlvbiBhbGxDb250ZW50c1NlbGVjdGVkKHJuZyl7dmFyIHNlbGVjdGlvbj1zZXJpYWxpemVSbmcocm5nKTt2YXIgYWxsUm5nPWRvbS5jcmVhdGVSbmcoKTthbGxSbmcuc2VsZWN0Tm9kZShlZGl0b3IuZ2V0Qm9keSgpKTt2YXIgYWxsU2VsZWN0aW9uPXNlcmlhbGl6ZVJuZyhhbGxSbmcpO3JldHVybiBzZWxlY3Rpb249PT1hbGxTZWxlY3Rpb247fTtlZGl0b3Iub24oJ2tleWRvd24nLGZ1bmN0aW9uKGUpe3ZhciBrZXlDb2RlPWUua2V5Q29kZTt2YXIgaXNDb2xsYXBzZWQsYm9keTtpZighaXNEZWZhdWx0UHJldmVudGVkKGUpJiYoa2V5Q29kZT09PURFTEVURXx8a2V5Q29kZT09PUJBQ0tTUEFDRSkpe2lzQ29sbGFwc2VkPWVkaXRvci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKTtib2R5PWVkaXRvci5nZXRCb2R5KCk7aWYoaXNDb2xsYXBzZWQmJiFkb20uaXNFbXB0eShib2R5KSl7cmV0dXJuO31pZighaXNDb2xsYXBzZWQmJiFhbGxDb250ZW50c1NlbGVjdGVkKGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpKXtyZXR1cm47fWUucHJldmVudERlZmF1bHQoKTtlZGl0b3Iuc2V0Q29udGVudCgnJyk7aWYoYm9keS5maXJzdENoaWxkJiZkb20uaXNCbG9jayhib2R5LmZpcnN0Q2hpbGQpKXtlZGl0b3Iuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGJvZHkuZmlyc3RDaGlsZCwwKTt9ZWxzZXtlZGl0b3Iuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGJvZHksMCk7fWVkaXRvci5ub2RlQ2hhbmdlZCgpO319KTt9O3ZhciBzZWxlY3RBbGw9ZnVuY3Rpb24gc2VsZWN0QWxsKCl7ZWRpdG9yLnNob3J0Y3V0cy5hZGQoJ21ldGErYScsbnVsbCwnU2VsZWN0QWxsJyk7fTt2YXIgaW5wdXRNZXRob2RGb2N1cz1mdW5jdGlvbiBpbnB1dE1ldGhvZEZvY3VzKCl7aWYoIWVkaXRvci5pbmxpbmUpe2RvbS5iaW5kKGVkaXRvci5nZXREb2MoKSwnbW91c2Vkb3duIG1vdXNldXAnLGZ1bmN0aW9uKGUpe3ZhciBybmc7aWYoZS50YXJnZXQ9PT1lZGl0b3IuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50KXtybmc9c2VsZWN0aW9uLmdldFJuZygpO2VkaXRvci5nZXRCb2R5KCkuZm9jdXMoKTtpZihlLnR5cGU9PT0nbW91c2Vkb3duJyl7aWYoaXNDYXJldENvbnRhaW5lcihybmcuc3RhcnRDb250YWluZXIpKXtyZXR1cm47fXNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLGUuY2xpZW50WSk7fWVsc2V7c2VsZWN0aW9uLnNldFJuZyhybmcpO319fSk7fX07dmFyIHJlbW92ZUhyT25CYWNrc3BhY2U9ZnVuY3Rpb24gcmVtb3ZlSHJPbkJhY2tzcGFjZSgpe2VkaXRvci5vbigna2V5ZG93bicsZnVuY3Rpb24oZSl7aWYoIWlzRGVmYXVsdFByZXZlbnRlZChlKSYmZS5rZXlDb2RlPT09QkFDS1NQQUNFKXtpZighZWRpdG9yLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHInKS5sZW5ndGgpe3JldHVybjt9aWYoc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJnNlbGVjdGlvbi5nZXRSbmcoKS5zdGFydE9mZnNldD09PTApe3ZhciBub2RlPXNlbGVjdGlvbi5nZXROb2RlKCk7dmFyIHByZXZpb3VzU2libGluZz1ub2RlLnByZXZpb3VzU2libGluZztpZihub2RlLm5vZGVOYW1lPT09J0hSJyl7ZG9tLnJlbW92ZShub2RlKTtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuO31pZihwcmV2aW91c1NpYmxpbmcmJnByZXZpb3VzU2libGluZy5ub2RlTmFtZSYmcHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0naHInKXtkb20ucmVtb3ZlKHByZXZpb3VzU2libGluZyk7ZS5wcmV2ZW50RGVmYXVsdCgpO319fX0pO307dmFyIGZvY3VzQm9keT1mdW5jdGlvbiBmb2N1c0JvZHkoKXtpZighZG9tR2xvYmFscy5SYW5nZS5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdHMpe2VkaXRvci5vbignbW91c2Vkb3duJyxmdW5jdGlvbihlKXtpZighaXNEZWZhdWx0UHJldmVudGVkKGUpJiZlLnRhcmdldC5ub2RlTmFtZT09PSdIVE1MJyl7dmFyIGJvZHlfMT1lZGl0b3IuZ2V0Qm9keSgpO2JvZHlfMS5ibHVyKCk7RGVsYXkuc2V0RWRpdG9yVGltZW91dChlZGl0b3IsZnVuY3Rpb24oKXtib2R5XzEuZm9jdXMoKTt9KTt9fSk7fX07dmFyIHNlbGVjdENvbnRyb2xFbGVtZW50cz1mdW5jdGlvbiBzZWxlY3RDb250cm9sRWxlbWVudHMoKXtlZGl0b3Iub24oJ2NsaWNrJyxmdW5jdGlvbihlKXt2YXIgdGFyZ2V0PWUudGFyZ2V0O2lmKC9eKElNR3xIUikkLy50ZXN0KHRhcmdldC5ub2RlTmFtZSkmJmRvbS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodGFyZ2V0KSE9PSdmYWxzZScpe2UucHJldmVudERlZmF1bHQoKTtlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdCh0YXJnZXQpO2VkaXRvci5ub2RlQ2hhbmdlZCgpO31pZih0YXJnZXQubm9kZU5hbWU9PT0nQScmJmRvbS5oYXNDbGFzcyh0YXJnZXQsJ21jZS1pdGVtLWFuY2hvcicpKXtlLnByZXZlbnREZWZhdWx0KCk7c2VsZWN0aW9uLnNlbGVjdCh0YXJnZXQpO319KTt9O3ZhciByZW1vdmVTdHlsZXNXaGVuRGVsZXRpbmdBY3Jvc3NCbG9ja0VsZW1lbnRzPWZ1bmN0aW9uIHJlbW92ZVN0eWxlc1doZW5EZWxldGluZ0Fjcm9zc0Jsb2NrRWxlbWVudHMoKXt2YXIgZ2V0QXR0cmlidXRlQXBwbHlGdW5jdGlvbj1mdW5jdGlvbiBnZXRBdHRyaWJ1dGVBcHBseUZ1bmN0aW9uKCl7dmFyIHRlbXBsYXRlPWRvbS5nZXRBdHRyaWJzKHNlbGVjdGlvbi5nZXRTdGFydCgpLmNsb25lTm9kZShmYWxzZSkpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0YXJnZXQ9c2VsZWN0aW9uLmdldFN0YXJ0KCk7aWYodGFyZ2V0IT09ZWRpdG9yLmdldEJvZHkoKSl7ZG9tLnNldEF0dHJpYih0YXJnZXQsJ3N0eWxlJyxudWxsKTtlYWNoKHRlbXBsYXRlLGZ1bmN0aW9uKGF0dHIpe3RhcmdldC5zZXRBdHRyaWJ1dGVOb2RlKGF0dHIuY2xvbmVOb2RlKHRydWUpKTt9KTt9fTt9O3ZhciBpc1NlbGVjdGlvbkFjcm9zc0VsZW1lbnRzPWZ1bmN0aW9uIGlzU2VsZWN0aW9uQWNyb3NzRWxlbWVudHMoKXtyZXR1cm4hc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJmRvbS5nZXRQYXJlbnQoc2VsZWN0aW9uLmdldFN0YXJ0KCksZG9tLmlzQmxvY2spIT09ZG9tLmdldFBhcmVudChzZWxlY3Rpb24uZ2V0RW5kKCksZG9tLmlzQmxvY2spO307ZWRpdG9yLm9uKCdrZXlwcmVzcycsZnVuY3Rpb24oZSl7dmFyIGFwcGx5QXR0cmlidXRlcztpZighaXNEZWZhdWx0UHJldmVudGVkKGUpJiYoZS5rZXlDb2RlPT09OHx8ZS5rZXlDb2RlPT09NDYpJiZpc1NlbGVjdGlvbkFjcm9zc0VsZW1lbnRzKCkpe2FwcGx5QXR0cmlidXRlcz1nZXRBdHRyaWJ1dGVBcHBseUZ1bmN0aW9uKCk7ZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKCdkZWxldGUnLGZhbHNlLG51bGwpO2FwcGx5QXR0cmlidXRlcygpO2UucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2U7fX0pO2RvbS5iaW5kKGVkaXRvci5nZXREb2MoKSwnY3V0JyxmdW5jdGlvbihlKXt2YXIgYXBwbHlBdHRyaWJ1dGVzO2lmKCFpc0RlZmF1bHRQcmV2ZW50ZWQoZSkmJmlzU2VsZWN0aW9uQWNyb3NzRWxlbWVudHMoKSl7YXBwbHlBdHRyaWJ1dGVzPWdldEF0dHJpYnV0ZUFwcGx5RnVuY3Rpb24oKTtEZWxheS5zZXRFZGl0b3JUaW1lb3V0KGVkaXRvcixmdW5jdGlvbigpe2FwcGx5QXR0cmlidXRlcygpO30pO319KTt9O3ZhciBkaXNhYmxlQmFja3NwYWNlSW50b0FUYWJsZT1mdW5jdGlvbiBkaXNhYmxlQmFja3NwYWNlSW50b0FUYWJsZSgpe2VkaXRvci5vbigna2V5ZG93bicsZnVuY3Rpb24oZSl7aWYoIWlzRGVmYXVsdFByZXZlbnRlZChlKSYmZS5rZXlDb2RlPT09QkFDS1NQQUNFKXtpZihzZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmc2VsZWN0aW9uLmdldFJuZygpLnN0YXJ0T2Zmc2V0PT09MCl7dmFyIHByZXZpb3VzU2libGluZz1zZWxlY3Rpb24uZ2V0Tm9kZSgpLnByZXZpb3VzU2libGluZztpZihwcmV2aW91c1NpYmxpbmcmJnByZXZpb3VzU2libGluZy5ub2RlTmFtZSYmcHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0ndGFibGUnKXtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlO319fX0pO307dmFyIHJlbW92ZUJsb2NrUXVvdGVPbkJhY2tTcGFjZT1mdW5jdGlvbiByZW1vdmVCbG9ja1F1b3RlT25CYWNrU3BhY2UoKXtlZGl0b3Iub24oJ2tleWRvd24nLGZ1bmN0aW9uKGUpe3ZhciBybmcsY29udGFpbmVyLG9mZnNldCxyb290LHBhcmVudDtpZihpc0RlZmF1bHRQcmV2ZW50ZWQoZSl8fGUua2V5Q29kZSE9PVZLLkJBQ0tTUEFDRSl7cmV0dXJuO31ybmc9c2VsZWN0aW9uLmdldFJuZygpO2NvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7b2Zmc2V0PXJuZy5zdGFydE9mZnNldDtyb290PWRvbS5nZXRSb290KCk7cGFyZW50PWNvbnRhaW5lcjtpZighcm5nLmNvbGxhcHNlZHx8b2Zmc2V0IT09MCl7cmV0dXJuO313aGlsZShwYXJlbnQmJnBhcmVudC5wYXJlbnROb2RlJiZwYXJlbnQucGFyZW50Tm9kZS5maXJzdENoaWxkPT09cGFyZW50JiZwYXJlbnQucGFyZW50Tm9kZSE9PXJvb3Qpe3BhcmVudD1wYXJlbnQucGFyZW50Tm9kZTt9aWYocGFyZW50LnRhZ05hbWU9PT0nQkxPQ0tRVU9URScpe2VkaXRvci5mb3JtYXR0ZXIudG9nZ2xlKCdibG9ja3F1b3RlJyxudWxsLHBhcmVudCk7cm5nPWRvbS5jcmVhdGVSbmcoKTtybmcuc2V0U3RhcnQoY29udGFpbmVyLDApO3JuZy5zZXRFbmQoY29udGFpbmVyLDApO3NlbGVjdGlvbi5zZXRSbmcocm5nKTt9fSk7fTt2YXIgc2V0R2Vja29FZGl0aW5nT3B0aW9ucz1mdW5jdGlvbiBzZXRHZWNrb0VkaXRpbmdPcHRpb25zKCl7dmFyIHNldE9wdHM9ZnVuY3Rpb24gc2V0T3B0cygpe3NldEVkaXRvckNvbW1hbmRTdGF0ZSgnU3R5bGVXaXRoQ1NTJyxmYWxzZSk7c2V0RWRpdG9yQ29tbWFuZFN0YXRlKCdlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmcnLGZhbHNlKTtpZighc2V0dGluZ3Mub2JqZWN0X3Jlc2l6aW5nKXtzZXRFZGl0b3JDb21tYW5kU3RhdGUoJ2VuYWJsZU9iamVjdFJlc2l6aW5nJyxmYWxzZSk7fX07aWYoIXNldHRpbmdzLnJlYWRvbmx5KXtlZGl0b3Iub24oJ0JlZm9yZUV4ZWNDb21tYW5kIG1vdXNlZG93bicsc2V0T3B0cyk7fX07dmFyIGFkZEJyQWZ0ZXJMYXN0TGlua3M9ZnVuY3Rpb24gYWRkQnJBZnRlckxhc3RMaW5rcygpe3ZhciBmaXhMaW5rcz1mdW5jdGlvbiBmaXhMaW5rcygpe2VhY2goZG9tLnNlbGVjdCgnYScpLGZ1bmN0aW9uKG5vZGUpe3ZhciBwYXJlbnROb2RlPW5vZGUucGFyZW50Tm9kZTt2YXIgcm9vdD1kb20uZ2V0Um9vdCgpO2lmKHBhcmVudE5vZGUubGFzdENoaWxkPT09bm9kZSl7d2hpbGUocGFyZW50Tm9kZSYmIWRvbS5pc0Jsb2NrKHBhcmVudE5vZGUpKXtpZihwYXJlbnROb2RlLnBhcmVudE5vZGUubGFzdENoaWxkIT09cGFyZW50Tm9kZXx8cGFyZW50Tm9kZT09PXJvb3Qpe3JldHVybjt9cGFyZW50Tm9kZT1wYXJlbnROb2RlLnBhcmVudE5vZGU7fWRvbS5hZGQocGFyZW50Tm9kZSwnYnInLHsnZGF0YS1tY2UtYm9ndXMnOjF9KTt9fSk7fTtlZGl0b3Iub24oJ1NldENvbnRlbnQgRXhlY0NvbW1hbmQnLGZ1bmN0aW9uKGUpe2lmKGUudHlwZT09PSdzZXRjb250ZW50J3x8ZS5jb21tYW5kPT09J21jZUluc2VydExpbmsnKXtmaXhMaW5rcygpO319KTt9O3ZhciBzZXREZWZhdWx0QmxvY2tUeXBlPWZ1bmN0aW9uIHNldERlZmF1bHRCbG9ja1R5cGUoKXtpZihzZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jayl7ZWRpdG9yLm9uKCdpbml0JyxmdW5jdGlvbigpe3NldEVkaXRvckNvbW1hbmRTdGF0ZSgnRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvcicsU2V0dGluZ3MuZ2V0Rm9yY2VkUm9vdEJsb2NrKGVkaXRvcikpO30pO319O3ZhciBub3JtYWxpemVTZWxlY3Rpb249ZnVuY3Rpb24gbm9ybWFsaXplU2VsZWN0aW9uKCl7ZWRpdG9yLm9uKCdrZXl1cCBmb2N1c2luIG1vdXNldXAnLGZ1bmN0aW9uKGUpe2lmKCFWSy5tb2RpZmllclByZXNzZWQoZSkpe3NlbGVjdGlvbi5ub3JtYWxpemUoKTt9fSx0cnVlKTt9O3ZhciBzaG93QnJva2VuSW1hZ2VJY29uPWZ1bmN0aW9uIHNob3dCcm9rZW5JbWFnZUljb24oKXtlZGl0b3IuY29udGVudFN0eWxlcy5wdXNoKCdpbWc6LW1vei1icm9rZW4geycrJy1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTsnKydtaW4td2lkdGg6MjRweDsnKydtaW4taGVpZ2h0OjI0cHgnKyd9Jyk7fTt2YXIgcmVzdG9yZUZvY3VzT25LZXlEb3duPWZ1bmN0aW9uIHJlc3RvcmVGb2N1c09uS2V5RG93bigpe2lmKCFlZGl0b3IuaW5saW5lKXtlZGl0b3Iub24oJ2tleWRvd24nLGZ1bmN0aW9uKCl7aWYoZG9tR2xvYmFscy5kb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZG9tR2xvYmFscy5kb2N1bWVudC5ib2R5KXtlZGl0b3IuZ2V0V2luKCkuZm9jdXMoKTt9fSk7fX07dmFyIGJvZHlIZWlnaHQ9ZnVuY3Rpb24gYm9keUhlaWdodCgpe2lmKCFlZGl0b3IuaW5saW5lKXtlZGl0b3IuY29udGVudFN0eWxlcy5wdXNoKCdib2R5IHttaW4taGVpZ2h0OiAxNTBweH0nKTtlZGl0b3Iub24oJ2NsaWNrJyxmdW5jdGlvbihlKXt2YXIgcm5nO2lmKGUudGFyZ2V0Lm5vZGVOYW1lPT09J0hUTUwnKXtpZihFbnYuaWU+MTEpe2VkaXRvci5nZXRCb2R5KCkuZm9jdXMoKTtyZXR1cm47fXJuZz1lZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpO2VkaXRvci5nZXRCb2R5KCkuZm9jdXMoKTtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhybmcpO2VkaXRvci5zZWxlY3Rpb24ubm9ybWFsaXplKCk7ZWRpdG9yLm5vZGVDaGFuZ2VkKCk7fX0pO319O3ZhciBibG9ja0NtZEFycm93TmF2aWdhdGlvbj1mdW5jdGlvbiBibG9ja0NtZEFycm93TmF2aWdhdGlvbigpe2lmKEVudi5tYWMpe2VkaXRvci5vbigna2V5ZG93bicsZnVuY3Rpb24oZSl7aWYoVksubWV0YUtleVByZXNzZWQoZSkmJiFlLnNoaWZ0S2V5JiYoZS5rZXlDb2RlPT09Mzd8fGUua2V5Q29kZT09PTM5KSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzZWxlY3Rpb25fMT1lZGl0b3Iuc2VsZWN0aW9uLmdldFNlbCgpO3NlbGVjdGlvbl8xLm1vZGlmeSgnbW92ZScsZS5rZXlDb2RlPT09Mzc/J2JhY2t3YXJkJzonZm9yd2FyZCcsJ2xpbmVib3VuZGFyeScpO319KTt9fTt2YXIgZGlzYWJsZUF1dG9VcmxEZXRlY3Q9ZnVuY3Rpb24gZGlzYWJsZUF1dG9VcmxEZXRlY3QoKXtzZXRFZGl0b3JDb21tYW5kU3RhdGUoJ0F1dG9VcmxEZXRlY3QnLGZhbHNlKTt9O3ZhciB0YXBMaW5rc0FuZEltYWdlcz1mdW5jdGlvbiB0YXBMaW5rc0FuZEltYWdlcygpe2VkaXRvci5vbignY2xpY2snLGZ1bmN0aW9uKGUpe3ZhciBlbG09ZS50YXJnZXQ7ZG97aWYoZWxtLnRhZ05hbWU9PT0nQScpe2UucHJldmVudERlZmF1bHQoKTtyZXR1cm47fX13aGlsZShlbG09ZWxtLnBhcmVudE5vZGUpO30pO2VkaXRvci5jb250ZW50U3R5bGVzLnB1c2goJy5tY2UtY29udGVudC1ib2R5IHstd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmV9Jyk7fTt2YXIgYmxvY2tGb3JtU3VibWl0SW5zaWRlRWRpdG9yPWZ1bmN0aW9uIGJsb2NrRm9ybVN1Ym1pdEluc2lkZUVkaXRvcigpe2VkaXRvci5vbignaW5pdCcsZnVuY3Rpb24oKXtlZGl0b3IuZG9tLmJpbmQoZWRpdG9yLmdldEJvZHkoKSwnc3VibWl0JyxmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7fSk7fSk7fTt2YXIgcmVtb3ZlQXBwbGVJbnRlcmNoYW5nZUJycz1mdW5jdGlvbiByZW1vdmVBcHBsZUludGVyY2hhbmdlQnJzKCl7cGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ2JyJyxmdW5jdGlvbihub2Rlcyl7dmFyIGk9bm9kZXMubGVuZ3RoO3doaWxlKGktLSl7aWYobm9kZXNbaV0uYXR0cignY2xhc3MnKT09PSdBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lJyl7bm9kZXNbaV0ucmVtb3ZlKCk7fX19KTt9O3ZhciBpZUludGVybmFsRHJhZ0FuZERyb3A9ZnVuY3Rpb24gaWVJbnRlcm5hbERyYWdBbmREcm9wKCl7ZWRpdG9yLm9uKCdkcmFnc3RhcnQnLGZ1bmN0aW9uKGUpe3NldE1jZUludGVybmFsQ29udGVudChlKTt9KTtlZGl0b3Iub24oJ2Ryb3AnLGZ1bmN0aW9uKGUpe2lmKCFpc0RlZmF1bHRQcmV2ZW50ZWQoZSkpe3ZhciBpbnRlcm5hbENvbnRlbnQ9Z2V0TWNlSW50ZXJuYWxDb250ZW50KGUpO2lmKGludGVybmFsQ29udGVudCYmaW50ZXJuYWxDb250ZW50LmlkIT09ZWRpdG9yLmlkKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHJuZz1DYXJldFJhbmdlRnJvbVBvaW50LmZyb21Qb2ludChlLngsZS55LGVkaXRvci5nZXREb2MoKSk7c2VsZWN0aW9uLnNldFJuZyhybmcpO2luc2VydENsaXBib2FyZENvbnRlbnRzKGludGVybmFsQ29udGVudC5odG1sLHRydWUpO319fSk7fTt2YXIgcmVmcmVzaENvbnRlbnRFZGl0YWJsZT1mdW5jdGlvbiByZWZyZXNoQ29udGVudEVkaXRhYmxlKCl7fTt2YXIgaXNIaWRkZW49ZnVuY3Rpb24gaXNIaWRkZW4oKXt2YXIgc2VsO2lmKCFpc0dlY2tvfHxlZGl0b3IucmVtb3ZlZCl7cmV0dXJuIGZhbHNlO31zZWw9ZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4hc2VsfHwhc2VsLnJhbmdlQ291bnR8fHNlbC5yYW5nZUNvdW50PT09MDt9O3JlbW92ZUJsb2NrUXVvdGVPbkJhY2tTcGFjZSgpO2VtcHR5RWRpdG9yV2hlbkRlbGV0aW5nKCk7aWYoIUVudi53aW5kb3dzUGhvbmUpe25vcm1hbGl6ZVNlbGVjdGlvbigpO31pZihpc1dlYktpdCl7aW5wdXRNZXRob2RGb2N1cygpO3NlbGVjdENvbnRyb2xFbGVtZW50cygpO3NldERlZmF1bHRCbG9ja1R5cGUoKTtibG9ja0Zvcm1TdWJtaXRJbnNpZGVFZGl0b3IoKTtkaXNhYmxlQmFja3NwYWNlSW50b0FUYWJsZSgpO3JlbW92ZUFwcGxlSW50ZXJjaGFuZ2VCcnMoKTtpZihFbnYuaU9TKXtyZXN0b3JlRm9jdXNPbktleURvd24oKTtib2R5SGVpZ2h0KCk7dGFwTGlua3NBbmRJbWFnZXMoKTt9ZWxzZXtzZWxlY3RBbGwoKTt9fWlmKEVudi5pZT49MTEpe2JvZHlIZWlnaHQoKTtkaXNhYmxlQmFja3NwYWNlSW50b0FUYWJsZSgpO31pZihFbnYuaWUpe3NlbGVjdEFsbCgpO2Rpc2FibGVBdXRvVXJsRGV0ZWN0KCk7aWVJbnRlcm5hbERyYWdBbmREcm9wKCk7fWlmKGlzR2Vja28pe3JlbW92ZUhyT25CYWNrc3BhY2UoKTtmb2N1c0JvZHkoKTtyZW1vdmVTdHlsZXNXaGVuRGVsZXRpbmdBY3Jvc3NCbG9ja0VsZW1lbnRzKCk7c2V0R2Vja29FZGl0aW5nT3B0aW9ucygpO2FkZEJyQWZ0ZXJMYXN0TGlua3MoKTtzaG93QnJva2VuSW1hZ2VJY29uKCk7YmxvY2tDbWRBcnJvd05hdmlnYXRpb24oKTtkaXNhYmxlQmFja3NwYWNlSW50b0FUYWJsZSgpO31yZXR1cm57cmVmcmVzaENvbnRlbnRFZGl0YWJsZTpyZWZyZXNoQ29udGVudEVkaXRhYmxlLGlzSGlkZGVuOmlzSGlkZGVufTt9O3ZhciBpc1RleHRCbG9ja05vZGU9ZnVuY3Rpb24gaXNUZXh0QmxvY2tOb2RlKG5vZGUpe3JldHVybiBOb2RlVHlwZS5pc0VsZW1lbnQobm9kZSkmJmlzVGV4dEJsb2NrKEVsZW1lbnQuZnJvbURvbShub2RlKSk7fTt2YXIgbm9ybWFsaXplU2VsZWN0aW9uJDE9ZnVuY3Rpb24gbm9ybWFsaXplU2VsZWN0aW9uJDEoZWRpdG9yKXt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7dmFyIHN0YXJ0UG9zPUNhcmV0UG9zaXRpb24uZnJvbVJhbmdlU3RhcnQocm5nKTt2YXIgZW5kUG9zPUNhcmV0UG9zaXRpb24uZnJvbVJhbmdlRW5kKHJuZyk7aWYoQ2FyZXRQb3NpdGlvbi5pc0VsZW1lbnRQb3NpdGlvbihzdGFydFBvcykpe3ZhciBjb250YWluZXI9c3RhcnRQb3MuY29udGFpbmVyKCk7aWYoaXNUZXh0QmxvY2tOb2RlKGNvbnRhaW5lcikpe0NhcmV0RmluZGVyLmZpcnN0UG9zaXRpb25Jbihjb250YWluZXIpLmVhY2goZnVuY3Rpb24ocG9zKXtyZXR1cm4gcm5nLnNldFN0YXJ0KHBvcy5jb250YWluZXIoKSxwb3Mub2Zmc2V0KCkpO30pO319aWYoQ2FyZXRQb3NpdGlvbi5pc0VsZW1lbnRQb3NpdGlvbihlbmRQb3MpKXt2YXIgY29udGFpbmVyPXN0YXJ0UG9zLmNvbnRhaW5lcigpO2lmKGlzVGV4dEJsb2NrTm9kZShjb250YWluZXIpKXtDYXJldEZpbmRlci5sYXN0UG9zaXRpb25Jbihjb250YWluZXIpLmVhY2goZnVuY3Rpb24ocG9zKXtyZXR1cm4gcm5nLnNldEVuZChwb3MuY29udGFpbmVyKCkscG9zLm9mZnNldCgpKTt9KTt9fWVkaXRvci5zZWxlY3Rpb24uc2V0Um5nKFJhbmdlTm9ybWFsaXplci5ub3JtYWxpemUocm5nKSk7fTt2YXIgc2V0dXAkZz1mdW5jdGlvbiBzZXR1cCRnKGVkaXRvcil7ZWRpdG9yLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7aWYoZS5kZXRhaWw+PTMpe25vcm1hbGl6ZVNlbGVjdGlvbiQxKGVkaXRvcik7fX0pO307dmFyIHByZXZlbnRTdW1tYXJ5VG9nZ2xlPWZ1bmN0aW9uIHByZXZlbnRTdW1tYXJ5VG9nZ2xlKGVkaXRvcil7ZWRpdG9yLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7aWYoZWRpdG9yLmRvbS5nZXRQYXJlbnQoZS50YXJnZXQsJ2RldGFpbHMnKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319KTt9O3ZhciBmaWx0ZXJEZXRhaWxzPWZ1bmN0aW9uIGZpbHRlckRldGFpbHMoZWRpdG9yKXtlZGl0b3IucGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ2RldGFpbHMnLGZ1bmN0aW9uKGVsbXMpe2VhY2goZWxtcyxmdW5jdGlvbihkZXRhaWxzKXtkZXRhaWxzLmF0dHIoJ2RhdGEtbWNlLW9wZW4nLGRldGFpbHMuYXR0cignb3BlbicpKTtkZXRhaWxzLmF0dHIoJ29wZW4nLCdvcGVuJyk7fSk7fSk7ZWRpdG9yLnNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcignZGV0YWlscycsZnVuY3Rpb24oZWxtcyl7ZWFjaChlbG1zLGZ1bmN0aW9uKGRldGFpbHMpe3ZhciBvcGVuPWRldGFpbHMuYXR0cignZGF0YS1tY2Utb3BlbicpO2RldGFpbHMuYXR0cignb3BlbicsaXNTdHJpbmcob3Blbik/b3BlbjpudWxsKTtkZXRhaWxzLmF0dHIoJ2RhdGEtbWNlLW9wZW4nLG51bGwpO30pO30pO307dmFyIHNldHVwJGg9ZnVuY3Rpb24gc2V0dXAkaChlZGl0b3Ipe3ByZXZlbnRTdW1tYXJ5VG9nZ2xlKGVkaXRvcik7ZmlsdGVyRGV0YWlscyhlZGl0b3IpO307dmFyIERPTSQzPURPTVV0aWxzJDEuRE9NO3ZhciBhcHBlbmRTdHlsZT1mdW5jdGlvbiBhcHBlbmRTdHlsZShlZGl0b3IsdGV4dCl7dmFyIGhlYWQ9RWxlbWVudC5mcm9tRG9tKGVkaXRvci5nZXREb2MoKS5oZWFkKTt2YXIgdGFnPUVsZW1lbnQuZnJvbVRhZygnc3R5bGUnKTtzZXQodGFnLCd0eXBlJywndGV4dC9jc3MnKTthcHBlbmQodGFnLEVsZW1lbnQuZnJvbVRleHQodGV4dCkpO2FwcGVuZChoZWFkLHRhZyk7fTt2YXIgY3JlYXRlUGFyc2VyPWZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihlZGl0b3Ipe3ZhciBwYXJzZXI9RG9tUGFyc2VyKGVkaXRvci5zZXR0aW5ncyxlZGl0b3Iuc2NoZW1hKTtwYXJzZXIuYWRkQXR0cmlidXRlRmlsdGVyKCdzcmMsaHJlZixzdHlsZSx0YWJpbmRleCcsZnVuY3Rpb24obm9kZXMsbmFtZSl7dmFyIGk9bm9kZXMubGVuZ3RoLG5vZGU7dmFyIGRvbT1lZGl0b3IuZG9tO3ZhciB2YWx1ZSxpbnRlcm5hbE5hbWU7d2hpbGUoaS0tKXtub2RlPW5vZGVzW2ldO3ZhbHVlPW5vZGUuYXR0cihuYW1lKTtpbnRlcm5hbE5hbWU9J2RhdGEtbWNlLScrbmFtZTtpZighbm9kZS5hdHRyKGludGVybmFsTmFtZSkpe2lmKHZhbHVlLmluZGV4T2YoJ2RhdGE6Jyk9PT0wfHx2YWx1ZS5pbmRleE9mKCdibG9iOicpPT09MCl7Y29udGludWU7fWlmKG5hbWU9PT0nc3R5bGUnKXt2YWx1ZT1kb20uc2VyaWFsaXplU3R5bGUoZG9tLnBhcnNlU3R5bGUodmFsdWUpLG5vZGUubmFtZSk7aWYoIXZhbHVlLmxlbmd0aCl7dmFsdWU9bnVsbDt9bm9kZS5hdHRyKGludGVybmFsTmFtZSx2YWx1ZSk7bm9kZS5hdHRyKG5hbWUsdmFsdWUpO31lbHNlIGlmKG5hbWU9PT0ndGFiaW5kZXgnKXtub2RlLmF0dHIoaW50ZXJuYWxOYW1lLHZhbHVlKTtub2RlLmF0dHIobmFtZSxudWxsKTt9ZWxzZXtub2RlLmF0dHIoaW50ZXJuYWxOYW1lLGVkaXRvci5jb252ZXJ0VVJMKHZhbHVlLG5hbWUsbm9kZS5uYW1lKSk7fX19fSk7cGFyc2VyLmFkZE5vZGVGaWx0ZXIoJ3NjcmlwdCcsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlLHR5cGU7d2hpbGUoaS0tKXtub2RlPW5vZGVzW2ldO3R5cGU9bm9kZS5hdHRyKCd0eXBlJyl8fCduby90eXBlJztpZih0eXBlLmluZGV4T2YoJ21jZS0nKSE9PTApe25vZGUuYXR0cigndHlwZScsJ21jZS0nK3R5cGUpO319fSk7cGFyc2VyLmFkZE5vZGVGaWx0ZXIoJyNjZGF0YScsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtub2RlLnR5cGU9ODtub2RlLm5hbWU9JyNjb21tZW50Jztub2RlLnZhbHVlPSdbQ0RBVEFbJytub2RlLnZhbHVlKyddXSc7fX0pO3BhcnNlci5hZGROb2RlRmlsdGVyKCdwLGgxLGgyLGgzLGg0LGg1LGg2LGRpdicsZnVuY3Rpb24obm9kZXMpe3ZhciBpPW5vZGVzLmxlbmd0aCxub2RlO3ZhciBub25FbXB0eUVsZW1lbnRzPWVkaXRvci5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3doaWxlKGktLSl7bm9kZT1ub2Rlc1tpXTtpZihub2RlLmlzRW1wdHkobm9uRW1wdHlFbGVtZW50cykmJm5vZGUuZ2V0QWxsKCdicicpLmxlbmd0aD09PTApe25vZGUuYXBwZW5kKG5ldyBOb2RlJDEoJ2JyJywxKSkuc2hvcnRFbmRlZD10cnVlO319fSk7cmV0dXJuIHBhcnNlcjt9O3ZhciBhdXRvRm9jdXM9ZnVuY3Rpb24gYXV0b0ZvY3VzKGVkaXRvcil7aWYoZWRpdG9yLnNldHRpbmdzLmF1dG9fZm9jdXMpe0RlbGF5LnNldEVkaXRvclRpbWVvdXQoZWRpdG9yLGZ1bmN0aW9uKCl7dmFyIGZvY3VzRWRpdG9yO2lmKGVkaXRvci5zZXR0aW5ncy5hdXRvX2ZvY3VzPT09dHJ1ZSl7Zm9jdXNFZGl0b3I9ZWRpdG9yO31lbHNle2ZvY3VzRWRpdG9yPWVkaXRvci5lZGl0b3JNYW5hZ2VyLmdldChlZGl0b3Iuc2V0dGluZ3MuYXV0b19mb2N1cyk7fWlmKCFmb2N1c0VkaXRvci5kZXN0cm95ZWQpe2ZvY3VzRWRpdG9yLmZvY3VzKCk7fX0sMTAwKTt9fTt2YXIgaW5pdEVkaXRvcj1mdW5jdGlvbiBpbml0RWRpdG9yKGVkaXRvcil7ZWRpdG9yLmJpbmRQZW5kaW5nRXZlbnREZWxlZ2F0ZXMoKTtlZGl0b3IuaW5pdGlhbGl6ZWQ9dHJ1ZTtlZGl0b3IuZmlyZSgnaW5pdCcpO2VkaXRvci5mb2N1cyh0cnVlKTtlZGl0b3Iubm9kZUNoYW5nZWQoe2luaXRpYWw6dHJ1ZX0pO2VkaXRvci5leGVjQ2FsbGJhY2soJ2luaXRfaW5zdGFuY2VfY2FsbGJhY2snLGVkaXRvcik7YXV0b0ZvY3VzKGVkaXRvcik7fTt2YXIgZ2V0U3R5bGVTaGVldExvYWRlcj1mdW5jdGlvbiBnZXRTdHlsZVNoZWV0TG9hZGVyKGVkaXRvcil7cmV0dXJuIGVkaXRvci5pbmxpbmU/RE9NJDMuc3R5bGVTaGVldExvYWRlcjplZGl0b3IuZG9tLnN0eWxlU2hlZXRMb2FkZXI7fTt2YXIgaW5pdENvbnRlbnRCb2R5PWZ1bmN0aW9uIGluaXRDb250ZW50Qm9keShlZGl0b3Isc2tpcFdyaXRlKXt2YXIgc2V0dGluZ3M9ZWRpdG9yLnNldHRpbmdzO3ZhciB0YXJnZXRFbG09ZWRpdG9yLmdldEVsZW1lbnQoKTt2YXIgZG9jPWVkaXRvci5nZXREb2MoKSxib2R5LGNvbnRlbnRDc3NUZXh0O2lmKCFzZXR0aW5ncy5pbmxpbmUpe2VkaXRvci5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eT1lZGl0b3Iub3JnVmlzaWJpbGl0eTt9aWYoIXNraXBXcml0ZSYmIWVkaXRvci5pbmxpbmUpe2RvYy5vcGVuKCk7ZG9jLndyaXRlKGVkaXRvci5pZnJhbWVIVE1MKTtkb2MuY2xvc2UoKTt9aWYoZWRpdG9yLmlubGluZSl7ZWRpdG9yLm9uKCdyZW1vdmUnLGZ1bmN0aW9uKCl7dmFyIGJvZHlFbD10aGlzLmdldEJvZHkoKTtET00kMy5yZW1vdmVDbGFzcyhib2R5RWwsJ21jZS1jb250ZW50LWJvZHknKTtET00kMy5yZW1vdmVDbGFzcyhib2R5RWwsJ21jZS1lZGl0LWZvY3VzJyk7RE9NJDMuc2V0QXR0cmliKGJvZHlFbCwnY29udGVudEVkaXRhYmxlJyxudWxsKTt9KTtET00kMy5hZGRDbGFzcyh0YXJnZXRFbG0sJ21jZS1jb250ZW50LWJvZHknKTtlZGl0b3IuY29udGVudERvY3VtZW50PWRvYz1kb21HbG9iYWxzLmRvY3VtZW50O2VkaXRvci5jb250ZW50V2luZG93PWRvbUdsb2JhbHMud2luZG93O2VkaXRvci5ib2R5RWxlbWVudD10YXJnZXRFbG07ZWRpdG9yLmNvbnRlbnRBcmVhQ29udGFpbmVyPXRhcmdldEVsbTtzZXR0aW5ncy5yb290X25hbWU9dGFyZ2V0RWxtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7fWJvZHk9ZWRpdG9yLmdldEJvZHkoKTtib2R5LmRpc2FibGVkPXRydWU7ZWRpdG9yLnJlYWRvbmx5PXNldHRpbmdzLnJlYWRvbmx5O2lmKCFlZGl0b3IucmVhZG9ubHkpe2lmKGVkaXRvci5pbmxpbmUmJkRPTSQzLmdldFN0eWxlKGJvZHksJ3Bvc2l0aW9uJyx0cnVlKT09PSdzdGF0aWMnKXtib2R5LnN0eWxlLnBvc2l0aW9uPSdyZWxhdGl2ZSc7fWJvZHkuY29udGVudEVkaXRhYmxlPWVkaXRvci5nZXRQYXJhbSgnY29udGVudF9lZGl0YWJsZV9zdGF0ZScsdHJ1ZSk7fWJvZHkuZGlzYWJsZWQ9ZmFsc2U7ZWRpdG9yLmVkaXRvclVwbG9hZD1FZGl0b3JVcGxvYWQoZWRpdG9yKTtlZGl0b3Iuc2NoZW1hPVNjaGVtYShzZXR0aW5ncyk7ZWRpdG9yLmRvbT1ET01VdGlscyQxKGRvYyx7a2VlcF92YWx1ZXM6dHJ1ZSx1cmxfY29udmVydGVyOmVkaXRvci5jb252ZXJ0VVJMLHVybF9jb252ZXJ0ZXJfc2NvcGU6ZWRpdG9yLGhleF9jb2xvcnM6c2V0dGluZ3MuZm9yY2VfaGV4X3N0eWxlX2NvbG9ycyx1cGRhdGVfc3R5bGVzOnRydWUscm9vdF9lbGVtZW50OmVkaXRvci5pbmxpbmU/ZWRpdG9yLmdldEJvZHkoKTpudWxsLGNvbGxlY3Q6ZnVuY3Rpb24gY29sbGVjdCgpe3JldHVybiBlZGl0b3IuaW5saW5lO30sc2NoZW1hOmVkaXRvci5zY2hlbWEsY29udGVudENzc0NvcnM6U2V0dGluZ3Muc2hvdWxkVXNlQ29udGVudENzc0NvcnMoZWRpdG9yKSxyZWZlcnJlclBvbGljeTpTZXR0aW5ncy5nZXRSZWZlcnJlclBvbGljeShlZGl0b3IpLG9uU2V0QXR0cmliOmZ1bmN0aW9uIG9uU2V0QXR0cmliKGUpe2VkaXRvci5maXJlKCdTZXRBdHRyaWInLGUpO319KTtlZGl0b3IucGFyc2VyPWNyZWF0ZVBhcnNlcihlZGl0b3IpO2VkaXRvci5zZXJpYWxpemVyPVNlcmlhbGl6ZXIkMShzZXR0aW5ncyxlZGl0b3IpO2VkaXRvci5zZWxlY3Rpb249U2VsZWN0aW9uJDEoZWRpdG9yLmRvbSxlZGl0b3IuZ2V0V2luKCksZWRpdG9yLnNlcmlhbGl6ZXIsZWRpdG9yKTtlZGl0b3IuYW5ub3RhdG9yPUFubm90YXRvcihlZGl0b3IpO2VkaXRvci5mb3JtYXR0ZXI9Rm9ybWF0dGVyKGVkaXRvcik7ZWRpdG9yLnVuZG9NYW5hZ2VyPVVuZG9NYW5hZ2VyKGVkaXRvcik7ZWRpdG9yLl9ub2RlQ2hhbmdlRGlzcGF0Y2hlcj1uZXcgTm9kZUNoYW5nZShlZGl0b3IpO2VkaXRvci5fc2VsZWN0aW9uT3ZlcnJpZGVzPVNlbGVjdGlvbk92ZXJyaWRlcyhlZGl0b3IpO3NldHVwJGgoZWRpdG9yKTtzZXR1cCRnKGVkaXRvcik7S2V5Ym9hcmRPdmVycmlkZXMuc2V0dXAoZWRpdG9yKTtGb3JjZUJsb2Nrcy5zZXR1cChlZGl0b3IpO2VkaXRvci5maXJlKCdQcmVJbml0Jyk7aWYoIXNldHRpbmdzLmJyb3dzZXJfc3BlbGxjaGVjayYmIXNldHRpbmdzLmdlY2tvX3NwZWxsY2hlY2spe2RvYy5ib2R5LnNwZWxsY2hlY2s9ZmFsc2U7RE9NJDMuc2V0QXR0cmliKGJvZHksJ3NwZWxsY2hlY2snLCdmYWxzZScpO31lZGl0b3IucXVpcmtzPVF1aXJrcyhlZGl0b3IpO2VkaXRvci5maXJlKCdQb3N0UmVuZGVyJyk7dmFyIGRpcmVjdGlvbmFsaXR5PVNldHRpbmdzLmdldERpcmVjdGlvbmFsaXR5KGVkaXRvcik7aWYoZGlyZWN0aW9uYWxpdHkhPT11bmRlZmluZWQpe2JvZHkuZGlyPWRpcmVjdGlvbmFsaXR5O31pZihzZXR0aW5ncy5wcm90ZWN0KXtlZGl0b3Iub24oJ0JlZm9yZVNldENvbnRlbnQnLGZ1bmN0aW9uKGUpe1Rvb2xzLmVhY2goc2V0dGluZ3MucHJvdGVjdCxmdW5jdGlvbihwYXR0ZXJuKXtlLmNvbnRlbnQ9ZS5jb250ZW50LnJlcGxhY2UocGF0dGVybixmdW5jdGlvbihzdHIpe3JldHVybic8IS0tbWNlOnByb3RlY3RlZCAnK2VzY2FwZShzdHIpKyctLT4nO30pO30pO30pO31lZGl0b3Iub24oJ1NldENvbnRlbnQnLGZ1bmN0aW9uKCl7ZWRpdG9yLmFkZFZpc3VhbChlZGl0b3IuZ2V0Qm9keSgpKTt9KTtlZGl0b3IubG9hZCh7aW5pdGlhbDp0cnVlLGZvcm1hdDonaHRtbCd9KTtlZGl0b3Iuc3RhcnRDb250ZW50PWVkaXRvci5nZXRDb250ZW50KHtmb3JtYXQ6J3Jhdyd9KTtlZGl0b3Iub24oJ2NvbXBvc2l0aW9uc3RhcnQgY29tcG9zaXRpb25lbmQnLGZ1bmN0aW9uKGUpe2VkaXRvci5jb21wb3Npbmc9ZS50eXBlPT09J2NvbXBvc2l0aW9uc3RhcnQnO30pO2lmKGVkaXRvci5jb250ZW50U3R5bGVzLmxlbmd0aD4wKXtjb250ZW50Q3NzVGV4dD0nJztUb29scy5lYWNoKGVkaXRvci5jb250ZW50U3R5bGVzLGZ1bmN0aW9uKHN0eWxlKXtjb250ZW50Q3NzVGV4dCs9c3R5bGUrJ1xyXG4nO30pO2VkaXRvci5kb20uYWRkU3R5bGUoY29udGVudENzc1RleHQpO31nZXRTdHlsZVNoZWV0TG9hZGVyKGVkaXRvcikubG9hZEFsbChlZGl0b3IuY29udGVudENTUyxmdW5jdGlvbihfKXtpbml0RWRpdG9yKGVkaXRvcik7fSxmdW5jdGlvbih1cmxzKXtpbml0RWRpdG9yKGVkaXRvcik7fSk7aWYoc2V0dGluZ3MuY29udGVudF9zdHlsZSl7YXBwZW5kU3R5bGUoZWRpdG9yLHNldHRpbmdzLmNvbnRlbnRfc3R5bGUpO319O3ZhciBJbml0Q29udGVudEJvZHk9e2luaXRDb250ZW50Qm9keTppbml0Q29udGVudEJvZHl9O3ZhciBET00kND1ET01VdGlscyQxLkRPTTt2YXIgcmVsYXhEb21haW49ZnVuY3Rpb24gcmVsYXhEb21haW4oZWRpdG9yLGlmcil7aWYoZG9tR2xvYmFscy5kb2N1bWVudC5kb21haW4hPT1kb21HbG9iYWxzLndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmRW52LmJyb3dzZXIuaXNJRSgpKXt2YXIgYm9keVV1aWQ9VXVpZC51dWlkKCdtY2UnKTtlZGl0b3JbYm9keVV1aWRdPWZ1bmN0aW9uKCl7SW5pdENvbnRlbnRCb2R5LmluaXRDb250ZW50Qm9keShlZGl0b3IpO307dmFyIGRvbWFpblJlbGF4VXJsPSdqYXZhc2NyaXB0OihmdW5jdGlvbigpeycrJ2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49IicrZG9tR2xvYmFscy5kb2N1bWVudC5kb21haW4rJyI7JysndmFyIGVkID0gd2luZG93LnBhcmVudC50aW55bWNlLmdldCgiJytlZGl0b3IuaWQrJyIpO2RvY3VtZW50LndyaXRlKGVkLmlmcmFtZUhUTUwpOycrJ2RvY3VtZW50LmNsb3NlKCk7ZWQuJytib2R5VXVpZCsnKHRydWUpO30pKCknO0RPTSQ0LnNldEF0dHJpYihpZnIsJ3NyYycsZG9tYWluUmVsYXhVcmwpO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTt2YXIgY3JlYXRlSWZyYW1lRWxlbWVudD1mdW5jdGlvbiBjcmVhdGVJZnJhbWVFbGVtZW50KGlkLHRpdGxlLGhlaWdodCxjdXN0b21BdHRycyl7dmFyIGlmcmFtZT1FbGVtZW50LmZyb21UYWcoJ2lmcmFtZScpO3NldEFsbChpZnJhbWUsY3VzdG9tQXR0cnMpO3NldEFsbChpZnJhbWUse2lkOmlkKydfaWZyJyxmcmFtZUJvcmRlcjonMCcsYWxsb3dUcmFuc3BhcmVuY3k6J3RydWUnLHRpdGxlOnRpdGxlfSk7YWRkJDMoaWZyYW1lLCd0b3gtZWRpdC1hcmVhX19pZnJhbWUnKTtyZXR1cm4gaWZyYW1lO307dmFyIGdldElmcmFtZUh0bWw9ZnVuY3Rpb24gZ2V0SWZyYW1lSHRtbChlZGl0b3Ipe3ZhciBib2R5SWQsYm9keUNsYXNzLGlmcmFtZUhUTUw7aWZyYW1lSFRNTD1TZXR0aW5ncy5nZXREb2NUeXBlKGVkaXRvcikrJzxodG1sPjxoZWFkPic7aWYoU2V0dGluZ3MuZ2V0RG9jdW1lbnRCYXNlVXJsKGVkaXRvcikhPT1lZGl0b3IuZG9jdW1lbnRCYXNlVXJsKXtpZnJhbWVIVE1MKz0nPGJhc2UgaHJlZj0iJytlZGl0b3IuZG9jdW1lbnRCYXNlVVJJLmdldFVSSSgpKyciIC8+Jzt9aWZyYW1lSFRNTCs9JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPic7Ym9keUlkPVNldHRpbmdzLmdldEJvZHlJZChlZGl0b3IpO2JvZHlDbGFzcz1TZXR0aW5ncy5nZXRCb2R5Q2xhc3MoZWRpdG9yKTtpZihTZXR0aW5ncy5nZXRDb250ZW50U2VjdXJpdHlQb2xpY3koZWRpdG9yKSl7aWZyYW1lSFRNTCs9JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtU2VjdXJpdHktUG9saWN5IiBjb250ZW50PSInK1NldHRpbmdzLmdldENvbnRlbnRTZWN1cml0eVBvbGljeShlZGl0b3IpKyciIC8+Jzt9aWZyYW1lSFRNTCs9JzwvaGVhZD48Ym9keSBpZD0iJytib2R5SWQrJyIgY2xhc3M9Im1jZS1jb250ZW50LWJvZHkgJytib2R5Q2xhc3MrJyIgZGF0YS1pZD0iJytlZGl0b3IuaWQrJyI+PGJyPjwvYm9keT48L2h0bWw+JztyZXR1cm4gaWZyYW1lSFRNTDt9O3ZhciBjcmVhdGVJZnJhbWU9ZnVuY3Rpb24gY3JlYXRlSWZyYW1lKGVkaXRvcixvKXt2YXIgdGl0bGU9ZWRpdG9yLmVkaXRvck1hbmFnZXIudHJhbnNsYXRlKCdSaWNoIFRleHQgQXJlYS4gUHJlc3MgQUxULTAgZm9yIGhlbHAuJyk7dmFyIGlmcj1jcmVhdGVJZnJhbWVFbGVtZW50KGVkaXRvci5pZCx0aXRsZSxvLmhlaWdodCxTZXR0aW5ncy5nZXRJZnJhbWVBdHRycyhlZGl0b3IpKS5kb20oKTtpZnIub25sb2FkPWZ1bmN0aW9uKCl7aWZyLm9ubG9hZD1udWxsO2VkaXRvci5maXJlKCdsb2FkJyk7fTt2YXIgaXNEb21haW5SZWxheGVkPXJlbGF4RG9tYWluKGVkaXRvcixpZnIpO2VkaXRvci5jb250ZW50QXJlYUNvbnRhaW5lcj1vLmlmcmFtZUNvbnRhaW5lcjtlZGl0b3IuaWZyYW1lRWxlbWVudD1pZnI7ZWRpdG9yLmlmcmFtZUhUTUw9Z2V0SWZyYW1lSHRtbChlZGl0b3IpO0RPTSQ0LmFkZChvLmlmcmFtZUNvbnRhaW5lcixpZnIpO3JldHVybiBpc0RvbWFpblJlbGF4ZWQ7fTt2YXIgaW5pdCQxPWZ1bmN0aW9uIGluaXQkMShlZGl0b3IsYm94SW5mbyl7dmFyIGlzRG9tYWluUmVsYXhlZD1jcmVhdGVJZnJhbWUoZWRpdG9yLGJveEluZm8pO2lmKGJveEluZm8uZWRpdG9yQ29udGFpbmVyKXtET00kNC5nZXQoYm94SW5mby5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXk9ZWRpdG9yLm9yZ0Rpc3BsYXk7ZWRpdG9yLmhpZGRlbj1ET00kNC5pc0hpZGRlbihib3hJbmZvLmVkaXRvckNvbnRhaW5lcik7fWVkaXRvci5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT0nbm9uZSc7RE9NJDQuc2V0QXR0cmliKGVkaXRvci5pZCwnYXJpYS1oaWRkZW4nLCd0cnVlJyk7aWYoIWlzRG9tYWluUmVsYXhlZCl7SW5pdENvbnRlbnRCb2R5LmluaXRDb250ZW50Qm9keShlZGl0b3IpO319O3ZhciBJbml0SWZyYW1lPXtpbml0OmluaXQkMX07dmFyIGlzQ29udGVudENzc1NraW5OYW1lPWZ1bmN0aW9uIGlzQ29udGVudENzc1NraW5OYW1lKHVybCl7cmV0dXJuIC9eW2EtejAtOVwtXSskL2kudGVzdCh1cmwpO307dmFyIGdldENvbnRlbnRDc3NVcmxzPWZ1bmN0aW9uIGdldENvbnRlbnRDc3NVcmxzKGVkaXRvcil7dmFyIGNvbnRlbnRDc3M9U2V0dGluZ3MuZ2V0Q29udGVudENzcyhlZGl0b3IpO3ZhciBza2luVXJsPWVkaXRvci5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrJy9za2lucy9jb250ZW50Jzt2YXIgc3VmZml4PWVkaXRvci5lZGl0b3JNYW5hZ2VyLnN1ZmZpeDt2YXIgY29udGVudENzc0ZpbGU9J2NvbnRlbnQnK3N1ZmZpeCsnLmNzcyc7dmFyIGlubGluZT1lZGl0b3IuaW5saW5lPT09dHJ1ZTtyZXR1cm4gbWFwKGNvbnRlbnRDc3MsZnVuY3Rpb24odXJsKXtpZihpc0NvbnRlbnRDc3NTa2luTmFtZSh1cmwpJiYhaW5saW5lKXtyZXR1cm4gc2tpblVybCsnLycrdXJsKycvJytjb250ZW50Q3NzRmlsZTt9ZWxzZXtyZXR1cm4gZWRpdG9yLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKHVybCk7fX0pO307dmFyIGFwcGVuZENvbnRlbnRDc3NGcm9tU2V0dGluZ3M9ZnVuY3Rpb24gYXBwZW5kQ29udGVudENzc0Zyb21TZXR0aW5ncyhlZGl0b3Ipe2VkaXRvci5jb250ZW50Q1NTPWVkaXRvci5jb250ZW50Q1NTLmNvbmNhdChnZXRDb250ZW50Q3NzVXJscyhlZGl0b3IpKTt9O3ZhciBET00kNT1ET01VdGlscyQxLkRPTTt2YXIgaW5pdFBsdWdpbj1mdW5jdGlvbiBpbml0UGx1Z2luKGVkaXRvcixpbml0aWFsaXplZFBsdWdpbnMscGx1Z2luKXt2YXIgUGx1Z2luPVBsdWdpbk1hbmFnZXIuZ2V0KHBsdWdpbik7dmFyIHBsdWdpblVybD1QbHVnaW5NYW5hZ2VyLnVybHNbcGx1Z2luXXx8ZWRpdG9yLmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCcnKTtwbHVnaW49VG9vbHMudHJpbShwbHVnaW4pO2lmKFBsdWdpbiYmVG9vbHMuaW5BcnJheShpbml0aWFsaXplZFBsdWdpbnMscGx1Z2luKT09PS0xKXtUb29scy5lYWNoKFBsdWdpbk1hbmFnZXIuZGVwZW5kZW5jaWVzKHBsdWdpbiksZnVuY3Rpb24oZGVwKXtpbml0UGx1Z2luKGVkaXRvcixpbml0aWFsaXplZFBsdWdpbnMsZGVwKTt9KTtpZihlZGl0b3IucGx1Z2luc1twbHVnaW5dKXtyZXR1cm47fXRyeXt2YXIgcGx1Z2luSW5zdGFuY2U9bmV3IFBsdWdpbihlZGl0b3IscGx1Z2luVXJsLGVkaXRvci4kKTtlZGl0b3IucGx1Z2luc1twbHVnaW5dPXBsdWdpbkluc3RhbmNlO2lmKHBsdWdpbkluc3RhbmNlLmluaXQpe3BsdWdpbkluc3RhbmNlLmluaXQoZWRpdG9yLHBsdWdpblVybCk7aW5pdGlhbGl6ZWRQbHVnaW5zLnB1c2gocGx1Z2luKTt9fWNhdGNoKGUpe0Vycm9yUmVwb3J0ZXIucGx1Z2luSW5pdEVycm9yKGVkaXRvcixwbHVnaW4sZSk7fX19O3ZhciB0cmltTGVnYWN5UHJlZml4PWZ1bmN0aW9uIHRyaW1MZWdhY3lQcmVmaXgobmFtZSl7cmV0dXJuIG5hbWUucmVwbGFjZSgvXlwtLywnJyk7fTt2YXIgaW5pdFBsdWdpbnM9ZnVuY3Rpb24gaW5pdFBsdWdpbnMoZWRpdG9yKXt2YXIgaW5pdGlhbGl6ZWRQbHVnaW5zPVtdO1Rvb2xzLmVhY2goZWRpdG9yLnNldHRpbmdzLnBsdWdpbnMuc3BsaXQoL1sgLF0vKSxmdW5jdGlvbihuYW1lKXtpbml0UGx1Z2luKGVkaXRvcixpbml0aWFsaXplZFBsdWdpbnMsdHJpbUxlZ2FjeVByZWZpeChuYW1lKSk7fSk7fTt2YXIgaW5pdEljb25zPWZ1bmN0aW9uIGluaXRJY29ucyhlZGl0b3Ipe3ZhciBpY29uUGFja05hbWU9VG9vbHMudHJpbShlZGl0b3Iuc2V0dGluZ3MuaWNvbnMpO3ZhciBjdXJyZW50SWNvbnM9ZWRpdG9yLnVpLnJlZ2lzdHJ5LmdldEFsbCgpLmljb25zO3ZhciBkZWZhdWx0SWNvbnM9Z2V0QWxsKCk7dmFyIGxvYWRJY29ucz1fYXNzaWduKF9hc3NpZ24oe30sZGVmYXVsdEljb25zKSxJY29uTWFuYWdlci5nZXQoaWNvblBhY2tOYW1lKS5pY29ucyk7ZWFjaCQxKGxvYWRJY29ucyxmdW5jdGlvbihzdmdEYXRhLGljb24pe2lmKCFoYXMoY3VycmVudEljb25zLGljb24pKXtlZGl0b3IudWkucmVnaXN0cnkuYWRkSWNvbihpY29uLHN2Z0RhdGEpO319KTt9O3ZhciBpbml0VGhlbWU9ZnVuY3Rpb24gaW5pdFRoZW1lKGVkaXRvcil7dmFyIHRoZW1lPWVkaXRvci5zZXR0aW5ncy50aGVtZTtpZihpc1N0cmluZyh0aGVtZSkpe2VkaXRvci5zZXR0aW5ncy50aGVtZT10cmltTGVnYWN5UHJlZml4KHRoZW1lKTt2YXIgVGhlbWU9VGhlbWVNYW5hZ2VyLmdldCh0aGVtZSk7ZWRpdG9yLnRoZW1lPW5ldyBUaGVtZShlZGl0b3IsVGhlbWVNYW5hZ2VyLnVybHNbdGhlbWVdKTtpZihlZGl0b3IudGhlbWUuaW5pdCl7ZWRpdG9yLnRoZW1lLmluaXQoZWRpdG9yLFRoZW1lTWFuYWdlci51cmxzW3RoZW1lXXx8ZWRpdG9yLmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCcnKSxlZGl0b3IuJCk7fX1lbHNle2VkaXRvci50aGVtZT17fTt9fTt2YXIgcmVuZGVyRnJvbUxvYWRlZFRoZW1lPWZ1bmN0aW9uIHJlbmRlckZyb21Mb2FkZWRUaGVtZShlZGl0b3Ipe3JldHVybiBlZGl0b3IudGhlbWUucmVuZGVyVUkoKTt9O3ZhciByZW5kZXJGcm9tVGhlbWVGdW5jPWZ1bmN0aW9uIHJlbmRlckZyb21UaGVtZUZ1bmMoZWRpdG9yKXt2YXIgZWxtPWVkaXRvci5nZXRFbGVtZW50KCk7dmFyIHRoZW1lPWVkaXRvci5zZXR0aW5ncy50aGVtZTt2YXIgaW5mbz10aGVtZShlZGl0b3IsZWxtKTtpZihpbmZvLmVkaXRvckNvbnRhaW5lci5ub2RlVHlwZSl7aW5mby5lZGl0b3JDb250YWluZXIuaWQ9aW5mby5lZGl0b3JDb250YWluZXIuaWR8fGVkaXRvci5pZCsnX3BhcmVudCc7fWlmKGluZm8uaWZyYW1lQ29udGFpbmVyJiZpbmZvLmlmcmFtZUNvbnRhaW5lci5ub2RlVHlwZSl7aW5mby5pZnJhbWVDb250YWluZXIuaWQ9aW5mby5pZnJhbWVDb250YWluZXIuaWR8fGVkaXRvci5pZCsnX2lmcmFtZWNvbnRhaW5lcic7fWluZm8uaGVpZ2h0PWluZm8uaWZyYW1lSGVpZ2h0P2luZm8uaWZyYW1lSGVpZ2h0OmVsbS5vZmZzZXRIZWlnaHQ7cmV0dXJuIGluZm87fTt2YXIgY3JlYXRlVGhlbWVGYWxzZVJlc3VsdD1mdW5jdGlvbiBjcmVhdGVUaGVtZUZhbHNlUmVzdWx0KGVsZW1lbnQpe3JldHVybntlZGl0b3JDb250YWluZXI6ZWxlbWVudCxpZnJhbWVDb250YWluZXI6ZWxlbWVudH07fTt2YXIgcmVuZGVyVGhlbWVGYWxzZUlmcmFtZT1mdW5jdGlvbiByZW5kZXJUaGVtZUZhbHNlSWZyYW1lKHRhcmdldEVsZW1lbnQpe3ZhciBpZnJhbWVDb250YWluZXI9RE9NJDUuY3JlYXRlKCdkaXYnKTtET00kNS5pbnNlcnRBZnRlcihpZnJhbWVDb250YWluZXIsdGFyZ2V0RWxlbWVudCk7cmV0dXJuIGNyZWF0ZVRoZW1lRmFsc2VSZXN1bHQoaWZyYW1lQ29udGFpbmVyKTt9O3ZhciByZW5kZXJUaGVtZUZhbHNlPWZ1bmN0aW9uIHJlbmRlclRoZW1lRmFsc2UoZWRpdG9yKXt2YXIgdGFyZ2V0RWxlbWVudD1lZGl0b3IuZ2V0RWxlbWVudCgpO3JldHVybiBlZGl0b3IuaW5saW5lP2NyZWF0ZVRoZW1lRmFsc2VSZXN1bHQobnVsbCk6cmVuZGVyVGhlbWVGYWxzZUlmcmFtZSh0YXJnZXRFbGVtZW50KTt9O3ZhciByZW5kZXJUaGVtZVVpPWZ1bmN0aW9uIHJlbmRlclRoZW1lVWkoZWRpdG9yKXt2YXIgZWxtPWVkaXRvci5nZXRFbGVtZW50KCk7ZWRpdG9yLm9yZ0Rpc3BsYXk9ZWxtLnN0eWxlLmRpc3BsYXk7aWYoaXNTdHJpbmcoZWRpdG9yLnNldHRpbmdzLnRoZW1lKSl7cmV0dXJuIHJlbmRlckZyb21Mb2FkZWRUaGVtZShlZGl0b3IpO31lbHNlIGlmKGlzRnVuY3Rpb24oZWRpdG9yLnNldHRpbmdzLnRoZW1lKSl7cmV0dXJuIHJlbmRlckZyb21UaGVtZUZ1bmMoZWRpdG9yKTt9ZWxzZXtyZXR1cm4gcmVuZGVyVGhlbWVGYWxzZShlZGl0b3IpO319O3ZhciBpbml0JDI9ZnVuY3Rpb24gaW5pdCQyKGVkaXRvcil7ZWRpdG9yLmZpcmUoJ1NjcmlwdHNMb2FkZWQnKTtpbml0SWNvbnMoZWRpdG9yKTtpbml0VGhlbWUoZWRpdG9yKTtpbml0UGx1Z2lucyhlZGl0b3IpO3ZhciBib3hJbmZvPXJlbmRlclRoZW1lVWkoZWRpdG9yKTtlZGl0b3IuZWRpdG9yQ29udGFpbmVyPWJveEluZm8uZWRpdG9yQ29udGFpbmVyP2JveEluZm8uZWRpdG9yQ29udGFpbmVyOm51bGw7YXBwZW5kQ29udGVudENzc0Zyb21TZXR0aW5ncyhlZGl0b3IpO2lmKGVkaXRvci5pbmxpbmUpe3JldHVybiBJbml0Q29udGVudEJvZHkuaW5pdENvbnRlbnRCb2R5KGVkaXRvcik7fWVsc2V7cmV0dXJuIEluaXRJZnJhbWUuaW5pdChlZGl0b3IsYm94SW5mbyk7fX07dmFyIEluaXQ9e2luaXQ6aW5pdCQyfTt2YXIgRE9NJDY9RE9NVXRpbHMkMS5ET007dmFyIGhhc1NraXBMb2FkUHJlZml4PWZ1bmN0aW9uIGhhc1NraXBMb2FkUHJlZml4KG5hbWUpe3JldHVybiBuYW1lLmNoYXJBdCgwKT09PSctJzt9O3ZhciBsb2FkTGFuZ3VhZ2U9ZnVuY3Rpb24gbG9hZExhbmd1YWdlKHNjcmlwdExvYWRlcixlZGl0b3Ipe3ZhciBsYW5ndWFnZUNvZGU9U2V0dGluZ3MuZ2V0TGFuZ3VhZ2VDb2RlKGVkaXRvcik7dmFyIGxhbmd1YWdlVXJsPVNldHRpbmdzLmdldExhbmd1YWdlVXJsKGVkaXRvcik7aWYoSTE4bi5oYXNDb2RlKGxhbmd1YWdlQ29kZSk9PT1mYWxzZSYmbGFuZ3VhZ2VDb2RlIT09J2VuJyl7dmFyIHVybF8xPWxhbmd1YWdlVXJsIT09Jyc/bGFuZ3VhZ2VVcmw6ZWRpdG9yLmVkaXRvck1hbmFnZXIuYmFzZVVSTCsnL2xhbmdzLycrbGFuZ3VhZ2VDb2RlKycuanMnO3NjcmlwdExvYWRlci5hZGQodXJsXzEsbm9vcCx1bmRlZmluZWQsZnVuY3Rpb24oKXtFcnJvclJlcG9ydGVyLmxhbmd1YWdlTG9hZEVycm9yKHVybF8xLGxhbmd1YWdlQ29kZSk7fSk7fX07dmFyIGxvYWRUaGVtZT1mdW5jdGlvbiBsb2FkVGhlbWUoc2NyaXB0TG9hZGVyLGVkaXRvcixzdWZmaXgsY2FsbGJhY2spe3ZhciBzZXR0aW5ncz1lZGl0b3Iuc2V0dGluZ3MsdGhlbWU9c2V0dGluZ3MudGhlbWU7aWYoaXNTdHJpbmcodGhlbWUpKXtpZighaGFzU2tpcExvYWRQcmVmaXgodGhlbWUpJiYhVGhlbWVNYW5hZ2VyLnVybHMuaGFzT3duUHJvcGVydHkodGhlbWUpKXt2YXIgdGhlbWVVcmw9c2V0dGluZ3MudGhlbWVfdXJsO2lmKHRoZW1lVXJsKXtUaGVtZU1hbmFnZXIubG9hZCh0aGVtZSxlZGl0b3IuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUodGhlbWVVcmwpKTt9ZWxzZXtUaGVtZU1hbmFnZXIubG9hZCh0aGVtZSwndGhlbWVzLycrdGhlbWUrJy90aGVtZScrc3VmZml4KycuanMnKTt9fXNjcmlwdExvYWRlci5sb2FkUXVldWUoZnVuY3Rpb24oKXtUaGVtZU1hbmFnZXIud2FpdEZvcih0aGVtZSxjYWxsYmFjayk7fSk7fWVsc2V7Y2FsbGJhY2soKTt9fTt2YXIgZ2V0SWNvbnNVcmxNZXRhRnJvbVVybD1mdW5jdGlvbiBnZXRJY29uc1VybE1ldGFGcm9tVXJsKGVkaXRvcil7cmV0dXJuIE9wdGlvbi5mcm9tKFNldHRpbmdzLmdldEljb25zVXJsKGVkaXRvcikpLmZpbHRlcihmdW5jdGlvbih1cmwpe3JldHVybiB1cmwubGVuZ3RoPjA7fSkubWFwKGZ1bmN0aW9uKHVybCl7cmV0dXJue3VybDp1cmwsbmFtZTpPcHRpb24ubm9uZSgpfTt9KTt9O3ZhciBnZXRJY29uc1VybE1ldGFGcm9tTmFtZT1mdW5jdGlvbiBnZXRJY29uc1VybE1ldGFGcm9tTmFtZShlZGl0b3Ipe3JldHVybiBPcHRpb24uZnJvbShTZXR0aW5ncy5nZXRJY29uUGFja05hbWUoZWRpdG9yKSkuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpe3JldHVybiBuYW1lLmxlbmd0aD4wJiYhSWNvbk1hbmFnZXIuaGFzKG5hbWUpO30pLm1hcChmdW5jdGlvbihuYW1lKXtyZXR1cm57dXJsOmVkaXRvci5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrJy9pY29ucy8nK25hbWUrJy9pY29ucy5qcycsbmFtZTpPcHRpb24uc29tZShuYW1lKX07fSk7fTt2YXIgbG9hZEljb25zPWZ1bmN0aW9uIGxvYWRJY29ucyhzY3JpcHRMb2FkZXIsZWRpdG9yKXtnZXRJY29uc1VybE1ldGFGcm9tVXJsKGVkaXRvcikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBnZXRJY29uc1VybE1ldGFGcm9tTmFtZShlZGl0b3IpO30pLmVhY2goZnVuY3Rpb24odXJsTWV0YSl7c2NyaXB0TG9hZGVyLmFkZCh1cmxNZXRhLnVybCxub29wLHVuZGVmaW5lZCxmdW5jdGlvbigpe0Vycm9yUmVwb3J0ZXIuaWNvbnNMb2FkRXJyb3IodXJsTWV0YS51cmwsdXJsTWV0YS5uYW1lLmdldE9yVW5kZWZpbmVkKCkpO30pO30pO307dmFyIGxvYWRQbHVnaW5zPWZ1bmN0aW9uIGxvYWRQbHVnaW5zKHNldHRpbmdzLHN1ZmZpeCl7aWYoaXNBcnJheShzZXR0aW5ncy5wbHVnaW5zKSl7c2V0dGluZ3MucGx1Z2lucz1zZXR0aW5ncy5wbHVnaW5zLmpvaW4oJyAnKTt9VG9vbHMuZWFjaChzZXR0aW5ncy5leHRlcm5hbF9wbHVnaW5zLGZ1bmN0aW9uKHVybCxuYW1lKXtQbHVnaW5NYW5hZ2VyLmxvYWQobmFtZSx1cmwsbm9vcCx1bmRlZmluZWQsZnVuY3Rpb24oKXtFcnJvclJlcG9ydGVyLnBsdWdpbkxvYWRFcnJvcihuYW1lLHVybCk7fSk7c2V0dGluZ3MucGx1Z2lucys9JyAnK25hbWU7fSk7VG9vbHMuZWFjaChzZXR0aW5ncy5wbHVnaW5zLnNwbGl0KC9bICxdLyksZnVuY3Rpb24ocGx1Z2luKXtwbHVnaW49VG9vbHMudHJpbShwbHVnaW4pO2lmKHBsdWdpbiYmIVBsdWdpbk1hbmFnZXIudXJsc1twbHVnaW5dKXtpZihoYXNTa2lwTG9hZFByZWZpeChwbHVnaW4pKXtwbHVnaW49cGx1Z2luLnN1YnN0cigxLHBsdWdpbi5sZW5ndGgpO3ZhciBkZXBlbmRlbmNpZXM9UGx1Z2luTWFuYWdlci5kZXBlbmRlbmNpZXMocGx1Z2luKTtUb29scy5lYWNoKGRlcGVuZGVuY2llcyxmdW5jdGlvbihkZXApe3ZhciBkZWZhdWx0U2V0dGluZ3M9e3ByZWZpeDoncGx1Z2lucy8nLHJlc291cmNlOmRlcCxzdWZmaXg6Jy9wbHVnaW4nK3N1ZmZpeCsnLmpzJ307ZGVwPVBsdWdpbk1hbmFnZXIuY3JlYXRlVXJsKGRlZmF1bHRTZXR0aW5ncyxkZXApO1BsdWdpbk1hbmFnZXIubG9hZChkZXAucmVzb3VyY2UsZGVwLG5vb3AsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7RXJyb3JSZXBvcnRlci5wbHVnaW5Mb2FkRXJyb3IoZGVwLnByZWZpeCtkZXAucmVzb3VyY2UrZGVwLnN1ZmZpeCxkZXAucmVzb3VyY2UpO30pO30pO31lbHNle3ZhciB1cmxfMj17cHJlZml4OidwbHVnaW5zLycscmVzb3VyY2U6cGx1Z2luLHN1ZmZpeDonL3BsdWdpbicrc3VmZml4KycuanMnfTtQbHVnaW5NYW5hZ2VyLmxvYWQocGx1Z2luLHVybF8yLG5vb3AsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7RXJyb3JSZXBvcnRlci5wbHVnaW5Mb2FkRXJyb3IodXJsXzIucHJlZml4K3VybF8yLnJlc291cmNlK3VybF8yLnN1ZmZpeCxwbHVnaW4pO30pO319fSk7fTt2YXIgbG9hZFNjcmlwdHM9ZnVuY3Rpb24gbG9hZFNjcmlwdHMoZWRpdG9yLHN1ZmZpeCl7dmFyIHNjcmlwdExvYWRlcj1TY3JpcHRMb2FkZXIuU2NyaXB0TG9hZGVyO2xvYWRUaGVtZShzY3JpcHRMb2FkZXIsZWRpdG9yLHN1ZmZpeCxmdW5jdGlvbigpe2xvYWRMYW5ndWFnZShzY3JpcHRMb2FkZXIsZWRpdG9yKTtsb2FkSWNvbnMoc2NyaXB0TG9hZGVyLGVkaXRvcik7bG9hZFBsdWdpbnMoZWRpdG9yLnNldHRpbmdzLHN1ZmZpeCk7c2NyaXB0TG9hZGVyLmxvYWRRdWV1ZShmdW5jdGlvbigpe2lmKCFlZGl0b3IucmVtb3ZlZCl7SW5pdC5pbml0KGVkaXRvcik7fX0sZWRpdG9yLGZ1bmN0aW9uKCl7aWYoIWVkaXRvci5yZW1vdmVkKXtJbml0LmluaXQoZWRpdG9yKTt9fSk7fSk7fTt2YXIgcmVuZGVyPWZ1bmN0aW9uIHJlbmRlcihlZGl0b3Ipe3ZhciBzZXR0aW5ncz1lZGl0b3Iuc2V0dGluZ3MsaWQ9ZWRpdG9yLmlkO0kxOG4uc2V0Q29kZShTZXR0aW5ncy5nZXRMYW5ndWFnZUNvZGUoZWRpdG9yKSk7dmFyIHJlYWR5SGFuZGxlcj1mdW5jdGlvbiByZWFkeUhhbmRsZXIoKXtET00kNi51bmJpbmQoZG9tR2xvYmFscy53aW5kb3csJ3JlYWR5JyxyZWFkeUhhbmRsZXIpO2VkaXRvci5yZW5kZXIoKTt9O2lmKCFFdmVudFV0aWxzLkV2ZW50LmRvbUxvYWRlZCl7RE9NJDYuYmluZChkb21HbG9iYWxzLndpbmRvdywncmVhZHknLHJlYWR5SGFuZGxlcik7cmV0dXJuO31pZighZWRpdG9yLmdldEVsZW1lbnQoKSl7cmV0dXJuO31pZighRW52LmNvbnRlbnRFZGl0YWJsZSl7cmV0dXJuO31pZighc2V0dGluZ3MuaW5saW5lKXtlZGl0b3Iub3JnVmlzaWJpbGl0eT1lZGl0b3IuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk7ZWRpdG9yLmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nO31lbHNle2VkaXRvci5pbmxpbmU9dHJ1ZTt9dmFyIGZvcm09ZWRpdG9yLmdldEVsZW1lbnQoKS5mb3JtfHxET00kNi5nZXRQYXJlbnQoaWQsJ2Zvcm0nKTtpZihmb3JtKXtlZGl0b3IuZm9ybUVsZW1lbnQ9Zm9ybTtpZihzZXR0aW5ncy5oaWRkZW5faW5wdXQmJiFOb2RlVHlwZS5pc1RleHRhcmVhT3JJbnB1dChlZGl0b3IuZ2V0RWxlbWVudCgpKSl7RE9NJDYuaW5zZXJ0QWZ0ZXIoRE9NJDYuY3JlYXRlKCdpbnB1dCcse3R5cGU6J2hpZGRlbicsbmFtZTppZH0pLGlkKTtlZGl0b3IuaGFzSGlkZGVuSW5wdXQ9dHJ1ZTt9ZWRpdG9yLmZvcm1FdmVudERlbGVnYXRlPWZ1bmN0aW9uKGUpe2VkaXRvci5maXJlKGUudHlwZSxlKTt9O0RPTSQ2LmJpbmQoZm9ybSwnc3VibWl0IHJlc2V0JyxlZGl0b3IuZm9ybUV2ZW50RGVsZWdhdGUpO2VkaXRvci5vbigncmVzZXQnLGZ1bmN0aW9uKCl7ZWRpdG9yLnJlc2V0Q29udGVudCgpO30pO2lmKHNldHRpbmdzLnN1Ym1pdF9wYXRjaCYmIWZvcm0uc3VibWl0Lm5vZGVUeXBlJiYhZm9ybS5zdWJtaXQubGVuZ3RoJiYhZm9ybS5fbWNlT2xkU3VibWl0KXtmb3JtLl9tY2VPbGRTdWJtaXQ9Zm9ybS5zdWJtaXQ7Zm9ybS5zdWJtaXQ9ZnVuY3Rpb24oKXtlZGl0b3IuZWRpdG9yTWFuYWdlci50cmlnZ2VyU2F2ZSgpO2VkaXRvci5zZXREaXJ0eShmYWxzZSk7cmV0dXJuIGZvcm0uX21jZU9sZFN1Ym1pdChmb3JtKTt9O319ZWRpdG9yLndpbmRvd01hbmFnZXI9V2luZG93TWFuYWdlcihlZGl0b3IpO2VkaXRvci5ub3RpZmljYXRpb25NYW5hZ2VyPU5vdGlmaWNhdGlvbk1hbmFnZXIoZWRpdG9yKTtpZihzZXR0aW5ncy5lbmNvZGluZz09PSd4bWwnKXtlZGl0b3Iub24oJ0dldENvbnRlbnQnLGZ1bmN0aW9uKGUpe2lmKGUuc2F2ZSl7ZS5jb250ZW50PURPTSQ2LmVuY29kZShlLmNvbnRlbnQpO319KTt9aWYoc2V0dGluZ3MuYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXIpe2VkaXRvci5vbignc3VibWl0JyxmdW5jdGlvbigpe2lmKGVkaXRvci5pbml0aWFsaXplZCl7ZWRpdG9yLnNhdmUoKTt9fSk7fWlmKHNldHRpbmdzLmFkZF91bmxvYWRfdHJpZ2dlcil7ZWRpdG9yLl9iZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXtpZihlZGl0b3IuaW5pdGlhbGl6ZWQmJiFlZGl0b3IuZGVzdHJveWVkJiYhZWRpdG9yLmlzSGlkZGVuKCkpe2VkaXRvci5zYXZlKHtmb3JtYXQ6J3Jhdycsbm9fZXZlbnRzOnRydWUsc2V0X2RpcnR5OmZhbHNlfSk7fX07ZWRpdG9yLmVkaXRvck1hbmFnZXIub24oJ0JlZm9yZVVubG9hZCcsZWRpdG9yLl9iZWZvcmVVbmxvYWQpO31lZGl0b3IuZWRpdG9yTWFuYWdlci5hZGQoZWRpdG9yKTtsb2FkU2NyaXB0cyhlZGl0b3IsZWRpdG9yLnN1ZmZpeCk7fTt2YXIgUmVuZGVyPXtyZW5kZXI6cmVuZGVyfTt2YXIgaW50ZXJuYWxDb250ZW50RWRpdGFibGVBdHRyPSdkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUnO3ZhciB0b2dnbGVDbGFzcz1mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbG0sY2xzLHN0YXRlKXtpZihoYXMkMihlbG0sY2xzKSYmc3RhdGU9PT1mYWxzZSl7cmVtb3ZlJDQoZWxtLGNscyk7fWVsc2UgaWYoc3RhdGUpe2FkZCQzKGVsbSxjbHMpO319O3ZhciBzZXRFZGl0b3JDb21tYW5kU3RhdGU9ZnVuY3Rpb24gc2V0RWRpdG9yQ29tbWFuZFN0YXRlKGVkaXRvcixjbWQsc3RhdGUpe3RyeXtlZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoY21kLGZhbHNlLHN0YXRlKTt9Y2F0Y2goZXgpe319O3ZhciBzZXRDb250ZW50RWRpdGFibGU9ZnVuY3Rpb24gc2V0Q29udGVudEVkaXRhYmxlKGVsbSxzdGF0ZSl7ZWxtLmRvbSgpLmNvbnRlbnRFZGl0YWJsZT1zdGF0ZT8ndHJ1ZSc6J2ZhbHNlJzt9O3ZhciBzd2l0Y2hPZmZDb250ZW50RWRpdGFibGVUcnVlPWZ1bmN0aW9uIHN3aXRjaE9mZkNvbnRlbnRFZGl0YWJsZVRydWUoZWxtKXtlYWNoKGRlc2NlbmRhbnRzJDEoZWxtLCcqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJyksZnVuY3Rpb24oZWxtKXtzZXQoZWxtLGludGVybmFsQ29udGVudEVkaXRhYmxlQXR0ciwndHJ1ZScpO3NldENvbnRlbnRFZGl0YWJsZShlbG0sZmFsc2UpO30pO307dmFyIHN3aXRjaE9uQ29udGVudEVkaXRhYmxlVHJ1ZT1mdW5jdGlvbiBzd2l0Y2hPbkNvbnRlbnRFZGl0YWJsZVRydWUoZWxtKXtlYWNoKGRlc2NlbmRhbnRzJDEoZWxtLCcqWycraW50ZXJuYWxDb250ZW50RWRpdGFibGVBdHRyKyc9InRydWUiXScpLGZ1bmN0aW9uKGVsbSl7cmVtb3ZlKGVsbSxpbnRlcm5hbENvbnRlbnRFZGl0YWJsZUF0dHIpO3NldENvbnRlbnRFZGl0YWJsZShlbG0sdHJ1ZSk7fSk7fTt2YXIgcmVtb3ZlRmFrZVNlbGVjdGlvbj1mdW5jdGlvbiByZW1vdmVGYWtlU2VsZWN0aW9uKGVkaXRvcil7T3B0aW9uLmZyb20oZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCkpLmVhY2goZnVuY3Rpb24oZWxtKXtlbG0ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1jZS1zZWxlY3RlZCcpO30pO307dmFyIHJlc3RvcmVGYWtlU2VsZWN0aW9uPWZ1bmN0aW9uIHJlc3RvcmVGYWtlU2VsZWN0aW9uKGVkaXRvcil7ZWRpdG9yLnNlbGVjdGlvbi5zZXRSbmcoZWRpdG9yLnNlbGVjdGlvbi5nZXRSbmcoKSk7fTt2YXIgdG9nZ2xlUmVhZE9ubHk9ZnVuY3Rpb24gdG9nZ2xlUmVhZE9ubHkoZWRpdG9yLHN0YXRlKXt2YXIgYm9keT1FbGVtZW50LmZyb21Eb20oZWRpdG9yLmdldEJvZHkoKSk7dG9nZ2xlQ2xhc3MoYm9keSwnbWNlLWNvbnRlbnQtcmVhZG9ubHknLHN0YXRlKTtpZihzdGF0ZSl7ZWRpdG9yLnNlbGVjdGlvbi5jb250cm9sU2VsZWN0aW9uLmhpZGVSZXNpemVSZWN0KCk7ZWRpdG9yLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpO3JlbW92ZUZha2VTZWxlY3Rpb24oZWRpdG9yKTtlZGl0b3IucmVhZG9ubHk9dHJ1ZTtzZXRDb250ZW50RWRpdGFibGUoYm9keSxmYWxzZSk7c3dpdGNoT2ZmQ29udGVudEVkaXRhYmxlVHJ1ZShib2R5KTt9ZWxzZXtlZGl0b3IucmVhZG9ubHk9ZmFsc2U7c2V0Q29udGVudEVkaXRhYmxlKGJvZHksdHJ1ZSk7c3dpdGNoT25Db250ZW50RWRpdGFibGVUcnVlKGJvZHkpO3NldEVkaXRvckNvbW1hbmRTdGF0ZShlZGl0b3IsJ1N0eWxlV2l0aENTUycsZmFsc2UpO3NldEVkaXRvckNvbW1hbmRTdGF0ZShlZGl0b3IsJ2VuYWJsZUlubGluZVRhYmxlRWRpdGluZycsZmFsc2UpO3NldEVkaXRvckNvbW1hbmRTdGF0ZShlZGl0b3IsJ2VuYWJsZU9iamVjdFJlc2l6aW5nJyxmYWxzZSk7aWYoRWRpdG9yRm9jdXMuaGFzRWRpdG9yT3JVaUZvY3VzKGVkaXRvcikpe2VkaXRvci5mb2N1cygpO31yZXN0b3JlRmFrZVNlbGVjdGlvbihlZGl0b3IpO2VkaXRvci5ub2RlQ2hhbmdlZCgpO319O3ZhciBfaXNSZWFkT25seT1mdW5jdGlvbiBpc1JlYWRPbmx5KGVkaXRvcil7cmV0dXJuIGVkaXRvci5yZWFkb25seT09PXRydWU7fTt2YXIgcmVnaXN0ZXJGaWx0ZXJzPWZ1bmN0aW9uIHJlZ2lzdGVyRmlsdGVycyhlZGl0b3Ipe2VkaXRvci5wYXJzZXIuYWRkQXR0cmlidXRlRmlsdGVyKCdjb250ZW50ZWRpdGFibGUnLGZ1bmN0aW9uKG5vZGVzKXtpZihfaXNSZWFkT25seShlZGl0b3IpKXtlYWNoKG5vZGVzLGZ1bmN0aW9uKG5vZGUpe25vZGUuYXR0cihpbnRlcm5hbENvbnRlbnRFZGl0YWJsZUF0dHIsbm9kZS5hdHRyKCdjb250ZW50ZWRpdGFibGUnKSk7bm9kZS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCdmYWxzZScpO30pO319KTtlZGl0b3Iuc2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIoaW50ZXJuYWxDb250ZW50RWRpdGFibGVBdHRyLGZ1bmN0aW9uKG5vZGVzKXtpZihfaXNSZWFkT25seShlZGl0b3IpKXtlYWNoKG5vZGVzLGZ1bmN0aW9uKG5vZGUpe25vZGUuYXR0cignY29udGVudGVkaXRhYmxlJyxub2RlLmF0dHIoaW50ZXJuYWxDb250ZW50RWRpdGFibGVBdHRyKSk7fSk7fX0pO2VkaXRvci5zZXJpYWxpemVyLmFkZFRlbXBBdHRyKGludGVybmFsQ29udGVudEVkaXRhYmxlQXR0cik7fTt2YXIgcmVnaXN0ZXJSZWFkT25seUNvbnRlbnRGaWx0ZXJzPWZ1bmN0aW9uIHJlZ2lzdGVyUmVhZE9ubHlDb250ZW50RmlsdGVycyhlZGl0b3Ipe2lmKGVkaXRvci5zZXJpYWxpemVyKXtyZWdpc3RlckZpbHRlcnMoZWRpdG9yKTt9ZWxzZXtlZGl0b3Iub24oJ1ByZUluaXQnLGZ1bmN0aW9uKCl7cmVnaXN0ZXJGaWx0ZXJzKGVkaXRvcik7fSk7fX07dmFyIGlzQ2xpY2tFdmVudD1mdW5jdGlvbiBpc0NsaWNrRXZlbnQoZSl7cmV0dXJuIGUudHlwZT09PSdjbGljayc7fTt2YXIgcHJldmVudFJlYWRPbmx5RXZlbnRzPWZ1bmN0aW9uIHByZXZlbnRSZWFkT25seUV2ZW50cyhlKXt2YXIgdGFyZ2V0PWUudGFyZ2V0O2lmKGlzQ2xpY2tFdmVudChlKSYmdGFyZ2V0LnRhZ05hbWU9PT0nQScmJiFWSy5tZXRhS2V5UHJlc3NlZChlKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319O3ZhciByZWdpc3RlclJlYWRPbmx5U2VsZWN0aW9uQmxvY2tlcnM9ZnVuY3Rpb24gcmVnaXN0ZXJSZWFkT25seVNlbGVjdGlvbkJsb2NrZXJzKGVkaXRvcil7ZWRpdG9yLm9uKCdTaG93Q2FyZXQnLGZ1bmN0aW9uKGUpe2lmKF9pc1JlYWRPbmx5KGVkaXRvcikpe2UucHJldmVudERlZmF1bHQoKTt9fSk7ZWRpdG9yLm9uKCdPYmplY3RTZWxlY3RlZCcsZnVuY3Rpb24oZSl7aWYoX2lzUmVhZE9ubHkoZWRpdG9yKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319KTt9O3ZhciBkZWZhdWx0TW9kZXM9WydkZXNpZ24nLCdyZWFkb25seSddO3ZhciBzd2l0Y2hUb01vZGU9ZnVuY3Rpb24gc3dpdGNoVG9Nb2RlKGVkaXRvcixhY3RpdmVNb2RlLGF2YWlsYWJsZU1vZGVzLG1vZGUpe3ZhciBvbGRNb2RlPWF2YWlsYWJsZU1vZGVzW2FjdGl2ZU1vZGUuZ2V0KCldO3ZhciBuZXdNb2RlPWF2YWlsYWJsZU1vZGVzW21vZGVdO3RyeXtuZXdNb2RlLmFjdGl2YXRlKCk7fWNhdGNoKGUpe2RvbUdsb2JhbHMuY29uc29sZS5lcnJvcigncHJvYmxlbSB3aGlsZSBhY3RpdmF0aW5nIGVkaXRvciBtb2RlICcrbW9kZSsnOicsZSk7cmV0dXJuO31vbGRNb2RlLmRlYWN0aXZhdGUoKTtpZihvbGRNb2RlLmVkaXRvclJlYWRPbmx5IT09bmV3TW9kZS5lZGl0b3JSZWFkT25seSl7dG9nZ2xlUmVhZE9ubHkoZWRpdG9yLG5ld01vZGUuZWRpdG9yUmVhZE9ubHkpO31hY3RpdmVNb2RlLnNldChtb2RlKTtFdmVudHMuZmlyZVN3aXRjaE1vZGUoZWRpdG9yLG1vZGUpO307dmFyIHNldE1vZGU9ZnVuY3Rpb24gc2V0TW9kZShlZGl0b3IsYXZhaWxhYmxlTW9kZXMsYWN0aXZlTW9kZSxtb2RlKXtpZihtb2RlPT09YWN0aXZlTW9kZS5nZXQoKSl7cmV0dXJuO31lbHNlIGlmKCFoYXMoYXZhaWxhYmxlTW9kZXMsbW9kZSkpe3Rocm93IG5ldyBFcnJvcignRWRpdG9yIG1vZGUgXCcnK21vZGUrJ1wnIGlzIGludmFsaWQnKTt9aWYoZWRpdG9yLmluaXRpYWxpemVkKXtzd2l0Y2hUb01vZGUoZWRpdG9yLGFjdGl2ZU1vZGUsYXZhaWxhYmxlTW9kZXMsbW9kZSk7fWVsc2V7ZWRpdG9yLm9uKCdpbml0JyxmdW5jdGlvbigpe3JldHVybiBzd2l0Y2hUb01vZGUoZWRpdG9yLGFjdGl2ZU1vZGUsYXZhaWxhYmxlTW9kZXMsbW9kZSk7fSk7fX07dmFyIHJlZ2lzdGVyTW9kZT1mdW5jdGlvbiByZWdpc3Rlck1vZGUoYXZhaWxhYmxlTW9kZXMsbW9kZSxhcGkpe3ZhciBfYTtpZihjb250YWlucyhkZWZhdWx0TW9kZXMsbW9kZSkpe3Rocm93IG5ldyBFcnJvcignQ2Fubm90IG92ZXJyaWRlIGRlZmF1bHQgbW9kZSAnK21vZGUpO31yZXR1cm4gX2Fzc2lnbihfYXNzaWduKHt9LGF2YWlsYWJsZU1vZGVzKSwoX2E9e30sX2FbbW9kZV09X2Fzc2lnbihfYXNzaWduKHt9LGFwaSkse2RlYWN0aXZhdGU6ZnVuY3Rpb24gZGVhY3RpdmF0ZSgpe3RyeXthcGkuZGVhY3RpdmF0ZSgpO31jYXRjaChlKXtkb21HbG9iYWxzLmNvbnNvbGUuZXJyb3IoJ3Byb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICcrbW9kZSsnOicsZSk7fX19KSxfYSkpO307dmFyIGNyZWF0ZSQ0PWZ1bmN0aW9uIGNyZWF0ZSQ0KGVkaXRvcil7dmFyIGFjdGl2ZU1vZGU9Q2VsbCgnZGVzaWduJyk7dmFyIGF2YWlsYWJsZU1vZGVzPUNlbGwoe2Rlc2lnbjp7YWN0aXZhdGU6bm9vcCxkZWFjdGl2YXRlOm5vb3AsZWRpdG9yUmVhZE9ubHk6ZmFsc2V9LHJlYWRvbmx5OnthY3RpdmF0ZTpub29wLGRlYWN0aXZhdGU6bm9vcCxlZGl0b3JSZWFkT25seTp0cnVlfX0pO3JlZ2lzdGVyUmVhZE9ubHlDb250ZW50RmlsdGVycyhlZGl0b3IpO3JlZ2lzdGVyUmVhZE9ubHlTZWxlY3Rpb25CbG9ja2VycyhlZGl0b3IpO3JldHVybntpc1JlYWRPbmx5OmZ1bmN0aW9uIGlzUmVhZE9ubHkoKXtyZXR1cm4gX2lzUmVhZE9ubHkoZWRpdG9yKTt9LHNldDpmdW5jdGlvbiBzZXQobW9kZSl7cmV0dXJuIHNldE1vZGUoZWRpdG9yLGF2YWlsYWJsZU1vZGVzLmdldCgpLGFjdGl2ZU1vZGUsbW9kZSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIGFjdGl2ZU1vZGUuZ2V0KCk7fSxyZWdpc3RlcjpmdW5jdGlvbiByZWdpc3Rlcihtb2RlLGFwaSl7YXZhaWxhYmxlTW9kZXMuc2V0KHJlZ2lzdGVyTW9kZShhdmFpbGFibGVNb2Rlcy5nZXQoKSxtb2RlLGFwaSkpO319O307dmFyIGhhc09ubHlPbmVDaGlsZCQxPWZ1bmN0aW9uIGhhc09ubHlPbmVDaGlsZCQxKG5vZGUpe3JldHVybiBub2RlLmZpcnN0Q2hpbGQmJm5vZGUuZmlyc3RDaGlsZD09PW5vZGUubGFzdENoaWxkO307dmFyIGlzUGFkZGluZ05vZGU9ZnVuY3Rpb24gaXNQYWRkaW5nTm9kZShub2RlKXtyZXR1cm4gbm9kZS5uYW1lPT09J2JyJ3x8bm9kZS52YWx1ZT09PSdceEEwJzt9O3ZhciBpc1BhZGRlZEVtcHR5QmxvY2s9ZnVuY3Rpb24gaXNQYWRkZWRFbXB0eUJsb2NrKHNjaGVtYSxub2RlKXt2YXIgYmxvY2tFbGVtZW50cz1zY2hlbWEuZ2V0QmxvY2tFbGVtZW50cygpO3JldHVybiBibG9ja0VsZW1lbnRzW25vZGUubmFtZV0mJmhhc09ubHlPbmVDaGlsZCQxKG5vZGUpJiZpc1BhZGRpbmdOb2RlKG5vZGUuZmlyc3RDaGlsZCk7fTt2YXIgaXNFbXB0eUZyYWdtZW50RWxlbWVudD1mdW5jdGlvbiBpc0VtcHR5RnJhZ21lbnRFbGVtZW50KHNjaGVtYSxub2RlKXt2YXIgbm9uRW1wdHlFbGVtZW50cz1zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3JldHVybiBub2RlJiYobm9kZS5pc0VtcHR5KG5vbkVtcHR5RWxlbWVudHMpfHxpc1BhZGRlZEVtcHR5QmxvY2soc2NoZW1hLG5vZGUpKTt9O3ZhciBpc0xpc3RGcmFnbWVudD1mdW5jdGlvbiBpc0xpc3RGcmFnbWVudChzY2hlbWEsZnJhZ21lbnQpe3ZhciBmaXJzdENoaWxkPWZyYWdtZW50LmZpcnN0Q2hpbGQ7dmFyIGxhc3RDaGlsZD1mcmFnbWVudC5sYXN0Q2hpbGQ7aWYoZmlyc3RDaGlsZCYmZmlyc3RDaGlsZC5uYW1lPT09J21ldGEnKXtmaXJzdENoaWxkPWZpcnN0Q2hpbGQubmV4dDt9aWYobGFzdENoaWxkJiZsYXN0Q2hpbGQuYXR0cignaWQnKT09PSdtY2VfbWFya2VyJyl7bGFzdENoaWxkPWxhc3RDaGlsZC5wcmV2O31pZihpc0VtcHR5RnJhZ21lbnRFbGVtZW50KHNjaGVtYSxsYXN0Q2hpbGQpKXtsYXN0Q2hpbGQ9bGFzdENoaWxkLnByZXY7fWlmKCFmaXJzdENoaWxkfHxmaXJzdENoaWxkIT09bGFzdENoaWxkKXtyZXR1cm4gZmFsc2U7fXJldHVybiBmaXJzdENoaWxkLm5hbWU9PT0ndWwnfHxmaXJzdENoaWxkLm5hbWU9PT0nb2wnO307dmFyIGNsZWFudXBEb21GcmFnbWVudD1mdW5jdGlvbiBjbGVhbnVwRG9tRnJhZ21lbnQoZG9tRnJhZ21lbnQpe3ZhciBmaXJzdENoaWxkPWRvbUZyYWdtZW50LmZpcnN0Q2hpbGQ7dmFyIGxhc3RDaGlsZD1kb21GcmFnbWVudC5sYXN0Q2hpbGQ7aWYoZmlyc3RDaGlsZCYmZmlyc3RDaGlsZC5ub2RlTmFtZT09PSdNRVRBJyl7Zmlyc3RDaGlsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZpcnN0Q2hpbGQpO31pZihsYXN0Q2hpbGQmJmxhc3RDaGlsZC5pZD09PSdtY2VfbWFya2VyJyl7bGFzdENoaWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGFzdENoaWxkKTt9cmV0dXJuIGRvbUZyYWdtZW50O307dmFyIHRvRG9tRnJhZ21lbnQ9ZnVuY3Rpb24gdG9Eb21GcmFnbWVudChkb20sc2VyaWFsaXplcixmcmFnbWVudCl7dmFyIGh0bWw9c2VyaWFsaXplci5zZXJpYWxpemUoZnJhZ21lbnQpO3ZhciBkb21GcmFnbWVudD1kb20uY3JlYXRlRnJhZ21lbnQoaHRtbCk7cmV0dXJuIGNsZWFudXBEb21GcmFnbWVudChkb21GcmFnbWVudCk7fTt2YXIgbGlzdEl0ZW1zJDE9ZnVuY3Rpb24gbGlzdEl0ZW1zJDEoZWxtKXtyZXR1cm4gVG9vbHMuZ3JlcChlbG0uY2hpbGROb2RlcyxmdW5jdGlvbihjaGlsZCl7cmV0dXJuIGNoaWxkLm5vZGVOYW1lPT09J0xJJzt9KTt9O3ZhciBpc1BhZGRpbmc9ZnVuY3Rpb24gaXNQYWRkaW5nKG5vZGUpe3JldHVybiBub2RlLmRhdGE9PT0nXHhBMCd8fE5vZGVUeXBlLmlzQnIobm9kZSk7fTt2YXIgaXNMaXN0SXRlbVBhZGRlZD1mdW5jdGlvbiBpc0xpc3RJdGVtUGFkZGVkKG5vZGUpe3JldHVybiBub2RlJiZub2RlLmZpcnN0Q2hpbGQmJm5vZGUuZmlyc3RDaGlsZD09PW5vZGUubGFzdENoaWxkJiZpc1BhZGRpbmcobm9kZS5maXJzdENoaWxkKTt9O3ZhciBpc0VtcHR5T3JQYWRkZWQ9ZnVuY3Rpb24gaXNFbXB0eU9yUGFkZGVkKGVsbSl7cmV0dXJuIWVsbS5maXJzdENoaWxkfHxpc0xpc3RJdGVtUGFkZGVkKGVsbSk7fTt2YXIgdHJpbUxpc3RJdGVtcz1mdW5jdGlvbiB0cmltTGlzdEl0ZW1zKGVsbXMpe3JldHVybiBlbG1zLmxlbmd0aD4wJiZpc0VtcHR5T3JQYWRkZWQoZWxtc1tlbG1zLmxlbmd0aC0xXSk/ZWxtcy5zbGljZSgwLC0xKTplbG1zO307dmFyIGdldFBhcmVudExpPWZ1bmN0aW9uIGdldFBhcmVudExpKGRvbSxub2RlKXt2YXIgcGFyZW50QmxvY2s9ZG9tLmdldFBhcmVudChub2RlLGRvbS5pc0Jsb2NrKTtyZXR1cm4gcGFyZW50QmxvY2smJnBhcmVudEJsb2NrLm5vZGVOYW1lPT09J0xJJz9wYXJlbnRCbG9jazpudWxsO307dmFyIGlzUGFyZW50QmxvY2tMaT1mdW5jdGlvbiBpc1BhcmVudEJsb2NrTGkoZG9tLG5vZGUpe3JldHVybiEhZ2V0UGFyZW50TGkoZG9tLG5vZGUpO307dmFyIGdldFNwbGl0PWZ1bmN0aW9uIGdldFNwbGl0KHBhcmVudE5vZGUscm5nKXt2YXIgYmVmb3JlUm5nPXJuZy5jbG9uZVJhbmdlKCk7dmFyIGFmdGVyUm5nPXJuZy5jbG9uZVJhbmdlKCk7YmVmb3JlUm5nLnNldFN0YXJ0QmVmb3JlKHBhcmVudE5vZGUpO2FmdGVyUm5nLnNldEVuZEFmdGVyKHBhcmVudE5vZGUpO3JldHVybltiZWZvcmVSbmcuY2xvbmVDb250ZW50cygpLGFmdGVyUm5nLmNsb25lQ29udGVudHMoKV07fTt2YXIgZmluZEZpcnN0SW49ZnVuY3Rpb24gZmluZEZpcnN0SW4obm9kZSxyb290Tm9kZSl7dmFyIGNhcmV0UG9zPUNhcmV0UG9zaXRpb24kMS5iZWZvcmUobm9kZSk7dmFyIGNhcmV0V2Fsa2VyPUNhcmV0V2Fsa2VyKHJvb3ROb2RlKTt2YXIgbmV3Q2FyZXRQb3M9Y2FyZXRXYWxrZXIubmV4dChjYXJldFBvcyk7cmV0dXJuIG5ld0NhcmV0UG9zP25ld0NhcmV0UG9zLnRvUmFuZ2UoKTpudWxsO307dmFyIGZpbmRMYXN0T2Y9ZnVuY3Rpb24gZmluZExhc3RPZihub2RlLHJvb3ROb2RlKXt2YXIgY2FyZXRQb3M9Q2FyZXRQb3NpdGlvbiQxLmFmdGVyKG5vZGUpO3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihyb290Tm9kZSk7dmFyIG5ld0NhcmV0UG9zPWNhcmV0V2Fsa2VyLnByZXYoY2FyZXRQb3MpO3JldHVybiBuZXdDYXJldFBvcz9uZXdDYXJldFBvcy50b1JhbmdlKCk6bnVsbDt9O3ZhciBpbnNlcnRNaWRkbGU9ZnVuY3Rpb24gaW5zZXJ0TWlkZGxlKHRhcmdldCxlbG1zLHJvb3ROb2RlLHJuZyl7dmFyIHBhcnRzPWdldFNwbGl0KHRhcmdldCxybmcpO3ZhciBwYXJlbnRFbG09dGFyZ2V0LnBhcmVudE5vZGU7cGFyZW50RWxtLmluc2VydEJlZm9yZShwYXJ0c1swXSx0YXJnZXQpO1Rvb2xzLmVhY2goZWxtcyxmdW5jdGlvbihsaSl7cGFyZW50RWxtLmluc2VydEJlZm9yZShsaSx0YXJnZXQpO30pO3BhcmVudEVsbS5pbnNlcnRCZWZvcmUocGFydHNbMV0sdGFyZ2V0KTtwYXJlbnRFbG0ucmVtb3ZlQ2hpbGQodGFyZ2V0KTtyZXR1cm4gZmluZExhc3RPZihlbG1zW2VsbXMubGVuZ3RoLTFdLHJvb3ROb2RlKTt9O3ZhciBpbnNlcnRCZWZvcmUkMT1mdW5jdGlvbiBpbnNlcnRCZWZvcmUkMSh0YXJnZXQsZWxtcyxyb290Tm9kZSl7dmFyIHBhcmVudEVsbT10YXJnZXQucGFyZW50Tm9kZTtUb29scy5lYWNoKGVsbXMsZnVuY3Rpb24oZWxtKXtwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKGVsbSx0YXJnZXQpO30pO3JldHVybiBmaW5kRmlyc3RJbih0YXJnZXQscm9vdE5vZGUpO307dmFyIGluc2VydEFmdGVyJDE9ZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIkMSh0YXJnZXQsZWxtcyxyb290Tm9kZSxkb20pe2RvbS5pbnNlcnRBZnRlcihlbG1zLnJldmVyc2UoKSx0YXJnZXQpO3JldHVybiBmaW5kTGFzdE9mKGVsbXNbMF0scm9vdE5vZGUpO307dmFyIGluc2VydEF0Q2FyZXQ9ZnVuY3Rpb24gaW5zZXJ0QXRDYXJldChzZXJpYWxpemVyLGRvbSxybmcsZnJhZ21lbnQpe3ZhciBkb21GcmFnbWVudD10b0RvbUZyYWdtZW50KGRvbSxzZXJpYWxpemVyLGZyYWdtZW50KTt2YXIgbGlUYXJnZXQ9Z2V0UGFyZW50TGkoZG9tLHJuZy5zdGFydENvbnRhaW5lcik7dmFyIGxpRWxtcz10cmltTGlzdEl0ZW1zKGxpc3RJdGVtcyQxKGRvbUZyYWdtZW50LmZpcnN0Q2hpbGQpKTt2YXIgQkVHSU5OSU5HPTEsRU5EPTI7dmFyIHJvb3ROb2RlPWRvbS5nZXRSb290KCk7dmFyIGlzQXQ9ZnVuY3Rpb24gaXNBdChsb2NhdGlvbil7dmFyIGNhcmV0UG9zPUNhcmV0UG9zaXRpb24kMS5mcm9tUmFuZ2VTdGFydChybmcpO3ZhciBjYXJldFdhbGtlcj1DYXJldFdhbGtlcihkb20uZ2V0Um9vdCgpKTt2YXIgbmV3UG9zPWxvY2F0aW9uPT09QkVHSU5OSU5HP2NhcmV0V2Fsa2VyLnByZXYoY2FyZXRQb3MpOmNhcmV0V2Fsa2VyLm5leHQoY2FyZXRQb3MpO3JldHVybiBuZXdQb3M/Z2V0UGFyZW50TGkoZG9tLG5ld1Bvcy5nZXROb2RlKCkpIT09bGlUYXJnZXQ6dHJ1ZTt9O2lmKGlzQXQoQkVHSU5OSU5HKSl7cmV0dXJuIGluc2VydEJlZm9yZSQxKGxpVGFyZ2V0LGxpRWxtcyxyb290Tm9kZSk7fWVsc2UgaWYoaXNBdChFTkQpKXtyZXR1cm4gaW5zZXJ0QWZ0ZXIkMShsaVRhcmdldCxsaUVsbXMscm9vdE5vZGUsZG9tKTt9cmV0dXJuIGluc2VydE1pZGRsZShsaVRhcmdldCxsaUVsbXMscm9vdE5vZGUscm5nKTt9O3ZhciBJbnNlcnRMaXN0PXtpc0xpc3RGcmFnbWVudDppc0xpc3RGcmFnbWVudCxpbnNlcnRBdENhcmV0Omluc2VydEF0Q2FyZXQsaXNQYXJlbnRCbG9ja0xpOmlzUGFyZW50QmxvY2tMaSx0cmltTGlzdEl0ZW1zOnRyaW1MaXN0SXRlbXMsbGlzdEl0ZW1zOmxpc3RJdGVtcyQxfTt2YXIgaXNBZnRlck5ic3A9ZnVuY3Rpb24gaXNBZnRlck5ic3AoY29udGFpbmVyLG9mZnNldCl7cmV0dXJuIE5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpJiZjb250YWluZXIubm9kZVZhbHVlW29mZnNldC0xXT09PSdceEEwJzt9O3ZhciB0cmltT3JQYWRMZWZ0UmlnaHQ9ZnVuY3Rpb24gdHJpbU9yUGFkTGVmdFJpZ2h0KHJuZyxodG1sKXt2YXIgY29udGFpbmVyLG9mZnNldDtjb250YWluZXI9cm5nLnN0YXJ0Q29udGFpbmVyO29mZnNldD1ybmcuc3RhcnRPZmZzZXQ7dmFyIGhhc1NpYmxpbmdUZXh0PWZ1bmN0aW9uIGhhc1NpYmxpbmdUZXh0KHNpYmxpbmdOYW1lKXtyZXR1cm4gY29udGFpbmVyW3NpYmxpbmdOYW1lXSYmY29udGFpbmVyW3NpYmxpbmdOYW1lXS5ub2RlVHlwZT09PTM7fTtpZihjb250YWluZXIubm9kZVR5cGU9PT0zKXtpZihvZmZzZXQ+MCl7aHRtbD1odG1sLnJlcGxhY2UoL14mbmJzcDsvLCcgJyk7fWVsc2UgaWYoIWhhc1NpYmxpbmdUZXh0KCdwcmV2aW91c1NpYmxpbmcnKSl7aHRtbD1odG1sLnJlcGxhY2UoL14gLywnJm5ic3A7Jyk7fWlmKG9mZnNldDxjb250YWluZXIubGVuZ3RoKXtodG1sPWh0bWwucmVwbGFjZSgvJm5ic3A7KDxicj58KSQvLCcgJyk7fWVsc2UgaWYoIWhhc1NpYmxpbmdUZXh0KCduZXh0U2libGluZycpKXtodG1sPWh0bWwucmVwbGFjZSgvKCZuYnNwO3wgKSg8YnI+fCkkLywnJm5ic3A7Jyk7fX1yZXR1cm4gaHRtbDt9O3ZhciB0cmltTmJzcEFmdGVyRGVsZXRlQW5kUGFkVmFsdWU9ZnVuY3Rpb24gdHJpbU5ic3BBZnRlckRlbGV0ZUFuZFBhZFZhbHVlKHJuZyx2YWx1ZSl7dmFyIGNvbnRhaW5lcixvZmZzZXQ7Y29udGFpbmVyPXJuZy5zdGFydENvbnRhaW5lcjtvZmZzZXQ9cm5nLnN0YXJ0T2Zmc2V0O2lmKGNvbnRhaW5lci5ub2RlVHlwZT09PTMmJnJuZy5jb2xsYXBzZWQpe2lmKGNvbnRhaW5lci5kYXRhW29mZnNldF09PT0nXHhBMCcpe2NvbnRhaW5lci5kZWxldGVEYXRhKG9mZnNldCwxKTtpZighL1tcdTAwYTB8IF0kLy50ZXN0KHZhbHVlKSl7dmFsdWUrPScgJzt9fWVsc2UgaWYoY29udGFpbmVyLmRhdGFbb2Zmc2V0LTFdPT09J1x4QTAnKXtjb250YWluZXIuZGVsZXRlRGF0YShvZmZzZXQtMSwxKTtpZighL1tcdTAwYTB8IF0kLy50ZXN0KHZhbHVlKSl7dmFsdWU9JyAnK3ZhbHVlO319fXJldHVybiB2YWx1ZTt9O3ZhciBpc1RhYmxlQ2VsbCQ1PU5vZGVUeXBlLm1hdGNoTm9kZU5hbWVzKFsndGQnLCd0aCddKTt2YXIgc2VsZWN0aW9uU2V0Q29udGVudD1mdW5jdGlvbiBzZWxlY3Rpb25TZXRDb250ZW50KGVkaXRvcixjb250ZW50KXt2YXIgcm5nPWVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCk7dmFyIGNvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7dmFyIG9mZnNldD1ybmcuc3RhcnRPZmZzZXQ7aWYocm5nLmNvbGxhcHNlZCYmaXNBZnRlck5ic3AoY29udGFpbmVyLG9mZnNldCkmJk5vZGVUeXBlLmlzVGV4dChjb250YWluZXIpKXtjb250YWluZXIuaW5zZXJ0RGF0YShvZmZzZXQtMSwnICcpO2NvbnRhaW5lci5kZWxldGVEYXRhKG9mZnNldCwxKTtybmcuc2V0U3RhcnQoY29udGFpbmVyLG9mZnNldCk7cm5nLnNldEVuZChjb250YWluZXIsb2Zmc2V0KTtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhybmcpO31lZGl0b3Iuc2VsZWN0aW9uLnNldENvbnRlbnQoY29udGVudCk7fTt2YXIgdmFsaWRJbnNlcnRpb249ZnVuY3Rpb24gdmFsaWRJbnNlcnRpb24oZWRpdG9yLHZhbHVlLHBhcmVudE5vZGUpe2lmKHBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW1jZS1ib2d1cycpPT09J2FsbCcpe3BhcmVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWRpdG9yLmRvbS5jcmVhdGVGcmFnbWVudCh2YWx1ZSkscGFyZW50Tm9kZSk7fWVsc2V7dmFyIG5vZGU9cGFyZW50Tm9kZS5maXJzdENoaWxkO3ZhciBub2RlMj1wYXJlbnROb2RlLmxhc3RDaGlsZDtpZighbm9kZXx8bm9kZT09PW5vZGUyJiZub2RlLm5vZGVOYW1lPT09J0JSJyl7ZWRpdG9yLmRvbS5zZXRIVE1MKHBhcmVudE5vZGUsdmFsdWUpO31lbHNle3NlbGVjdGlvblNldENvbnRlbnQoZWRpdG9yLHZhbHVlKTt9fX07dmFyIHRyaW1CcnNGcm9tVGFibGVDZWxsPWZ1bmN0aW9uIHRyaW1CcnNGcm9tVGFibGVDZWxsKGRvbSxlbG0pe09wdGlvbi5mcm9tKGRvbS5nZXRQYXJlbnQoZWxtLCd0ZCx0aCcpKS5tYXAoRWxlbWVudC5mcm9tRG9tKS5lYWNoKFBhZGRpbmdCci50cmltQmxvY2tUcmFpbGluZ0JyKTt9O3ZhciByZWR1Y2VJbmxpbmVUZXh0RWxlbWVudHM9ZnVuY3Rpb24gcmVkdWNlSW5saW5lVGV4dEVsZW1lbnRzKGVkaXRvcixtZXJnZSl7dmFyIHRleHRJbmxpbmVFbGVtZW50cz1lZGl0b3Iuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpO3ZhciBkb209ZWRpdG9yLmRvbTtpZihtZXJnZSl7dmFyIHJvb3RfMT1lZGl0b3IuZ2V0Qm9keSgpLGVsZW1lbnRVdGlsc18xPW5ldyBFbGVtZW50VXRpbHMoZG9tKTtUb29scy5lYWNoKGRvbS5zZWxlY3QoJypbZGF0YS1tY2UtZnJhZ21lbnRdJyksZnVuY3Rpb24obm9kZSl7Zm9yKHZhciB0ZXN0Tm9kZT1ub2RlLnBhcmVudE5vZGU7dGVzdE5vZGUmJnRlc3ROb2RlIT09cm9vdF8xO3Rlc3ROb2RlPXRlc3ROb2RlLnBhcmVudE5vZGUpe2lmKHRleHRJbmxpbmVFbGVtZW50c1tub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiZlbGVtZW50VXRpbHNfMS5jb21wYXJlKHRlc3ROb2RlLG5vZGUpKXtkb20ucmVtb3ZlKG5vZGUsdHJ1ZSk7fX19KTt9fTt2YXIgbWFya0ZyYWdtZW50RWxlbWVudHM9ZnVuY3Rpb24gbWFya0ZyYWdtZW50RWxlbWVudHMoZnJhZ21lbnQpe3ZhciBub2RlPWZyYWdtZW50O3doaWxlKG5vZGU9bm9kZS53YWxrKCkpe2lmKG5vZGUudHlwZT09PTEpe25vZGUuYXR0cignZGF0YS1tY2UtZnJhZ21lbnQnLCcxJyk7fX19O3ZhciB1bWFya0ZyYWdtZW50RWxlbWVudHM9ZnVuY3Rpb24gdW1hcmtGcmFnbWVudEVsZW1lbnRzKGVsbSl7VG9vbHMuZWFjaChlbG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSxmdW5jdGlvbihlbG0pe2VsbS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWNlLWZyYWdtZW50Jyk7fSk7fTt2YXIgaXNQYXJ0T2ZGcmFnbWVudD1mdW5jdGlvbiBpc1BhcnRPZkZyYWdtZW50KG5vZGUpe3JldHVybiEhbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWNlLWZyYWdtZW50Jyk7fTt2YXIgY2FuSGF2ZUNoaWxkcmVuPWZ1bmN0aW9uIGNhbkhhdmVDaGlsZHJlbihlZGl0b3Isbm9kZSl7cmV0dXJuIG5vZGUmJiFlZGl0b3Iuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpW25vZGUubm9kZU5hbWVdO307dmFyIG1vdmVTZWxlY3Rpb25Ub01hcmtlcj1mdW5jdGlvbiBtb3ZlU2VsZWN0aW9uVG9NYXJrZXIoZWRpdG9yLG1hcmtlcil7dmFyIHBhcmVudEVkaXRhYmxlRmFsc2VFbG0scGFyZW50QmxvY2ssbmV4dFJuZzt2YXIgZG9tPWVkaXRvci5kb20sc2VsZWN0aW9uPWVkaXRvci5zZWxlY3Rpb247dmFyIG5vZGUsbm9kZTI7dmFyIGdldENvbnRlbnRFZGl0YWJsZUZhbHNlUGFyZW50PWZ1bmN0aW9uIGdldENvbnRlbnRFZGl0YWJsZUZhbHNlUGFyZW50KG5vZGUpe3ZhciByb290PWVkaXRvci5nZXRCb2R5KCk7Zm9yKDtub2RlJiZub2RlIT09cm9vdDtub2RlPW5vZGUucGFyZW50Tm9kZSl7aWYoZWRpdG9yLmRvbS5nZXRDb250ZW50RWRpdGFibGUobm9kZSk9PT0nZmFsc2UnKXtyZXR1cm4gbm9kZTt9fXJldHVybiBudWxsO307aWYoIW1hcmtlcil7cmV0dXJuO31lZGl0b3Iuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KG1hcmtlcik7cGFyZW50RWRpdGFibGVGYWxzZUVsbT1nZXRDb250ZW50RWRpdGFibGVGYWxzZVBhcmVudChtYXJrZXIpO2lmKHBhcmVudEVkaXRhYmxlRmFsc2VFbG0pe2RvbS5yZW1vdmUobWFya2VyKTtzZWxlY3Rpb24uc2VsZWN0KHBhcmVudEVkaXRhYmxlRmFsc2VFbG0pO3JldHVybjt9dmFyIHJuZz1kb20uY3JlYXRlUm5nKCk7bm9kZT1tYXJrZXIucHJldmlvdXNTaWJsaW5nO2lmKG5vZGUmJm5vZGUubm9kZVR5cGU9PT0zKXtybmcuc2V0U3RhcnQobm9kZSxub2RlLm5vZGVWYWx1ZS5sZW5ndGgpO2lmKCFFbnYuaWUpe25vZGUyPW1hcmtlci5uZXh0U2libGluZztpZihub2RlMiYmbm9kZTIubm9kZVR5cGU9PT0zKXtub2RlLmFwcGVuZERhdGEobm9kZTIuZGF0YSk7bm9kZTIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlMik7fX19ZWxzZXtybmcuc2V0U3RhcnRCZWZvcmUobWFya2VyKTtybmcuc2V0RW5kQmVmb3JlKG1hcmtlcik7fXZhciBmaW5kTmV4dENhcmV0Um5nPWZ1bmN0aW9uIGZpbmROZXh0Q2FyZXRSbmcocm5nKXt2YXIgY2FyZXRQb3M9Q2FyZXRQb3NpdGlvbiQxLmZyb21SYW5nZVN0YXJ0KHJuZyk7dmFyIGNhcmV0V2Fsa2VyPUNhcmV0V2Fsa2VyKGVkaXRvci5nZXRCb2R5KCkpO2NhcmV0UG9zPWNhcmV0V2Fsa2VyLm5leHQoY2FyZXRQb3MpO2lmKGNhcmV0UG9zKXtyZXR1cm4gY2FyZXRQb3MudG9SYW5nZSgpO319O3BhcmVudEJsb2NrPWRvbS5nZXRQYXJlbnQobWFya2VyLGRvbS5pc0Jsb2NrKTtkb20ucmVtb3ZlKG1hcmtlcik7aWYocGFyZW50QmxvY2smJmRvbS5pc0VtcHR5KHBhcmVudEJsb2NrKSl7ZWRpdG9yLiQocGFyZW50QmxvY2spLmVtcHR5KCk7cm5nLnNldFN0YXJ0KHBhcmVudEJsb2NrLDApO3JuZy5zZXRFbmQocGFyZW50QmxvY2ssMCk7aWYoIWlzVGFibGVDZWxsJDUocGFyZW50QmxvY2spJiYhaXNQYXJ0T2ZGcmFnbWVudChwYXJlbnRCbG9jaykmJihuZXh0Um5nPWZpbmROZXh0Q2FyZXRSbmcocm5nKSkpe3JuZz1uZXh0Um5nO2RvbS5yZW1vdmUocGFyZW50QmxvY2spO31lbHNle2RvbS5hZGQocGFyZW50QmxvY2ssZG9tLmNyZWF0ZSgnYnInLHsnZGF0YS1tY2UtYm9ndXMnOicxJ30pKTt9fXNlbGVjdGlvbi5zZXRSbmcocm5nKTt9O3ZhciBpbnNlcnRIdG1sQXRDYXJldD1mdW5jdGlvbiBpbnNlcnRIdG1sQXRDYXJldChlZGl0b3IsdmFsdWUsZGV0YWlscyl7dmFyIHBhcnNlcixzZXJpYWxpemVyLHBhcmVudE5vZGUscm9vdE5vZGUsZnJhZ21lbnQsYXJnczt2YXIgbWFya2VyLHJuZyxub2RlLGJvb2ttYXJrSHRtbCxtZXJnZTt2YXIgc2VsZWN0aW9uPWVkaXRvci5zZWxlY3Rpb24sZG9tPWVkaXRvci5kb207aWYoL14gfCAkLy50ZXN0KHZhbHVlKSl7dmFsdWU9dHJpbU9yUGFkTGVmdFJpZ2h0KHNlbGVjdGlvbi5nZXRSbmcoKSx2YWx1ZSk7fXBhcnNlcj1lZGl0b3IucGFyc2VyO21lcmdlPWRldGFpbHMubWVyZ2U7c2VyaWFsaXplcj1TZXJpYWxpemVyKHt2YWxpZGF0ZTplZGl0b3Iuc2V0dGluZ3MudmFsaWRhdGV9LGVkaXRvci5zY2hlbWEpO2Jvb2ttYXJrSHRtbD0nPHNwYW4gaWQ9Im1jZV9tYXJrZXIiIGRhdGEtbWNlLXR5cGU9ImJvb2ttYXJrIj4mI3hGRUZGOyYjeDIwMEI7PC9zcGFuPic7YXJncz17Y29udGVudDp2YWx1ZSxmb3JtYXQ6J2h0bWwnLHNlbGVjdGlvbjp0cnVlLHBhc3RlOmRldGFpbHMucGFzdGV9O2FyZ3M9ZWRpdG9yLmZpcmUoJ0JlZm9yZVNldENvbnRlbnQnLGFyZ3MpO2lmKGFyZ3MuaXNEZWZhdWx0UHJldmVudGVkKCkpe2VkaXRvci5maXJlKCdTZXRDb250ZW50Jyx7Y29udGVudDphcmdzLmNvbnRlbnQsZm9ybWF0OidodG1sJyxzZWxlY3Rpb246dHJ1ZSxwYXN0ZTpkZXRhaWxzLnBhc3RlfSk7cmV0dXJuO312YWx1ZT1hcmdzLmNvbnRlbnQ7aWYodmFsdWUuaW5kZXhPZigneyRjYXJldH0nKT09PS0xKXt2YWx1ZSs9J3skY2FyZXR9Jzt9dmFsdWU9dmFsdWUucmVwbGFjZSgvXHtcJGNhcmV0XH0vLGJvb2ttYXJrSHRtbCk7cm5nPXNlbGVjdGlvbi5nZXRSbmcoKTt2YXIgY2FyZXRFbGVtZW50PXJuZy5zdGFydENvbnRhaW5lcnx8KHJuZy5wYXJlbnRFbGVtZW50P3JuZy5wYXJlbnRFbGVtZW50KCk6bnVsbCk7dmFyIGJvZHk9ZWRpdG9yLmdldEJvZHkoKTtpZihjYXJldEVsZW1lbnQ9PT1ib2R5JiZzZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSl7aWYoZG9tLmlzQmxvY2soYm9keS5maXJzdENoaWxkKSYmY2FuSGF2ZUNoaWxkcmVuKGVkaXRvcixib2R5LmZpcnN0Q2hpbGQpJiZkb20uaXNFbXB0eShib2R5LmZpcnN0Q2hpbGQpKXtybmc9ZG9tLmNyZWF0ZVJuZygpO3JuZy5zZXRTdGFydChib2R5LmZpcnN0Q2hpbGQsMCk7cm5nLnNldEVuZChib2R5LmZpcnN0Q2hpbGQsMCk7c2VsZWN0aW9uLnNldFJuZyhybmcpO319aWYoIXNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhSYW5nZU5vcm1hbGl6ZXIubm9ybWFsaXplKGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpKTtlZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoJ0RlbGV0ZScsZmFsc2UsbnVsbCk7dmFsdWU9dHJpbU5ic3BBZnRlckRlbGV0ZUFuZFBhZFZhbHVlKGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCksdmFsdWUpO31wYXJlbnROb2RlPXNlbGVjdGlvbi5nZXROb2RlKCk7dmFyIHBhcnNlckFyZ3M9e2NvbnRleHQ6cGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGRhdGE6ZGV0YWlscy5kYXRhLGluc2VydDp0cnVlfTtmcmFnbWVudD1wYXJzZXIucGFyc2UodmFsdWUscGFyc2VyQXJncyk7aWYoZGV0YWlscy5wYXN0ZT09PXRydWUmJkluc2VydExpc3QuaXNMaXN0RnJhZ21lbnQoZWRpdG9yLnNjaGVtYSxmcmFnbWVudCkmJkluc2VydExpc3QuaXNQYXJlbnRCbG9ja0xpKGRvbSxwYXJlbnROb2RlKSl7cm5nPUluc2VydExpc3QuaW5zZXJ0QXRDYXJldChzZXJpYWxpemVyLGRvbSxlZGl0b3Iuc2VsZWN0aW9uLmdldFJuZygpLGZyYWdtZW50KTtlZGl0b3Iuc2VsZWN0aW9uLnNldFJuZyhybmcpO2VkaXRvci5maXJlKCdTZXRDb250ZW50JyxhcmdzKTtyZXR1cm47fW1hcmtGcmFnbWVudEVsZW1lbnRzKGZyYWdtZW50KTtub2RlPWZyYWdtZW50Lmxhc3RDaGlsZDtpZihub2RlLmF0dHIoJ2lkJyk9PT0nbWNlX21hcmtlcicpe21hcmtlcj1ub2RlO2Zvcihub2RlPW5vZGUucHJldjtub2RlO25vZGU9bm9kZS53YWxrKHRydWUpKXtpZihub2RlLnR5cGU9PT0zfHwhZG9tLmlzQmxvY2sobm9kZS5uYW1lKSl7aWYoZWRpdG9yLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobm9kZS5wYXJlbnQubmFtZSwnc3BhbicpKXtub2RlLnBhcmVudC5pbnNlcnQobWFya2VyLG5vZGUsbm9kZS5uYW1lPT09J2JyJyk7fWJyZWFrO319fWVkaXRvci5fc2VsZWN0aW9uT3ZlcnJpZGVzLnNob3dCbG9ja0NhcmV0Q29udGFpbmVyKHBhcmVudE5vZGUpO2lmKCFwYXJzZXJBcmdzLmludmFsaWQpe3ZhbHVlPXNlcmlhbGl6ZXIuc2VyaWFsaXplKGZyYWdtZW50KTt2YWxpZEluc2VydGlvbihlZGl0b3IsdmFsdWUscGFyZW50Tm9kZSk7fWVsc2V7c2VsZWN0aW9uU2V0Q29udGVudChlZGl0b3IsYm9va21hcmtIdG1sKTtwYXJlbnROb2RlPXNlbGVjdGlvbi5nZXROb2RlKCk7cm9vdE5vZGU9ZWRpdG9yLmdldEJvZHkoKTtpZihwYXJlbnROb2RlLm5vZGVUeXBlPT09OSl7cGFyZW50Tm9kZT1ub2RlPXJvb3ROb2RlO31lbHNle25vZGU9cGFyZW50Tm9kZTt9d2hpbGUobm9kZSE9PXJvb3ROb2RlKXtwYXJlbnROb2RlPW5vZGU7bm9kZT1ub2RlLnBhcmVudE5vZGU7fXZhbHVlPXBhcmVudE5vZGU9PT1yb290Tm9kZT9yb290Tm9kZS5pbm5lckhUTUw6ZG9tLmdldE91dGVySFRNTChwYXJlbnROb2RlKTt2YWx1ZT1zZXJpYWxpemVyLnNlcmlhbGl6ZShwYXJzZXIucGFyc2UodmFsdWUucmVwbGFjZSgvPHNwYW4gKGlkPSJtY2VfbWFya2VyInxpZD1tY2VfbWFya2VyKS4rPzxcL3NwYW4+L2ksZnVuY3Rpb24oKXtyZXR1cm4gc2VyaWFsaXplci5zZXJpYWxpemUoZnJhZ21lbnQpO30pKSk7aWYocGFyZW50Tm9kZT09PXJvb3ROb2RlKXtkb20uc2V0SFRNTChyb290Tm9kZSx2YWx1ZSk7fWVsc2V7ZG9tLnNldE91dGVySFRNTChwYXJlbnROb2RlLHZhbHVlKTt9fXJlZHVjZUlubGluZVRleHRFbGVtZW50cyhlZGl0b3IsbWVyZ2UpO21vdmVTZWxlY3Rpb25Ub01hcmtlcihlZGl0b3IsZG9tLmdldCgnbWNlX21hcmtlcicpKTt1bWFya0ZyYWdtZW50RWxlbWVudHMoZWRpdG9yLmdldEJvZHkoKSk7dHJpbUJyc0Zyb21UYWJsZUNlbGwoZWRpdG9yLmRvbSxlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0KCkpO2VkaXRvci5maXJlKCdTZXRDb250ZW50JyxhcmdzKTtlZGl0b3IuYWRkVmlzdWFsKCk7fTt2YXIgcHJvY2Vzc1ZhbHVlPWZ1bmN0aW9uIHByb2Nlc3NWYWx1ZSh2YWx1ZSl7dmFyIGRldGFpbHM7aWYodHlwZW9mIHZhbHVlIT09J3N0cmluZycpe2RldGFpbHM9VG9vbHMuZXh0ZW5kKHtwYXN0ZTp2YWx1ZS5wYXN0ZSxkYXRhOntwYXN0ZTp2YWx1ZS5wYXN0ZX19LHZhbHVlKTtyZXR1cm57Y29udGVudDp2YWx1ZS5jb250ZW50LGRldGFpbHM6ZGV0YWlsc307fXJldHVybntjb250ZW50OnZhbHVlLGRldGFpbHM6e319O307dmFyIGluc2VydEF0Q2FyZXQkMT1mdW5jdGlvbiBpbnNlcnRBdENhcmV0JDEoZWRpdG9yLHZhbHVlKXt2YXIgcmVzdWx0PXByb2Nlc3NWYWx1ZSh2YWx1ZSk7aW5zZXJ0SHRtbEF0Q2FyZXQoZWRpdG9yLHJlc3VsdC5jb250ZW50LHJlc3VsdC5kZXRhaWxzKTt9O3ZhciBJbnNlcnRDb250ZW50PXtpbnNlcnRBdENhcmV0Omluc2VydEF0Q2FyZXQkMX07dmFyIG5hdGl2ZUNvbW1hbmQ9ZnVuY3Rpb24gbmF0aXZlQ29tbWFuZChlZGl0b3IsY29tbWFuZCl7ZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKGNvbW1hbmQsZmFsc2UsbnVsbCk7fTt2YXIgZGVsZXRlQ29tbWFuZD1mdW5jdGlvbiBkZWxldGVDb21tYW5kKGVkaXRvcil7aWYoT3V0ZGVudC5iYWNrc3BhY2VEZWxldGUoZWRpdG9yLGZhbHNlKSl7cmV0dXJuO31lbHNlIGlmKENlZkRlbGV0ZS5iYWNrc3BhY2VEZWxldGUoZWRpdG9yLGZhbHNlKSl7cmV0dXJuO31lbHNlIGlmKENlZkJvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsZmFsc2UpKXtyZXR1cm47fWVsc2UgaWYoQm91bmRhcnlEZWxldGUuYmFja3NwYWNlRGVsZXRlKGVkaXRvcixmYWxzZSkpe3JldHVybjt9ZWxzZSBpZihCbG9ja0JvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsZmFsc2UpKXtyZXR1cm47fWVsc2UgaWYoVGFibGVEZWxldGUuYmFja3NwYWNlRGVsZXRlKGVkaXRvcikpe3JldHVybjt9ZWxzZSBpZihCbG9ja1JhbmdlRGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsZmFsc2UpKXtyZXR1cm47fWVsc2UgaWYoSW5saW5lRm9ybWF0RGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsZmFsc2UpKXtyZXR1cm47fWVsc2V7bmF0aXZlQ29tbWFuZChlZGl0b3IsJ0RlbGV0ZScpO0RlbGV0ZVV0aWxzLnBhZGRFbXB0eUJvZHkoZWRpdG9yKTt9fTt2YXIgZm9yd2FyZERlbGV0ZUNvbW1hbmQ9ZnVuY3Rpb24gZm9yd2FyZERlbGV0ZUNvbW1hbmQoZWRpdG9yKXtpZihDZWZEZWxldGUuYmFja3NwYWNlRGVsZXRlKGVkaXRvcix0cnVlKSl7cmV0dXJuO31lbHNlIGlmKENlZkJvdW5kYXJ5RGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsdHJ1ZSkpe3JldHVybjt9ZWxzZSBpZihCb3VuZGFyeURlbGV0ZS5iYWNrc3BhY2VEZWxldGUoZWRpdG9yLHRydWUpKXtyZXR1cm47fWVsc2UgaWYoQmxvY2tCb3VuZGFyeURlbGV0ZS5iYWNrc3BhY2VEZWxldGUoZWRpdG9yLHRydWUpKXtyZXR1cm47fWVsc2UgaWYoVGFibGVEZWxldGUuYmFja3NwYWNlRGVsZXRlKGVkaXRvcikpe3JldHVybjt9ZWxzZSBpZihCbG9ja1JhbmdlRGVsZXRlLmJhY2tzcGFjZURlbGV0ZShlZGl0b3IsdHJ1ZSkpe3JldHVybjt9ZWxzZSBpZihJbmxpbmVGb3JtYXREZWxldGUuYmFja3NwYWNlRGVsZXRlKGVkaXRvcix0cnVlKSl7cmV0dXJuO31lbHNle25hdGl2ZUNvbW1hbmQoZWRpdG9yLCdGb3J3YXJkRGVsZXRlJyk7fX07dmFyIERlbGV0ZUNvbW1hbmRzPXtkZWxldGVDb21tYW5kOmRlbGV0ZUNvbW1hbmQsZm9yd2FyZERlbGV0ZUNvbW1hbmQ6Zm9yd2FyZERlbGV0ZUNvbW1hbmR9O3ZhciBnZXRTcGVjaWZpZWRGb250UHJvcD1mdW5jdGlvbiBnZXRTcGVjaWZpZWRGb250UHJvcChwcm9wTmFtZSxyb290RWxtLGVsbSl7dmFyIGdldFByb3BlcnR5PWZ1bmN0aW9uIGdldFByb3BlcnR5KGVsbSl7cmV0dXJuIGdldFJhdyhlbG0scHJvcE5hbWUpO307dmFyIGlzUm9vdD1mdW5jdGlvbiBpc1Jvb3QoZWxtKXtyZXR1cm4gZXEoRWxlbWVudC5mcm9tRG9tKHJvb3RFbG0pLGVsbSk7fTtyZXR1cm4gY2xvc2VzdChFbGVtZW50LmZyb21Eb20oZWxtKSxmdW5jdGlvbihlbG0pe3JldHVybiBnZXRQcm9wZXJ0eShlbG0pLmlzU29tZSgpO30saXNSb290KS5iaW5kKGdldFByb3BlcnR5KTt9O3ZhciByb3VuZCQxPWZ1bmN0aW9uIHJvdW5kJDEobnVtYmVyLHByZWNpc2lvbil7dmFyIGZhY3Rvcj1NYXRoLnBvdygxMCxwcmVjaXNpb24pO3JldHVybiBNYXRoLnJvdW5kKG51bWJlcipmYWN0b3IpL2ZhY3Rvcjt9O3ZhciB0b1B0PWZ1bmN0aW9uIHRvUHQoZm9udFNpemUscHJlY2lzaW9uKXtpZigvWzAtOS5dK3B4JC8udGVzdChmb250U2l6ZSkpe3JldHVybiByb3VuZCQxKHBhcnNlSW50KGZvbnRTaXplLDEwKSo3Mi85NixwcmVjaXNpb258fDApKydwdCc7fXJldHVybiBmb250U2l6ZTt9O3ZhciBub3JtYWxpemVGb250RmFtaWx5PWZ1bmN0aW9uIG5vcm1hbGl6ZUZvbnRGYW1pbHkoZm9udEZhbWlseSl7cmV0dXJuIGZvbnRGYW1pbHkucmVwbGFjZSgvW1wnXCJcXF0vZywnJykucmVwbGFjZSgvLFxzKy9nLCcsJyk7fTt2YXIgZ2V0Q29tcHV0ZWRGb250UHJvcD1mdW5jdGlvbiBnZXRDb21wdXRlZEZvbnRQcm9wKHByb3BOYW1lLGVsbSl7cmV0dXJuIE9wdGlvbi5mcm9tKERPTVV0aWxzJDEuRE9NLmdldFN0eWxlKGVsbSxwcm9wTmFtZSx0cnVlKSk7fTt2YXIgZ2V0Rm9udFByb3A9ZnVuY3Rpb24gZ2V0Rm9udFByb3AocHJvcE5hbWUpe3JldHVybiBmdW5jdGlvbihyb290RWxtLGVsbSl7cmV0dXJuIE9wdGlvbi5mcm9tKGVsbSkubWFwKEVsZW1lbnQuZnJvbURvbSkuZmlsdGVyKGlzRWxlbWVudCQxKS5iaW5kKGZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBnZXRTcGVjaWZpZWRGb250UHJvcChwcm9wTmFtZSxyb290RWxtLGVsZW1lbnQuZG9tKCkpLm9yKGdldENvbXB1dGVkRm9udFByb3AocHJvcE5hbWUsZWxlbWVudC5kb20oKSkpO30pLmdldE9yKCcnKTt9O307dmFyIEZvbnRJbmZvPXtnZXRGb250U2l6ZTpnZXRGb250UHJvcCgnZm9udC1zaXplJyksZ2V0Rm9udEZhbWlseTpjb21wb3NlKG5vcm1hbGl6ZUZvbnRGYW1pbHksZ2V0Rm9udFByb3AoJ2ZvbnQtZmFtaWx5JykpLHRvUHQ6dG9QdH07dmFyIGZpbmRGaXJzdENhcmV0RWxlbWVudD1mdW5jdGlvbiBmaW5kRmlyc3RDYXJldEVsZW1lbnQoZWRpdG9yKXtyZXR1cm4gQ2FyZXRGaW5kZXIuZmlyc3RQb3NpdGlvbkluKGVkaXRvci5nZXRCb2R5KCkpLm1hcChmdW5jdGlvbihjYXJldCl7dmFyIGNvbnRhaW5lcj1jYXJldC5jb250YWluZXIoKTtyZXR1cm4gTm9kZVR5cGUuaXNUZXh0KGNvbnRhaW5lcik/Y29udGFpbmVyLnBhcmVudE5vZGU6Y29udGFpbmVyO30pO307dmFyIGlzUmFuZ2VBdFN0YXJ0T2ZOb2RlPWZ1bmN0aW9uIGlzUmFuZ2VBdFN0YXJ0T2ZOb2RlKHJuZyxyb290KXtyZXR1cm4gcm5nLnN0YXJ0Q29udGFpbmVyPT09cm9vdCYmcm5nLnN0YXJ0T2Zmc2V0PT09MDt9O3ZhciBnZXRDYXJldEVsZW1lbnQ9ZnVuY3Rpb24gZ2V0Q2FyZXRFbGVtZW50KGVkaXRvcil7cmV0dXJuIE9wdGlvbi5mcm9tKGVkaXRvci5zZWxlY3Rpb24uZ2V0Um5nKCkpLmJpbmQoZnVuY3Rpb24ocm5nKXt2YXIgcm9vdD1lZGl0b3IuZ2V0Qm9keSgpO3JldHVybiBpc1JhbmdlQXRTdGFydE9mTm9kZShybmcscm9vdCk/T3B0aW9uLm5vbmUoKTpPcHRpb24uZnJvbShlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0KHRydWUpKTt9KTt9O3ZhciBmcm9tRm9udFNpemVOdW1iZXI9ZnVuY3Rpb24gZnJvbUZvbnRTaXplTnVtYmVyKGVkaXRvcix2YWx1ZSl7aWYoL15bMC05XC5dKyQvLnRlc3QodmFsdWUpKXt2YXIgZm9udFNpemVOdW1iZXI9cGFyc2VJbnQodmFsdWUsMTApO2lmKGZvbnRTaXplTnVtYmVyPj0xJiZmb250U2l6ZU51bWJlcjw9Nyl7dmFyIGZvbnRTaXplcz1TZXR0aW5ncy5nZXRGb250U3R5bGVWYWx1ZXMoZWRpdG9yKTt2YXIgZm9udENsYXNzZXM9U2V0dGluZ3MuZ2V0Rm9udFNpemVDbGFzc2VzKGVkaXRvcik7aWYoZm9udENsYXNzZXMpe3JldHVybiBmb250Q2xhc3Nlc1tmb250U2l6ZU51bWJlci0xXXx8dmFsdWU7fWVsc2V7cmV0dXJuIGZvbnRTaXplc1tmb250U2l6ZU51bWJlci0xXXx8dmFsdWU7fX1lbHNle3JldHVybiB2YWx1ZTt9fWVsc2V7cmV0dXJuIHZhbHVlO319O3ZhciBub3JtYWxpemVGb250TmFtZXM9ZnVuY3Rpb24gbm9ybWFsaXplRm9udE5hbWVzKGZvbnQpe3ZhciBmb250cz1mb250LnNwbGl0KC9ccyosXHMqLyk7cmV0dXJuIG1hcChmb250cyxmdW5jdGlvbihmb250KXtpZihmb250LmluZGV4T2YoJyAnKSE9PS0xJiYhKHN0YXJ0c1dpdGgoZm9udCwnIicpfHxzdGFydHNXaXRoKGZvbnQsJ1wnJykpKXtyZXR1cm4nXCcnK2ZvbnQrJ1wnJzt9ZWxzZXtyZXR1cm4gZm9udDt9fSkuam9pbignLCcpO307dmFyIGZvbnROYW1lQWN0aW9uPWZ1bmN0aW9uIGZvbnROYW1lQWN0aW9uKGVkaXRvcix2YWx1ZSl7dmFyIGZvbnQ9ZnJvbUZvbnRTaXplTnVtYmVyKGVkaXRvcix2YWx1ZSk7ZWRpdG9yLmZvcm1hdHRlci50b2dnbGUoJ2ZvbnRuYW1lJyx7dmFsdWU6bm9ybWFsaXplRm9udE5hbWVzKGZvbnQpfSk7ZWRpdG9yLm5vZGVDaGFuZ2VkKCk7fTt2YXIgZm9udE5hbWVRdWVyeT1mdW5jdGlvbiBmb250TmFtZVF1ZXJ5KGVkaXRvcil7cmV0dXJuIGdldENhcmV0RWxlbWVudChlZGl0b3IpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZmluZEZpcnN0Q2FyZXRFbGVtZW50KGVkaXRvcikubWFwKGZ1bmN0aW9uKGNhcmV0RWxlbWVudCl7cmV0dXJuIEZvbnRJbmZvLmdldEZvbnRGYW1pbHkoZWRpdG9yLmdldEJvZHkoKSxjYXJldEVsZW1lbnQpO30pLmdldE9yKCcnKTt9LGZ1bmN0aW9uKGNhcmV0RWxlbWVudCl7cmV0dXJuIEZvbnRJbmZvLmdldEZvbnRGYW1pbHkoZWRpdG9yLmdldEJvZHkoKSxjYXJldEVsZW1lbnQpO30pO307dmFyIGZvbnRTaXplQWN0aW9uPWZ1bmN0aW9uIGZvbnRTaXplQWN0aW9uKGVkaXRvcix2YWx1ZSl7ZWRpdG9yLmZvcm1hdHRlci50b2dnbGUoJ2ZvbnRzaXplJyx7dmFsdWU6ZnJvbUZvbnRTaXplTnVtYmVyKGVkaXRvcix2YWx1ZSl9KTtlZGl0b3Iubm9kZUNoYW5nZWQoKTt9O3ZhciBmb250U2l6ZVF1ZXJ5PWZ1bmN0aW9uIGZvbnRTaXplUXVlcnkoZWRpdG9yKXtyZXR1cm4gZ2V0Q2FyZXRFbGVtZW50KGVkaXRvcikuZm9sZChmdW5jdGlvbigpe3JldHVybiBmaW5kRmlyc3RDYXJldEVsZW1lbnQoZWRpdG9yKS5tYXAoZnVuY3Rpb24oY2FyZXRFbGVtZW50KXtyZXR1cm4gRm9udEluZm8uZ2V0Rm9udFNpemUoZWRpdG9yLmdldEJvZHkoKSxjYXJldEVsZW1lbnQpO30pLmdldE9yKCcnKTt9LGZ1bmN0aW9uKGNhcmV0RWxlbWVudCl7cmV0dXJuIEZvbnRJbmZvLmdldEZvbnRTaXplKGVkaXRvci5nZXRCb2R5KCksY2FyZXRFbGVtZW50KTt9KTt9O3ZhciBlYWNoJGc9VG9vbHMuZWFjaDt2YXIgbWFwJDM9VG9vbHMubWFwLGluQXJyYXkkMj1Ub29scy5pbkFycmF5O3ZhciBFZGl0b3JDb21tYW5kcz1mdW5jdGlvbigpe2Z1bmN0aW9uIEVkaXRvckNvbW1hbmRzKGVkaXRvcil7dGhpcy5jb21tYW5kcz17c3RhdGU6e30sZXhlYzp7fSx2YWx1ZTp7fX07dGhpcy5lZGl0b3I9ZWRpdG9yO3RoaXMuc2V0dXBDb21tYW5kcyhlZGl0b3IpO31FZGl0b3JDb21tYW5kcy5wcm90b3R5cGUuZXhlY0NvbW1hbmQ9ZnVuY3Rpb24oY29tbWFuZCx1aSx2YWx1ZSxhcmdzKXt2YXIgZnVuYyxjdXN0b21Db21tYW5kLHN0YXRlPWZhbHNlO3ZhciBzZWxmPXRoaXM7aWYoc2VsZi5lZGl0b3IucmVtb3ZlZCl7cmV0dXJuO31pZighL14obWNlQWRkVW5kb0xldmVsfG1jZUVuZFVuZG9MZXZlbHxtY2VCZWdpblVuZG9MZXZlbHxtY2VSZXBhaW50KSQvLnRlc3QoY29tbWFuZCkmJighYXJnc3x8IWFyZ3Muc2tpcF9mb2N1cykpe3NlbGYuZWRpdG9yLmZvY3VzKCk7fWVsc2V7U2VsZWN0aW9uQm9va21hcmsucmVzdG9yZShzZWxmLmVkaXRvcik7fWFyZ3M9c2VsZi5lZGl0b3IuZmlyZSgnQmVmb3JlRXhlY0NvbW1hbmQnLHtjb21tYW5kOmNvbW1hbmQsdWk6dWksdmFsdWU6dmFsdWV9KTtpZihhcmdzLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtyZXR1cm4gZmFsc2U7fWN1c3RvbUNvbW1hbmQ9Y29tbWFuZC50b0xvd2VyQ2FzZSgpO2lmKGZ1bmM9c2VsZi5jb21tYW5kcy5leGVjW2N1c3RvbUNvbW1hbmRdKXtmdW5jKGN1c3RvbUNvbW1hbmQsdWksdmFsdWUpO3NlbGYuZWRpdG9yLmZpcmUoJ0V4ZWNDb21tYW5kJyx7Y29tbWFuZDpjb21tYW5kLHVpOnVpLHZhbHVlOnZhbHVlfSk7cmV0dXJuIHRydWU7fWVhY2gkZyh0aGlzLmVkaXRvci5wbHVnaW5zLGZ1bmN0aW9uKHApe2lmKHAuZXhlY0NvbW1hbmQmJnAuZXhlY0NvbW1hbmQoY29tbWFuZCx1aSx2YWx1ZSkpe3NlbGYuZWRpdG9yLmZpcmUoJ0V4ZWNDb21tYW5kJyx7Y29tbWFuZDpjb21tYW5kLHVpOnVpLHZhbHVlOnZhbHVlfSk7c3RhdGU9dHJ1ZTtyZXR1cm4gZmFsc2U7fX0pO2lmKHN0YXRlKXtyZXR1cm4gc3RhdGU7fWlmKHNlbGYuZWRpdG9yLnRoZW1lJiZzZWxmLmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCYmc2VsZi5lZGl0b3IudGhlbWUuZXhlY0NvbW1hbmQoY29tbWFuZCx1aSx2YWx1ZSkpe3NlbGYuZWRpdG9yLmZpcmUoJ0V4ZWNDb21tYW5kJyx7Y29tbWFuZDpjb21tYW5kLHVpOnVpLHZhbHVlOnZhbHVlfSk7cmV0dXJuIHRydWU7fXRyeXtzdGF0ZT1zZWxmLmVkaXRvci5nZXREb2MoKS5leGVjQ29tbWFuZChjb21tYW5kLHVpLHZhbHVlKTt9Y2F0Y2goZXgpe31pZihzdGF0ZSl7c2VsZi5lZGl0b3IuZmlyZSgnRXhlY0NvbW1hbmQnLHtjb21tYW5kOmNvbW1hbmQsdWk6dWksdmFsdWU6dmFsdWV9KTtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO307RWRpdG9yQ29tbWFuZHMucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGNvbW1hbmQpe3ZhciBmdW5jO2lmKHRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpfHx0aGlzLmVkaXRvci5yZW1vdmVkKXtyZXR1cm47fWNvbW1hbmQ9Y29tbWFuZC50b0xvd2VyQ2FzZSgpO2lmKGZ1bmM9dGhpcy5jb21tYW5kcy5zdGF0ZVtjb21tYW5kXSl7cmV0dXJuIGZ1bmMoY29tbWFuZCk7fXRyeXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kU3RhdGUoY29tbWFuZCk7fWNhdGNoKGV4KXt9cmV0dXJuIGZhbHNlO307RWRpdG9yQ29tbWFuZHMucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFZhbHVlPWZ1bmN0aW9uKGNvbW1hbmQpe3ZhciBmdW5jO2lmKHRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpfHx0aGlzLmVkaXRvci5yZW1vdmVkKXtyZXR1cm47fWNvbW1hbmQ9Y29tbWFuZC50b0xvd2VyQ2FzZSgpO2lmKGZ1bmM9dGhpcy5jb21tYW5kcy52YWx1ZVtjb21tYW5kXSl7cmV0dXJuIGZ1bmMoY29tbWFuZCk7fXRyeXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kVmFsdWUoY29tbWFuZCk7fWNhdGNoKGV4KXt9fTtFZGl0b3JDb21tYW5kcy5wcm90b3R5cGUuYWRkQ29tbWFuZHM9ZnVuY3Rpb24oY29tbWFuZExpc3QsdHlwZSl7dmFyIHNlbGY9dGhpczt0eXBlPXR5cGV8fCdleGVjJztlYWNoJGcoY29tbWFuZExpc3QsZnVuY3Rpb24oY2FsbGJhY2ssY29tbWFuZCl7ZWFjaCRnKGNvbW1hbmQudG9Mb3dlckNhc2UoKS5zcGxpdCgnLCcpLGZ1bmN0aW9uKGNvbW1hbmQpe3NlbGYuY29tbWFuZHNbdHlwZV1bY29tbWFuZF09Y2FsbGJhY2s7fSk7fSk7fTtFZGl0b3JDb21tYW5kcy5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihjb21tYW5kLGNhbGxiYWNrLHNjb3BlKXt2YXIgX3RoaXM9dGhpcztjb21tYW5kPWNvbW1hbmQudG9Mb3dlckNhc2UoKTt0aGlzLmNvbW1hbmRzLmV4ZWNbY29tbWFuZF09ZnVuY3Rpb24oY29tbWFuZCx1aSx2YWx1ZSxhcmdzKXtyZXR1cm4gY2FsbGJhY2suY2FsbChzY29wZXx8X3RoaXMuZWRpdG9yLHVpLHZhbHVlLGFyZ3MpO307fTtFZGl0b3JDb21tYW5kcy5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkPWZ1bmN0aW9uKGNvbW1hbmQpe2NvbW1hbmQ9Y29tbWFuZC50b0xvd2VyQ2FzZSgpO2lmKHRoaXMuY29tbWFuZHMuZXhlY1tjb21tYW5kXSl7cmV0dXJuIHRydWU7fXRyeXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kU3VwcG9ydGVkKGNvbW1hbmQpO31jYXRjaChleCl7fXJldHVybiBmYWxzZTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihjb21tYW5kLGNhbGxiYWNrLHNjb3BlKXt2YXIgX3RoaXM9dGhpcztjb21tYW5kPWNvbW1hbmQudG9Mb3dlckNhc2UoKTt0aGlzLmNvbW1hbmRzLnN0YXRlW2NvbW1hbmRdPWZ1bmN0aW9uKCl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoc2NvcGV8fF90aGlzLmVkaXRvcik7fTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5hZGRRdWVyeVZhbHVlSGFuZGxlcj1mdW5jdGlvbihjb21tYW5kLGNhbGxiYWNrLHNjb3BlKXt2YXIgX3RoaXM9dGhpcztjb21tYW5kPWNvbW1hbmQudG9Mb3dlckNhc2UoKTt0aGlzLmNvbW1hbmRzLnZhbHVlW2NvbW1hbmRdPWZ1bmN0aW9uKCl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoc2NvcGV8fF90aGlzLmVkaXRvcik7fTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5oYXNDdXN0b21Db21tYW5kPWZ1bmN0aW9uKGNvbW1hbmQpe2NvbW1hbmQ9Y29tbWFuZC50b0xvd2VyQ2FzZSgpO3JldHVybiEhdGhpcy5jb21tYW5kcy5leGVjW2NvbW1hbmRdO307RWRpdG9yQ29tbWFuZHMucHJvdG90eXBlLmV4ZWNOYXRpdmVDb21tYW5kPWZ1bmN0aW9uKGNvbW1hbmQsdWksdmFsdWUpe2lmKHVpPT09dW5kZWZpbmVkKXt1aT1mYWxzZTt9aWYodmFsdWU9PT11bmRlZmluZWQpe3ZhbHVlPW51bGw7fXJldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5leGVjQ29tbWFuZChjb21tYW5kLHVpLHZhbHVlKTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5pc0Zvcm1hdE1hdGNoPWZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmVkaXRvci5mb3JtYXR0ZXIubWF0Y2gobmFtZSk7fTtFZGl0b3JDb21tYW5kcy5wcm90b3R5cGUudG9nZ2xlRm9ybWF0PWZ1bmN0aW9uKG5hbWUsdmFsdWUpe3RoaXMuZWRpdG9yLmZvcm1hdHRlci50b2dnbGUobmFtZSx2YWx1ZT97dmFsdWU6dmFsdWV9OnVuZGVmaW5lZCk7dGhpcy5lZGl0b3Iubm9kZUNoYW5nZWQoKTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5zdG9yZVNlbGVjdGlvbj1mdW5jdGlvbih0eXBlKXt0aGlzLnNlbGVjdGlvbkJvb2ttYXJrPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5nZXRCb29rbWFyayh0eXBlKTt9O0VkaXRvckNvbW1hbmRzLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKHRoaXMuc2VsZWN0aW9uQm9va21hcmspO307RWRpdG9yQ29tbWFuZHMucHJvdG90eXBlLnNldHVwQ29tbWFuZHM9ZnVuY3Rpb24oZWRpdG9yKXt2YXIgc2VsZj10aGlzO3RoaXMuYWRkQ29tbWFuZHMoeydtY2VSZXNldERlc2lnbk1vZGUsbWNlQmVnaW5VbmRvTGV2ZWwnOmZ1bmN0aW9uIG1jZVJlc2V0RGVzaWduTW9kZU1jZUJlZ2luVW5kb0xldmVsKCl7fSwnbWNlRW5kVW5kb0xldmVsLG1jZUFkZFVuZG9MZXZlbCc6ZnVuY3Rpb24gbWNlRW5kVW5kb0xldmVsTWNlQWRkVW5kb0xldmVsKCl7ZWRpdG9yLnVuZG9NYW5hZ2VyLmFkZCgpO30sJ0N1dCxDb3B5LFBhc3RlJzpmdW5jdGlvbiBDdXRDb3B5UGFzdGUoY29tbWFuZCl7dmFyIGRvYz1lZGl0b3IuZ2V0RG9jKCk7dmFyIGZhaWxlZDt0cnl7c2VsZi5leGVjTmF0aXZlQ29tbWFuZChjb21tYW5kKTt9Y2F0Y2goZXgpe2ZhaWxlZD10cnVlO31pZihjb21tYW5kPT09J3Bhc3RlJyYmIWRvYy5xdWVyeUNvbW1hbmRFbmFibGVkKGNvbW1hbmQpKXtmYWlsZWQ9dHJ1ZTt9aWYoZmFpbGVkfHwhZG9jLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChjb21tYW5kKSl7dmFyIG1zZz1lZGl0b3IudHJhbnNsYXRlKCdZb3VyIGJyb3dzZXIgZG9lc25cJ3Qgc3VwcG9ydCBkaXJlY3QgYWNjZXNzIHRvIHRoZSBjbGlwYm9hcmQuICcrJ1BsZWFzZSB1c2UgdGhlIEN0cmwrWC9DL1Yga2V5Ym9hcmQgc2hvcnRjdXRzIGluc3RlYWQuJyk7aWYoRW52Lm1hYyl7bXNnPW1zZy5yZXBsYWNlKC9DdHJsXCsvZywiXHUyMzE4KyIpO31lZGl0b3Iubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0Om1zZyx0eXBlOidlcnJvcid9KTt9fSwndW5saW5rJzpmdW5jdGlvbiB1bmxpbmsoKXtpZihlZGl0b3Iuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpe3ZhciBlbG09ZWRpdG9yLmRvbS5nZXRQYXJlbnQoZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpLCdhJyk7aWYoZWxtKXtlZGl0b3IuZG9tLnJlbW92ZShlbG0sdHJ1ZSk7fXJldHVybjt9ZWRpdG9yLmZvcm1hdHRlci5yZW1vdmUoJ2xpbmsnKTt9LCdKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSc6ZnVuY3Rpb24gSnVzdGlmeUxlZnRKdXN0aWZ5Q2VudGVySnVzdGlmeVJpZ2h0SnVzdGlmeUZ1bGxKdXN0aWZ5Tm9uZShjb21tYW5kKXt2YXIgYWxpZ249Y29tbWFuZC5zdWJzdHJpbmcoNyk7aWYoYWxpZ249PT0nZnVsbCcpe2FsaWduPSdqdXN0aWZ5Jzt9ZWFjaCRnKCdsZWZ0LGNlbnRlcixyaWdodCxqdXN0aWZ5Jy5zcGxpdCgnLCcpLGZ1bmN0aW9uKG5hbWUpe2lmKGFsaWduIT09bmFtZSl7ZWRpdG9yLmZvcm1hdHRlci5yZW1vdmUoJ2FsaWduJytuYW1lKTt9fSk7aWYoYWxpZ24hPT0nbm9uZScpe3NlbGYudG9nZ2xlRm9ybWF0KCdhbGlnbicrYWxpZ24pO319LCdJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0JzpmdW5jdGlvbiBJbnNlcnRVbm9yZGVyZWRMaXN0SW5zZXJ0T3JkZXJlZExpc3QoY29tbWFuZCl7dmFyIGxpc3RFbG0sbGlzdFBhcmVudDtzZWxmLmV4ZWNOYXRpdmVDb21tYW5kKGNvbW1hbmQpO2xpc3RFbG09ZWRpdG9yLmRvbS5nZXRQYXJlbnQoZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCksJ29sLHVsJyk7aWYobGlzdEVsbSl7bGlzdFBhcmVudD1saXN0RWxtLnBhcmVudE5vZGU7aWYoL14oSFsxLTZdfFB8QUREUkVTU3xQUkUpJC8udGVzdChsaXN0UGFyZW50Lm5vZGVOYW1lKSl7c2VsZi5zdG9yZVNlbGVjdGlvbigpO2VkaXRvci5kb20uc3BsaXQobGlzdFBhcmVudCxsaXN0RWxtKTtzZWxmLnJlc3RvcmVTZWxlY3Rpb24oKTt9fX0sJ0JvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCc6ZnVuY3Rpb24gQm9sZEl0YWxpY1VuZGVybGluZVN0cmlrZXRocm91Z2hTdXBlcnNjcmlwdFN1YnNjcmlwdChjb21tYW5kKXtzZWxmLnRvZ2dsZUZvcm1hdChjb21tYW5kKTt9LCdGb3JlQ29sb3IsSGlsaXRlQ29sb3InOmZ1bmN0aW9uIEZvcmVDb2xvckhpbGl0ZUNvbG9yKGNvbW1hbmQsdWksdmFsdWUpe3NlbGYudG9nZ2xlRm9ybWF0KGNvbW1hbmQsdmFsdWUpO30sJ0ZvbnROYW1lJzpmdW5jdGlvbiBGb250TmFtZShjb21tYW5kLHVpLHZhbHVlKXtmb250TmFtZUFjdGlvbihlZGl0b3IsdmFsdWUpO30sJ0ZvbnRTaXplJzpmdW5jdGlvbiBGb250U2l6ZShjb21tYW5kLHVpLHZhbHVlKXtmb250U2l6ZUFjdGlvbihlZGl0b3IsdmFsdWUpO30sJ1JlbW92ZUZvcm1hdCc6ZnVuY3Rpb24gUmVtb3ZlRm9ybWF0KGNvbW1hbmQpe2VkaXRvci5mb3JtYXR0ZXIucmVtb3ZlKGNvbW1hbmQpO30sJ21jZUJsb2NrUXVvdGUnOmZ1bmN0aW9uIG1jZUJsb2NrUXVvdGUoKXtzZWxmLnRvZ2dsZUZvcm1hdCgnYmxvY2txdW90ZScpO30sJ0Zvcm1hdEJsb2NrJzpmdW5jdGlvbiBGb3JtYXRCbG9jayhjb21tYW5kLHVpLHZhbHVlKXtyZXR1cm4gc2VsZi50b2dnbGVGb3JtYXQodmFsdWV8fCdwJyk7fSwnbWNlQ2xlYW51cCc6ZnVuY3Rpb24gbWNlQ2xlYW51cCgpe3ZhciBib29rbWFyaz1lZGl0b3Iuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7ZWRpdG9yLnNldENvbnRlbnQoZWRpdG9yLmdldENvbnRlbnQoKSk7ZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhib29rbWFyayk7fSwnbWNlUmVtb3ZlTm9kZSc6ZnVuY3Rpb24gbWNlUmVtb3ZlTm9kZShjb21tYW5kLHVpLHZhbHVlKXt2YXIgbm9kZT12YWx1ZXx8ZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCk7aWYobm9kZSE9PWVkaXRvci5nZXRCb2R5KCkpe3NlbGYuc3RvcmVTZWxlY3Rpb24oKTtlZGl0b3IuZG9tLnJlbW92ZShub2RlLHRydWUpO3NlbGYucmVzdG9yZVNlbGVjdGlvbigpO319LCdtY2VTZWxlY3ROb2RlRGVwdGgnOmZ1bmN0aW9uIG1jZVNlbGVjdE5vZGVEZXB0aChjb21tYW5kLHVpLHZhbHVlKXt2YXIgY291bnRlcj0wO2VkaXRvci5kb20uZ2V0UGFyZW50KGVkaXRvci5zZWxlY3Rpb24uZ2V0Tm9kZSgpLGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUubm9kZVR5cGU9PT0xJiZjb3VudGVyKys9PT12YWx1ZSl7ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3Qobm9kZSk7cmV0dXJuIGZhbHNlO319LGVkaXRvci5nZXRCb2R5KCkpO30sJ21jZVNlbGVjdE5vZGUnOmZ1bmN0aW9uIG1jZVNlbGVjdE5vZGUoY29tbWFuZCx1aSx2YWx1ZSl7ZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3QodmFsdWUpO30sJ21jZUluc2VydENvbnRlbnQnOmZ1bmN0aW9uIG1jZUluc2VydENvbnRlbnQoY29tbWFuZCx1aSx2YWx1ZSl7SW5zZXJ0Q29udGVudC5pbnNlcnRBdENhcmV0KGVkaXRvcix2YWx1ZSk7fSwnbWNlSW5zZXJ0UmF3SFRNTCc6ZnVuY3Rpb24gbWNlSW5zZXJ0UmF3SFRNTChjb21tYW5kLHVpLHZhbHVlKXtlZGl0b3Iuc2VsZWN0aW9uLnNldENvbnRlbnQoJ3RpbnlfbWNlX21hcmtlcicpO3ZhciBjb250ZW50PWVkaXRvci5nZXRDb250ZW50KCk7ZWRpdG9yLnNldENvbnRlbnQoY29udGVudC5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZyxmdW5jdGlvbigpe3JldHVybiB2YWx1ZTt9KSk7fSwnbWNlSW5zZXJ0TmV3TGluZSc6ZnVuY3Rpb24gbWNlSW5zZXJ0TmV3TGluZShjb21tYW5kLHVpLHZhbHVlKXtJbnNlcnROZXdMaW5lLmluc2VydChlZGl0b3IsdmFsdWUpO30sJ21jZVRvZ2dsZUZvcm1hdCc6ZnVuY3Rpb24gbWNlVG9nZ2xlRm9ybWF0KGNvbW1hbmQsdWksdmFsdWUpe3NlbGYudG9nZ2xlRm9ybWF0KHZhbHVlKTt9LCdtY2VTZXRDb250ZW50JzpmdW5jdGlvbiBtY2VTZXRDb250ZW50KGNvbW1hbmQsdWksdmFsdWUpe2VkaXRvci5zZXRDb250ZW50KHZhbHVlKTt9LCdJbmRlbnQsT3V0ZGVudCc6ZnVuY3Rpb24gSW5kZW50T3V0ZGVudChjb21tYW5kKXtoYW5kbGUoZWRpdG9yLGNvbW1hbmQpO30sJ21jZVJlcGFpbnQnOmZ1bmN0aW9uIG1jZVJlcGFpbnQoKXt9LCdJbnNlcnRIb3Jpem9udGFsUnVsZSc6ZnVuY3Rpb24gSW5zZXJ0SG9yaXpvbnRhbFJ1bGUoKXtlZGl0b3IuZXhlY0NvbW1hbmQoJ21jZUluc2VydENvbnRlbnQnLGZhbHNlLCc8aHIgLz4nKTt9LCdtY2VUb2dnbGVWaXN1YWxBaWQnOmZ1bmN0aW9uIG1jZVRvZ2dsZVZpc3VhbEFpZCgpe2VkaXRvci5oYXNWaXN1YWw9IWVkaXRvci5oYXNWaXN1YWw7ZWRpdG9yLmFkZFZpc3VhbCgpO30sJ21jZVJlcGxhY2VDb250ZW50JzpmdW5jdGlvbiBtY2VSZXBsYWNlQ29udGVudChjb21tYW5kLHVpLHZhbHVlKXtlZGl0b3IuZXhlY0NvbW1hbmQoJ21jZUluc2VydENvbnRlbnQnLGZhbHNlLHZhbHVlLnJlcGxhY2UoL1x7XCRzZWxlY3Rpb25cfS9nLGVkaXRvci5zZWxlY3Rpb24uZ2V0Q29udGVudCh7Zm9ybWF0Oid0ZXh0J30pKSk7fSwnbWNlSW5zZXJ0TGluayc6ZnVuY3Rpb24gbWNlSW5zZXJ0TGluayhjb21tYW5kLHVpLHZhbHVlKXt2YXIgYW5jaG9yO2lmKHR5cGVvZiB2YWx1ZT09PSdzdHJpbmcnKXt2YWx1ZT17aHJlZjp2YWx1ZX07fWFuY2hvcj1lZGl0b3IuZG9tLmdldFBhcmVudChlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKSwnYScpO3ZhbHVlLmhyZWY9dmFsdWUuaHJlZi5yZXBsYWNlKC8gL2csJyUyMCcpO2lmKCFhbmNob3J8fCF2YWx1ZS5ocmVmKXtlZGl0b3IuZm9ybWF0dGVyLnJlbW92ZSgnbGluaycpO31pZih2YWx1ZS5ocmVmKXtlZGl0b3IuZm9ybWF0dGVyLmFwcGx5KCdsaW5rJyx2YWx1ZSxhbmNob3IpO319LCdzZWxlY3RBbGwnOmZ1bmN0aW9uIHNlbGVjdEFsbCgpe3ZhciBlZGl0aW5nSG9zdD1lZGl0b3IuZG9tLmdldFBhcmVudChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0KCksTm9kZVR5cGUuaXNDb250ZW50RWRpdGFibGVUcnVlKTtpZihlZGl0aW5nSG9zdCl7dmFyIHJuZz1lZGl0b3IuZG9tLmNyZWF0ZVJuZygpO3JuZy5zZWxlY3ROb2RlQ29udGVudHMoZWRpdGluZ0hvc3QpO2VkaXRvci5zZWxlY3Rpb24uc2V0Um5nKHJuZyk7fX0sJ2RlbGV0ZSc6ZnVuY3Rpb24gX2RlbGV0ZSgpe0RlbGV0ZUNvbW1hbmRzLmRlbGV0ZUNvbW1hbmQoZWRpdG9yKTt9LCdmb3J3YXJkRGVsZXRlJzpmdW5jdGlvbiBmb3J3YXJkRGVsZXRlKCl7RGVsZXRlQ29tbWFuZHMuZm9yd2FyZERlbGV0ZUNvbW1hbmQoZWRpdG9yKTt9LCdtY2VOZXdEb2N1bWVudCc6ZnVuY3Rpb24gbWNlTmV3RG9jdW1lbnQoKXtlZGl0b3Iuc2V0Q29udGVudCgnJyk7fSwnSW5zZXJ0TGluZUJyZWFrJzpmdW5jdGlvbiBJbnNlcnRMaW5lQnJlYWsoY29tbWFuZCx1aSx2YWx1ZSl7SW5zZXJ0QnIuaW5zZXJ0KGVkaXRvcix2YWx1ZSk7cmV0dXJuIHRydWU7fX0pO3ZhciBhbGlnblN0YXRlcz1mdW5jdGlvbiBhbGlnblN0YXRlcyhuYW1lKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbm9kZXM9ZWRpdG9yLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP1tlZGl0b3IuZG9tLmdldFBhcmVudChlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKSxlZGl0b3IuZG9tLmlzQmxvY2spXTplZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCk7dmFyIG1hdGNoZXM9bWFwJDMobm9kZXMsZnVuY3Rpb24obm9kZSl7cmV0dXJuISFlZGl0b3IuZm9ybWF0dGVyLm1hdGNoTm9kZShub2RlLG5hbWUpO30pO3JldHVybiBpbkFycmF5JDIobWF0Y2hlcyx0cnVlKSE9PS0xO307fTtzZWxmLmFkZENvbW1hbmRzKHsnSnVzdGlmeUxlZnQnOmFsaWduU3RhdGVzKCdhbGlnbmxlZnQnKSwnSnVzdGlmeUNlbnRlcic6YWxpZ25TdGF0ZXMoJ2FsaWduY2VudGVyJyksJ0p1c3RpZnlSaWdodCc6YWxpZ25TdGF0ZXMoJ2FsaWducmlnaHQnKSwnSnVzdGlmeUZ1bGwnOmFsaWduU3RhdGVzKCdhbGlnbmp1c3RpZnknKSwnQm9sZCxJdGFsaWMsVW5kZXJsaW5lLFN0cmlrZXRocm91Z2gsU3VwZXJzY3JpcHQsU3Vic2NyaXB0JzpmdW5jdGlvbiBCb2xkSXRhbGljVW5kZXJsaW5lU3RyaWtldGhyb3VnaFN1cGVyc2NyaXB0U3Vic2NyaXB0KGNvbW1hbmQpe3JldHVybiBzZWxmLmlzRm9ybWF0TWF0Y2goY29tbWFuZCk7fSwnbWNlQmxvY2tRdW90ZSc6ZnVuY3Rpb24gbWNlQmxvY2tRdW90ZSgpe3JldHVybiBzZWxmLmlzRm9ybWF0TWF0Y2goJ2Jsb2NrcXVvdGUnKTt9LCdPdXRkZW50JzpmdW5jdGlvbiBPdXRkZW50KCl7cmV0dXJuIGNhbk91dGRlbnQoZWRpdG9yKTt9LCdJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0JzpmdW5jdGlvbiBJbnNlcnRVbm9yZGVyZWRMaXN0SW5zZXJ0T3JkZXJlZExpc3QoY29tbWFuZCl7dmFyIGxpc3Q9ZWRpdG9yLmRvbS5nZXRQYXJlbnQoZWRpdG9yLnNlbGVjdGlvbi5nZXROb2RlKCksJ3VsLG9sJyk7cmV0dXJuIGxpc3QmJihjb21tYW5kPT09J2luc2VydHVub3JkZXJlZGxpc3QnJiZsaXN0LnRhZ05hbWU9PT0nVUwnfHxjb21tYW5kPT09J2luc2VydG9yZGVyZWRsaXN0JyYmbGlzdC50YWdOYW1lPT09J09MJyk7fX0sJ3N0YXRlJyk7c2VsZi5hZGRDb21tYW5kcyh7VW5kbzpmdW5jdGlvbiBVbmRvKCl7ZWRpdG9yLnVuZG9NYW5hZ2VyLnVuZG8oKTt9LFJlZG86ZnVuY3Rpb24gUmVkbygpe2VkaXRvci51bmRvTWFuYWdlci5yZWRvKCk7fX0pO3NlbGYuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoJ0ZvbnROYW1lJyxmdW5jdGlvbigpe3JldHVybiBmb250TmFtZVF1ZXJ5KGVkaXRvcik7fSx0aGlzKTtzZWxmLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCdGb250U2l6ZScsZnVuY3Rpb24oKXtyZXR1cm4gZm9udFNpemVRdWVyeShlZGl0b3IpO30sdGhpcyk7fTtyZXR1cm4gRWRpdG9yQ29tbWFuZHM7fSgpO3ZhciBuYXRpdmVFdmVudHM9VG9vbHMubWFrZU1hcCgnZm9jdXMgYmx1ciBmb2N1c2luIGZvY3Vzb3V0IGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgYmVmb3JlcGFzdGUgcGFzdGUgY3V0IGNvcHkgc2VsZWN0aW9uY2hhbmdlICcrJ21vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSB3aGVlbCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IGJlZm9yZWlucHV0IGNvbnRleHRtZW51IGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyICcrJ2RyYWdnZXN0dXJlIGRyYWdkcm9wIGRyb3AgZHJhZyBzdWJtaXQgJysnY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsJyAnKTt2YXIgRXZlbnREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKHNldHRpbmdzKXt0aGlzLmJpbmRpbmdzPXt9O3RoaXMuc2V0dGluZ3M9c2V0dGluZ3N8fHt9O3RoaXMuc2NvcGU9dGhpcy5zZXR0aW5ncy5zY29wZXx8dGhpczt0aGlzLnRvZ2dsZUV2ZW50PXRoaXMuc2V0dGluZ3MudG9nZ2xlRXZlbnR8fG5ldmVyO31FdmVudERpc3BhdGNoZXIuaXNOYXRpdmU9ZnVuY3Rpb24obmFtZSl7cmV0dXJuISFuYXRpdmVFdmVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTt9O0V2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihuYW1lLGFyZ3Mpe3ZhciBoYW5kbGVycyxpLGwsY2FsbGJhY2s7bmFtZT1uYW1lLnRvTG93ZXJDYXNlKCk7YXJncz1hcmdzfHx7fTthcmdzLnR5cGU9bmFtZTtpZighYXJncy50YXJnZXQpe2FyZ3MudGFyZ2V0PXRoaXMuc2NvcGU7fWlmKCFhcmdzLnByZXZlbnREZWZhdWx0KXthcmdzLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7YXJncy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YWx3YXlzO307YXJncy5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXthcmdzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWFsd2F5czt9O2FyZ3Muc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7YXJncy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1hbHdheXM7fTthcmdzLmlzRGVmYXVsdFByZXZlbnRlZD1uZXZlcjthcmdzLmlzUHJvcGFnYXRpb25TdG9wcGVkPW5ldmVyO2FyZ3MuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9bmV2ZXI7fWlmKHRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZSl7dGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlKGFyZ3MpO31oYW5kbGVycz10aGlzLmJpbmRpbmdzW25hbWVdO2lmKGhhbmRsZXJzKXtmb3IoaT0wLGw9aGFuZGxlcnMubGVuZ3RoO2k8bDtpKyspe2NhbGxiYWNrPWhhbmRsZXJzW2ldO2lmKGNhbGxiYWNrLm9uY2Upe3RoaXMub2ZmKG5hbWUsY2FsbGJhY2suZnVuYyk7fWlmKGFyZ3MuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl7YXJncy5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm4gYXJnczt9aWYoY2FsbGJhY2suZnVuYy5jYWxsKHRoaXMuc2NvcGUsYXJncyk9PT1mYWxzZSl7YXJncy5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBhcmdzO319fXJldHVybiBhcmdzO307RXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5vbj1mdW5jdGlvbihuYW1lLGNhbGxiYWNrLHByZXBlbmQsZXh0cmEpe3ZhciBoYW5kbGVycyxuYW1lcyxpO2lmKGNhbGxiYWNrPT09ZmFsc2Upe2NhbGxiYWNrPW5ldmVyO31pZihjYWxsYmFjayl7dmFyIHdyYXBwZWRDYWxsYmFjaz17ZnVuYzpjYWxsYmFja307aWYoZXh0cmEpe1Rvb2xzLmV4dGVuZCh3cmFwcGVkQ2FsbGJhY2ssZXh0cmEpO31uYW1lcz1uYW1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKTtpPW5hbWVzLmxlbmd0aDt3aGlsZShpLS0pe25hbWU9bmFtZXNbaV07aGFuZGxlcnM9dGhpcy5iaW5kaW5nc1tuYW1lXTtpZighaGFuZGxlcnMpe2hhbmRsZXJzPXRoaXMuYmluZGluZ3NbbmFtZV09W107dGhpcy50b2dnbGVFdmVudChuYW1lLHRydWUpO31pZihwcmVwZW5kKXtoYW5kbGVycy51bnNoaWZ0KHdyYXBwZWRDYWxsYmFjayk7fWVsc2V7aGFuZGxlcnMucHVzaCh3cmFwcGVkQ2FsbGJhY2spO319fXJldHVybiB0aGlzO307RXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayl7dmFyIGksaGFuZGxlcnMsYmluZGluZ05hbWUsbmFtZXMsaGk7aWYobmFtZSl7bmFtZXM9bmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJyk7aT1uYW1lcy5sZW5ndGg7d2hpbGUoaS0tKXtuYW1lPW5hbWVzW2ldO2hhbmRsZXJzPXRoaXMuYmluZGluZ3NbbmFtZV07aWYoIW5hbWUpe2ZvcihiaW5kaW5nTmFtZSBpbiB0aGlzLmJpbmRpbmdzKXt0aGlzLnRvZ2dsZUV2ZW50KGJpbmRpbmdOYW1lLGZhbHNlKTtkZWxldGUgdGhpcy5iaW5kaW5nc1tiaW5kaW5nTmFtZV07fXJldHVybiB0aGlzO31pZihoYW5kbGVycyl7aWYoIWNhbGxiYWNrKXtoYW5kbGVycy5sZW5ndGg9MDt9ZWxzZXtoaT1oYW5kbGVycy5sZW5ndGg7d2hpbGUoaGktLSl7aWYoaGFuZGxlcnNbaGldLmZ1bmM9PT1jYWxsYmFjayl7aGFuZGxlcnM9aGFuZGxlcnMuc2xpY2UoMCxoaSkuY29uY2F0KGhhbmRsZXJzLnNsaWNlKGhpKzEpKTt0aGlzLmJpbmRpbmdzW25hbWVdPWhhbmRsZXJzO319fWlmKCFoYW5kbGVycy5sZW5ndGgpe3RoaXMudG9nZ2xlRXZlbnQobmFtZSxmYWxzZSk7ZGVsZXRlIHRoaXMuYmluZGluZ3NbbmFtZV07fX19fWVsc2V7Zm9yKG5hbWUgaW4gdGhpcy5iaW5kaW5ncyl7dGhpcy50b2dnbGVFdmVudChuYW1lLGZhbHNlKTt9dGhpcy5iaW5kaW5ncz17fTt9cmV0dXJuIHRoaXM7fTtFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxwcmVwZW5kKXtyZXR1cm4gdGhpcy5vbihuYW1lLGNhbGxiYWNrLHByZXBlbmQse29uY2U6dHJ1ZX0pO307RXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24obmFtZSl7bmFtZT1uYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuISghdGhpcy5iaW5kaW5nc1tuYW1lXXx8dGhpcy5iaW5kaW5nc1tuYW1lXS5sZW5ndGg9PT0wKTt9O3JldHVybiBFdmVudERpc3BhdGNoZXI7fSgpO3ZhciBnZXRFdmVudERpc3BhdGNoZXI9ZnVuY3Rpb24gZ2V0RXZlbnREaXNwYXRjaGVyKG9iail7aWYoIW9iai5fZXZlbnREaXNwYXRjaGVyKXtvYmouX2V2ZW50RGlzcGF0Y2hlcj1uZXcgRXZlbnREaXNwYXRjaGVyKHtzY29wZTpvYmosdG9nZ2xlRXZlbnQ6ZnVuY3Rpb24gdG9nZ2xlRXZlbnQobmFtZSxzdGF0ZSl7aWYoRXZlbnREaXNwYXRjaGVyLmlzTmF0aXZlKG5hbWUpJiZvYmoudG9nZ2xlTmF0aXZlRXZlbnQpe29iai50b2dnbGVOYXRpdmVFdmVudChuYW1lLHN0YXRlKTt9fX0pO31yZXR1cm4gb2JqLl9ldmVudERpc3BhdGNoZXI7fTt2YXIgT2JzZXJ2YWJsZT17ZmlyZTpmdW5jdGlvbiBmaXJlKG5hbWUsYXJncyxidWJibGUpe3ZhciBzZWxmPXRoaXM7aWYoc2VsZi5yZW1vdmVkJiZuYW1lIT09J3JlbW92ZScmJm5hbWUhPT0nZGV0YWNoJyl7cmV0dXJuIGFyZ3M7fXZhciBkaXNwYXRjaGVyQXJncz1nZXRFdmVudERpc3BhdGNoZXIoc2VsZikuZmlyZShuYW1lLGFyZ3MpO2lmKGJ1YmJsZSE9PWZhbHNlJiZzZWxmLnBhcmVudCl7dmFyIHBhcmVudD1zZWxmLnBhcmVudCgpO3doaWxlKHBhcmVudCYmIWRpc3BhdGNoZXJBcmdzLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3BhcmVudC5maXJlKG5hbWUsZGlzcGF0Y2hlckFyZ3MsZmFsc2UpO3BhcmVudD1wYXJlbnQucGFyZW50KCk7fX1yZXR1cm4gZGlzcGF0Y2hlckFyZ3M7fSxvbjpmdW5jdGlvbiBvbihuYW1lLGNhbGxiYWNrLHByZXBlbmQpe3JldHVybiBnZXRFdmVudERpc3BhdGNoZXIodGhpcykub24obmFtZSxjYWxsYmFjayxwcmVwZW5kKTt9LG9mZjpmdW5jdGlvbiBvZmYobmFtZSxjYWxsYmFjayl7cmV0dXJuIGdldEV2ZW50RGlzcGF0Y2hlcih0aGlzKS5vZmYobmFtZSxjYWxsYmFjayk7fSxvbmNlOmZ1bmN0aW9uIG9uY2UobmFtZSxjYWxsYmFjayl7cmV0dXJuIGdldEV2ZW50RGlzcGF0Y2hlcih0aGlzKS5vbmNlKG5hbWUsY2FsbGJhY2spO30saGFzRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24gaGFzRXZlbnRMaXN0ZW5lcnMobmFtZSl7cmV0dXJuIGdldEV2ZW50RGlzcGF0Y2hlcih0aGlzKS5oYXMobmFtZSk7fX07dmFyIERPTSQ3PURPTVV0aWxzJDEuRE9NO3ZhciBjdXN0b21FdmVudFJvb3REZWxlZ2F0ZXM7dmFyIGdldEV2ZW50VGFyZ2V0PWZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KGVkaXRvcixldmVudE5hbWUpe2lmKGV2ZW50TmFtZT09PSdzZWxlY3Rpb25jaGFuZ2UnKXtyZXR1cm4gZWRpdG9yLmdldERvYygpO31pZighZWRpdG9yLmlubGluZSYmL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QoZXZlbnROYW1lKSl7cmV0dXJuIGVkaXRvci5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ7fWlmKGVkaXRvci5zZXR0aW5ncy5ldmVudF9yb290KXtpZighZWRpdG9yLmV2ZW50Um9vdCl7ZWRpdG9yLmV2ZW50Um9vdD1ET00kNy5zZWxlY3QoZWRpdG9yLnNldHRpbmdzLmV2ZW50X3Jvb3QpWzBdO31yZXR1cm4gZWRpdG9yLmV2ZW50Um9vdDt9cmV0dXJuIGVkaXRvci5nZXRCb2R5KCk7fTt2YXIgaXNMaXN0ZW5pbmc9ZnVuY3Rpb24gaXNMaXN0ZW5pbmcoZWRpdG9yKXtyZXR1cm4hZWRpdG9yLmhpZGRlbiYmIV9pc1JlYWRPbmx5KGVkaXRvcik7fTt2YXIgZmlyZUV2ZW50PWZ1bmN0aW9uIGZpcmVFdmVudChlZGl0b3IsZXZlbnROYW1lLGUpe2lmKGlzTGlzdGVuaW5nKGVkaXRvcikpe2VkaXRvci5maXJlKGV2ZW50TmFtZSxlKTt9ZWxzZSBpZihfaXNSZWFkT25seShlZGl0b3IpKXtwcmV2ZW50UmVhZE9ubHlFdmVudHMoZSk7fX07dmFyIGJpbmRFdmVudERlbGVnYXRlPWZ1bmN0aW9uIGJpbmRFdmVudERlbGVnYXRlKGVkaXRvcixldmVudE5hbWUpe3ZhciBldmVudFJvb3RFbG0sZGVsZWdhdGU7aWYoIWVkaXRvci5kZWxlZ2F0ZXMpe2VkaXRvci5kZWxlZ2F0ZXM9e307fWlmKGVkaXRvci5kZWxlZ2F0ZXNbZXZlbnROYW1lXXx8ZWRpdG9yLnJlbW92ZWQpe3JldHVybjt9ZXZlbnRSb290RWxtPWdldEV2ZW50VGFyZ2V0KGVkaXRvcixldmVudE5hbWUpO2lmKGVkaXRvci5zZXR0aW5ncy5ldmVudF9yb290KXtpZighY3VzdG9tRXZlbnRSb290RGVsZWdhdGVzKXtjdXN0b21FdmVudFJvb3REZWxlZ2F0ZXM9e307ZWRpdG9yLmVkaXRvck1hbmFnZXIub24oJ3JlbW92ZUVkaXRvcicsZnVuY3Rpb24oKXt2YXIgbmFtZTtpZighZWRpdG9yLmVkaXRvck1hbmFnZXIuYWN0aXZlRWRpdG9yKXtpZihjdXN0b21FdmVudFJvb3REZWxlZ2F0ZXMpe2ZvcihuYW1lIGluIGN1c3RvbUV2ZW50Um9vdERlbGVnYXRlcyl7ZWRpdG9yLmRvbS51bmJpbmQoZ2V0RXZlbnRUYXJnZXQoZWRpdG9yLG5hbWUpKTt9Y3VzdG9tRXZlbnRSb290RGVsZWdhdGVzPW51bGw7fX19KTt9aWYoY3VzdG9tRXZlbnRSb290RGVsZWdhdGVzW2V2ZW50TmFtZV0pe3JldHVybjt9ZGVsZWdhdGU9ZnVuY3Rpb24gZGVsZWdhdGUoZSl7dmFyIHRhcmdldD1lLnRhcmdldDt2YXIgZWRpdG9ycz1lZGl0b3IuZWRpdG9yTWFuYWdlci5nZXQoKTt2YXIgaT1lZGl0b3JzLmxlbmd0aDt3aGlsZShpLS0pe3ZhciBib2R5PWVkaXRvcnNbaV0uZ2V0Qm9keSgpO2lmKGJvZHk9PT10YXJnZXR8fERPTSQ3LmlzQ2hpbGRPZih0YXJnZXQsYm9keSkpe2ZpcmVFdmVudChlZGl0b3JzW2ldLGV2ZW50TmFtZSxlKTt9fX07Y3VzdG9tRXZlbnRSb290RGVsZWdhdGVzW2V2ZW50TmFtZV09ZGVsZWdhdGU7RE9NJDcuYmluZChldmVudFJvb3RFbG0sZXZlbnROYW1lLGRlbGVnYXRlKTt9ZWxzZXtkZWxlZ2F0ZT1mdW5jdGlvbiBkZWxlZ2F0ZShlKXtmaXJlRXZlbnQoZWRpdG9yLGV2ZW50TmFtZSxlKTt9O0RPTSQ3LmJpbmQoZXZlbnRSb290RWxtLGV2ZW50TmFtZSxkZWxlZ2F0ZSk7ZWRpdG9yLmRlbGVnYXRlc1tldmVudE5hbWVdPWRlbGVnYXRlO319O3ZhciBFZGl0b3JPYnNlcnZhYmxlPV9hc3NpZ24oX2Fzc2lnbih7fSxPYnNlcnZhYmxlKSx7YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbiBiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzKCl7dmFyIHNlbGY9dGhpcztUb29scy5lYWNoKHNlbGYuX3BlbmRpbmdOYXRpdmVFdmVudHMsZnVuY3Rpb24obmFtZSl7YmluZEV2ZW50RGVsZWdhdGUoc2VsZixuYW1lKTt9KTt9LHRvZ2dsZU5hdGl2ZUV2ZW50OmZ1bmN0aW9uIHRvZ2dsZU5hdGl2ZUV2ZW50KG5hbWUsc3RhdGUpe3ZhciBzZWxmPXRoaXM7aWYobmFtZT09PSdmb2N1cyd8fG5hbWU9PT0nYmx1cicpe3JldHVybjt9aWYoc3RhdGUpe2lmKHNlbGYuaW5pdGlhbGl6ZWQpe2JpbmRFdmVudERlbGVnYXRlKHNlbGYsbmFtZSk7fWVsc2V7aWYoIXNlbGYuX3BlbmRpbmdOYXRpdmVFdmVudHMpe3NlbGYuX3BlbmRpbmdOYXRpdmVFdmVudHM9W25hbWVdO31lbHNle3NlbGYuX3BlbmRpbmdOYXRpdmVFdmVudHMucHVzaChuYW1lKTt9fX1lbHNlIGlmKHNlbGYuaW5pdGlhbGl6ZWQpe3NlbGYuZG9tLnVuYmluZChnZXRFdmVudFRhcmdldChzZWxmLG5hbWUpLG5hbWUsc2VsZi5kZWxlZ2F0ZXNbbmFtZV0pO2RlbGV0ZSBzZWxmLmRlbGVnYXRlc1tuYW1lXTt9fSx1bmJpbmRBbGxOYXRpdmVFdmVudHM6ZnVuY3Rpb24gdW5iaW5kQWxsTmF0aXZlRXZlbnRzKCl7dmFyIHNlbGY9dGhpczt2YXIgYm9keT1zZWxmLmdldEJvZHkoKTt2YXIgZG9tPXNlbGYuZG9tO3ZhciBuYW1lO2lmKHNlbGYuZGVsZWdhdGVzKXtmb3IobmFtZSBpbiBzZWxmLmRlbGVnYXRlcyl7c2VsZi5kb20udW5iaW5kKGdldEV2ZW50VGFyZ2V0KHNlbGYsbmFtZSksbmFtZSxzZWxmLmRlbGVnYXRlc1tuYW1lXSk7fWRlbGV0ZSBzZWxmLmRlbGVnYXRlczt9aWYoIXNlbGYuaW5saW5lJiZib2R5JiZkb20pe2JvZHkub25sb2FkPW51bGw7ZG9tLnVuYmluZChzZWxmLmdldFdpbigpKTtkb20udW5iaW5kKHNlbGYuZ2V0RG9jKCkpO31pZihkb20pe2RvbS51bmJpbmQoYm9keSk7ZG9tLnVuYmluZChzZWxmLmdldENvbnRhaW5lcigpKTt9fX0pO3ZhciBlYWNoJGg9VG9vbHMuZWFjaCxleHBsb2RlJDM9VG9vbHMuZXhwbG9kZTt2YXIga2V5Q29kZUxvb2t1cD17ZjE6MTEyLGYyOjExMyxmMzoxMTQsZjQ6MTE1LGY1OjExNixmNjoxMTcsZjc6MTE4LGY4OjExOSxmOToxMjAsZjEwOjEyMSxmMTE6MTIyLGYxMjoxMjN9O3ZhciBtb2RpZmllck5hbWVzPVRvb2xzLm1ha2VNYXAoJ2FsdCxjdHJsLHNoaWZ0LG1ldGEsYWNjZXNzJyk7dmFyIFNob3J0Y3V0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIFNob3J0Y3V0cyhlZGl0b3Ipe3RoaXMuc2hvcnRjdXRzPXt9O3RoaXMucGVuZGluZ1BhdHRlcm5zPVtdO3RoaXMuZWRpdG9yPWVkaXRvcjt2YXIgc2VsZj10aGlzO2VkaXRvci5vbigna2V5dXAga2V5cHJlc3Mga2V5ZG93bicsZnVuY3Rpb24oZSl7aWYoKHNlbGYuaGFzTW9kaWZpZXIoZSl8fHNlbGYuaXNGdW5jdGlvbktleShlKSkmJiFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlYWNoJGgoc2VsZi5zaG9ydGN1dHMsZnVuY3Rpb24oc2hvcnRjdXQpe2lmKHNlbGYubWF0Y2hTaG9ydGN1dChlLHNob3J0Y3V0KSl7c2VsZi5wZW5kaW5nUGF0dGVybnM9c2hvcnRjdXQuc3VicGF0dGVybnMuc2xpY2UoMCk7aWYoZS50eXBlPT09J2tleWRvd24nKXtzZWxmLmV4ZWN1dGVTaG9ydGN1dEFjdGlvbihzaG9ydGN1dCk7fXJldHVybiB0cnVlO319KTtpZihzZWxmLm1hdGNoU2hvcnRjdXQoZSxzZWxmLnBlbmRpbmdQYXR0ZXJuc1swXSkpe2lmKHNlbGYucGVuZGluZ1BhdHRlcm5zLmxlbmd0aD09PTEpe2lmKGUudHlwZT09PSdrZXlkb3duJyl7c2VsZi5leGVjdXRlU2hvcnRjdXRBY3Rpb24oc2VsZi5wZW5kaW5nUGF0dGVybnNbMF0pO319c2VsZi5wZW5kaW5nUGF0dGVybnMuc2hpZnQoKTt9fX0pO31TaG9ydGN1dHMucHJvdG90eXBlLmFkZD1mdW5jdGlvbihwYXR0ZXJuLGRlc2MsY21kRnVuYyxzY29wZSl7dmFyIHNlbGY9dGhpczt2YXIgY21kO2NtZD1jbWRGdW5jO2lmKHR5cGVvZiBjbWRGdW5jPT09J3N0cmluZycpe2NtZEZ1bmM9ZnVuY3Rpb24gY21kRnVuYygpe3NlbGYuZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCxmYWxzZSxudWxsKTt9O31lbHNlIGlmKFRvb2xzLmlzQXJyYXkoY21kKSl7Y21kRnVuYz1mdW5jdGlvbiBjbWRGdW5jKCl7c2VsZi5lZGl0b3IuZXhlY0NvbW1hbmQoY21kWzBdLGNtZFsxXSxjbWRbMl0pO307fWVhY2gkaChleHBsb2RlJDMoVG9vbHMudHJpbShwYXR0ZXJuKSksZnVuY3Rpb24ocGF0dGVybil7dmFyIHNob3J0Y3V0PXNlbGYuY3JlYXRlU2hvcnRjdXQocGF0dGVybixkZXNjLGNtZEZ1bmMsc2NvcGUpO3NlbGYuc2hvcnRjdXRzW3Nob3J0Y3V0LmlkXT1zaG9ydGN1dDt9KTtyZXR1cm4gdHJ1ZTt9O1Nob3J0Y3V0cy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHBhdHRlcm4pe3ZhciBzaG9ydGN1dD10aGlzLmNyZWF0ZVNob3J0Y3V0KHBhdHRlcm4pO2lmKHRoaXMuc2hvcnRjdXRzW3Nob3J0Y3V0LmlkXSl7ZGVsZXRlIHRoaXMuc2hvcnRjdXRzW3Nob3J0Y3V0LmlkXTtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO307U2hvcnRjdXRzLnByb3RvdHlwZS5wYXJzZVNob3J0Y3V0PWZ1bmN0aW9uKHBhdHRlcm4pe3ZhciBpZCxrZXk7dmFyIHNob3J0Y3V0PXt9O2VhY2gkaChleHBsb2RlJDMocGF0dGVybi50b0xvd2VyQ2FzZSgpLCcrJyksZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlIGluIG1vZGlmaWVyTmFtZXMpe3Nob3J0Y3V0W3ZhbHVlXT10cnVlO31lbHNle2lmKC9eWzAtOV17Mix9JC8udGVzdCh2YWx1ZSkpe3Nob3J0Y3V0LmtleUNvZGU9cGFyc2VJbnQodmFsdWUsMTApO31lbHNle3Nob3J0Y3V0LmNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoMCk7c2hvcnRjdXQua2V5Q29kZT1rZXlDb2RlTG9va3VwW3ZhbHVlXXx8dmFsdWUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApO319fSk7aWQ9W3Nob3J0Y3V0LmtleUNvZGVdO2ZvcihrZXkgaW4gbW9kaWZpZXJOYW1lcyl7aWYoc2hvcnRjdXRba2V5XSl7aWQucHVzaChrZXkpO31lbHNle3Nob3J0Y3V0W2tleV09ZmFsc2U7fX1zaG9ydGN1dC5pZD1pZC5qb2luKCcsJyk7aWYoc2hvcnRjdXQuYWNjZXNzKXtzaG9ydGN1dC5hbHQ9dHJ1ZTtpZihFbnYubWFjKXtzaG9ydGN1dC5jdHJsPXRydWU7fWVsc2V7c2hvcnRjdXQuc2hpZnQ9dHJ1ZTt9fWlmKHNob3J0Y3V0Lm1ldGEpe2lmKEVudi5tYWMpe3Nob3J0Y3V0Lm1ldGE9dHJ1ZTt9ZWxzZXtzaG9ydGN1dC5jdHJsPXRydWU7c2hvcnRjdXQubWV0YT1mYWxzZTt9fXJldHVybiBzaG9ydGN1dDt9O1Nob3J0Y3V0cy5wcm90b3R5cGUuY3JlYXRlU2hvcnRjdXQ9ZnVuY3Rpb24ocGF0dGVybixkZXNjLGNtZEZ1bmMsc2NvcGUpe3ZhciBzaG9ydGN1dHM7c2hvcnRjdXRzPVRvb2xzLm1hcChleHBsb2RlJDMocGF0dGVybiwnPicpLHRoaXMucGFyc2VTaG9ydGN1dCk7c2hvcnRjdXRzW3Nob3J0Y3V0cy5sZW5ndGgtMV09VG9vbHMuZXh0ZW5kKHNob3J0Y3V0c1tzaG9ydGN1dHMubGVuZ3RoLTFdLHtmdW5jOmNtZEZ1bmMsc2NvcGU6c2NvcGV8fHRoaXMuZWRpdG9yfSk7cmV0dXJuIFRvb2xzLmV4dGVuZChzaG9ydGN1dHNbMF0se2Rlc2M6dGhpcy5lZGl0b3IudHJhbnNsYXRlKGRlc2MpLHN1YnBhdHRlcm5zOnNob3J0Y3V0cy5zbGljZSgxKX0pO307U2hvcnRjdXRzLnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5O307U2hvcnRjdXRzLnByb3RvdHlwZS5pc0Z1bmN0aW9uS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT0na2V5ZG93bicmJmUua2V5Q29kZT49MTEyJiZlLmtleUNvZGU8PTEyMzt9O1Nob3J0Y3V0cy5wcm90b3R5cGUubWF0Y2hTaG9ydGN1dD1mdW5jdGlvbihlLHNob3J0Y3V0KXtpZighc2hvcnRjdXQpe3JldHVybiBmYWxzZTt9aWYoc2hvcnRjdXQuY3RybCE9PWUuY3RybEtleXx8c2hvcnRjdXQubWV0YSE9PWUubWV0YUtleSl7cmV0dXJuIGZhbHNlO31pZihzaG9ydGN1dC5hbHQhPT1lLmFsdEtleXx8c2hvcnRjdXQuc2hpZnQhPT1lLnNoaWZ0S2V5KXtyZXR1cm4gZmFsc2U7fWlmKGUua2V5Q29kZT09PXNob3J0Y3V0LmtleUNvZGV8fGUuY2hhckNvZGUmJmUuY2hhckNvZGU9PT1zaG9ydGN1dC5jaGFyQ29kZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtTaG9ydGN1dHMucHJvdG90eXBlLmV4ZWN1dGVTaG9ydGN1dEFjdGlvbj1mdW5jdGlvbihzaG9ydGN1dCl7cmV0dXJuIHNob3J0Y3V0LmZ1bmM/c2hvcnRjdXQuZnVuYy5jYWxsKHNob3J0Y3V0LnNjb3BlKTpudWxsO307cmV0dXJuIFNob3J0Y3V0czt9KCk7dmFyIGVhY2gkaT1Ub29scy5lYWNoLHRyaW0kND1Ub29scy50cmltO3ZhciBxdWVyeVBhcnRzPSdzb3VyY2UgcHJvdG9jb2wgYXV0aG9yaXR5IHVzZXJJbmZvIHVzZXIgcGFzc3dvcmQgaG9zdCBwb3J0IHJlbGF0aXZlIHBhdGggZGlyZWN0b3J5IGZpbGUgcXVlcnkgYW5jaG9yJy5zcGxpdCgnICcpO3ZhciBERUZBVUxUX1BPUlRTPXtmdHA6MjEsaHR0cDo4MCxodHRwczo0NDMsbWFpbHRvOjI1fTt2YXIgVVJJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVVJJKHVybCxzZXR0aW5ncyl7dXJsPXRyaW0kNCh1cmwpO3RoaXMuc2V0dGluZ3M9c2V0dGluZ3N8fHt9O3ZhciBiYXNlVXJpPXRoaXMuc2V0dGluZ3MuYmFzZV91cmk7dmFyIHNlbGY9dGhpcztpZigvXihbXHdcLV0rKTooW15cL117Mn0pL2kudGVzdCh1cmwpfHwvXlxzKiMvLnRlc3QodXJsKSl7c2VsZi5zb3VyY2U9dXJsO3JldHVybjt9dmFyIGlzUHJvdG9jb2xSZWxhdGl2ZT11cmwuaW5kZXhPZignLy8nKT09PTA7aWYodXJsLmluZGV4T2YoJy8nKT09PTAmJiFpc1Byb3RvY29sUmVsYXRpdmUpe3VybD0oYmFzZVVyaT9iYXNlVXJpLnByb3RvY29sfHwnaHR0cCc6J2h0dHAnKSsnOi8vbWNlX2hvc3QnK3VybDt9aWYoIS9eW1x3XC1dKjo/XC9cLy8udGVzdCh1cmwpKXt2YXIgYmFzZVVybD10aGlzLnNldHRpbmdzLmJhc2VfdXJpP3RoaXMuc2V0dGluZ3MuYmFzZV91cmkucGF0aDpuZXcgVVJJKGRvbUdsb2JhbHMuZG9jdW1lbnQubG9jYXRpb24uaHJlZikuZGlyZWN0b3J5O2lmKHRoaXMuc2V0dGluZ3MuYmFzZV91cmkmJnRoaXMuc2V0dGluZ3MuYmFzZV91cmkucHJvdG9jb2w9PScnKXt1cmw9Jy8vbWNlX2hvc3QnK3NlbGYudG9BYnNQYXRoKGJhc2VVcmwsdXJsKTt9ZWxzZXt2YXIgbWF0Y2g9LyhbXiM/XSopKFsjP10/LiopLy5leGVjKHVybCk7dXJsPShiYXNlVXJpJiZiYXNlVXJpLnByb3RvY29sfHwnaHR0cCcpKyc6Ly9tY2VfaG9zdCcrc2VsZi50b0Fic1BhdGgoYmFzZVVybCxtYXRjaFsxXSkrbWF0Y2hbMl07fX11cmw9dXJsLnJlcGxhY2UoL0BAL2csJyhtY2VfYXQpJyk7dmFyIHVybE1hdGNoPS9eKD86KD8hW146QF0rOlteOkBcL10qQCkoW146XC8/Iy5dKyk6KT8oPzpcL1wvKT8oKD86KChbXjpAXC9dKik6PyhbXjpAXC9dKikpP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLmV4ZWModXJsKTtlYWNoJGkocXVlcnlQYXJ0cyxmdW5jdGlvbih2LGkpe3ZhciBwYXJ0PXVybE1hdGNoW2ldO2lmKHBhcnQpe3BhcnQ9cGFydC5yZXBsYWNlKC9cKG1jZV9hdFwpL2csJ0BAJyk7fXNlbGZbdl09cGFydDt9KTtpZihiYXNlVXJpKXtpZighc2VsZi5wcm90b2NvbCl7c2VsZi5wcm90b2NvbD1iYXNlVXJpLnByb3RvY29sO31pZighc2VsZi51c2VySW5mbyl7c2VsZi51c2VySW5mbz1iYXNlVXJpLnVzZXJJbmZvO31pZighc2VsZi5wb3J0JiZzZWxmLmhvc3Q9PT0nbWNlX2hvc3QnKXtzZWxmLnBvcnQ9YmFzZVVyaS5wb3J0O31pZighc2VsZi5ob3N0fHxzZWxmLmhvc3Q9PT0nbWNlX2hvc3QnKXtzZWxmLmhvc3Q9YmFzZVVyaS5ob3N0O31zZWxmLnNvdXJjZT0nJzt9aWYoaXNQcm90b2NvbFJlbGF0aXZlKXtzZWxmLnByb3RvY29sPScnO319VVJJLnBhcnNlRGF0YVVyaT1mdW5jdGlvbih1cmkpe3ZhciB0eXBlO3ZhciB1cmlDb21wb25lbnRzPWRlY29kZVVSSUNvbXBvbmVudCh1cmkpLnNwbGl0KCcsJyk7dmFyIG1hdGNoZXM9L2RhdGE6KFteO10rKS8uZXhlYyh1cmlDb21wb25lbnRzWzBdKTtpZihtYXRjaGVzKXt0eXBlPW1hdGNoZXNbMV07fXJldHVybnt0eXBlOnR5cGUsZGF0YTp1cmlDb21wb25lbnRzWzFdfTt9O1VSSS5nZXREb2N1bWVudEJhc2VVcmw9ZnVuY3Rpb24obG9jKXt2YXIgYmFzZVVybDtpZihsb2MucHJvdG9jb2wuaW5kZXhPZignaHR0cCcpIT09MCYmbG9jLnByb3RvY29sIT09J2ZpbGU6Jyl7YmFzZVVybD1sb2MuaHJlZjt9ZWxzZXtiYXNlVXJsPWxvYy5wcm90b2NvbCsnLy8nK2xvYy5ob3N0K2xvYy5wYXRobmFtZTt9aWYoL15bXjpdKzpcL1wvXC8/W15cL10rXC8vLnRlc3QoYmFzZVVybCkpe2Jhc2VVcmw9YmFzZVVybC5yZXBsYWNlKC9bXD8jXS4qJC8sJycpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCcnKTtpZighL1tcL1xcXSQvLnRlc3QoYmFzZVVybCkpe2Jhc2VVcmwrPScvJzt9fXJldHVybiBiYXNlVXJsO307VVJJLnByb3RvdHlwZS5zZXRQYXRoPWZ1bmN0aW9uKHBhdGgpe3ZhciBwYXRoTWF0Y2g9L14oLio/KVwvPyhcdyspPyQvLmV4ZWMocGF0aCk7dGhpcy5wYXRoPXBhdGhNYXRjaFswXTt0aGlzLmRpcmVjdG9yeT1wYXRoTWF0Y2hbMV07dGhpcy5maWxlPXBhdGhNYXRjaFsyXTt0aGlzLnNvdXJjZT0nJzt0aGlzLmdldFVSSSgpO307VVJJLnByb3RvdHlwZS50b1JlbGF0aXZlPWZ1bmN0aW9uKHVyaSl7dmFyIG91dHB1dDtpZih1cmk9PT0nLi8nKXtyZXR1cm4gdXJpO312YXIgcmVsYXRpdmVVcmk9bmV3IFVSSSh1cmkse2Jhc2VfdXJpOnRoaXN9KTtpZihyZWxhdGl2ZVVyaS5ob3N0IT09J21jZV9ob3N0JyYmdGhpcy5ob3N0IT09cmVsYXRpdmVVcmkuaG9zdCYmcmVsYXRpdmVVcmkuaG9zdHx8dGhpcy5wb3J0IT09cmVsYXRpdmVVcmkucG9ydHx8dGhpcy5wcm90b2NvbCE9PXJlbGF0aXZlVXJpLnByb3RvY29sJiZyZWxhdGl2ZVVyaS5wcm90b2NvbCE9PScnKXtyZXR1cm4gcmVsYXRpdmVVcmkuZ2V0VVJJKCk7fXZhciB0dT10aGlzLmdldFVSSSgpLHV1PXJlbGF0aXZlVXJpLmdldFVSSSgpO2lmKHR1PT09dXV8fHR1LmNoYXJBdCh0dS5sZW5ndGgtMSk9PT0nLycmJnR1LnN1YnN0cigwLHR1Lmxlbmd0aC0xKT09PXV1KXtyZXR1cm4gdHU7fW91dHB1dD10aGlzLnRvUmVsUGF0aCh0aGlzLnBhdGgscmVsYXRpdmVVcmkucGF0aCk7aWYocmVsYXRpdmVVcmkucXVlcnkpe291dHB1dCs9Jz8nK3JlbGF0aXZlVXJpLnF1ZXJ5O31pZihyZWxhdGl2ZVVyaS5hbmNob3Ipe291dHB1dCs9JyMnK3JlbGF0aXZlVXJpLmFuY2hvcjt9cmV0dXJuIG91dHB1dDt9O1VSSS5wcm90b3R5cGUudG9BYnNvbHV0ZT1mdW5jdGlvbih1cmksbm9Ib3N0KXt2YXIgYWJzb2x1dGVVcmk9bmV3IFVSSSh1cmkse2Jhc2VfdXJpOnRoaXN9KTtyZXR1cm4gYWJzb2x1dGVVcmkuZ2V0VVJJKG5vSG9zdCYmdGhpcy5pc1NhbWVPcmlnaW4oYWJzb2x1dGVVcmkpKTt9O1VSSS5wcm90b3R5cGUuaXNTYW1lT3JpZ2luPWZ1bmN0aW9uKHVyaSl7aWYodGhpcy5ob3N0PT11cmkuaG9zdCYmdGhpcy5wcm90b2NvbD09dXJpLnByb3RvY29sKXtpZih0aGlzLnBvcnQ9PXVyaS5wb3J0KXtyZXR1cm4gdHJ1ZTt9dmFyIGRlZmF1bHRQb3J0PURFRkFVTFRfUE9SVFNbdGhpcy5wcm90b2NvbF07aWYoZGVmYXVsdFBvcnQmJih0aGlzLnBvcnR8fGRlZmF1bHRQb3J0KT09KHVyaS5wb3J0fHxkZWZhdWx0UG9ydCkpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307VVJJLnByb3RvdHlwZS50b1JlbFBhdGg9ZnVuY3Rpb24oYmFzZSxwYXRoKXt2YXIgaXRlbXMsYnJlYWtQb2ludD0wLG91dD0nJyxpLGw7dmFyIG5vcm1hbGl6ZWRCYXNlPWJhc2Uuc3Vic3RyaW5nKDAsYmFzZS5sYXN0SW5kZXhPZignLycpKS5zcGxpdCgnLycpO2l0ZW1zPXBhdGguc3BsaXQoJy8nKTtpZihub3JtYWxpemVkQmFzZS5sZW5ndGg+PWl0ZW1zLmxlbmd0aCl7Zm9yKGk9MCxsPW5vcm1hbGl6ZWRCYXNlLmxlbmd0aDtpPGw7aSsrKXtpZihpPj1pdGVtcy5sZW5ndGh8fG5vcm1hbGl6ZWRCYXNlW2ldIT09aXRlbXNbaV0pe2JyZWFrUG9pbnQ9aSsxO2JyZWFrO319fWlmKG5vcm1hbGl6ZWRCYXNlLmxlbmd0aDxpdGVtcy5sZW5ndGgpe2ZvcihpPTAsbD1pdGVtcy5sZW5ndGg7aTxsO2krKyl7aWYoaT49bm9ybWFsaXplZEJhc2UubGVuZ3RofHxub3JtYWxpemVkQmFzZVtpXSE9PWl0ZW1zW2ldKXticmVha1BvaW50PWkrMTticmVhazt9fX1pZihicmVha1BvaW50PT09MSl7cmV0dXJuIHBhdGg7fWZvcihpPTAsbD1ub3JtYWxpemVkQmFzZS5sZW5ndGgtKGJyZWFrUG9pbnQtMSk7aTxsO2krKyl7b3V0Kz0nLi4vJzt9Zm9yKGk9YnJlYWtQb2ludC0xLGw9aXRlbXMubGVuZ3RoO2k8bDtpKyspe2lmKGkhPT1icmVha1BvaW50LTEpe291dCs9Jy8nK2l0ZW1zW2ldO31lbHNle291dCs9aXRlbXNbaV07fX1yZXR1cm4gb3V0O307VVJJLnByb3RvdHlwZS50b0Fic1BhdGg9ZnVuY3Rpb24oYmFzZSxwYXRoKXt2YXIgaSxuYj0wLG89W10sdHIsb3V0UGF0aDt0cj0vXC8kLy50ZXN0KHBhdGgpPycvJzonJzt2YXIgbm9ybWFsaXplZEJhc2U9YmFzZS5zcGxpdCgnLycpO3ZhciBub3JtYWxpemVkUGF0aD1wYXRoLnNwbGl0KCcvJyk7ZWFjaCRpKG5vcm1hbGl6ZWRCYXNlLGZ1bmN0aW9uKGspe2lmKGspe28ucHVzaChrKTt9fSk7bm9ybWFsaXplZEJhc2U9bztmb3IoaT1ub3JtYWxpemVkUGF0aC5sZW5ndGgtMSxvPVtdO2k+PTA7aS0tKXtpZihub3JtYWxpemVkUGF0aFtpXS5sZW5ndGg9PT0wfHxub3JtYWxpemVkUGF0aFtpXT09PScuJyl7Y29udGludWU7fWlmKG5vcm1hbGl6ZWRQYXRoW2ldPT09Jy4uJyl7bmIrKztjb250aW51ZTt9aWYobmI+MCl7bmItLTtjb250aW51ZTt9by5wdXNoKG5vcm1hbGl6ZWRQYXRoW2ldKTt9aT1ub3JtYWxpemVkQmFzZS5sZW5ndGgtbmI7aWYoaTw9MCl7b3V0UGF0aD1vLnJldmVyc2UoKS5qb2luKCcvJyk7fWVsc2V7b3V0UGF0aD1ub3JtYWxpemVkQmFzZS5zbGljZSgwLGkpLmpvaW4oJy8nKSsnLycrby5yZXZlcnNlKCkuam9pbignLycpO31pZihvdXRQYXRoLmluZGV4T2YoJy8nKSE9PTApe291dFBhdGg9Jy8nK291dFBhdGg7fWlmKHRyJiZvdXRQYXRoLmxhc3RJbmRleE9mKCcvJykhPT1vdXRQYXRoLmxlbmd0aC0xKXtvdXRQYXRoKz10cjt9cmV0dXJuIG91dFBhdGg7fTtVUkkucHJvdG90eXBlLmdldFVSST1mdW5jdGlvbihub1Byb3RvSG9zdCl7aWYobm9Qcm90b0hvc3Q9PT12b2lkIDApe25vUHJvdG9Ib3N0PWZhbHNlO312YXIgcztpZighdGhpcy5zb3VyY2V8fG5vUHJvdG9Ib3N0KXtzPScnO2lmKCFub1Byb3RvSG9zdCl7aWYodGhpcy5wcm90b2NvbCl7cys9dGhpcy5wcm90b2NvbCsnOi8vJzt9ZWxzZXtzKz0nLy8nO31pZih0aGlzLnVzZXJJbmZvKXtzKz10aGlzLnVzZXJJbmZvKydAJzt9aWYodGhpcy5ob3N0KXtzKz10aGlzLmhvc3Q7fWlmKHRoaXMucG9ydCl7cys9JzonK3RoaXMucG9ydDt9fWlmKHRoaXMucGF0aCl7cys9dGhpcy5wYXRoO31pZih0aGlzLnF1ZXJ5KXtzKz0nPycrdGhpcy5xdWVyeTt9aWYodGhpcy5hbmNob3Ipe3MrPScjJyt0aGlzLmFuY2hvcjt9dGhpcy5zb3VyY2U9czt9cmV0dXJuIHRoaXMuc291cmNlO307cmV0dXJuIFVSSTt9KCk7dmFyIGNyZWF0ZSQ1PWZ1bmN0aW9uIGNyZWF0ZSQ1KCl7dmFyIGJ1dHRvbnM9e307dmFyIG1lbnVJdGVtcz17fTt2YXIgcG9wdXBzPXt9O3ZhciBpY29ucz17fTt2YXIgY29udGV4dE1lbnVzPXt9O3ZhciBjb250ZXh0VG9vbGJhcnM9e307dmFyIHNpZGViYXJzPXt9O3ZhciBhZGQ9ZnVuY3Rpb24gYWRkKGNvbGxlY3Rpb24sdHlwZSl7cmV0dXJuIGZ1bmN0aW9uKG5hbWUsc3BlYyl7cmV0dXJuIGNvbGxlY3Rpb25bbmFtZS50b0xvd2VyQ2FzZSgpXT1fYXNzaWduKF9hc3NpZ24oe30sc3BlYykse3R5cGU6dHlwZX0pO307fTt2YXIgYWRkSWNvbj1mdW5jdGlvbiBhZGRJY29uKG5hbWUsc3ZnRGF0YSl7cmV0dXJuIGljb25zW25hbWUudG9Mb3dlckNhc2UoKV09c3ZnRGF0YTt9O3JldHVybnthZGRCdXR0b246YWRkKGJ1dHRvbnMsJ2J1dHRvbicpLGFkZFRvZ2dsZUJ1dHRvbjphZGQoYnV0dG9ucywndG9nZ2xlYnV0dG9uJyksYWRkTWVudUJ1dHRvbjphZGQoYnV0dG9ucywnbWVudWJ1dHRvbicpLGFkZFNwbGl0QnV0dG9uOmFkZChidXR0b25zLCdzcGxpdGJ1dHRvbicpLGFkZE1lbnVJdGVtOmFkZChtZW51SXRlbXMsJ21lbnVpdGVtJyksYWRkTmVzdGVkTWVudUl0ZW06YWRkKG1lbnVJdGVtcywnbmVzdGVkbWVudWl0ZW0nKSxhZGRUb2dnbGVNZW51SXRlbTphZGQobWVudUl0ZW1zLCd0b2dnbGVtZW51aXRlbScpLGFkZEF1dG9jb21wbGV0ZXI6YWRkKHBvcHVwcywnYXV0b2NvbXBsZXRlcicpLGFkZENvbnRleHRNZW51OmFkZChjb250ZXh0TWVudXMsJ2NvbnRleHRtZW51JyksYWRkQ29udGV4dFRvb2xiYXI6YWRkKGNvbnRleHRUb29sYmFycywnY29udGV4dHRvb2xiYXInKSxhZGRDb250ZXh0Rm9ybTphZGQoY29udGV4dFRvb2xiYXJzLCdjb250ZXh0Zm9ybScpLGFkZFNpZGViYXI6YWRkKHNpZGViYXJzLCdzaWRlYmFyJyksYWRkSWNvbjphZGRJY29uLGdldEFsbDpmdW5jdGlvbiBnZXRBbGwoKXtyZXR1cm57YnV0dG9uczpidXR0b25zLG1lbnVJdGVtczptZW51SXRlbXMsaWNvbnM6aWNvbnMscG9wdXBzOnBvcHVwcyxjb250ZXh0TWVudXM6Y29udGV4dE1lbnVzLGNvbnRleHRUb29sYmFyczpjb250ZXh0VG9vbGJhcnMsc2lkZWJhcnM6c2lkZWJhcnN9O319O307dmFyIHJlZ2lzdHJ5PWZ1bmN0aW9uIHJlZ2lzdHJ5KCl7dmFyIGJyaWRnZT1jcmVhdGUkNSgpO3JldHVybnthZGRBdXRvY29tcGxldGVyOmJyaWRnZS5hZGRBdXRvY29tcGxldGVyLGFkZEJ1dHRvbjpicmlkZ2UuYWRkQnV0dG9uLGFkZENvbnRleHRGb3JtOmJyaWRnZS5hZGRDb250ZXh0Rm9ybSxhZGRDb250ZXh0TWVudTpicmlkZ2UuYWRkQ29udGV4dE1lbnUsYWRkQ29udGV4dFRvb2xiYXI6YnJpZGdlLmFkZENvbnRleHRUb29sYmFyLGFkZEljb246YnJpZGdlLmFkZEljb24sYWRkTWVudUJ1dHRvbjpicmlkZ2UuYWRkTWVudUJ1dHRvbixhZGRNZW51SXRlbTpicmlkZ2UuYWRkTWVudUl0ZW0sYWRkTmVzdGVkTWVudUl0ZW06YnJpZGdlLmFkZE5lc3RlZE1lbnVJdGVtLGFkZFNpZGViYXI6YnJpZGdlLmFkZFNpZGViYXIsYWRkU3BsaXRCdXR0b246YnJpZGdlLmFkZFNwbGl0QnV0dG9uLGFkZFRvZ2dsZUJ1dHRvbjpicmlkZ2UuYWRkVG9nZ2xlQnV0dG9uLGFkZFRvZ2dsZU1lbnVJdGVtOmJyaWRnZS5hZGRUb2dnbGVNZW51SXRlbSxnZXRBbGw6YnJpZGdlLmdldEFsbH07fTt2YXIgRE9NJDg9RE9NVXRpbHMkMS5ET007dmFyIGV4dGVuZCQzPVRvb2xzLmV4dGVuZCxlYWNoJGo9VG9vbHMuZWFjaDt2YXIgcmVzb2x2ZSQzPVRvb2xzLnJlc29sdmU7dmFyIGllJDE9RW52LmllO3ZhciBFZGl0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFZGl0b3IoaWQsc2V0dGluZ3MsZWRpdG9yTWFuYWdlcil7dmFyIF90aGlzPXRoaXM7dGhpcy5wbHVnaW5zPXt9O3RoaXMuY29udGVudENTUz1bXTt0aGlzLmNvbnRlbnRTdHlsZXM9W107dGhpcy5sb2FkZWRDU1M9e307dGhpcy5pc05vdERpcnR5PWZhbHNlO3RoaXMuZWRpdG9yTWFuYWdlcj1lZGl0b3JNYW5hZ2VyO3RoaXMuZG9jdW1lbnRCYXNlVXJsPWVkaXRvck1hbmFnZXIuZG9jdW1lbnRCYXNlVVJMO2V4dGVuZCQzKHRoaXMsRWRpdG9yT2JzZXJ2YWJsZSk7dGhpcy5zZXR0aW5ncz1nZXRFZGl0b3JTZXR0aW5ncyh0aGlzLGlkLHRoaXMuZG9jdW1lbnRCYXNlVXJsLGVkaXRvck1hbmFnZXIuZGVmYXVsdFNldHRpbmdzLHNldHRpbmdzKTtpZih0aGlzLnNldHRpbmdzLnN1ZmZpeCl7ZWRpdG9yTWFuYWdlci5zdWZmaXg9dGhpcy5zZXR0aW5ncy5zdWZmaXg7fXRoaXMuc3VmZml4PWVkaXRvck1hbmFnZXIuc3VmZml4O2lmKHRoaXMuc2V0dGluZ3MuYmFzZV91cmwpe2VkaXRvck1hbmFnZXIuX3NldEJhc2VVcmwodGhpcy5zZXR0aW5ncy5iYXNlX3VybCk7fXRoaXMuYmFzZVVyaT1lZGl0b3JNYW5hZ2VyLmJhc2VVUkk7aWYodGhpcy5zZXR0aW5ncy5yZWZlcnJlcl9wb2xpY3kpe1NjcmlwdExvYWRlci5TY3JpcHRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KTtET01VdGlscyQxLkRPTS5zdHlsZVNoZWV0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSk7fUFkZE9uTWFuYWdlciQxLmxhbmd1YWdlTG9hZD10aGlzLnNldHRpbmdzLmxhbmd1YWdlX2xvYWQ7QWRkT25NYW5hZ2VyJDEuYmFzZVVSTD1lZGl0b3JNYW5hZ2VyLmJhc2VVUkw7dGhpcy5pZD1pZDt0aGlzLnNldERpcnR5KGZhbHNlKTt0aGlzLmRvY3VtZW50QmFzZVVSST1uZXcgVVJJKHRoaXMuc2V0dGluZ3MuZG9jdW1lbnRfYmFzZV91cmwse2Jhc2VfdXJpOnRoaXMuYmFzZVVyaX0pO3RoaXMuYmFzZVVSST10aGlzLmJhc2VVcmk7dGhpcy5pbmxpbmU9ISF0aGlzLnNldHRpbmdzLmlubGluZTt0aGlzLnNob3J0Y3V0cz1uZXcgU2hvcnRjdXRzKHRoaXMpO3RoaXMuZWRpdG9yQ29tbWFuZHM9bmV3IEVkaXRvckNvbW1hbmRzKHRoaXMpO2lmKHRoaXMuc2V0dGluZ3MuY2FjaGVfc3VmZml4KXtFbnYuY2FjaGVTdWZmaXg9dGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgucmVwbGFjZSgvXltcP1wmXSsvLCcnKTt9dGhpcy51aT17cmVnaXN0cnk6cmVnaXN0cnkoKX07dmFyIHNlbGY9dGhpczt2YXIgbW9kZUluc3RhbmNlPWNyZWF0ZSQ0KHNlbGYpO3RoaXMubW9kZT1tb2RlSW5zdGFuY2U7dGhpcy5zZXRNb2RlPW1vZGVJbnN0YW5jZS5zZXQ7ZWRpdG9yTWFuYWdlci5maXJlKCdTZXR1cEVkaXRvcicse2VkaXRvcjp0aGlzfSk7dGhpcy5leGVjQ2FsbGJhY2soJ3NldHVwJyx0aGlzKTt0aGlzLiQ9RG9tUXVlcnkub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0Ol90aGlzLmlubGluZT9fdGhpcy5nZXRCb2R5KCk6X3RoaXMuZ2V0RG9jKCksZWxlbWVudDpfdGhpcy5nZXRCb2R5KCl9O30pO31FZGl0b3IucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe1JlbmRlci5yZW5kZXIodGhpcyk7fTtFZGl0b3IucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKHNraXBGb2N1cyl7RWRpdG9yRm9jdXMuZm9jdXModGhpcyxza2lwRm9jdXMpO307RWRpdG9yLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiBFZGl0b3JGb2N1cy5oYXNGb2N1cyh0aGlzKTt9O0VkaXRvci5wcm90b3R5cGUuZXhlY0NhbGxiYWNrPWZ1bmN0aW9uKG5hbWUpe3ZhciB4PVtdO2Zvcih2YXIgX2k9MTtfaTxhcmd1bWVudHMubGVuZ3RoO19pKyspe3hbX2ktMV09YXJndW1lbnRzW19pXTt9dmFyIHNlbGY9dGhpczt2YXIgY2FsbGJhY2s9c2VsZi5zZXR0aW5nc1tuYW1lXSxzY29wZTtpZighY2FsbGJhY2spe3JldHVybjt9aWYoc2VsZi5jYWxsYmFja0xvb2t1cCYmKHNjb3BlPXNlbGYuY2FsbGJhY2tMb29rdXBbbmFtZV0pKXtjYWxsYmFjaz1zY29wZS5mdW5jO3Njb3BlPXNjb3BlLnNjb3BlO31pZih0eXBlb2YgY2FsbGJhY2s9PT0nc3RyaW5nJyl7c2NvcGU9Y2FsbGJhY2sucmVwbGFjZSgvXC5cdyskLywnJyk7c2NvcGU9c2NvcGU/cmVzb2x2ZSQzKHNjb3BlKTowO2NhbGxiYWNrPXJlc29sdmUkMyhjYWxsYmFjayk7c2VsZi5jYWxsYmFja0xvb2t1cD1zZWxmLmNhbGxiYWNrTG9va3VwfHx7fTtzZWxmLmNhbGxiYWNrTG9va3VwW25hbWVdPXtmdW5jOmNhbGxiYWNrLHNjb3BlOnNjb3BlfTt9cmV0dXJuIGNhbGxiYWNrLmFwcGx5KHNjb3BlfHxzZWxmLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7fTtFZGl0b3IucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm4gSTE4bi50cmFuc2xhdGUodGV4dCk7fTtFZGl0b3IucHJvdG90eXBlLmdldFBhcmFtPWZ1bmN0aW9uKG5hbWUsZGVmYXVsdFZhbCx0eXBlKXtyZXR1cm4gZ2V0UGFyYW0odGhpcyxuYW1lLGRlZmF1bHRWYWwsdHlwZSk7fTtFZGl0b3IucHJvdG90eXBlLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKGFyZ3Mpe3RoaXMuX25vZGVDaGFuZ2VEaXNwYXRjaGVyLm5vZGVDaGFuZ2VkKGFyZ3MpO307RWRpdG9yLnByb3RvdHlwZS5hZGRDb21tYW5kPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssc2NvcGUpe3RoaXMuZWRpdG9yQ29tbWFuZHMuYWRkQ29tbWFuZChuYW1lLGNhbGxiYWNrLHNjb3BlKTt9O0VkaXRvci5wcm90b3R5cGUuYWRkUXVlcnlTdGF0ZUhhbmRsZXI9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxzY29wZSl7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVN0YXRlSGFuZGxlcihuYW1lLGNhbGxiYWNrLHNjb3BlKTt9O0VkaXRvci5wcm90b3R5cGUuYWRkUXVlcnlWYWx1ZUhhbmRsZXI9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxzY29wZSl7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVZhbHVlSGFuZGxlcihuYW1lLGNhbGxiYWNrLHNjb3BlKTt9O0VkaXRvci5wcm90b3R5cGUuYWRkU2hvcnRjdXQ9ZnVuY3Rpb24ocGF0dGVybixkZXNjLGNtZEZ1bmMsc2NvcGUpe3RoaXMuc2hvcnRjdXRzLmFkZChwYXR0ZXJuLGRlc2MsY21kRnVuYyxzY29wZSk7fTtFZGl0b3IucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKGNtZCx1aSx2YWx1ZSxhcmdzKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5leGVjQ29tbWFuZChjbWQsdWksdmFsdWUsYXJncyk7fTtFZGl0b3IucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGNtZCl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3RhdGUoY21kKTt9O0VkaXRvci5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWU9ZnVuY3Rpb24oY21kKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpO307RWRpdG9yLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ9ZnVuY3Rpb24oY21kKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoY21kKTt9O0VkaXRvci5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7aWYoc2VsZi5oaWRkZW4pe3NlbGYuaGlkZGVuPWZhbHNlO2lmKHNlbGYuaW5saW5lKXtzZWxmLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9J3RydWUnO31lbHNle0RPTSQ4LnNob3coc2VsZi5nZXRDb250YWluZXIoKSk7RE9NJDguaGlkZShzZWxmLmlkKTt9c2VsZi5sb2FkKCk7c2VsZi5maXJlKCdzaG93Jyk7fX07RWRpdG9yLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcyxkb2M9c2VsZi5nZXREb2MoKTtpZighc2VsZi5oaWRkZW4pe2lmKGllJDEmJmRvYyYmIXNlbGYuaW5saW5lKXtkb2MuZXhlY0NvbW1hbmQoJ1NlbGVjdEFsbCcpO31zZWxmLnNhdmUoKTtpZihzZWxmLmlubGluZSl7c2VsZi5nZXRCb2R5KCkuY29udGVudEVkaXRhYmxlPSdmYWxzZSc7aWYoc2VsZj09PXNlbGYuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yKXtzZWxmLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj1udWxsO319ZWxzZXtET00kOC5oaWRlKHNlbGYuZ2V0Q29udGFpbmVyKCkpO0RPTSQ4LnNldFN0eWxlKHNlbGYuaWQsJ2Rpc3BsYXknLHNlbGYub3JnRGlzcGxheSk7fXNlbGYuaGlkZGVuPXRydWU7c2VsZi5maXJlKCdoaWRlJyk7fX07RWRpdG9yLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5oaWRkZW47fTtFZGl0b3IucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGU9ZnVuY3Rpb24oc3RhdGUsdGltZSl7dGhpcy5maXJlKCdQcm9ncmVzc1N0YXRlJyx7c3RhdGU6c3RhdGUsdGltZTp0aW1lfSk7fTtFZGl0b3IucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYXJncyl7dmFyIHNlbGY9dGhpczt2YXIgZWxtPXNlbGYuZ2V0RWxlbWVudCgpLGh0bWw7aWYoc2VsZi5yZW1vdmVkKXtyZXR1cm4nJzt9aWYoZWxtKXthcmdzPWFyZ3N8fHt9O2FyZ3MubG9hZD10cnVlO3ZhciB2YWx1ZT1Ob2RlVHlwZS5pc1RleHRhcmVhT3JJbnB1dChlbG0pP2VsbS52YWx1ZTplbG0uaW5uZXJIVE1MO2h0bWw9c2VsZi5zZXRDb250ZW50KHZhbHVlLGFyZ3MpO2FyZ3MuZWxlbWVudD1lbG07aWYoIWFyZ3Mubm9fZXZlbnRzKXtzZWxmLmZpcmUoJ0xvYWRDb250ZW50JyxhcmdzKTt9YXJncy5lbGVtZW50PWVsbT1udWxsO3JldHVybiBodG1sO319O0VkaXRvci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihhcmdzKXt2YXIgc2VsZj10aGlzO3ZhciBlbG09c2VsZi5nZXRFbGVtZW50KCksaHRtbCxmb3JtO2lmKCFlbG18fCFzZWxmLmluaXRpYWxpemVkfHxzZWxmLnJlbW92ZWQpe3JldHVybjt9YXJncz1hcmdzfHx7fTthcmdzLnNhdmU9dHJ1ZTthcmdzLmVsZW1lbnQ9ZWxtO2h0bWw9YXJncy5jb250ZW50PXNlbGYuZ2V0Q29udGVudChhcmdzKTtpZighYXJncy5ub19ldmVudHMpe3NlbGYuZmlyZSgnU2F2ZUNvbnRlbnQnLGFyZ3MpO31pZihhcmdzLmZvcm1hdD09PSdyYXcnKXtzZWxmLmZpcmUoJ1Jhd1NhdmVDb250ZW50JyxhcmdzKTt9aHRtbD1hcmdzLmNvbnRlbnQ7aWYoIU5vZGVUeXBlLmlzVGV4dGFyZWFPcklucHV0KGVsbSkpe2lmKGFyZ3MuaXNfcmVtb3Zpbmd8fCFzZWxmLmlubGluZSl7ZWxtLmlubmVySFRNTD1odG1sO31pZihmb3JtPURPTSQ4LmdldFBhcmVudChzZWxmLmlkLCdmb3JtJykpe2VhY2gkaihmb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGVsbSl7aWYoZWxtLm5hbWU9PT1zZWxmLmlkKXtlbG0udmFsdWU9aHRtbDtyZXR1cm4gZmFsc2U7fX0pO319ZWxzZXtlbG0udmFsdWU9aHRtbDt9YXJncy5lbGVtZW50PWVsbT1udWxsO2lmKGFyZ3Muc2V0X2RpcnR5IT09ZmFsc2Upe3NlbGYuc2V0RGlydHkoZmFsc2UpO31yZXR1cm4gaHRtbDt9O0VkaXRvci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihjb250ZW50LGFyZ3Mpe3JldHVybiBzZXRDb250ZW50KHRoaXMsY29udGVudCxhcmdzKTt9O0VkaXRvci5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbihhcmdzKXtyZXR1cm4gZ2V0Q29udGVudCh0aGlzLGFyZ3MpO307RWRpdG9yLnByb3RvdHlwZS5pbnNlcnRDb250ZW50PWZ1bmN0aW9uKGNvbnRlbnQsYXJncyl7aWYoYXJncyl7Y29udGVudD1leHRlbmQkMyh7Y29udGVudDpjb250ZW50fSxhcmdzKTt9dGhpcy5leGVjQ29tbWFuZCgnbWNlSW5zZXJ0Q29udGVudCcsZmFsc2UsY29udGVudCk7fTtFZGl0b3IucHJvdG90eXBlLnJlc2V0Q29udGVudD1mdW5jdGlvbihpbml0aWFsQ29udGVudCl7aWYoaW5pdGlhbENvbnRlbnQ9PT11bmRlZmluZWQpe3NldENvbnRlbnQodGhpcyx0aGlzLnN0YXJ0Q29udGVudCx7Zm9ybWF0OidyYXcnfSk7fWVsc2V7c2V0Q29udGVudCh0aGlzLGluaXRpYWxDb250ZW50KTt9dGhpcy51bmRvTWFuYWdlci5yZXNldCgpO3RoaXMuc2V0RGlydHkoZmFsc2UpO3RoaXMubm9kZUNoYW5nZWQoKTt9O0VkaXRvci5wcm90b3R5cGUuaXNEaXJ0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTm90RGlydHk7fTtFZGl0b3IucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKHN0YXRlKXt2YXIgb2xkU3RhdGU9IXRoaXMuaXNOb3REaXJ0eTt0aGlzLmlzTm90RGlydHk9IXN0YXRlO2lmKHN0YXRlJiZzdGF0ZSE9PW9sZFN0YXRlKXt0aGlzLmZpcmUoJ2RpcnR5Jyk7fX07RWRpdG9yLnByb3RvdHlwZS5nZXRDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzO2lmKCFzZWxmLmNvbnRhaW5lcil7c2VsZi5jb250YWluZXI9RE9NJDguZ2V0KHNlbGYuZWRpdG9yQ29udGFpbmVyfHxzZWxmLmlkKydfcGFyZW50Jyk7fXJldHVybiBzZWxmLmNvbnRhaW5lcjt9O0VkaXRvci5wcm90b3R5cGUuZ2V0Q29udGVudEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50QXJlYUNvbnRhaW5lcjt9O0VkaXRvci5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLnRhcmdldEVsbSl7dGhpcy50YXJnZXRFbG09RE9NJDguZ2V0KHRoaXMuaWQpO31yZXR1cm4gdGhpcy50YXJnZXRFbG07fTtFZGl0b3IucHJvdG90eXBlLmdldFdpbj1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dmFyIGVsbTtpZighc2VsZi5jb250ZW50V2luZG93KXtlbG09c2VsZi5pZnJhbWVFbGVtZW50O2lmKGVsbSl7c2VsZi5jb250ZW50V2luZG93PWVsbS5jb250ZW50V2luZG93O319cmV0dXJuIHNlbGYuY29udGVudFdpbmRvdzt9O0VkaXRvci5wcm90b3R5cGUuZ2V0RG9jPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt2YXIgd2luO2lmKCFzZWxmLmNvbnRlbnREb2N1bWVudCl7d2luPXNlbGYuZ2V0V2luKCk7aWYod2luKXtzZWxmLmNvbnRlbnREb2N1bWVudD13aW4uZG9jdW1lbnQ7fX1yZXR1cm4gc2VsZi5jb250ZW50RG9jdW1lbnQ7fTtFZGl0b3IucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXt2YXIgZG9jPXRoaXMuZ2V0RG9jKCk7cmV0dXJuIHRoaXMuYm9keUVsZW1lbnR8fChkb2M/ZG9jLmJvZHk6bnVsbCk7fTtFZGl0b3IucHJvdG90eXBlLmNvbnZlcnRVUkw9ZnVuY3Rpb24odXJsLG5hbWUsZWxtKXt2YXIgc2VsZj10aGlzLHNldHRpbmdzPXNlbGYuc2V0dGluZ3M7aWYoc2V0dGluZ3MudXJsY29udmVydGVyX2NhbGxiYWNrKXtyZXR1cm4gc2VsZi5leGVjQ2FsbGJhY2soJ3VybGNvbnZlcnRlcl9jYWxsYmFjaycsdXJsLGVsbSx0cnVlLG5hbWUpO31pZighc2V0dGluZ3MuY29udmVydF91cmxzfHxlbG0mJmVsbS5ub2RlTmFtZT09PSdMSU5LJ3x8dXJsLmluZGV4T2YoJ2ZpbGU6Jyk9PT0wfHx1cmwubGVuZ3RoPT09MCl7cmV0dXJuIHVybDt9aWYoc2V0dGluZ3MucmVsYXRpdmVfdXJscyl7cmV0dXJuIHNlbGYuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUodXJsKTt9dXJsPXNlbGYuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUodXJsLHNldHRpbmdzLnJlbW92ZV9zY3JpcHRfaG9zdCk7cmV0dXJuIHVybDt9O0VkaXRvci5wcm90b3R5cGUuYWRkVmlzdWFsPWZ1bmN0aW9uKGVsbSl7dmFyIHNlbGY9dGhpczt2YXIgc2V0dGluZ3M9c2VsZi5zZXR0aW5nczt2YXIgZG9tPXNlbGYuZG9tO3ZhciBjbHM7ZWxtPWVsbXx8c2VsZi5nZXRCb2R5KCk7aWYoc2VsZi5oYXNWaXN1YWw9PT11bmRlZmluZWQpe3NlbGYuaGFzVmlzdWFsPXNldHRpbmdzLnZpc3VhbDt9ZWFjaCRqKGRvbS5zZWxlY3QoJ3RhYmxlLGEnLGVsbSksZnVuY3Rpb24oZWxtKXt2YXIgdmFsdWU7c3dpdGNoKGVsbS5ub2RlTmFtZSl7Y2FzZSdUQUJMRSc6Y2xzPXNldHRpbmdzLnZpc3VhbF90YWJsZV9jbGFzc3x8J21jZS1pdGVtLXRhYmxlJzt2YWx1ZT1kb20uZ2V0QXR0cmliKGVsbSwnYm9yZGVyJyk7aWYoKCF2YWx1ZXx8dmFsdWU9PT0nMCcpJiZzZWxmLmhhc1Zpc3VhbCl7ZG9tLmFkZENsYXNzKGVsbSxjbHMpO31lbHNle2RvbS5yZW1vdmVDbGFzcyhlbG0sY2xzKTt9cmV0dXJuO2Nhc2UnQSc6aWYoIWRvbS5nZXRBdHRyaWIoZWxtLCdocmVmJykpe3ZhbHVlPWRvbS5nZXRBdHRyaWIoZWxtLCduYW1lJyl8fGVsbS5pZDtjbHM9c2V0dGluZ3MudmlzdWFsX2FuY2hvcl9jbGFzc3x8J21jZS1pdGVtLWFuY2hvcic7aWYodmFsdWUmJnNlbGYuaGFzVmlzdWFsKXtkb20uYWRkQ2xhc3MoZWxtLGNscyk7fWVsc2V7ZG9tLnJlbW92ZUNsYXNzKGVsbSxjbHMpO319cmV0dXJuO319KTtzZWxmLmZpcmUoJ1Zpc3VhbEFpZCcse2VsZW1lbnQ6ZWxtLGhhc1Zpc3VhbDpzZWxmLmhhc1Zpc3VhbH0pO307RWRpdG9yLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZW1vdmUkNih0aGlzKTt9O0VkaXRvci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihhdXRvbWF0aWMpe2Rlc3Ryb3kodGhpcyxhdXRvbWF0aWMpO307RWRpdG9yLnByb3RvdHlwZS51cGxvYWRJbWFnZXM9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXMoY2FsbGJhY2spO307RWRpdG9yLnByb3RvdHlwZS5fc2NhbkZvckltYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC5zY2FuRm9ySW1hZ2VzKCk7fTtFZGl0b3IucHJvdG90eXBlLmFkZEJ1dHRvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignZWRpdG9yLmFkZEJ1dHRvbiBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQnV0dG9uIG9yIGVkaXRvci51aS5yZWdpc3RyeS5hZGRUb2dnbGVCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNwbGl0QnV0dG9uIGluc3RlYWQnKTt9O0VkaXRvci5wcm90b3R5cGUuYWRkU2lkZWJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignZWRpdG9yLmFkZFNpZGViYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNpZGViYXIgaW5zdGVhZCcpO307RWRpdG9yLnByb3RvdHlwZS5hZGRNZW51SXRlbT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignZWRpdG9yLmFkZE1lbnVJdGVtIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRNZW51SXRlbSBpbnN0ZWFkJyk7fTtFZGl0b3IucHJvdG90eXBlLmFkZENvbnRleHRUb29sYmFyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdlZGl0b3IuYWRkQ29udGV4dFRvb2xiYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZENvbnRleHRUb29sYmFyIGluc3RlYWQnKTt9O3JldHVybiBFZGl0b3I7fSgpO3ZhciBET00kOT1ET01VdGlscyQxLkRPTTt2YXIgZXhwbG9kZSQ0PVRvb2xzLmV4cGxvZGUsZWFjaCRrPVRvb2xzLmVhY2gsZXh0ZW5kJDQ9VG9vbHMuZXh0ZW5kO3ZhciBpbnN0YW5jZUNvdW50ZXI9MCxib3VuZEdsb2JhbEV2ZW50cz1mYWxzZTt2YXIgYmVmb3JlVW5sb2FkRGVsZWdhdGU7dmFyIGxlZ2FjeUVkaXRvcnM9W107dmFyIGVkaXRvcnM9W107dmFyIGlzVmFsaWRMZWdhY3lLZXk9ZnVuY3Rpb24gaXNWYWxpZExlZ2FjeUtleShpZCl7cmV0dXJuIGlkIT09J2xlbmd0aCc7fTt2YXIgZ2xvYmFsRXZlbnREZWxlZ2F0ZT1mdW5jdGlvbiBnbG9iYWxFdmVudERlbGVnYXRlKGUpe3ZhciB0eXBlPWUudHlwZTtlYWNoJGsoRWRpdG9yTWFuYWdlci5nZXQoKSxmdW5jdGlvbihlZGl0b3Ipe3N3aXRjaCh0eXBlKXtjYXNlJ3Njcm9sbCc6ZWRpdG9yLmZpcmUoJ1Njcm9sbFdpbmRvdycsZSk7YnJlYWs7Y2FzZSdyZXNpemUnOmVkaXRvci5maXJlKCdSZXNpemVXaW5kb3cnLGUpO2JyZWFrO319KTt9O3ZhciB0b2dnbGVHbG9iYWxFdmVudHM9ZnVuY3Rpb24gdG9nZ2xlR2xvYmFsRXZlbnRzKHN0YXRlKXtpZihzdGF0ZSE9PWJvdW5kR2xvYmFsRXZlbnRzKXtpZihzdGF0ZSl7RG9tUXVlcnkod2luZG93KS5vbigncmVzaXplIHNjcm9sbCcsZ2xvYmFsRXZlbnREZWxlZ2F0ZSk7fWVsc2V7RG9tUXVlcnkod2luZG93KS5vZmYoJ3Jlc2l6ZSBzY3JvbGwnLGdsb2JhbEV2ZW50RGVsZWdhdGUpO31ib3VuZEdsb2JhbEV2ZW50cz1zdGF0ZTt9fTt2YXIgcmVtb3ZlRWRpdG9yRnJvbUxpc3Q9ZnVuY3Rpb24gcmVtb3ZlRWRpdG9yRnJvbUxpc3QodGFyZ2V0RWRpdG9yKXt2YXIgb2xkRWRpdG9ycz1lZGl0b3JzO2RlbGV0ZSBsZWdhY3lFZGl0b3JzW3RhcmdldEVkaXRvci5pZF07Zm9yKHZhciBpPTA7aTxsZWdhY3lFZGl0b3JzLmxlbmd0aDtpKyspe2lmKGxlZ2FjeUVkaXRvcnNbaV09PT10YXJnZXRFZGl0b3Ipe2xlZ2FjeUVkaXRvcnMuc3BsaWNlKGksMSk7YnJlYWs7fX1lZGl0b3JzPWZpbHRlcihlZGl0b3JzLGZ1bmN0aW9uKGVkaXRvcil7cmV0dXJuIHRhcmdldEVkaXRvciE9PWVkaXRvcjt9KTtpZihFZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvcj09PXRhcmdldEVkaXRvcil7RWRpdG9yTWFuYWdlci5hY3RpdmVFZGl0b3I9ZWRpdG9ycy5sZW5ndGg+MD9lZGl0b3JzWzBdOm51bGw7fWlmKEVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj09PXRhcmdldEVkaXRvcil7RWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yPW51bGw7fXJldHVybiBvbGRFZGl0b3JzLmxlbmd0aCE9PWVkaXRvcnMubGVuZ3RoO307dmFyIHB1cmdlRGVzdHJveWVkRWRpdG9yPWZ1bmN0aW9uIHB1cmdlRGVzdHJveWVkRWRpdG9yKGVkaXRvcil7aWYoZWRpdG9yJiZlZGl0b3IuaW5pdGlhbGl6ZWQmJiEoZWRpdG9yLmdldENvbnRhaW5lcigpfHxlZGl0b3IuZ2V0Qm9keSgpKS5wYXJlbnROb2RlKXtyZW1vdmVFZGl0b3JGcm9tTGlzdChlZGl0b3IpO2VkaXRvci51bmJpbmRBbGxOYXRpdmVFdmVudHMoKTtlZGl0b3IuZGVzdHJveSh0cnVlKTtlZGl0b3IucmVtb3ZlZD10cnVlO2VkaXRvcj1udWxsO31yZXR1cm4gZWRpdG9yO307dmFyIGlzUXVpcmtzTW9kZT1kb21HbG9iYWxzLmRvY3VtZW50LmNvbXBhdE1vZGUhPT0nQ1NTMUNvbXBhdCc7dmFyIEVkaXRvck1hbmFnZXI9X2Fzc2lnbihfYXNzaWduKHt9LE9ic2VydmFibGUpLHtiYXNlVVJJOm51bGwsYmFzZVVSTDpudWxsLGRlZmF1bHRTZXR0aW5nczp7fSxkb2N1bWVudEJhc2VVUkw6bnVsbCxzdWZmaXg6bnVsbCwkOkRvbVF1ZXJ5LG1ham9yVmVyc2lvbjonNScsbWlub3JWZXJzaW9uOicxLjUnLHJlbGVhc2VEYXRlOicyMDE5LTEyLTE5JyxlZGl0b3JzOmxlZ2FjeUVkaXRvcnMsaTE4bjpJMThuLGFjdGl2ZUVkaXRvcjpudWxsLGZvY3VzZWRFZGl0b3I6bnVsbCxzZXR0aW5nczp7fSxzZXR1cDpmdW5jdGlvbiBzZXR1cCgpe3ZhciBzZWxmPXRoaXM7dmFyIGJhc2VVUkwsZG9jdW1lbnRCYXNlVVJMLHN1ZmZpeD0nJztkb2N1bWVudEJhc2VVUkw9VVJJLmdldERvY3VtZW50QmFzZVVybChkb21HbG9iYWxzLmRvY3VtZW50LmxvY2F0aW9uKTtpZigvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdChkb2N1bWVudEJhc2VVUkwpKXtkb2N1bWVudEJhc2VVUkw9ZG9jdW1lbnRCYXNlVVJMLnJlcGxhY2UoL1tcPyNdLiokLywnJykucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sJycpO2lmKCEvW1wvXFxdJC8udGVzdChkb2N1bWVudEJhc2VVUkwpKXtkb2N1bWVudEJhc2VVUkwrPScvJzt9fXZhciBwcmVJbml0PXdpbmRvdy50aW55bWNlfHx3aW5kb3cudGlueU1DRVByZUluaXQ7aWYocHJlSW5pdCl7YmFzZVVSTD1wcmVJbml0LmJhc2V8fHByZUluaXQuYmFzZVVSTDtzdWZmaXg9cHJlSW5pdC5zdWZmaXg7fWVsc2V7dmFyIHNjcmlwdHM9ZG9tR2xvYmFscy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7Zm9yKHZhciBpPTA7aTxzY3JpcHRzLmxlbmd0aDtpKyspe3ZhciBzcmM9c2NyaXB0c1tpXS5zcmN8fCcnO2lmKHNyYz09PScnKXtjb250aW51ZTt9dmFyIHNyY1NjcmlwdD1zcmMuc3Vic3RyaW5nKHNyYy5sYXN0SW5kZXhPZignLycpKTtpZigvdGlueW1jZShcLmZ1bGx8XC5qcXVlcnl8KShcLm1pbnxcLmRldnwpXC5qcy8udGVzdChzcmMpKXtpZihzcmNTY3JpcHQuaW5kZXhPZignLm1pbicpIT09LTEpe3N1ZmZpeD0nLm1pbic7fWJhc2VVUkw9c3JjLnN1YnN0cmluZygwLHNyYy5sYXN0SW5kZXhPZignLycpKTticmVhazt9fWlmKCFiYXNlVVJMJiZkb21HbG9iYWxzLmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpe3ZhciBzcmM9ZG9tR2xvYmFscy5kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztpZihzcmMuaW5kZXhPZignLm1pbicpIT09LTEpe3N1ZmZpeD0nLm1pbic7fWJhc2VVUkw9c3JjLnN1YnN0cmluZygwLHNyYy5sYXN0SW5kZXhPZignLycpKTt9fXNlbGYuYmFzZVVSTD1uZXcgVVJJKGRvY3VtZW50QmFzZVVSTCkudG9BYnNvbHV0ZShiYXNlVVJMKTtzZWxmLmRvY3VtZW50QmFzZVVSTD1kb2N1bWVudEJhc2VVUkw7c2VsZi5iYXNlVVJJPW5ldyBVUkkoc2VsZi5iYXNlVVJMKTtzZWxmLnN1ZmZpeD1zdWZmaXg7Rm9jdXNDb250cm9sbGVyLnNldHVwKHNlbGYpO30sb3ZlcnJpZGVEZWZhdWx0czpmdW5jdGlvbiBvdmVycmlkZURlZmF1bHRzKGRlZmF1bHRTZXR0aW5ncyl7dmFyIGJhc2VVcmwsc3VmZml4O2Jhc2VVcmw9ZGVmYXVsdFNldHRpbmdzLmJhc2VfdXJsO2lmKGJhc2VVcmwpe3RoaXMuX3NldEJhc2VVcmwoYmFzZVVybCk7fXN1ZmZpeD1kZWZhdWx0U2V0dGluZ3Muc3VmZml4O2lmKGRlZmF1bHRTZXR0aW5ncy5zdWZmaXgpe3RoaXMuc3VmZml4PXN1ZmZpeDt9dGhpcy5kZWZhdWx0U2V0dGluZ3M9ZGVmYXVsdFNldHRpbmdzO3ZhciBwbHVnaW5CYXNlVXJscz1kZWZhdWx0U2V0dGluZ3MucGx1Z2luX2Jhc2VfdXJscztmb3IodmFyIG5hbWUgaW4gcGx1Z2luQmFzZVVybHMpe0FkZE9uTWFuYWdlciQxLlBsdWdpbk1hbmFnZXIudXJsc1tuYW1lXT1wbHVnaW5CYXNlVXJsc1tuYW1lXTt9fSxpbml0OmZ1bmN0aW9uIGluaXQoc2V0dGluZ3Mpe3ZhciBzZWxmPXRoaXM7dmFyIHJlc3VsdCxpbnZhbGlkSW5saW5lVGFyZ2V0cztpbnZhbGlkSW5saW5lVGFyZ2V0cz1Ub29scy5tYWtlTWFwKCdhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrICcrJ2NvbGdyb3VwIG9wdGlvbiB0YWJsZSB0Ym9keSB0Zm9vdCB0aGVhZCB0ciB0aCB0ZCBzY3JpcHQgbm9zY3JpcHQgc3R5bGUgdGV4dGFyZWEgdmlkZW8gYXVkaW8gaWZyYW1lIG9iamVjdCBtZW51JywnICcpO3ZhciBpc0ludmFsaWRJbmxpbmVUYXJnZXQ9ZnVuY3Rpb24gaXNJbnZhbGlkSW5saW5lVGFyZ2V0KHNldHRpbmdzLGVsbSl7cmV0dXJuIHNldHRpbmdzLmlubGluZSYmZWxtLnRhZ05hbWUudG9Mb3dlckNhc2UoKWluIGludmFsaWRJbmxpbmVUYXJnZXRzO307dmFyIGNyZWF0ZUlkPWZ1bmN0aW9uIGNyZWF0ZUlkKGVsbSl7dmFyIGlkPWVsbS5pZDtpZighaWQpe2lkPWVsbS5uYW1lO2lmKGlkJiYhRE9NJDkuZ2V0KGlkKSl7aWQ9ZWxtLm5hbWU7fWVsc2V7aWQ9RE9NJDkudW5pcXVlSWQoKTt9ZWxtLnNldEF0dHJpYnV0ZSgnaWQnLGlkKTt9cmV0dXJuIGlkO307dmFyIGV4ZWNDYWxsYmFjaz1mdW5jdGlvbiBleGVjQ2FsbGJhY2sobmFtZSl7dmFyIGNhbGxiYWNrPXNldHRpbmdzW25hbWVdO2lmKCFjYWxsYmFjayl7cmV0dXJuO31yZXR1cm4gY2FsbGJhY2suYXBwbHkoc2VsZixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpO307dmFyIGhhc0NsYXNzPWZ1bmN0aW9uIGhhc0NsYXNzKGVsbSxjbGFzc05hbWUpe3JldHVybiBjbGFzc05hbWUuY29uc3RydWN0b3I9PT1SZWdFeHA/Y2xhc3NOYW1lLnRlc3QoZWxtLmNsYXNzTmFtZSk6RE9NJDkuaGFzQ2xhc3MoZWxtLGNsYXNzTmFtZSk7fTt2YXIgZmluZFRhcmdldHM9ZnVuY3Rpb24gZmluZFRhcmdldHMoc2V0dGluZ3Mpe3ZhciBsLHRhcmdldHM9W107aWYoRW52LmJyb3dzZXIuaXNJRSgpJiZFbnYuYnJvd3Nlci52ZXJzaW9uLm1ham9yPDExKXtFcnJvclJlcG9ydGVyLmluaXRFcnJvcignVGlueU1DRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBicm93c2VyIHlvdSBhcmUgdXNpbmcuIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkJysnIGJyb3dzZXJzIHBsZWFzZSBzZWU6IGh0dHBzOi8vd3d3LnRpbnltY2UuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvc3lzdGVtLXJlcXVpcmVtZW50cy8nKTtyZXR1cm5bXTt9ZWxzZSBpZihpc1F1aXJrc01vZGUpe0Vycm9yUmVwb3J0ZXIuaW5pdEVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZWRpdG9yIGFzIHRoZSBkb2N1bWVudCBpcyBub3QgaW4gc3RhbmRhcmRzIG1vZGUuICcrJ1RpbnlNQ0UgcmVxdWlyZXMgc3RhbmRhcmRzIG1vZGUuJyk7cmV0dXJuW107fWlmKHNldHRpbmdzLnR5cGVzKXtlYWNoJGsoc2V0dGluZ3MudHlwZXMsZnVuY3Rpb24odHlwZSl7dGFyZ2V0cz10YXJnZXRzLmNvbmNhdChET00kOS5zZWxlY3QodHlwZS5zZWxlY3RvcikpO30pO3JldHVybiB0YXJnZXRzO31lbHNlIGlmKHNldHRpbmdzLnNlbGVjdG9yKXtyZXR1cm4gRE9NJDkuc2VsZWN0KHNldHRpbmdzLnNlbGVjdG9yKTt9ZWxzZSBpZihzZXR0aW5ncy50YXJnZXQpe3JldHVybltzZXR0aW5ncy50YXJnZXRdO31zd2l0Y2goc2V0dGluZ3MubW9kZSl7Y2FzZSdleGFjdCc6bD1zZXR0aW5ncy5lbGVtZW50c3x8Jyc7aWYobC5sZW5ndGg+MCl7ZWFjaCRrKGV4cGxvZGUkNChsKSxmdW5jdGlvbihpZCl7dmFyIGVsbTtpZihlbG09RE9NJDkuZ2V0KGlkKSl7dGFyZ2V0cy5wdXNoKGVsbSk7fWVsc2V7ZWFjaCRrKGRvbUdsb2JhbHMuZG9jdW1lbnQuZm9ybXMsZnVuY3Rpb24oZil7ZWFjaCRrKGYuZWxlbWVudHMsZnVuY3Rpb24oZSl7aWYoZS5uYW1lPT09aWQpe2lkPSdtY2VfZWRpdG9yXycraW5zdGFuY2VDb3VudGVyKys7RE9NJDkuc2V0QXR0cmliKGUsJ2lkJyxpZCk7dGFyZ2V0cy5wdXNoKGUpO319KTt9KTt9fSk7fWJyZWFrO2Nhc2UndGV4dGFyZWFzJzpjYXNlJ3NwZWNpZmljX3RleHRhcmVhcyc6ZWFjaCRrKERPTSQ5LnNlbGVjdCgndGV4dGFyZWEnKSxmdW5jdGlvbihlbG0pe2lmKHNldHRpbmdzLmVkaXRvcl9kZXNlbGVjdG9yJiZoYXNDbGFzcyhlbG0sc2V0dGluZ3MuZWRpdG9yX2Rlc2VsZWN0b3IpKXtyZXR1cm47fWlmKCFzZXR0aW5ncy5lZGl0b3Jfc2VsZWN0b3J8fGhhc0NsYXNzKGVsbSxzZXR0aW5ncy5lZGl0b3Jfc2VsZWN0b3IpKXt0YXJnZXRzLnB1c2goZWxtKTt9fSk7YnJlYWs7fXJldHVybiB0YXJnZXRzO307dmFyIHByb3ZpZGVSZXN1bHRzPWZ1bmN0aW9uIHByb3ZpZGVSZXN1bHRzKGVkaXRvcnMpe3Jlc3VsdD1lZGl0b3JzO307dmFyIGluaXRFZGl0b3JzPWZ1bmN0aW9uIGluaXRFZGl0b3JzKCl7dmFyIGluaXRDb3VudD0wO3ZhciBlZGl0b3JzPVtdO3ZhciB0YXJnZXRzO3ZhciBjcmVhdGVFZGl0b3I9ZnVuY3Rpb24gY3JlYXRlRWRpdG9yKGlkLHNldHRpbmdzLHRhcmdldEVsbSl7dmFyIGVkaXRvcj1uZXcgRWRpdG9yKGlkLHNldHRpbmdzLHNlbGYpO2VkaXRvcnMucHVzaChlZGl0b3IpO2VkaXRvci5vbignaW5pdCcsZnVuY3Rpb24oKXtpZigrK2luaXRDb3VudD09PXRhcmdldHMubGVuZ3RoKXtwcm92aWRlUmVzdWx0cyhlZGl0b3JzKTt9fSk7ZWRpdG9yLnRhcmdldEVsbT1lZGl0b3IudGFyZ2V0RWxtfHx0YXJnZXRFbG07ZWRpdG9yLnJlbmRlcigpO307RE9NJDkudW5iaW5kKHdpbmRvdywncmVhZHknLGluaXRFZGl0b3JzKTtleGVjQ2FsbGJhY2soJ29ucGFnZWxvYWQnKTt0YXJnZXRzPURvbVF1ZXJ5LnVuaXF1ZShmaW5kVGFyZ2V0cyhzZXR0aW5ncykpO2lmKHNldHRpbmdzLnR5cGVzKXtlYWNoJGsoc2V0dGluZ3MudHlwZXMsZnVuY3Rpb24odHlwZSl7VG9vbHMuZWFjaCh0YXJnZXRzLGZ1bmN0aW9uKGVsbSl7aWYoRE9NJDkuaXMoZWxtLHR5cGUuc2VsZWN0b3IpKXtjcmVhdGVFZGl0b3IoY3JlYXRlSWQoZWxtKSxleHRlbmQkNCh7fSxzZXR0aW5ncyx0eXBlKSxlbG0pO3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fSk7fSk7cmV0dXJuO31Ub29scy5lYWNoKHRhcmdldHMsZnVuY3Rpb24oZWxtKXtwdXJnZURlc3Ryb3llZEVkaXRvcihzZWxmLmdldChlbG0uaWQpKTt9KTt0YXJnZXRzPVRvb2xzLmdyZXAodGFyZ2V0cyxmdW5jdGlvbihlbG0pe3JldHVybiFzZWxmLmdldChlbG0uaWQpO30pO2lmKHRhcmdldHMubGVuZ3RoPT09MCl7cHJvdmlkZVJlc3VsdHMoW10pO31lbHNle2VhY2gkayh0YXJnZXRzLGZ1bmN0aW9uKGVsbSl7aWYoaXNJbnZhbGlkSW5saW5lVGFyZ2V0KHNldHRpbmdzLGVsbSkpe0Vycm9yUmVwb3J0ZXIuaW5pdEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSBpbmxpbmUgZWRpdG9yIG9uIGludmFsaWQgaW5saW5lIHRhcmdldCBlbGVtZW50JyxlbG0pO31lbHNle2NyZWF0ZUVkaXRvcihjcmVhdGVJZChlbG0pLHNldHRpbmdzLGVsbSk7fX0pO319O3NlbGYuc2V0dGluZ3M9c2V0dGluZ3M7RE9NJDkuYmluZCh3aW5kb3csJ3JlYWR5Jyxpbml0RWRpdG9ycyk7cmV0dXJuIG5ldyBwcm9taXNlT2JqKGZ1bmN0aW9uKHJlc29sdmUpe2lmKHJlc3VsdCl7cmVzb2x2ZShyZXN1bHQpO31lbHNle3Byb3ZpZGVSZXN1bHRzPWZ1bmN0aW9uIHByb3ZpZGVSZXN1bHRzKGVkaXRvcnMpe3Jlc29sdmUoZWRpdG9ycyk7fTt9fSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KGlkKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MCl7cmV0dXJuIGVkaXRvcnMuc2xpY2UoMCk7fWVsc2UgaWYoaXNTdHJpbmcoaWQpKXtyZXR1cm4gZmluZChlZGl0b3JzLGZ1bmN0aW9uKGVkaXRvcil7cmV0dXJuIGVkaXRvci5pZD09PWlkO30pLmdldE9yKG51bGwpO31lbHNlIGlmKGlzTnVtYmVyKGlkKSl7cmV0dXJuIGVkaXRvcnNbaWRdP2VkaXRvcnNbaWRdOm51bGw7fWVsc2V7cmV0dXJuIG51bGw7fX0sYWRkOmZ1bmN0aW9uIGFkZChlZGl0b3Ipe3ZhciBzZWxmPXRoaXM7dmFyIGV4aXN0aW5nRWRpdG9yO2V4aXN0aW5nRWRpdG9yPWxlZ2FjeUVkaXRvcnNbZWRpdG9yLmlkXTtpZihleGlzdGluZ0VkaXRvcj09PWVkaXRvcil7cmV0dXJuIGVkaXRvcjt9aWYoc2VsZi5nZXQoZWRpdG9yLmlkKT09PW51bGwpe2lmKGlzVmFsaWRMZWdhY3lLZXkoZWRpdG9yLmlkKSl7bGVnYWN5RWRpdG9yc1tlZGl0b3IuaWRdPWVkaXRvcjt9bGVnYWN5RWRpdG9ycy5wdXNoKGVkaXRvcik7ZWRpdG9ycy5wdXNoKGVkaXRvcik7fXRvZ2dsZUdsb2JhbEV2ZW50cyh0cnVlKTtzZWxmLmFjdGl2ZUVkaXRvcj1lZGl0b3I7c2VsZi5maXJlKCdBZGRFZGl0b3InLHtlZGl0b3I6ZWRpdG9yfSk7aWYoIWJlZm9yZVVubG9hZERlbGVnYXRlKXtiZWZvcmVVbmxvYWREZWxlZ2F0ZT1mdW5jdGlvbiBiZWZvcmVVbmxvYWREZWxlZ2F0ZShlKXt2YXIgZXZlbnQ9c2VsZi5maXJlKCdCZWZvcmVVbmxvYWQnKTtpZihldmVudC5yZXR1cm5WYWx1ZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO2UucmV0dXJuVmFsdWU9ZXZlbnQucmV0dXJuVmFsdWU7cmV0dXJuIGV2ZW50LnJldHVyblZhbHVlO319O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLGJlZm9yZVVubG9hZERlbGVnYXRlKTt9cmV0dXJuIGVkaXRvcjt9LGNyZWF0ZUVkaXRvcjpmdW5jdGlvbiBjcmVhdGVFZGl0b3IoaWQsc2V0dGluZ3Mpe3JldHVybiB0aGlzLmFkZChuZXcgRWRpdG9yKGlkLHNldHRpbmdzLHRoaXMpKTt9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoc2VsZWN0b3Ipe3ZhciBzZWxmPXRoaXM7dmFyIGksZWRpdG9yO2lmKCFzZWxlY3Rvcil7Zm9yKGk9ZWRpdG9ycy5sZW5ndGgtMTtpPj0wO2ktLSl7c2VsZi5yZW1vdmUoZWRpdG9yc1tpXSk7fXJldHVybjt9aWYoaXNTdHJpbmcoc2VsZWN0b3IpKXtlYWNoJGsoRE9NJDkuc2VsZWN0KHNlbGVjdG9yKSxmdW5jdGlvbihlbG0pe2VkaXRvcj1zZWxmLmdldChlbG0uaWQpO2lmKGVkaXRvcil7c2VsZi5yZW1vdmUoZWRpdG9yKTt9fSk7cmV0dXJuO31lZGl0b3I9c2VsZWN0b3I7aWYoaXNOdWxsKHNlbGYuZ2V0KGVkaXRvci5pZCkpKXtyZXR1cm4gbnVsbDt9aWYocmVtb3ZlRWRpdG9yRnJvbUxpc3QoZWRpdG9yKSl7c2VsZi5maXJlKCdSZW1vdmVFZGl0b3InLHtlZGl0b3I6ZWRpdG9yfSk7fWlmKGVkaXRvcnMubGVuZ3RoPT09MCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsYmVmb3JlVW5sb2FkRGVsZWdhdGUpO31lZGl0b3IucmVtb3ZlKCk7dG9nZ2xlR2xvYmFsRXZlbnRzKGVkaXRvcnMubGVuZ3RoPjApO3JldHVybiBlZGl0b3I7fSxleGVjQ29tbWFuZDpmdW5jdGlvbiBleGVjQ29tbWFuZChjbWQsdWksdmFsdWUpe3ZhciBzZWxmPXRoaXMsZWRpdG9yPXNlbGYuZ2V0KHZhbHVlKTtzd2l0Y2goY21kKXtjYXNlJ21jZUFkZEVkaXRvcic6aWYoIXNlbGYuZ2V0KHZhbHVlKSl7bmV3IEVkaXRvcih2YWx1ZSxzZWxmLnNldHRpbmdzLHNlbGYpLnJlbmRlcigpO31yZXR1cm4gdHJ1ZTtjYXNlJ21jZVJlbW92ZUVkaXRvcic6aWYoZWRpdG9yKXtlZGl0b3IucmVtb3ZlKCk7fXJldHVybiB0cnVlO2Nhc2UnbWNlVG9nZ2xlRWRpdG9yJzppZighZWRpdG9yKXtzZWxmLmV4ZWNDb21tYW5kKCdtY2VBZGRFZGl0b3InLDAsdmFsdWUpO3JldHVybiB0cnVlO31pZihlZGl0b3IuaXNIaWRkZW4oKSl7ZWRpdG9yLnNob3coKTt9ZWxzZXtlZGl0b3IuaGlkZSgpO31yZXR1cm4gdHJ1ZTt9aWYoc2VsZi5hY3RpdmVFZGl0b3Ipe3JldHVybiBzZWxmLmFjdGl2ZUVkaXRvci5leGVjQ29tbWFuZChjbWQsdWksdmFsdWUpO31yZXR1cm4gZmFsc2U7fSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbiB0cmlnZ2VyU2F2ZSgpe2VhY2gkayhlZGl0b3JzLGZ1bmN0aW9uKGVkaXRvcil7ZWRpdG9yLnNhdmUoKTt9KTt9LGFkZEkxOG46ZnVuY3Rpb24gYWRkSTE4bihjb2RlLGl0ZW1zKXtJMThuLmFkZChjb2RlLGl0ZW1zKTt9LHRyYW5zbGF0ZTpmdW5jdGlvbiB0cmFuc2xhdGUodGV4dCl7cmV0dXJuIEkxOG4udHJhbnNsYXRlKHRleHQpO30sc2V0QWN0aXZlOmZ1bmN0aW9uIHNldEFjdGl2ZShlZGl0b3Ipe3ZhciBhY3RpdmVFZGl0b3I9dGhpcy5hY3RpdmVFZGl0b3I7aWYodGhpcy5hY3RpdmVFZGl0b3IhPT1lZGl0b3Ipe2lmKGFjdGl2ZUVkaXRvcil7YWN0aXZlRWRpdG9yLmZpcmUoJ2RlYWN0aXZhdGUnLHtyZWxhdGVkVGFyZ2V0OmVkaXRvcn0pO31lZGl0b3IuZmlyZSgnYWN0aXZhdGUnLHtyZWxhdGVkVGFyZ2V0OmFjdGl2ZUVkaXRvcn0pO310aGlzLmFjdGl2ZUVkaXRvcj1lZGl0b3I7fSxfc2V0QmFzZVVybDpmdW5jdGlvbiBfc2V0QmFzZVVybChiYXNlVXJsKXt0aGlzLmJhc2VVUkw9bmV3IFVSSSh0aGlzLmRvY3VtZW50QmFzZVVSTCkudG9BYnNvbHV0ZShiYXNlVXJsLnJlcGxhY2UoL1wvKyQvLCcnKSk7dGhpcy5iYXNlVVJJPW5ldyBVUkkodGhpcy5iYXNlVVJMKTt9fSk7RWRpdG9yTWFuYWdlci5zZXR1cCgpO2Z1bmN0aW9uIFJhbmdlVXRpbHMoZG9tKXt2YXIgd2Fsaz1mdW5jdGlvbiB3YWxrKHJuZyxjYWxsYmFjayl7cmV0dXJuIFJhbmdlV2Fsay53YWxrKGRvbSxybmcsY2FsbGJhY2spO307dmFyIHNwbGl0PXNwbGl0JDE7dmFyIG5vcm1hbGl6ZT1mdW5jdGlvbiBub3JtYWxpemUocm5nKXtyZXR1cm4gTm9ybWFsaXplUmFuZ2Uubm9ybWFsaXplKGRvbSxybmcpLmZvbGQoY29uc3RhbnQoZmFsc2UpLGZ1bmN0aW9uKG5vcm1hbGl6ZWRSbmcpe3JuZy5zZXRTdGFydChub3JtYWxpemVkUm5nLnN0YXJ0Q29udGFpbmVyLG5vcm1hbGl6ZWRSbmcuc3RhcnRPZmZzZXQpO3JuZy5zZXRFbmQobm9ybWFsaXplZFJuZy5lbmRDb250YWluZXIsbm9ybWFsaXplZFJuZy5lbmRPZmZzZXQpO3JldHVybiB0cnVlO30pO307cmV0dXJue3dhbGs6d2FsayxzcGxpdDpzcGxpdCxub3JtYWxpemU6bm9ybWFsaXplfTt9KGZ1bmN0aW9uKFJhbmdlVXRpbHMpe1JhbmdlVXRpbHMuY29tcGFyZVJhbmdlcz1SYW5nZUNvbXBhcmUuaXNFcTtSYW5nZVV0aWxzLmdldENhcmV0UmFuZ2VGcm9tUG9pbnQ9Q2FyZXRSYW5nZUZyb21Qb2ludC5mcm9tUG9pbnQ7UmFuZ2VVdGlscy5nZXRTZWxlY3RlZE5vZGU9Z2V0U2VsZWN0ZWROb2RlO1JhbmdlVXRpbHMuZ2V0Tm9kZT1nZXROb2RlO30pKFJhbmdlVXRpbHN8fChSYW5nZVV0aWxzPXt9KSk7dmFyIFJhbmdlVXRpbHMkMT1SYW5nZVV0aWxzO3ZhciBhd2FpdGVyPWZ1bmN0aW9uIGF3YWl0ZXIocmVzb2x2ZUNiLHJlamVjdENiLHRpbWVvdXQpe2lmKHRpbWVvdXQ9PT12b2lkIDApe3RpbWVvdXQ9MTAwMDt9dmFyIGRvbmU9ZmFsc2U7dmFyIHRpbWVyPW51bGw7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uIGNvbXBsZXRlKGNvbXBsZXRlcil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7YXJnc1tfaV09YXJndW1lbnRzW19pXTt9aWYoIWRvbmUpe2RvbmU9dHJ1ZTtpZih0aW1lciE9PW51bGwpe2RvbUdsb2JhbHMuY2xlYXJUaW1lb3V0KHRpbWVyKTt0aW1lcj1udWxsO31jb21wbGV0ZXIuYXBwbHkobnVsbCxhcmdzKTt9fTt9O3ZhciByZXNvbHZlPWNvbXBsZXRlKHJlc29sdmVDYik7dmFyIHJlamVjdD1jb21wbGV0ZShyZWplY3RDYik7dmFyIHN0YXJ0PWZ1bmN0aW9uIHN0YXJ0KCl7dmFyIGFyZ3M9W107Zm9yKHZhciBfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKyl7YXJnc1tfaV09YXJndW1lbnRzW19pXTt9aWYoIWRvbmUmJnRpbWVyPT09bnVsbCl7dGltZXI9ZG9tR2xvYmFscy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHJlamVjdC5hcHBseShudWxsLGFyZ3MpO30sdGltZW91dCk7fX07cmV0dXJue3N0YXJ0OnN0YXJ0LHJlc29sdmU6cmVzb2x2ZSxyZWplY3Q6cmVqZWN0fTt9O3ZhciBjcmVhdGUkNj1mdW5jdGlvbiBjcmVhdGUkNigpe3ZhciB0YXNrcz17fTt2YXIgcmVzdWx0Rm5zPXt9O3ZhciBsb2FkPWZ1bmN0aW9uIGxvYWQoaWQsdXJsKXt2YXIgbG9hZEVyck1zZz0nU2NyaXB0IGF0IFVSTCAiJyt1cmwrJyIgZmFpbGVkIHRvIGxvYWQnO3ZhciBydW5FcnJNc2c9J1NjcmlwdCBhdCBVUkwgIicrdXJsKyciIGRpZCBub3QgY2FsbCBgdGlueW1jZS5SZXNvdXJjZS5hZGQoXCcnK2lkKydcJywgZGF0YSlgIHdpdGhpbiAxIHNlY29uZCc7aWYodGFza3NbaWRdIT09dW5kZWZpbmVkKXtyZXR1cm4gdGFza3NbaWRdO31lbHNle3ZhciB0YXNrPW5ldyBwcm9taXNlT2JqKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgd2FpdGVyPWF3YWl0ZXIocmVzb2x2ZSxyZWplY3QpO3Jlc3VsdEZuc1tpZF09d2FpdGVyLnJlc29sdmU7U2NyaXB0TG9hZGVyLlNjcmlwdExvYWRlci5sb2FkU2NyaXB0KHVybCxmdW5jdGlvbigpe3JldHVybiB3YWl0ZXIuc3RhcnQocnVuRXJyTXNnKTt9LGZ1bmN0aW9uKCl7cmV0dXJuIHdhaXRlci5yZWplY3QobG9hZEVyck1zZyk7fSk7fSk7dGFza3NbaWRdPXRhc2s7cmV0dXJuIHRhc2s7fX07dmFyIGFkZD1mdW5jdGlvbiBhZGQoaWQsZGF0YSl7aWYocmVzdWx0Rm5zW2lkXSE9PXVuZGVmaW5lZCl7cmVzdWx0Rm5zW2lkXShkYXRhKTtkZWxldGUgcmVzdWx0Rm5zW2lkXTt9dGFza3NbaWRdPXByb21pc2VPYmoucmVzb2x2ZShkYXRhKTt9O3JldHVybntsb2FkOmxvYWQsYWRkOmFkZH07fTt2YXIgUmVzb3VyY2U9Y3JlYXRlJDYoKTt2YXIgbWluPU1hdGgubWluLG1heD1NYXRoLm1heCxyb3VuZCQyPU1hdGgucm91bmQ7dmFyIHJlbGF0aXZlUG9zaXRpb249ZnVuY3Rpb24gcmVsYXRpdmVQb3NpdGlvbihyZWN0LHRhcmdldFJlY3QscmVsKXt2YXIgeCx5LHcsaCx0YXJnZXRXLHRhcmdldEg7eD10YXJnZXRSZWN0Lng7eT10YXJnZXRSZWN0Lnk7dz1yZWN0Lnc7aD1yZWN0Lmg7dGFyZ2V0Vz10YXJnZXRSZWN0Lnc7dGFyZ2V0SD10YXJnZXRSZWN0Lmg7cmVsPShyZWx8fCcnKS5zcGxpdCgnJyk7aWYocmVsWzBdPT09J2InKXt5Kz10YXJnZXRIO31pZihyZWxbMV09PT0ncicpe3grPXRhcmdldFc7fWlmKHJlbFswXT09PSdjJyl7eSs9cm91bmQkMih0YXJnZXRILzIpO31pZihyZWxbMV09PT0nYycpe3grPXJvdW5kJDIodGFyZ2V0Vy8yKTt9aWYocmVsWzNdPT09J2InKXt5LT1oO31pZihyZWxbNF09PT0ncicpe3gtPXc7fWlmKHJlbFszXT09PSdjJyl7eS09cm91bmQkMihoLzIpO31pZihyZWxbNF09PT0nYycpe3gtPXJvdW5kJDIody8yKTt9cmV0dXJuIGNyZWF0ZSQ3KHgseSx3LGgpO307dmFyIGZpbmRCZXN0UmVsYXRpdmVQb3NpdGlvbj1mdW5jdGlvbiBmaW5kQmVzdFJlbGF0aXZlUG9zaXRpb24ocmVjdCx0YXJnZXRSZWN0LGNvbnN0cmFpblJlY3QscmVscyl7dmFyIHBvcyxpO2ZvcihpPTA7aTxyZWxzLmxlbmd0aDtpKyspe3Bvcz1yZWxhdGl2ZVBvc2l0aW9uKHJlY3QsdGFyZ2V0UmVjdCxyZWxzW2ldKTtpZihwb3MueD49Y29uc3RyYWluUmVjdC54JiZwb3MueCtwb3Mudzw9Y29uc3RyYWluUmVjdC53K2NvbnN0cmFpblJlY3QueCYmcG9zLnk+PWNvbnN0cmFpblJlY3QueSYmcG9zLnkrcG9zLmg8PWNvbnN0cmFpblJlY3QuaCtjb25zdHJhaW5SZWN0Lnkpe3JldHVybiByZWxzW2ldO319cmV0dXJuIG51bGw7fTt2YXIgaW5mbGF0ZT1mdW5jdGlvbiBpbmZsYXRlKHJlY3QsdyxoKXtyZXR1cm4gY3JlYXRlJDcocmVjdC54LXcscmVjdC55LWgscmVjdC53K3cqMixyZWN0LmgraCoyKTt9O3ZhciBpbnRlcnNlY3Q9ZnVuY3Rpb24gaW50ZXJzZWN0KHJlY3QsY3JvcFJlY3Qpe3ZhciB4MSx5MSx4Mix5Mjt4MT1tYXgocmVjdC54LGNyb3BSZWN0LngpO3kxPW1heChyZWN0LnksY3JvcFJlY3QueSk7eDI9bWluKHJlY3QueCtyZWN0LncsY3JvcFJlY3QueCtjcm9wUmVjdC53KTt5Mj1taW4ocmVjdC55K3JlY3QuaCxjcm9wUmVjdC55K2Nyb3BSZWN0LmgpO2lmKHgyLXgxPDB8fHkyLXkxPDApe3JldHVybiBudWxsO31yZXR1cm4gY3JlYXRlJDcoeDEseTEseDIteDEseTIteTEpO307dmFyIGNsYW1wJDE9ZnVuY3Rpb24gY2xhbXAkMShyZWN0LGNsYW1wUmVjdCxmaXhlZFNpemUpe3ZhciB1bmRlcmZsb3dYMSx1bmRlcmZsb3dZMSxvdmVyZmxvd1gyLG92ZXJmbG93WTIseDEseTEseDIseTIsY3gyLGN5Mjt4MT1yZWN0Lng7eTE9cmVjdC55O3gyPXJlY3QueCtyZWN0Lnc7eTI9cmVjdC55K3JlY3QuaDtjeDI9Y2xhbXBSZWN0LngrY2xhbXBSZWN0Lnc7Y3kyPWNsYW1wUmVjdC55K2NsYW1wUmVjdC5oO3VuZGVyZmxvd1gxPW1heCgwLGNsYW1wUmVjdC54LXgxKTt1bmRlcmZsb3dZMT1tYXgoMCxjbGFtcFJlY3QueS15MSk7b3ZlcmZsb3dYMj1tYXgoMCx4Mi1jeDIpO292ZXJmbG93WTI9bWF4KDAseTItY3kyKTt4MSs9dW5kZXJmbG93WDE7eTErPXVuZGVyZmxvd1kxO2lmKGZpeGVkU2l6ZSl7eDIrPXVuZGVyZmxvd1gxO3kyKz11bmRlcmZsb3dZMTt4MS09b3ZlcmZsb3dYMjt5MS09b3ZlcmZsb3dZMjt9eDItPW92ZXJmbG93WDI7eTItPW92ZXJmbG93WTI7cmV0dXJuIGNyZWF0ZSQ3KHgxLHkxLHgyLXgxLHkyLXkxKTt9O3ZhciBjcmVhdGUkNz1mdW5jdGlvbiBjcmVhdGUkNyh4LHksdyxoKXtyZXR1cm57eDp4LHk6eSx3OncsaDpofTt9O3ZhciBmcm9tQ2xpZW50UmVjdD1mdW5jdGlvbiBmcm9tQ2xpZW50UmVjdChjbGllbnRSZWN0KXtyZXR1cm4gY3JlYXRlJDcoY2xpZW50UmVjdC5sZWZ0LGNsaWVudFJlY3QudG9wLGNsaWVudFJlY3Qud2lkdGgsY2xpZW50UmVjdC5oZWlnaHQpO307dmFyIFJlY3Q9e2luZmxhdGU6aW5mbGF0ZSxyZWxhdGl2ZVBvc2l0aW9uOnJlbGF0aXZlUG9zaXRpb24sZmluZEJlc3RSZWxhdGl2ZVBvc2l0aW9uOmZpbmRCZXN0UmVsYXRpdmVQb3NpdGlvbixpbnRlcnNlY3Q6aW50ZXJzZWN0LGNsYW1wOmNsYW1wJDEsY3JlYXRlOmNyZWF0ZSQ3LGZyb21DbGllbnRSZWN0OmZyb21DbGllbnRSZWN0fTt2YXIgZWFjaCRsPVRvb2xzLmVhY2gsZXh0ZW5kJDU9VG9vbHMuZXh0ZW5kO3ZhciBfZXh0ZW5kQ2xhc3MsaW5pdGlhbGl6aW5nO3ZhciBDbGFzcz1mdW5jdGlvbiBDbGFzcygpe307Q2xhc3MuZXh0ZW5kPV9leHRlbmRDbGFzcz1mdW5jdGlvbiBleHRlbmRDbGFzcyhwcm9wKXt2YXIgc2VsZj10aGlzO3ZhciBfc3VwZXI9c2VsZi5wcm90b3R5cGU7dmFyIHByb3RvdHlwZSxuYW1lLG1lbWJlcjt2YXIgQ2xhc3M9ZnVuY3Rpb24gQ2xhc3MoKXt2YXIgaSxtaXhpbnMsbWl4aW47dmFyIHNlbGY9dGhpcztpZighaW5pdGlhbGl6aW5nKXtpZihzZWxmLmluaXQpe3NlbGYuaW5pdC5hcHBseShzZWxmLGFyZ3VtZW50cyk7fW1peGlucz1zZWxmLk1peGlucztpZihtaXhpbnMpe2k9bWl4aW5zLmxlbmd0aDt3aGlsZShpLS0pe21peGluPW1peGluc1tpXTtpZihtaXhpbi5pbml0KXttaXhpbi5pbml0LmFwcGx5KHNlbGYsYXJndW1lbnRzKTt9fX19fTt2YXIgZHVtbXk9ZnVuY3Rpb24gZHVtbXkoKXtyZXR1cm4gdGhpczt9O3ZhciBjcmVhdGVNZXRob2Q9ZnVuY3Rpb24gY3JlYXRlTWV0aG9kKG5hbWUsZm4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dmFyIHRtcD1zZWxmLl9zdXBlcjt2YXIgcmV0O3NlbGYuX3N1cGVyPV9zdXBlcltuYW1lXTtyZXQ9Zm4uYXBwbHkoc2VsZixhcmd1bWVudHMpO3NlbGYuX3N1cGVyPXRtcDtyZXR1cm4gcmV0O307fTtpbml0aWFsaXppbmc9dHJ1ZTtwcm90b3R5cGU9bmV3IHNlbGYoKTtpbml0aWFsaXppbmc9ZmFsc2U7aWYocHJvcC5NaXhpbnMpe2VhY2gkbChwcm9wLk1peGlucyxmdW5jdGlvbihtaXhpbil7Zm9yKHZhciBuYW1lXzEgaW4gbWl4aW4pe2lmKG5hbWVfMSE9PSdpbml0Jyl7cHJvcFtuYW1lXzFdPW1peGluW25hbWVfMV07fX19KTtpZihfc3VwZXIuTWl4aW5zKXtwcm9wLk1peGlucz1fc3VwZXIuTWl4aW5zLmNvbmNhdChwcm9wLk1peGlucyk7fX1pZihwcm9wLk1ldGhvZHMpe2VhY2gkbChwcm9wLk1ldGhvZHMuc3BsaXQoJywnKSxmdW5jdGlvbihuYW1lKXtwcm9wW25hbWVdPWR1bW15O30pO31pZihwcm9wLlByb3BlcnRpZXMpe2VhY2gkbChwcm9wLlByb3BlcnRpZXMuc3BsaXQoJywnKSxmdW5jdGlvbihuYW1lKXt2YXIgZmllbGROYW1lPSdfJytuYW1lO3Byb3BbbmFtZV09ZnVuY3Rpb24odmFsdWUpe3ZhciBzZWxmPXRoaXM7aWYodmFsdWUhPT11bmRlZmluZWQpe3NlbGZbZmllbGROYW1lXT12YWx1ZTtyZXR1cm4gc2VsZjt9cmV0dXJuIHNlbGZbZmllbGROYW1lXTt9O30pO31pZihwcm9wLlN0YXRpY3Mpe2VhY2gkbChwcm9wLlN0YXRpY3MsZnVuY3Rpb24oZnVuYyxuYW1lKXtDbGFzc1tuYW1lXT1mdW5jO30pO31pZihwcm9wLkRlZmF1bHRzJiZfc3VwZXIuRGVmYXVsdHMpe3Byb3AuRGVmYXVsdHM9ZXh0ZW5kJDUoe30sX3N1cGVyLkRlZmF1bHRzLHByb3AuRGVmYXVsdHMpO31mb3IobmFtZSBpbiBwcm9wKXttZW1iZXI9cHJvcFtuYW1lXTtpZih0eXBlb2YgbWVtYmVyPT09J2Z1bmN0aW9uJyYmX3N1cGVyW25hbWVdKXtwcm90b3R5cGVbbmFtZV09Y3JlYXRlTWV0aG9kKG5hbWUsbWVtYmVyKTt9ZWxzZXtwcm90b3R5cGVbbmFtZV09bWVtYmVyO319Q2xhc3MucHJvdG90eXBlPXByb3RvdHlwZTtDbGFzcy5jb25zdHJ1Y3Rvcj1DbGFzcztDbGFzcy5leHRlbmQ9X2V4dGVuZENsYXNzO3JldHVybiBDbGFzczt9O3ZhciBtaW4kMT1NYXRoLm1pbixtYXgkMT1NYXRoLm1heCxyb3VuZCQzPU1hdGgucm91bmQ7dmFyIENvbG9yPWZ1bmN0aW9uIENvbG9yKHZhbHVlKXt2YXIgc2VsZj17fTt2YXIgcj0wLGc9MCxiPTA7dmFyIHJnYjJoc3Y9ZnVuY3Rpb24gcmdiMmhzdihyLGcsYil7dmFyIGgscyx2LGQsbWluUkdCLG1heFJHQjtoPTA7cz0wO3Y9MDtyPXIvMjU1O2c9Zy8yNTU7Yj1iLzI1NTttaW5SR0I9bWluJDEocixtaW4kMShnLGIpKTttYXhSR0I9bWF4JDEocixtYXgkMShnLGIpKTtpZihtaW5SR0I9PT1tYXhSR0Ipe3Y9bWluUkdCO3JldHVybntoOjAsczowLHY6dioxMDB9O31kPXI9PT1taW5SR0I/Zy1iOmI9PT1taW5SR0I/ci1nOmItcjtoPXI9PT1taW5SR0I/MzpiPT09bWluUkdCPzE6NTtoPTYwKihoLWQvKG1heFJHQi1taW5SR0IpKTtzPShtYXhSR0ItbWluUkdCKS9tYXhSR0I7dj1tYXhSR0I7cmV0dXJue2g6cm91bmQkMyhoKSxzOnJvdW5kJDMocyoxMDApLHY6cm91bmQkMyh2KjEwMCl9O307dmFyIGhzdlRvUmdiPWZ1bmN0aW9uIGhzdlRvUmdiKGh1ZSxzYXR1cmF0aW9uLGJyaWdodG5lc3Mpe3ZhciBzaWRlLGNocm9tYSx4LG1hdGNoO2h1ZT0ocGFyc2VJbnQoaHVlLDEwKXx8MCklMzYwO3NhdHVyYXRpb249cGFyc2VJbnQoc2F0dXJhdGlvbiwxMCkvMTAwO2JyaWdodG5lc3M9cGFyc2VJbnQoYnJpZ2h0bmVzcywxMCkvMTAwO3NhdHVyYXRpb249bWF4JDEoMCxtaW4kMShzYXR1cmF0aW9uLDEpKTticmlnaHRuZXNzPW1heCQxKDAsbWluJDEoYnJpZ2h0bmVzcywxKSk7aWYoc2F0dXJhdGlvbj09PTApe3I9Zz1iPXJvdW5kJDMoMjU1KmJyaWdodG5lc3MpO3JldHVybjt9c2lkZT1odWUvNjA7Y2hyb21hPWJyaWdodG5lc3Mqc2F0dXJhdGlvbjt4PWNocm9tYSooMS1NYXRoLmFicyhzaWRlJTItMSkpO21hdGNoPWJyaWdodG5lc3MtY2hyb21hO3N3aXRjaChNYXRoLmZsb29yKHNpZGUpKXtjYXNlIDA6cj1jaHJvbWE7Zz14O2I9MDticmVhaztjYXNlIDE6cj14O2c9Y2hyb21hO2I9MDticmVhaztjYXNlIDI6cj0wO2c9Y2hyb21hO2I9eDticmVhaztjYXNlIDM6cj0wO2c9eDtiPWNocm9tYTticmVhaztjYXNlIDQ6cj14O2c9MDtiPWNocm9tYTticmVhaztjYXNlIDU6cj1jaHJvbWE7Zz0wO2I9eDticmVhaztkZWZhdWx0OnI9Zz1iPTA7fXI9cm91bmQkMygyNTUqKHIrbWF0Y2gpKTtnPXJvdW5kJDMoMjU1KihnK21hdGNoKSk7Yj1yb3VuZCQzKDI1NSooYittYXRjaCkpO307dmFyIHRvSGV4PWZ1bmN0aW9uIHRvSGV4KCl7dmFyIGhleD1mdW5jdGlvbiBoZXgodmFsKXt2YWw9cGFyc2VJbnQodmFsLDEwKS50b1N0cmluZygxNik7cmV0dXJuIHZhbC5sZW5ndGg+MT92YWw6JzAnK3ZhbDt9O3JldHVybicjJytoZXgocikraGV4KGcpK2hleChiKTt9O3ZhciB0b1JnYj1mdW5jdGlvbiB0b1JnYigpe3JldHVybntyOnIsZzpnLGI6Yn07fTt2YXIgdG9Ic3Y9ZnVuY3Rpb24gdG9Ic3YoKXtyZXR1cm4gcmdiMmhzdihyLGcsYik7fTt2YXIgcGFyc2U9ZnVuY3Rpb24gcGFyc2UodmFsdWUpe3ZhciBtYXRjaGVzO2lmKF90eXBlb2YodmFsdWUpPT09J29iamVjdCcpe2lmKCdyJ2luIHZhbHVlKXtyPXZhbHVlLnI7Zz12YWx1ZS5nO2I9dmFsdWUuYjt9ZWxzZSBpZigndidpbiB2YWx1ZSl7aHN2VG9SZ2IodmFsdWUuaCx2YWx1ZS5zLHZhbHVlLnYpO319ZWxzZXtpZihtYXRjaGVzPS9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspW15cKV0qXCkvZ2kuZXhlYyh2YWx1ZSkpe3I9cGFyc2VJbnQobWF0Y2hlc1sxXSwxMCk7Zz1wYXJzZUludChtYXRjaGVzWzJdLDEwKTtiPXBhcnNlSW50KG1hdGNoZXNbM10sMTApO31lbHNlIGlmKG1hdGNoZXM9LyMoWzAtRl17Mn0pKFswLUZdezJ9KShbMC1GXXsyfSkvZ2kuZXhlYyh2YWx1ZSkpe3I9cGFyc2VJbnQobWF0Y2hlc1sxXSwxNik7Zz1wYXJzZUludChtYXRjaGVzWzJdLDE2KTtiPXBhcnNlSW50KG1hdGNoZXNbM10sMTYpO31lbHNlIGlmKG1hdGNoZXM9LyMoWzAtRl0pKFswLUZdKShbMC1GXSkvZ2kuZXhlYyh2YWx1ZSkpe3I9cGFyc2VJbnQobWF0Y2hlc1sxXSttYXRjaGVzWzFdLDE2KTtnPXBhcnNlSW50KG1hdGNoZXNbMl0rbWF0Y2hlc1syXSwxNik7Yj1wYXJzZUludChtYXRjaGVzWzNdK21hdGNoZXNbM10sMTYpO319cj1yPDA/MDpyPjI1NT8yNTU6cjtnPWc8MD8wOmc+MjU1PzI1NTpnO2I9YjwwPzA6Yj4yNTU/MjU1OmI7cmV0dXJuIHNlbGY7fTtpZih2YWx1ZSl7cGFyc2UodmFsdWUpO31zZWxmLnRvUmdiPXRvUmdiO3NlbGYudG9Ic3Y9dG9Ic3Y7c2VsZi50b0hleD10b0hleDtzZWxmLnBhcnNlPXBhcnNlO3JldHVybiBzZWxmO307dmFyIHNlcmlhbGl6ZT1mdW5jdGlvbiBzZXJpYWxpemUob2JqKXt2YXIgZGF0YT1KU09OLnN0cmluZ2lmeShvYmopO2lmKCFpc1N0cmluZyhkYXRhKSl7cmV0dXJuIGRhdGE7fXJldHVybiBkYXRhLnJlcGxhY2UoL1tcdTAwODAtXHVGRkZGXS9nLGZ1bmN0aW9uKG1hdGNoKXt2YXIgaGV4Q29kZT1tYXRjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtyZXR1cm4iXFx1IisnMDAwMCcuc3Vic3RyaW5nKGhleENvZGUubGVuZ3RoKStoZXhDb2RlO30pO307dmFyIEpTT05VdGlscz17c2VyaWFsaXplOnNlcmlhbGl6ZSxwYXJzZTpmdW5jdGlvbiBwYXJzZSh0ZXh0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UodGV4dCk7fWNhdGNoKGV4KXt9fX07dmFyIEpTT05QPXtjYWxsYmFja3M6e30sY291bnQ6MCxzZW5kOmZ1bmN0aW9uIHNlbmQoc2V0dGluZ3Mpe3ZhciBzZWxmPXRoaXMsZG9tPURPTVV0aWxzJDEuRE9NLGNvdW50PXNldHRpbmdzLmNvdW50IT09dW5kZWZpbmVkP3NldHRpbmdzLmNvdW50OnNlbGYuY291bnQ7dmFyIGlkPSd0aW55bWNlX2pzb25wXycrY291bnQ7c2VsZi5jYWxsYmFja3NbY291bnRdPWZ1bmN0aW9uKGpzb24pe2RvbS5yZW1vdmUoaWQpO2RlbGV0ZSBzZWxmLmNhbGxiYWNrc1tjb3VudF07c2V0dGluZ3MuY2FsbGJhY2soanNvbik7fTtkb20uYWRkKGRvbS5kb2MuYm9keSwnc2NyaXB0Jyx7aWQ6aWQsc3JjOnNldHRpbmdzLnVybCx0eXBlOid0ZXh0L2phdmFzY3JpcHQnfSk7c2VsZi5jb3VudCsrO319O3ZhciBYSFI9X2Fzc2lnbihfYXNzaWduKHt9LE9ic2VydmFibGUpLHtzZW5kOmZ1bmN0aW9uIHNlbmQoc2V0dGluZ3Mpe3ZhciB4aHIsY291bnQ9MDt2YXIgcmVhZHk9ZnVuY3Rpb24gcmVhZHkoKXtpZighc2V0dGluZ3MuYXN5bmN8fHhoci5yZWFkeVN0YXRlPT09NHx8Y291bnQrKz4xMDAwMCl7aWYoc2V0dGluZ3Muc3VjY2VzcyYmY291bnQ8MTAwMDAmJnhoci5zdGF0dXM9PT0yMDApe3NldHRpbmdzLnN1Y2Nlc3MuY2FsbChzZXR0aW5ncy5zdWNjZXNzX3Njb3BlLCcnK3hoci5yZXNwb25zZVRleHQseGhyLHNldHRpbmdzKTt9ZWxzZSBpZihzZXR0aW5ncy5lcnJvcil7c2V0dGluZ3MuZXJyb3IuY2FsbChzZXR0aW5ncy5lcnJvcl9zY29wZSxjb3VudD4xMDAwMD8nVElNRURfT1VUJzonR0VORVJBTCcseGhyLHNldHRpbmdzKTt9eGhyPW51bGw7fWVsc2V7RGVsYXkuc2V0VGltZW91dChyZWFkeSwxMCk7fX07c2V0dGluZ3Muc2NvcGU9c2V0dGluZ3Muc2NvcGV8fHRoaXM7c2V0dGluZ3Muc3VjY2Vzc19zY29wZT1zZXR0aW5ncy5zdWNjZXNzX3Njb3BlfHxzZXR0aW5ncy5zY29wZTtzZXR0aW5ncy5lcnJvcl9zY29wZT1zZXR0aW5ncy5lcnJvcl9zY29wZXx8c2V0dGluZ3Muc2NvcGU7c2V0dGluZ3MuYXN5bmM9c2V0dGluZ3MuYXN5bmMhPT1mYWxzZTtzZXR0aW5ncy5kYXRhPXNldHRpbmdzLmRhdGF8fCcnO1hIUi5maXJlKCdiZWZvcmVJbml0aWFsaXplJyx7c2V0dGluZ3M6c2V0dGluZ3N9KTt4aHI9bmV3IGRvbUdsb2JhbHMuWE1MSHR0cFJlcXVlc3QoKTtpZih4aHIpe2lmKHhoci5vdmVycmlkZU1pbWVUeXBlKXt4aHIub3ZlcnJpZGVNaW1lVHlwZShzZXR0aW5ncy5jb250ZW50X3R5cGUpO314aHIub3BlbihzZXR0aW5ncy50eXBlfHwoc2V0dGluZ3MuZGF0YT8nUE9TVCc6J0dFVCcpLHNldHRpbmdzLnVybCxzZXR0aW5ncy5hc3luYyk7aWYoc2V0dGluZ3MuY3Jvc3NEb21haW4pe3hoci53aXRoQ3JlZGVudGlhbHM9dHJ1ZTt9aWYoc2V0dGluZ3MuY29udGVudF90eXBlKXt4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJyxzZXR0aW5ncy5jb250ZW50X3R5cGUpO31pZihzZXR0aW5ncy5yZXF1ZXN0aGVhZGVycyl7VG9vbHMuZWFjaChzZXR0aW5ncy5yZXF1ZXN0aGVhZGVycyxmdW5jdGlvbihoZWFkZXIpe3hoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlci5rZXksaGVhZGVyLnZhbHVlKTt9KTt9eGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCdYTUxIdHRwUmVxdWVzdCcpO3hocj1YSFIuZmlyZSgnYmVmb3JlU2VuZCcse3hocjp4aHIsc2V0dGluZ3M6c2V0dGluZ3N9KS54aHI7eGhyLnNlbmQoc2V0dGluZ3MuZGF0YSk7aWYoIXNldHRpbmdzLmFzeW5jKXtyZXR1cm4gcmVhZHkoKTt9RGVsYXkuc2V0VGltZW91dChyZWFkeSwxMCk7fX19KTt2YXIgZXh0ZW5kJDY9VG9vbHMuZXh0ZW5kO3ZhciBKU09OUmVxdWVzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIEpTT05SZXF1ZXN0KHNldHRpbmdzKXt0aGlzLnNldHRpbmdzPWV4dGVuZCQ2KHt9LHNldHRpbmdzKTt0aGlzLmNvdW50PTA7fUpTT05SZXF1ZXN0LnNlbmRSUEM9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBKU09OUmVxdWVzdCgpLnNlbmQobyk7fTtKU09OUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhcmdzKXt2YXIgZWNiPWFyZ3MuZXJyb3Isc2NiPWFyZ3Muc3VjY2Vzczt2YXIgeGhyQXJncz1leHRlbmQkNih0aGlzLnNldHRpbmdzLGFyZ3MpO3hockFyZ3Muc3VjY2Vzcz1mdW5jdGlvbihjLHgpe2M9SlNPTlV0aWxzLnBhcnNlKGMpO2lmKHR5cGVvZiBjPT09J3VuZGVmaW5lZCcpe2M9e2Vycm9yOidKU09OIFBhcnNlIGVycm9yLid9O31pZihjLmVycm9yKXtlY2IuY2FsbCh4aHJBcmdzLmVycm9yX3Njb3BlfHx4aHJBcmdzLnNjb3BlLGMuZXJyb3IseCk7fWVsc2V7c2NiLmNhbGwoeGhyQXJncy5zdWNjZXNzX3Njb3BlfHx4aHJBcmdzLnNjb3BlLGMucmVzdWx0KTt9fTt4aHJBcmdzLmVycm9yPWZ1bmN0aW9uKHR5LHgpe2lmKGVjYil7ZWNiLmNhbGwoeGhyQXJncy5lcnJvcl9zY29wZXx8eGhyQXJncy5zY29wZSx0eSx4KTt9fTt4aHJBcmdzLmRhdGE9SlNPTlV0aWxzLnNlcmlhbGl6ZSh7aWQ6YXJncy5pZHx8J2MnK3RoaXMuY291bnQrKyxtZXRob2Q6YXJncy5tZXRob2QscGFyYW1zOmFyZ3MucGFyYW1zfSk7eGhyQXJncy5jb250ZW50X3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nO1hIUi5zZW5kKHhockFyZ3MpO307cmV0dXJuIEpTT05SZXF1ZXN0O30oKTt2YXIgY3JlYXRlJDg9ZnVuY3Rpb24gY3JlYXRlJDgoKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZGF0YT17fTt2YXIga2V5cz1bXTt2YXIgc3RvcmFnZT17Z2V0SXRlbTpmdW5jdGlvbiBnZXRJdGVtKGtleSl7dmFyIGl0ZW09ZGF0YVtrZXldO3JldHVybiBpdGVtP2l0ZW06bnVsbDt9LHNldEl0ZW06ZnVuY3Rpb24gc2V0SXRlbShrZXksdmFsdWUpe2tleXMucHVzaChrZXkpO2RhdGFba2V5XT1TdHJpbmcodmFsdWUpO30sa2V5OmZ1bmN0aW9uIGtleShpbmRleCl7cmV0dXJuIGtleXNbaW5kZXhdO30scmVtb3ZlSXRlbTpmdW5jdGlvbiByZW1vdmVJdGVtKGtleSl7a2V5cz1rZXlzLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm4gaz09PWtleTt9KTtkZWxldGUgZGF0YVtrZXldO30sY2xlYXI6ZnVuY3Rpb24gY2xlYXIoKXtrZXlzPVtdO2RhdGE9e307fSxsZW5ndGg6MH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JhZ2UsJ2xlbmd0aCcse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4ga2V5cy5sZW5ndGg7fSxjb25maWd1cmFibGU6ZmFsc2UsZW51bWVyYWJsZTpmYWxzZX0pO3JldHVybiBzdG9yYWdlO30oKTt9O3ZhciBsb2NhbFN0b3JhZ2U7dHJ5e2xvY2FsU3RvcmFnZT1kb21HbG9iYWxzLndpbmRvdy5sb2NhbFN0b3JhZ2U7fWNhdGNoKGUpe2xvY2FsU3RvcmFnZT1jcmVhdGUkOCgpO312YXIgTG9jYWxTdG9yYWdlPWxvY2FsU3RvcmFnZTt2YXIgcHVibGljQXBpPXtnZW9tOntSZWN0OlJlY3R9LHV0aWw6e1Byb21pc2U6cHJvbWlzZU9iaixEZWxheTpEZWxheSxUb29sczpUb29scyxWSzpWSyxVUkk6VVJJLENsYXNzOkNsYXNzLEV2ZW50RGlzcGF0Y2hlcjpFdmVudERpc3BhdGNoZXIsT2JzZXJ2YWJsZTpPYnNlcnZhYmxlLEkxOG46STE4bixYSFI6WEhSLEpTT046SlNPTlV0aWxzLEpTT05SZXF1ZXN0OkpTT05SZXF1ZXN0LEpTT05QOkpTT05QLExvY2FsU3RvcmFnZTpMb2NhbFN0b3JhZ2UsQ29sb3I6Q29sb3J9LGRvbTp7RXZlbnRVdGlsczpFdmVudFV0aWxzLFNpenpsZTpTaXp6bGUsRG9tUXVlcnk6RG9tUXVlcnksVHJlZVdhbGtlcjpUcmVlV2Fsa2VyLERPTVV0aWxzOkRPTVV0aWxzJDEsU2NyaXB0TG9hZGVyOlNjcmlwdExvYWRlcixSYW5nZVV0aWxzOlJhbmdlVXRpbHMkMSxTZXJpYWxpemVyOlNlcmlhbGl6ZXIkMSxDb250cm9sU2VsZWN0aW9uOkNvbnRyb2xTZWxlY3Rpb24sQm9va21hcmtNYW5hZ2VyOkJvb2ttYXJrTWFuYWdlciQxLFNlbGVjdGlvbjpTZWxlY3Rpb24kMSxFdmVudDpFdmVudFV0aWxzLkV2ZW50fSxodG1sOntTdHlsZXM6U3R5bGVzLEVudGl0aWVzOkVudGl0aWVzLE5vZGU6Tm9kZSQxLFNjaGVtYTpTY2hlbWEsU2F4UGFyc2VyOlNheFBhcnNlciQxLERvbVBhcnNlcjpEb21QYXJzZXIsV3JpdGVyOldyaXRlcixTZXJpYWxpemVyOlNlcmlhbGl6ZXJ9LEVudjpFbnYsQWRkT25NYW5hZ2VyOkFkZE9uTWFuYWdlciQxLEFubm90YXRvcjpBbm5vdGF0b3IsRm9ybWF0dGVyOkZvcm1hdHRlcixVbmRvTWFuYWdlcjpVbmRvTWFuYWdlcixFZGl0b3JDb21tYW5kczpFZGl0b3JDb21tYW5kcyxXaW5kb3dNYW5hZ2VyOldpbmRvd01hbmFnZXIsTm90aWZpY2F0aW9uTWFuYWdlcjpOb3RpZmljYXRpb25NYW5hZ2VyLEVkaXRvck9ic2VydmFibGU6RWRpdG9yT2JzZXJ2YWJsZSxTaG9ydGN1dHM6U2hvcnRjdXRzLEVkaXRvcjpFZGl0b3IsRm9jdXNNYW5hZ2VyOkZvY3VzTWFuYWdlcixFZGl0b3JNYW5hZ2VyOkVkaXRvck1hbmFnZXIsRE9NOkRPTVV0aWxzJDEuRE9NLFNjcmlwdExvYWRlcjpTY3JpcHRMb2FkZXIuU2NyaXB0TG9hZGVyLFBsdWdpbk1hbmFnZXI6QWRkT25NYW5hZ2VyJDEuUGx1Z2luTWFuYWdlcixUaGVtZU1hbmFnZXI6QWRkT25NYW5hZ2VyJDEuVGhlbWVNYW5hZ2VyLEljb25NYW5hZ2VyOkljb25NYW5hZ2VyLFJlc291cmNlOlJlc291cmNlLHRyaW06VG9vbHMudHJpbSxpc0FycmF5OlRvb2xzLmlzQXJyYXksaXM6VG9vbHMuaXMsdG9BcnJheTpUb29scy50b0FycmF5LG1ha2VNYXA6VG9vbHMubWFrZU1hcCxlYWNoOlRvb2xzLmVhY2gsbWFwOlRvb2xzLm1hcCxncmVwOlRvb2xzLmdyZXAsaW5BcnJheTpUb29scy5pbkFycmF5LGV4dGVuZDpUb29scy5leHRlbmQsY3JlYXRlOlRvb2xzLmNyZWF0ZSx3YWxrOlRvb2xzLndhbGssY3JlYXRlTlM6VG9vbHMuY3JlYXRlTlMscmVzb2x2ZTpUb29scy5yZXNvbHZlLGV4cGxvZGU6VG9vbHMuZXhwbG9kZSxfYWRkQ2FjaGVTdWZmaXg6VG9vbHMuX2FkZENhY2hlU3VmZml4LGlzT3BlcmE6RW52Lm9wZXJhLGlzV2ViS2l0OkVudi53ZWJraXQsaXNJRTpFbnYuaWUsaXNHZWNrbzpFbnYuZ2Vja28saXNNYWM6RW52Lm1hY307dmFyIHRpbnltY2U9VG9vbHMuZXh0ZW5kKEVkaXRvck1hbmFnZXIscHVibGljQXBpKTt2YXIgZXhwb3J0VG9Nb2R1bGVMb2FkZXJzPWZ1bmN0aW9uIGV4cG9ydFRvTW9kdWxlTG9hZGVycyh0aW55bWNlKXtpZigodHlwZW9mIG1vZHVsZT09PSJ1bmRlZmluZWQiPyJ1bmRlZmluZWQiOl90eXBlb2YobW9kdWxlKSk9PT0nb2JqZWN0Jyl7dHJ5e21vZHVsZS5leHBvcnRzPXRpbnltY2U7fWNhdGNoKF8pe319fTt2YXIgZXhwb3J0VG9XaW5kb3dHbG9iYWw9ZnVuY3Rpb24gZXhwb3J0VG9XaW5kb3dHbG9iYWwodGlueW1jZSl7d2luZG93LnRpbnltY2U9dGlueW1jZTt3aW5kb3cudGlueU1DRT10aW55bWNlO307ZXhwb3J0VG9XaW5kb3dHbG9iYWwodGlueW1jZSk7ZXhwb3J0VG9Nb2R1bGVMb2FkZXJzKHRpbnltY2UpO30pKHdpbmRvdyk7"},{"version":3,"sources":["E:/Project/chowder/public/tinymce/tinymce.js"],"names":["domGlobals","noop","compose","fa","fb","args","_i","arguments","length","apply","constant","value","identity","x","curry","fn","initialArgs","restArgs","all","concat","not","f","die","msg","Error","never","always","none","NONE","eq","o","isNone","call","thunk","id","n","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","v","elementEq","b","from","Option","typeOf","t","Array","prototype","isPrototypeOf","constructor","name","String","isType","type","isString","isObject","isArray","isNull","isBoolean","isFunction","isNumber","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","xs","r","contains","pred","i","len","eachr","partition","pass","fail","arr","foldr","acc","foldl","find","findIndex","flatten","output","reverse","difference","a1","a2","mapToObject","sort","comparator","copy","head","last","from$1","__assign","assign","p","hasOwnProperty","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","isNodeType","node","nodeType","isRestrictedNode","getPrototypeOf","isElement","matchNodeNames","names","lowercasedNames","toLowerCase","nodeName","matchStyleValues","values","items","split","cssValue","computed","ownerDocument","defaultView","getComputedStyle","getPropertyValue","hasPropValue","propName","propValue","hasAttribute","attrName","attrValue","hasAttributeValue","getAttribute","isBogus","isBogusAll","isTable","tagName","hasContentEditableState","contentEditable","isTextareaOrInput","isText","isComment","isDocument","isDocumentFragment","isBr","isContentEditableTrue","isContentEditableFalse","NodeType","Cell","initial","get","set","clone","firstMatch","regexes","test","find$1","agent","major","minor","group","Number","replace","nu","detect","versionRegexes","cleanedAgent","unknown","Version","edge","chrome","ie","opera","firefox","safari","isBrowser","current","unknown$1","nu$1","version","info","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","windows","ios","android","linux","osx","solaris","freebsd","isOS","unknown$2","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","DeviceType","os","browser","userAgent","mediaMatch","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","detect$1","candidates","candidate","search","detectBrowser","browsers","detectOs","oses","UaString","checkRange","str","substr","start","contains$1","startsWith","prefix","trim","lTrim","rTrim","normalVersionRegex","checkContains","target","uastring","PlatformInfo","detect$2","deviceType","PlatformDetection","query","window","matchMedia","matches","platform","navigator","detect$3","fromHtml","html","scope","doc","document","div","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromDom","fromTag","tag","fromText","text","createTextNode","dom","fromPoint","docElm","y","elementFromPoint","Element","ATTRIBUTE","Node","ATTRIBUTE_NODE","CDATA_SECTION","CDATA_SECTION_NODE","COMMENT","COMMENT_NODE","DOCUMENT","DOCUMENT_NODE","DOCUMENT_TYPE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT","DOCUMENT_FRAGMENT_NODE","ELEMENT","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE","ENTITY_REFERENCE_NODE","ENTITY","ENTITY_NODE","NOTATION","NOTATION_NODE","Global","Function","element","isType$1","isElement$1","isText$1","keys","each$1","obj","props","k","map$1","tupleMap","tuple","bifilter","branch","key","has","isSupported","style","inBody","parentNode","body","rawSet","setAttribute","setAll","attrs","get$1","has$1","remove","removeAttribute","get$2","property","styles","getUnsafeProperty","getRaw","raw","reflow","offsetWidth","Immutable","fields","struct","recurse","cur","Recurse","compareDocumentPosition","match","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","ELEMENT$1","DOCUMENT$1","selector","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","base","querySelectorAll","one","querySelector","e1","e2","regularContains","d1","d2","ieContains","contains$2","owner","documentElement","parent","parents","isRoot","stop","ret","rawParent","prevSibling","previousSibling","nextSibling","prevSiblings","nextSiblings","children","child","index","cs","firstChild","lastChild","childNodesCount","spot","browser$1","firstElement","nodes","getTableCaptionDeltaY","elm","caption","bodyTop","offsetTop","captionTop","captionHeight","offsetHeight","hasChild","getPos","rootElm","offsetParent","pos","getBoundingClientRect","left","scrollLeft","clientLeft","top","scrollTop","clientTop","offsetLeft","Position","exports$1","module$1","exports","define","module","require","amd","g","global","EphoxContactWrapper","c","u","code","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","array","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","setImmediate","root","setTimeoutFunc","thisArg","Promise","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","newValue","then","finale","_unhandledRejectionFn","Handler","done","reason","ex","prom","remaining","res","val","race","err","warn","_setImmediateFn","_setUnhandledRejectionFn","clearImmediate","immediateIds","nextImmediateId","Timeout","setInterval","clearInterval","close","clearFn","_id","_clearFn","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","onTimeout","_onTimeout","onNextTick","promisePolyfill","boltExport","nu$3","baseFn","data","callbacks","nCallback","isReady","cbs","pure","callback","LazyValue","errorReporter","make","fab","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","cache","nu$4","pure$1","Future","par","asyncValues","count","asyncValue","par$1","futures","opt","mapError","_","onValue","toOption","isValue","isError","message","onError","fromOption","Result","asap","immediateFn","catch","promiseObj","requestAnimationFramePromise","requestAnimationFrame","requestAnimationFrameFunc","vendors","featurefill","wrappedSetTimeout","time","wrappedSetInterval","wrappedClearTimeout","wrappedClearInterval","debounce","timer","func","Delay","setEditorTimeout","editor","removed","setEditorInterval","throttle","platform$1","browser$2","webkit","fileApi","URL","createObjectURL","windowsPhone","Env","gecko","mac","iOS","transparentSrc","caretAfter","range","getSelection","documentMode","ceFalse","cacheSuffix","container","experimentalShadowDom","canHaveCSP","desktop","isArray$1","toArray$1","l","each$2","map$2","out","filter$1","indexOf$1","reduce","collection","iteratee","accumulator","findIndex$1","predicate","find$2","idx","last$1","ArrUtils","whiteSpaceRegExp","trim$1","is$1","makeMap","delim","hasOwnProperty$1","prop","create","sp","ns","cn","scn","de","exec","createNS","onCreate","extend","static","ext","walk","explode","d","_addCacheSuffix","url","Tools","grep","inArray","hasOwn","StyleSheetLoader","settings","idCount","loadedStates","maxLoadTime","_setReferrerPolicy","referrerPolicy","appendToHead","getElementsByTagName","appendChild","load","loadedCallback","errorCallback","link","startTime","state","status","passed","failed","onload","onerror","isOldWebKit","webKitChunks","parseInt","wait","testCallback","waitCallback","Date","getTime","waitForWebKitLinkLoaded","styleSheets","styleSheet","ownerNode","owningElement","waitForGeckoLinkLoaded","cssRules","sheet","rel","async","defer","contentCssCors","crossOrigin","textContent","href","loadF","unbox","result","loadAll","urls","success","failure","parts","blocks","voids","tableCells","tableSections","textBlocks","headings","listItems","lists","wsElements","lazyLookup","lookup","isHeading","isBlock","isTable$1","isInline","isBr$1","isTextBlock","isList","isListItem","isVoid","isTableSection","isTableCell","isWsPreserveElement","surroundedBySpans","previousIsSpan","nextIsSpan","isBookmarkNode","trimNode","nodeValue","trimmedLength","insertBefore","TrimNode","makeMap$1","namedEntities","baseEntities","reverseEntities","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","nativeDecode","innerText","buildEntitiesLookup","radix","chr","entity","fromCharCode","encodeRaw","attr","encodeAllRaw","encodeNumeric","charCodeAt","encodeNamed","entities","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","charAt","Entities","mapCache","dummyObj","makeMap$2","each$3","extend$1","explode$1","compileSchema","schema","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","add","attributes","ni","attributesOrder","arrayToMap","join","addAttrs","schemaItem","table","script","compileElementMap","mode","toUpperCase","Schema","elements","patternElements","validStyles","invalidStyles","schemaItems","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","validClasses","blockElementsMap","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","textInlineElementsMap","customElementsMap","specialElements","createLookupTable","option","defaultValue","extendWith","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","special","RegExp","patternToRegExp","addValidElements","validElements","ei","el","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","required","splice","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","pattern","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","rule","inline","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","attrPatterns","getCustomElements","toHex","hex","Styles","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","encodingItems","invisibleChar","color","parse","css","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","suffix","noJoin","right","bottom","box","canCompress","compress2","encode","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","lastIndex","border","serialize","serializeStyles","styleList","styleMap","eventExpandoPrefix","mouseEventRe","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","hasIsDefaultPrevented","event","isDefaultPrevented","returnTrue","returnFalse","addEvent","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","getTargetFromShadowDom","defaultTarget","composedPath","fix","originalEvent","srcElement","pageX","clientX","eventDoc","pageY","clientY","preventDefault","stopPropagation","isPropagationStopped","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","metaKey","bindOnReady","win","eventUtils","domLoaded","isDocReady","readyState","readyHandler","EventUtils","events","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","evt","executeHandlers","namesList","mouseEnterLeave","related","currentTarget","relatedTarget","unbind","ci","eventMap","fire","parentWindow","clean","destroy","cancel","Event","support","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains$3","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","pop","push_native","indexOf$2","booleans","whitespace","identifier","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","els","j","Sizzle","context","results","seed","m","groups","old","nid","newContext","newSelector","getElementById","getElementsByClassName","qsa","toSelector","testContext","qsaError","cacheLength","shift","markFunction","siblingCheck","diff","sourceIndex","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","hasCompare","getTop","getById","attrId","tmp","className","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","matchesSelector","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","selectors","createPseudo","relative","first","preFilter","excess","unquoted","nodeNameSelector","operator","check","what","simple","forward","ofType","xml","outerCache","nodeIndex","useCache","pseudo","setFilters","matched","input","matcher","unmatched","lang","elemLang","hash","location","focus","activeElement","hasFocus","tabIndex","enabled","disabled","checked","selected","selectedIndex","empty","header","button","even","odd","lt","gt","nth","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","addCombinator","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","elems","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","Math","random","token","compiled","push$1","slice$1","rquickExpr$1","skipUniques","isDefined","isString$1","isWindow","createFragment","fragDoc","frag","createDocumentFragment","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","hasClass","wrap","wrapper","lastParent","newWrapper","cloneNode","numericCssMap","booleanMap","propFix","for","class","readonly","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","init","inArray$1","whiteSpaceRegExp$1","trim$2","each$4","unique","hook","removeAttr","camel","dashed","removeProperty","currentStyle","removeChild","append","host","prepend","before","after","appendTo","prependTo","replaceWith","content","wrapAll","wrapInner","contents","unwrap","addClass","toggleClass","removeClass","existingClassName","classState","trigger","show","hide","closest","offset","object","until","sibling","siblingName","firstSibling","next","prev","contentDocument","contentWindow","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","defaults","sub","TreeWalker","startNode","rootNode","prev2","shallow","findSibling","findPreviousNode","startName","parent$1","firstChild$1","wrap$1","before$1","append$1","rogue","remove$1","children$1","translate","Position$1","boxPosition","firstDefinedOrZero","absolute","pageYOffset","pageXOffset","viewport","get$3","_DOC","to","scrollTo","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","bounds","width","height","getBounds","_win","scroll","visualViewport","max","pageLeft","pageTop","clientWidth","clientHeight","each$5","grep$1","simpleSelectorRe","whiteSpaceRegExp$2","setupAttrHooks","getContext","keepValues","keep_values","keepUrlHook","$elm","src","updateInternalStyleAttr","rawValue","findNodeIndex","normalized","lastNodeType","DOMUtils","_this","addedStyles","files","counter","stdMode","boxModel","styleSheetLoader","boundEvents","ownEvents","$","getRoot","getElementsByName","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","deep","clone_1","root_element","getViewPort","argWin","vp","w","h","setStyle","update_styles","setStyles","stylesArg","getStyle","getSize","getRect","size","elms","getParents","collect","selectorVal","getParent","_findSib","getNext","getPrev","setAttribs","setHTML","canHaveHTML","parentElm","newElm","createHTML","outHtml","keepChildren","$node","removeAllAttribs","removeAttributeNode","parseStyle","cssText","serializeStyle","addStyle","styleElm","DOM","loadCSS","cls","isHidden","uniqueId","getOuterHTML","outerHTML","setOuterHTML","insertAfter","reference","referenceNode","oldElm","replaceChild","rename","attrNode","findCommonAncestor","ps","pe","rgbVal","isEmpty","brCount","walker","bogusVal","createRng","createRange","splitElm","replacementElm","bef","aft","pa","setStart","setEnd","extractContents","rv","getContentEditable","getContentEditableParent","isChildOf","dumpRng","startContainer","startOffset","endContainer","endOffset","DOMUtils$1","each$6","grep$2","QUEUED","LOADING","LOADED","FAILED","ScriptLoader","states","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","onreadystatechange","log","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","isRaw","isTokenised","currentCode","getData","setCode","newCode","getCode","langData","getLangData","textstr","lowercaseTextstr","removeContext","translated","values_1","substitued","$1","$2","isRtl","hasCode","I18n","each$7","AddOnManager","_listeners","instance","dependencies","requireLangPack","languages","language","languageLoad","addOn","listener","createUrl","baseUrl","dep","resource","addComponents","pluginName","pluginUrl","loadDependencies","addOnUrl","deps","newUrl","urlString","baseURL","substring","lastIndexOf","waitFor","PluginManager","ThemeManager","AddOnManager$1","rate","last$2","read","add$1","remove$2","supports","classList","get$4","add$2","clazz","remove$3","add$3","cleanClass","remove$4","has$2","descendants","descendants$1","ClosestOrAncestor","ancestor","ancestor$1","descendant","closest$1","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","rng","selection","getRng","getBody","an","newStart","getAttr","uid","findMarkers","isAnnotation","findAll","markers","directory","nodesAlready","setup","registry","changeCallbacks","initData","previous","withCallbacks","updateCallbacks","callbackMap","outputData","fireCallbacks","fireNoAnnotation","onNodeChange","annotations","_a","setup$1","identifyParserNode","span","serializer","addNodeFilter","spans","persistent","create$1","register","generate","date","floor","add$4","classes","original","isDeep","fromHtml$1","get$5","set$1","owner$1","docDom","fragment","contentElements","ZWSP","isZwsp","trim$3","Zwsp","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","hasContent","insertInline","textNode","startsWithCaretContainer","splitText","endsWithCaretContainer","isBeforeInline","isAtStart","isAfterInline","isAtEnd","createBogusBr","br","insertBlock","blockName","blockNode","trimBogusBr","brs","lastBr","showCaretContainerBlock","caretContainer","isRangeInCaretContainerBlock","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$2","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isInEditable","isAtomicContentEditableFalse","isAtomic","isEditableCaretCandidate","round","clone$1","rect","collapse","toStart","isEqual","rect1","rect2","isValidOverflow","overflowY","min","isAbove","isBelow","containsXY","getSelectedNode","getNode","extendingChars","isExtendingChar","ch","lift2","oa","ob","lift3","oc","someIf","slice$2","and","Predicate","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","getBrClientRect","brNode","nbsp","clientRect","getBoundingClientRectWebKitText","sc","ec","so","eo","newRng","cloneRange","setEndAfter","isZeroRect","clientRects","getClientRects","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","CaretPosition","toRange","isVisible","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","CaretPosition$1","isText$5","isBogus$1","nodeIndex$1","normalizedParent","getChildNodes","normalizedTextOffset","equal","normalizedNodeIndex","numTextFragments","createPathItem","create$2","path","outputOffset","resolvePathItem","findTextPosition","targetOffset","dataLen","resolve$1","trimEmptyTextNode","insertNode","insertFragment","rangeInsertNode","isContentEditableFalse$2","getNormalizedTextOffset","trimmedOffset","getPoint","point","getLocation","bookmark","isCollapsed","end","findIndex$2","moveEndPoint","normalizeTableCellSelection","findAdjacentContentEditableFalseElm","getOffsetBookmark","getCaretBookmark","getRangeBookmark","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark","GetBookmark","getUndoBookmark","CARET_ID","isCaretNode","getParentCaretContainer","isElement$4","isText$6","removeNode","getNodeValue","setNodeValue","trimCount","trimmedText","removeUnchanged","remove$5","removeTextAndReposition","removeElementAndReposition","newPosition","removeTextCaretContainer","removeElementCaretContainer","removeAndReposition","caretContainerNode","CaretContainerRemove","browser$3","isContentEditableFalse$3","isTableCell$1","getAbsoluteClientRect","scrollX","scrollY","margin","rootRect","trimInlineCaretContainers","contentEditableFalseNodes","deleteData","FakeCaret","lastVisualCaret","cursorInterval","caret","caretState","startBlink","reposition","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$4","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","isElement$5","isCaretCandidate$2","isForwards","direction","isBackwards","skipCaretContainers","findNode","predicateFn","getParentBlock","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","setStartBefore","setEndBefore","setStartAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$1","normalizeRange","leanLeft","leanRight","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getElementFromPrevPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","HDirection","isContentEditableFalse$5","isText$7","isElement$6","isBr$4","isCaretCandidate$3","isAtomic$1","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","moveForwardFromBr","nextNode","findCaretPosition","Forwards","startPos","innerNode","rootContentEditableFalseElm","CaretWalker","Backwards","walkToPositionIn","position","fromPosition","afterElement","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","isAtBr","shouldSkipPosition","navigate","navigateIgnore","ignoreFilter","positionIn","nextPosition","prevPosition","CaretFinder","firstPositionIn","lastPositionIn","isStringPathBookmark","isRangeBookmark","isIdBookmark","isIndexBookmark","isPathBookmark","addBogus","resolveCaretPositionBookmark","insertZwsp","tryFindRangePosition","padEmptyCaretContainer","setEndPoint","isValidTextNode","restoreEndPoint","appendData","resolvePaths","resolveId","endPos","spos","epos","resolveIndex$1","selectNode","resolve$2","ResolveBookmark","getBookmark$1","setRng","isBookmarkNode$1","Bookmarks","isInlineBlock","moveStart","isWhiteSpaceNode","getNonWhiteSpaceSibling","inc","isTextBlock$1","ed","replaceVars","vars","isEq","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$1","FormatUtils","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findLeaf","excludeTrailingWhitespace","leaf","isBogusBr","findParentContentEditable","findSpace","findWordEndPoint","lastTextNode","findSelectorEndPoint","format","curFormat","findBlockEndPoint","block","scopeRoot","findParentContainer","block_expand","expandRng","endPoint","expand","ExpandRange","each$8","getEndChild","walk$1","startPoint","siblings","exclude","collectSiblings","endNode","findEndPoint","walkBoundary","RangeWalk","zeroWidth","NodeValue","getOption","api","get$6","isZeroWidth","wrapName","shouldApplyToTrailingSpaces","applyWordGrab","makeAnnotation","eDoc","decorate","_b","master","_c","_d","_e","annotate","newWrappers","getDoc","finishWrapper","getOrOpenWrapper","processElements","processElement","ctx","processNodes","annotateWithBookmark","undoManager","transact","initialRng","Annotator","changes","annotationChanged","getAll","whiteSpaceRegExp$3","typeLookup","walk$2","Node$1","insert","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","isValidPrefixAttrName","trimComments","isInvalidUri","uri","allow_html_data_urls","findEndTagIndex","startIndex","tokenRegExp","shortEndedElements","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","comment","cdata","pi","doctype","endRegExp","stack","attrList","textData","isInternalElement","removeInternalElements","fillAttrsMap","isShortEnded","validate","elementRule","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","processHtml","anyAttributesRequired","selfClosing","attrRegExp","fixSelfClosing","filteredUrlAttrs","scriptUriRegExp","processEndTag","valid","parseAttribute","val2","val3","attrRule","trimRegExp","decodeURIComponent","unescape","self_closing_elements","remove_internals","bogusValue","allow_conditional_comments","findEndTag","SaxParser$1","trimHtml","tempAttrs","trimContentRegExp","trimInternal","bogusAllRegExp","endTagIndex","matchLength","getTempAttrs","trimExternal","TrimHtml","getBodySetting","getParam","bodyObj","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre","getForcedRootBlock","getForcedRootBlockAttrs","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","getFontStyleValues","getFontSizeClasses","getImagesDataImgFilter","isAutomaticUploadsEnabled","shouldReuseFileName","shouldReplaceBlobUris","getIconPackName","getIconsUrl","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","getLanguageUrl","shouldIndentUseMargin","getIndentation","getContentCss","contentCss","content_css","getDirectionality","getInlineBoundarySelector","Settings","defaultFormat","trimEmptyContents","emptyRegExp","getContentFromBody","getInner","no_events","getContent","makeMap$3","Writer","indent","indentBefore","indentAfter","htmlOutput","indent_before","indent_after","entity_encoding","element_format","Serializer","writer","handlers","handler","sortedAttrs","inner","traverse","findMatchingNodes","nodeFilters","attributeFilters","nodeMatches","attrMatches","filter$2","_doc","generate$1","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","allReqd","reqKey","label","params","Adt","create$3","SimRange","cata","subject","onBefore","onOn","onAfter","getStart","situ","before$3","after$2","Situ","adt$1","domRange","exact","exactFromRange","simRange","soffset","finish","foffset","getStart$1","startSitu","finishSitu","getWin","Selection","browser$4","clamp","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","readRange","rangeCount","getRangeAt","getBookmark$2","bookmarkToNativeRng","store","newBookmark","storeNative","restore","SelectionBookmark","isEditorUIElement","FocusManager","isManualNodeChange","selectionChange","registerPageMouseUp","throttledStore","mouseUpPage","registerFocusOut","registerMouseUp","registerEditorEvents","SelectionRestore","documentFocusInHandler","DOM$1","isEditorUIElement$1","isEditorContentAreaElement","isUIElement","customSelector","custom_ui_selector","getActiveElement","registerEvents","editorManager","focusedEditor","setActive","blurredEditor","activeEditor","unregisterDocumentEvents","setup$2","FocusController","getContentEditableHost","getCollapsedNode","getFocusInElement","normalizeSelection","normalize","caretPos","focusBody","hasElementFocus","hasIframeFocus","iframeElement","hasInlineFocus","rawBody","hasUiFocus","hasFocus$1","hasEditorOrUiFocus","focusEditor","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","activateEditor","skipFocus","EditorFocus","defaultFormat$1","isTreeNode","moveSelection","setEditorHtml","setContentString","forcedRootBlockName","padd","forced_root_block_attrs","parser","isRootContent","setContentTree","getNodeFilters","getAttributeFilters","setContent","firePreProcess","firePostProcess","fireRemove","fireDetach","fireSwitchMode","fireObjectResizeStart","fireObjectResized","Events","DOM$2","restoreOriginalStyles","orgDisplay","safeDestroy","clearDomReferences","contentAreaContainer","formElement","editorContainer","bodyElement","targetElm","restoreForm","form","_mceOldSubmit","formEventDelegate","remove$6","_selectionOverrides","editorUpload","getElement","save","is_removing","unbindAllNativeEvents","hasHiddenInput","getContainer","automatic","destroyed","_beforeUnload","theme","hasOwnProperty$2","shallow$1","deep$1","bothObjects","deepMerge","baseMerge","merger","objects","curObject","merge","sectionResult","deviceDetection","legacyMobilePlugins","defaultTouchSettings","table_grid","object_resizing","resize","normalizePlugins","plugins","pluginNames","trimmedPlugins","filterLegacyMobilePlugins","extractSections","getSection","sections","sectionSettings","hasSection","isSectionTheme","section","getSectionConfig","getDefaultSettings","documentBaseUrl","baseDefaults","toolbar_drawer","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","font_size_legacy_values","forced_root_block","hidden_input","inline_styles","convert_fonts_to_spans","convertURL","getDefaultMobileSettings","defaultMobileSettings","toolbar_sticky","defaultPhoneSettings","menubar","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","combinePlugins","forcedPlugins","processPlugins","isMobileDevice","defaultOverrideSettings","forced_plugins","desktopPlugins","mobileConfig","mobilePlugins","platformPlugins","combinedPlugins","isOnMobile","combineSettings","defaultSettings","defaultDeviceSettings","mobile","extendedSettings","getEditorSettings","getFiltered","getParamObject","isArrayOf","getProp","rawElm","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","getBoundingClientRect$1","isInsideElementContentArea","bodyElm","transpose","deltaX","deltaY","isXYInContentArea","transposedPoint","fromDomSafe","isEditorAttachedToDom","rawContainer","getContentAreaContainer","EditorView","NotificationManagerImpl","unimplemented","open","getArgs","NotificationManager","notifications","getImplementation","getNotificationManagerImpl","getTopNotification","progressBar","addNotification","notification","closeNotification","otherNotification","spec","getNotifications","serviceMessage","service_message","WindowManagerImpl","openUrl","alert","confirm","getParams","setParams","WindowManager","dialogs","getWindowManagerImpl","funcBind","fireOpenEvent","dialog","fireCloseEvent","addDialog","closeDialog","otherDialog","getTopDialog","storeSelectionAndOpenDialog","openDialog","displayNotification","notificationManager","displayError","_skinLoaded","uploadError","logError","createLoadError","pluginLoadError","iconsLoadError","languageLoadError","pluginInitError","initError","ErrorReporter","CreateIconManager","iconPack","icons","IconManager","Uploader","uploadStatus","pendingPromises","pathJoin","path1","path2","defaultHandler","blobInfo","progress","xhr","formData","XMLHttpRequest","withCredentials","credentials","upload","onprogress","loaded","total","json","JSON","responseText","basePath","FormData","blob","filename","send","noUpload","handlerSuccess","handlerFailure","resolvePending","blobUri","uploadBlobInfo","openNotification","markPending","closeNotification_1","markUploaded","removeFailed","percent","isDefaultHandler","pendingUploadBlobInfo","uploadBlobs","blobInfos","isUploaded","isPending","blobUriToBlob","rejectWithError","responseType","response","parseDataUri","uriParts","dataUriToBlob","atob","Blob","Uint8Array","uriToBlob","blobToDataUri","reader","FileReader","onloadend","readAsDataURL","Conversions","imageToBlobInfo","blobCache","img","base64","getByUri","dataUri","findFirst","cachedBlobInfo","getAllImages","ImageScanner","cachedPromises","images","promises","imageInfo","newPromise","count$1","rnd","now","uuid","Uuid","BlobCache","mimeToExt","mime","mimes","toBlobInfo","removeByUri","revokeObjectURL","UploadStatus","PENDING","UPLOADED","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","EditorUpload","uploader","imageScanner","urlFilters","aliveGuard","cacheInvalidator","replaceString","replaceImageUrl","targetUrl","replacementUrl","replaceUrlInUndoStack","level","fragments","replaceImageUri","uploadImages","scanForImages","imageInfos","filteredResult","uploadInfo","uploadImagesAuto","isValidDataUriImage","imgElm","dataImgFilter","addFilter","resultItem","replaceBlobUris","source_view","dropLast","parentsUntil$1","parents$1","parentsAndSelf","Parents","isBlockElement","blockElements","isValidTarget","hasBlockParent","shouldRemoveTextNode","addRootBlocks","rootBlockNode","tempNode","wrapped","restoreSelection","rootNodeName","forcedRootBlock","nodeChanged","setup$3","ForceBlocks","isEq$1","rng1","RangeCompare","getStartNode","getEndNode","getFirstChildren","getLastChildren","hasAllContentsSelected","moveEndPoint$1","hasAnyRanges","sel","getSel","NodeChange","lastPath","lastRng","nativeRng","fakeRng","startElm","isSameElementPath","initialized","disable_nodechange","currentPath","VK","BACKSPACE","DELETE","DOWN","ENTER","LEFT","RIGHT","SPACEBAR","TAB","UP","END","HOME","modifierPressed","shiftKey","ctrlKey","altKey","metaKeyPressed","is$2","expected","actual","isNbsp","isWhiteSpace$1","isContent","isChar","delta","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBeforeImageBlock","isAfterImageBlock","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","getNodeClientRects","toArrayWithNode","VDirection","findUntil","walkUntil","isAboveFn","isBeflowFn","line","targetClientRect","aboveLineNumber","lineNumber","isLineNumber","upUntil","Up","downUntil","Down","positionsUntil","caretWalker","isBelowFn","getClientRect","isAboveLine","isLine","isContentEditableFalse$6","findNode$1","distanceToRectLeft","abs","distanceToRectRight","isInside","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","findLineNodeRects","targetNodeRect","checkPosFn","lineRects","getFakeCaretTargets","caretInfo","closestCaret","closestNodeRect","contentEditableFalseNodeRects","targetNodeRects","isXYWithinRange","RangePoint","getAbsolutePosition","getBodyPosition","getScrollPosition","getBodyScroll","inlineScroll","iframeScroll","getMousePosition","iframePosition","scrollPosition","calculatePosition","bodyPosition","mousePosition","calc","MousePosition","isContentEditableFalse$7","isContentEditableTrue$2","isDraggable","isValidDropTarget","targetElement","dragElement","cloneElement","cloneElm","createGhost","clonedElm","ghostElm","opacity","overflow","padding","boxSizing","appendGhostToBody","moveGhost","maxX","maxY","overflowX","removeElement","isLeftMouseButtonPressed","hasDraggableElement","applyRelPos","relX","ceElm","elmPos","screenX","screenY","scrollWidth","scrollHeight","relY","ghost","move","throttledPlaceCaretAt","hideFakeCaret","placeCaretAt","movement","dragging","targetPos","getRawTarget","drop","targetClone_1","targetClone","insertContent","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","rootDocument","blockIeDrop","realTarget","DragDropOverrides","isContentEditableTrue$3","isContentEditableFalse$8","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","caretRange","setup$4","renderFocusCaret","CefFocus","isContentEditableTrue$4","isContentEditableFalse$9","getContentEditableRoot","SelectionOverrides","fakeCaret","realSelectionId","selectedContentEditableNode","isFakeSelectionElement","getRealSelectionElement","setRange","getRange","showBlockCaretContainer","blockCaretContainer","contentEditableRoot","removeContentEditableSelection","handleTouchSelect","moved","setContentEditableSelection","hasNormalCaretPosition","newPos","block1","block2","hasBetterMouseTarget","targetNode","caretNode","targetBlock","caretBlock","keyCode","normalizeShortEndedElementSelection","isPasteBin","isRangeInCaretContainer","clipboardData","realSelectionElement","clearData","setData","outerText","isWithinCaretContainer","$realSelectionContainer","origTargetClone","removeAllRanges","addRange","nodeElm","KEEP","INSERT","vDown","vUp","snake","diag","buildScript","start1","end1","start2","end2","middle","getMiddleSnake","i2","buildSnake","sum","Diff","getOuterHtml","createFragment$1","insertAt","removeAt","applyDiff","action","read$1","write","currentFragments","Fragments","undoLevelDocument","lazyTempDocument","implementation","createHTMLDocument","hasIframes","createFragmentedLevel","beforeBookmark","createCompleteLevel","createFromEditor","trimmedFragments","trimmed","applyToEditor","getLevelContent","getCleanLevelContent","hasEqualContent","level1","level2","hasEqualCleanedContent","isEq$2","Levels","isUnlocked","locks","setTyping","typing","endTyping","endTypingLevelIgnoreLocks","beforeChange","addUndoLevel","currentLevel","lastLevel","bm","custom_undo_redo_levels","setDirty","clear","extra","callback1","callback2","redo","undo","hasUndo","hasRedo","ignore","registerEvents$1","isFirstTypedCharacter","addNonTypingUndoLevel","cmd","command","isDirty","modKey","isInsertReplacementText","inputType","isInsertTextDataNull","addKeyboardShortcuts","addShortcut","UndoManager","getLastChildren$1","rawNode","removeTrailingBr","allBrs","fillWithPaddingBr","isPaddingContents","isPaddedElement","trimBlockTrailingBr","lastChildPrevSibling","PaddingBr","isEq$3","matchesUnInheritedFormatSelector","formatList","formatter","inherit","matchParents","matchNode","matchName","matchItems","itemName","similar","onmatch","matchAll","startElement","matchedFormatNames","checkedMap","canApply","defaultBlock","MatchFormat","split$1","isCollapsibleWhitespace","normalizeContent","isStartOfContent","isEndOfContent","previousCharIsSpace","replaceData","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","whitespaceOffset","ancestor$2","hasWhitespacePreserveParent","rootElement","isWhitespace","isNamedAnchor","isContent$1","isBookmark","isBogus$2","isBogusAll$1","isEmptyNode","isEmpty$1","Empty","needsReposition","beforeOrStartOf","afterOrEndOf","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwardsFromElm","startPosition","findCaretPositionForwardsFromElm","findCaretPositionBackwards","findCaretPositionForward","findCaretPosition$1","findCaretPosOutsideElmAfterDelete","setSelection","eqRawNode","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","isInlineElement","deleteElement","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","setCursorLocation","paddPos","DeleteElement","ZWSP$1","CARET_ID$1","importNode","getEmptyCaretContainers","isCaretContainerEmpty","findFirstTextNode","createCaretContainer","fill","trimZwspFromCaretContainer","removeCaretContainerNode","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","applyCaretFormat","wordcharRegex","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","disableCaretContainer","setup$5","replaceWithCaretFormat","innerMost","isFormatElement","inlineElements","isEmptyCaretFormatElement","postProcessHooks","filter$3","each$9","addPostProcessHook","hooks","postProcess","isPre","hasPreSibling","pre","joinPre","pre1","pre2","getSelectedBlocks","Hooks","each$a","ElementUtils","attribs","compareObjects","obj1","obj2","MCE_ATTR_RE","each$b","isEq$4","isTableCell$2","isChildOfInlineParent","lastIdx","wrap$2","wrapWithSiblings","matchName$1","isColorFormatAndAnchor","links","find$3","removeNode$1","rootBlockElm","list_block","removeFormat","compareNode","stylesModified","remove_similar","valueOut","findFormatRoot","formatRoot","wrapAndSplit","lastClone","firstClone","formatRootParent","mixed","remove$7","splitToFormatRoot","isRemoveBookmarkNode","lastContentEditable","removeRngStyle","commonAncestorContainer","textDecoration","ceFalseOverride","RemoveFormat","each$c","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","processUnderlineAndColor","mergeUnderlineAndColor","mergeBackgroundColorAndFontSize","backgroundColor","mergeSubSup","mergeSiblings","merge_siblings","clearChildStyles","clear_child_styles","mergeWithChildren","mergeWithParents","merge_with_parents","MergeFormats","createRange$1","normalizeBlockSelectionRange","newEndPos","normalize$1","RangeNormalizer","each$d","isElementNode$1","applyFormat","setElementFormat","fmt","onformat","styleVal","applyNodeStyle","found","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","parentName","childCount","getChildCount","getChildElementNode","mergeStyles","curSelNode","ApplyFormat","setup$6","registeredFormatListeners","currentFormats","updateAndFireChangeCallbacks","formatChangeData","formatsList","newFormats","matchedFormats","remainingFormats","filterRemainingFormats","addListeners","formats","formatChangeItems","removeListeners","formatChanged","get$7","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","aligncenter","display","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","toggle","fontFamily","fontsize","fontSize","fontsize_class","blockquote","subscript","superscript","removeformat","DefaultFormats","FormatRegistry","unregister","each$e","parsedSelectorToHtml","ancestry","sItem","getRequiredParent","elmRule","wrapInHtml","parentCandidate","parentRequired","ancestorName","siblingElm","selectorToHtml","parseSelector","parseSelectorItem","$0","$3","$4","getCssText","previewFrag","previewElm","previewCss","parentFontSize","previewStyles","preview_styles","removeVars","numValue","parseFloat","Preview","ToggleFormat","setup$7","FormatShortcuts","Formatter","formatChangeState","register$1","htmlParser","addAttributeFilter","internalName","cleanup","hasChildren","trimTrailingBr","brNode1","brNode2","DomSerializerFilters","preProcess","impl","oldDoc","shouldFireEvent","hasEventListeners","DomSerializerPreProcess","removeAttrs","addFontToSpansFilter","domParser","fontSizes","face","addStrikeToSpanFilter","addFilters","register$2","LegacyFilter","paddEmptyNode","brPreferred","padd_empty_with_br","isPaddedWithNbsp","hasOnlyChild","isPadded","isEmpty$2","nonEmptyElements","whitespaceElements","isLineBreakNode","register$3","remove_trailing_brs","prevName","whiteSpaceElements","appendRel","addNoOpener","newRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","makeMap$4","each$f","explode$2","extend$2","DomParser","matchedNodes","matchedAttributes","root_name","fixInvalidChildren","newParent","currentNode","childNode","nonSplitableElements","textBlockElements","fixed","filterNode","list","fi","fl","invalidChildren","isInWhiteSpacePreservedElement","getRootBlockName","rootBlockName","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","newNode","attrFiltersLen","invalid","addTempAttr","postProcess$1","outArgs","getHtmlFromNode","parseHtml","parserArgs","serializeNode","htmlSerializer","toHtml","DomSerializer","addRules","rules","setRules","Serializer$1","domSerializer","BookmarkManager","BookmarkManager$1","isContentEditableFalse$a","isContentEditableTrue$5","getContentEditableRoot$1","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","resizeHandles","selectedHandle","startX","startY","selectedElmX","selectedElmY","startW","startH","ratio","resizeStarted","editableDoc","startScrollWidth","startScrollHeight","nw","ne","se","sw","isImage","isEventOnImageOutsideRange","touch","touches","contextMenuSelectImage","getResizeTarget","isResizable","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","resize_img_proportional","endGhostResize","setSizeProp","showResizeRect","targetWidth","targetHeight","hideResizeRect","unbindResizeHandleEvents","handleElm","startDrag","unSelectabe","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","getEnd","isWithinContentEditableFalse","execCommand","delayedSelect","throttledUpdateResizeRect","composing","Dimension","getOffset","getOuter","aggregate","properties","isNaN","cumulativeInclusions","absoluteMax","api$1","get$8","walkUp","navigation","frame","view","rest","pathTo","frameElement","Navigation","find$4","frames","loc","excludeFromDescend","descend","markerInfo","cleanupFun","createMarker","elementMarker","withMarker","preserveWith","_s","applyWithMarker","withElement","endElement","fireScrollIntoViewEvent","scrollEvent","viewHeight","intoWindowIfNeeded","intoWindow","innerHeight","intoFrame","frameViewHeight","op","viewportBounds","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","elementIntoView","scroller","rangeIntoView","ScrollIntoView","scrollElementIntoView","scrollRangeIntoView","hasCeProperty","findParent","findClosestIeRange","rects","createTextRange","moveToElementText","moveToPoint","moveOutOfContentEditableFalse","parentElement","fromPoint$1","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","CaretRangeFromPoint","processRanges","ranges","EventProcessRanges","fromElements","tableModel","tableRow","cellPosition","getSpan","fillout","rowspan","colspan","rows","y2","x2","cells","cellExists","skipCellsX","getWidth","row","findElementPos","extractRows","sx","sy","ey","newRows","subTable","createDomTable","tableElement","tableBody","modelRowsToDomRows","cell","fromDom$1","tableElm","toDom","subsection","SimpleTableModel","getRanges","getSelectedNodes","hasMultipleRanges","MultiRange","getCellsFromRanges","getCellsFromElement","getCellsFromElementOrRanges","selectedCells","rangeCells","getCellsFromEditor","TableCellSelection","findParentListContainer","getFullySelectedListWrappers","listCont","wrap$3","innerElm","directListWrappers","commonAnchorContainer","listElm","getWrapElements","wrapElements","listWrappers","allWrappers","emptyFragment","getFragmentFromRange","cloneContents","getParentTable","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","getSelectionFragment","read$2","FragmentReader","getTextContent","bin","getHtmlContent","tmpElm","contextual","getContent$1","GetSelectionContent","findParent$1","hasParent","hasParentWithName","isTable$3","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","isPrevNode","hasContentEditableFalseParent","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","normalize$2","normRng","NormalizeRange","prependData","insertData","rngSetContent","deleteContents","prevText","nextText","oldLength","setupArgs","setContent$1","createContextualFragment","SetSelectionContent","getEndpointElement","real","getStart$2","skipEmptyTextNodes","forwards","orig","getNode$1","endElm","selectedBlocks","select$1","deleteFromCallbackMap","newCallbacks","SelectorChanged","selectorChangedData","currentSelectors","selectorChangedWithUnbind","matchedSelectors","isNativeIeSelection","isAttachedToDom","isValidRange","Selection$1","bookmarkManager","controlSelection","selectedRange","explicitRange","getEnd$1","compareEndPoints","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","ieRange","setBaseAndExtent","focusNode","setNode","getSelectedBlocks$1","isForward","anchorRange","focusRange","anchorOffset","focusOffset","selectorChanged","getScrollContainer","scrollContainer","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertInline$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","renderCaret","BoundaryCaret","strongRtl","hasStrongRtl","isInlineTarget","isRtl$1","findInlineParents","findRootInline","hasSameParentBlock","isAtZwsp","normalizePosition","normalizeForwards","normalizeBackwards","InlineUtils","evaluateUntil","fns","LazyEvaluator","Location","rescope","before$4","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","prevPos","nextPos","after$3","isValidLocation","readLocation","getName","outside","inside","isEq$5","location1","location2","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","findLocationTraverse","findLocationSimple","findLocation","BoundaryLocation","prevLocation","nextLocation","hasSelectionModifyApi","modify","moveRel","moveByWord","WordSelection","setCaretPosition","isFeatureEnabled","inline_boundaries","setSelected","renderCaretLocation","findLocation$1","toggleInlines","selectedInlines","targetInlines","safeRemoveCaretContainer","renderInsideInlineCaret","inlines","move$1","moveWord","setupSelectedState","moveNextWord","movePrevWord","BoundarySelection","BreakType","flip","positions","walk$3","getBreakType","currentPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastPos","lastRect","newRect","lastDist","newDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","isAtFirstLine","isAtLastLine","getPositionsAbove","getPositionsBelow","getFirstLinePositions","getLastLinePositions","isContentEditableFalse$b","getSelectedNode$1","moveToCeFalseHorizontally","getNextPosFn","isBeforeContentEditableFalseFn","rangeIsInContainerBlock","nextCaretPosition","peekCaretPosition","moveToCeFalseVertically","walkerFn","linePositions","nextLinePositions","closestNextLineRect","caretClientRect","dist1","dist2","contentEditableFalseNode","caretPositions","createTextBlock","textBlock","exitPreBlock","newBlock","getNextVisualCaretPosition","getPrevVisualCaretPosition","getHorizontalRange","newRange","getVerticalRange","down","moveH","moveV","isCefPosition","moveToLineEndPoint","deflate","getCorners","getYAxisValue","tds","findClosestCorner","corners","newCorner","oldCorner","oldDist","sqrt","getClosestCell","isTargetCorner","corner","getBottomValue","getTopValue","isAbove$1","isBelow$1","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","moveToRange","hasNextBreak","lineInfo","breakPos","startsWithWrapBreak","startsWithBrBreak","isAtTableCellLine","isAtFirstTableCellLine","isAtLastTableCellLine","isCaretAtStartOrEndOfTable","navigateHorizontally","getClosestAbovePosition","getClosestBelowPosition","getTable","renderBlock","navigateVertically","moveH$1","moveV$1","isTarget","rangeBefore","insertElement","insertBr","insertBlock$1","insertEmptyLine","getClosestTargetBlock","isAtFirstOrLastLine","moveCaretToNewEmptyLine","rootBlock","rootBlockAttrs","moveV$2","defaultPatterns","patterns","matchesEvent","match$1","execute","MatchKeys","executeKeydownOverride","setup$8","ArrowKeys","isBeforeRoot","getParentBlock$1","placeCaretInEmptyBody","paddEmptyBody","willDeleteLastPositionInElement","fromPos","firstPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","DeleteUtils","blockPosition","blockBoundary","getBlockPosition","containerElm","isDifferentBlocks","hasSameParent","parent1","parent2","isEditable","skipLastBr","lastPositionInBlock","readFromRange","fromBlockPos","toBlockPos","blockPos","read$3","BlockMergeBoundary","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","isEmptyBefore","nestedBlockMerge","fromBlock","toBlock","insertionPoint","sidelongBlockMerge","findInsertionPoint","getInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","MergeBlocks","backspaceDelete","BlockBoundaryDelete","deleteRangeMergeBlocks","isRawNodeInTable","isSelectionInTable","isEverythingSelected","noPrevious","noNext","emptyEditor","deleteRange","backspaceDelete$1","BlockRangeDelete","isBr$5","findBr","parentBlocks","isBeforeBr","isAfterBr","findPreviousBr","findNextBr","isCompoundElement","DeleteAction","moveToElement","moveToPosition","isAtContentEditableBlockCaret","caretLocation","isDeleteFromCefDifferentBlocks","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","deleteAction","getContentEditableAction","read$4","deleteElement$1","getAncestorCe","getContentEditableRoot$2","backspaceDeleteCaret","selectedNode","deleteOffscreenSelection","backspaceDeleteRange","hasCefAncestor","paddEmptyElement","backspaceDelete$2","CefDelete","trimEmptyTextNode$1","deleteContentAndShowCaret","deleteCefBoundaryText","backspaceDelete$3","CefBoundaryDelete","isFeatureEnabled$1","rangeFromPositions","hasOnlyTwoOrLessPositionsLeft","setCaretLocation","deleteFromTo","rescope$1","backspaceDeleteCollapsed","toPosition","backspaceDelete$4","BoundaryDelete","getParentInlines","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","deleteCaret","backspaceDelete$5","InlineFormatDelete","tableCellRng","tableSelection","removeTable","emptyCells","isRootFromElement","getClosestCell$1","getClosestTable","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","getCellRangeFromStartTable","endCell","partialSelection","startCell","isWithinSameTable","getCellRng","getTableSelectionFromCellRng","getTableSelectionFromRng","getCellIndex","getSelectedCells","endIndex","getAction","getActionFromRange","deleteTableElement","deleteCellRange","deleteCaptionRange","emptyElement","deleteTableRange","getParentCaption","deleteRange$1","getParentCell","deleteBetweenCells","fromCell","toCell","isDeleteOfLastCharPos","fromCaption","emptyCaretCaption","validateCaretCaption","toCaption","deleteCaretInsideCaption","deleteCaretCells","deleteCaretCaption","isNearTable","isBeforeOrAfterTable","deleteCaret$1","backspaceDelete$6","TableDelete","deleteCaret$2","backspaceDelete$7","PageBreakDelete","isEditable$1","parseIndentValue","number","getIndentStyleName","useMargin","indentStyleName","indentElement","unit","styleValue","validateBlocks","intentValue","canOutdent","getBlocksToIndent","isListComponent","parentIsListComponent","indentation","indentUnit","indentValue","queryCommandState","navigateIgnoreEmptyTextNodes","getClosestBlock","isAtBeforeAfterBlockBoundary","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","backspaceDelete$8","_caret","_forward","Outdent","executeKeydownOverride$1","executeKeyupOverride","setup$9","DeleteBackspaceKeys","firstNonWhiteSpaceNodeSibling","moveToCaretPosition","lastNode","getEditableRoot","editableRoot","getParentBlock$2","getParentBlockName","isListItemParentBlock","NewLineUtils","hasFirstChild","hasParent$1","isListBlock","isNestedList","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","createNewBlock","newBlockName","tmpRng","InsertLi","trimZwsp","isEmptyAnchor","isTableCell$4","emptyBlock","containerAndSiblingName","canSplitBlock","trimInlineElementsOnLeftSideOfBlock","firstChilds","normalizeZwspOffset","includeZwspInRange","trimLeadingLineBreaks","getEditableRoot$1","setForcedBlockAttrs","wrapSelfAndSiblingsInDefaultBlock","addBrToBlockIfNeeded","insert$1","parentBlockName","containerBlockName","isAfterLastNodeInContainer","clonedNode","textInlineElements","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","InsertBlock","hasRightSideContent","scrollToBr","brElm","moveSelectionToBr","extraBr","insertBrAtCaret","isControlKey","insertBrBefore","insertBrAfter","hasBrAfter","isBeforeBr$1","isAnchorLink","isInsideAnchor","readInlineAnchorLocation","insertBrOutsideAnchor","insert$2","anchorLocation","InsertBr","shouldInsertBr","shouldBlockNewLine","ContextSelectors","newLineAction","shouldBlockNewLine$1","isBrMode","requiredState","brMode","inListBlock","inBlock","inPreBlock","inSummaryBlock","shouldPutBrInPre$1","inBrContext","hasShiftKey","canInsertIntoEditableRoot","rootEditable","match$2","predicates","isMatch","getAction$1","NewLineAction","insert$3","InsertNewLine","handleEnterKeyEvent","setup$a","EnterKey","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","isInMiddleOfText","getClosestBlock$1","hasSpaceBefore","hasSpaceAfter","isPreValue","isInPre","isAtBeginningOfBody","isAtEndOfBody","isAtLineBoundary","needsToHaveNbsp","needsToBeNbspLeft","needsToBeNbspRight","afterPos","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspMiddle","chars","normalizeNbspAtStart","normalizeNbspInMiddleOfTextNode","newText","normalizeNbspAtEnd","normalizeNbsps","normalizeNbspsInEditor","locationToCaretPosition","insertInlineBoundarySpaceOrNbsp","checkPos","setSelection$1","insertSpaceOrNbspAtSelection","executeKeydownOverride$2","setup$b","SpaceKey","findBlockCaretContainer","removeIeControlRect","handleBlockContainer","setup$c","CaretContainerInput","browser$5","setupIeInput","keypressThrotter","setup$d","isComposing","executeKeydownOverride$3","setup$e","HomeEndKeys","setup$f","KeyboardOverrides","Quirks","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setEditorCommandState","setMceInternalContent","selectionHtml","internalContent","dataTransfer","escape","getMceInternalContent","insertClipboardContents","internal","queryCommandSupported","emptyEditorWhenDeleting","serializeRng","allContentsSelected","allRng","allSelection","selectAll","shortcuts","inputMethodFocus","removeHrOnBackspace","Range","body_1","blur","selectControlElements","removeStylesWhenDeletingAcrossBlockElements","getAttributeApplyFunction","template","setAttributeNode","isSelectionAcrossElements","applyAttributes","disableBackspaceIntoATable","removeBlockQuoteOnBackSpace","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","fixLinks","setDefaultBlockType","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","selection_1","disableAutoUrlDetect","tapLinksAndImages","blockFormSubmitInsideEditor","removeAppleInterchangeBrs","ieInternalDragAndDrop","isTextBlockNode","normalizeSelection$1","setup$g","detail","preventSummaryToggle","filterDetails","details","setup$h","DOM$3","appendStyle","createParser","autoFocus","auto_focus","initEditor","bindPendingEventDelegates","execCallback","getStyleSheetLoader","initContentBody","skipWrite","contentCssText","visibility","orgVisibility","iframeHTML","bodyEl","hex_colors","force_hex_style_colors","annotator","_nodeChangeDispatcher","browser_spellcheck","gecko_spellcheck","spellcheck","directionality","protect","addVisual","startContent","contentCSS","content_style","InitContentBody","DOM$4","relaxDomain","ifr","domain","hostname","bodyUuid","domainRelaxUrl","createIframeElement","customAttrs","iframe","frameBorder","allowTransparency","getIframeHtml","bodyId","bodyClass","documentBaseURI","getURI","createIframe","isDomainRelaxed","iframeContainer","init$1","boxInfo","hidden","InitIframe","isContentCssSkinName","getContentCssUrls","skinUrl","contentCssFile","toAbsolute","appendContentCssFromSettings","DOM$5","initPlugin","initializedPlugins","plugin","Plugin","pluginInstance","trimLegacyPrefix","initPlugins","initIcons","iconPackName","currentIcons","ui","defaultIcons","loadIcons","svgData","icon","addIcon","initTheme","Theme","renderFromLoadedTheme","renderUI","renderFromThemeFunc","iframeHeight","createThemeFalseResult","renderThemeFalseIframe","renderThemeFalse","renderThemeUi","init$2","Init","DOM$6","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","url_1","loadTheme","themeUrl","theme_url","getIconsUrlMetaFromUrl","getIconsUrlMetaFromName","urlMeta","loadPlugins","url_2","render","resetContent","triggerSave","windowManager","encoding","set_dirty","Render","internalContentEditableAttr","setContentEditable","switchOffContentEditableTrue","switchOnContentEditableTrue","removeFakeSelection","restoreFakeSelection","toggleReadOnly","isReadOnly","registerFilters","registerReadOnlyContentFilters","isClickEvent","preventReadOnlyEvents","registerReadOnlySelectionBlockers","defaultModes","switchToMode","activeMode","availableModes","oldMode","newMode","activate","deactivate","editorReadOnly","setMode","registerMode","create$4","design","hasOnlyOneChild$1","isPaddingNode","isPaddedEmptyBlock","isEmptyFragmentElement","isListFragment","cleanupDomFragment","domFragment","toDomFragment","listItems$1","isPadding","isListItemPadded","isEmptyOrPadded","trimListItems","getParentLi","isParentBlockLi","getSplit","beforeRng","afterRng","findFirstIn","newCaretPos","findLastOf","insertMiddle","insertBefore$1","insertAfter$1","insertAtCaret","liTarget","liElms","BEGINNING","isAt","InsertList","isAfterNbsp","trimOrPadLeftRight","hasSiblingText","trimNbspAfterDeleteAndPadValue","isTableCell$5","selectionSetContent","validInsertion","trimBrsFromTableCell","reduceInlineTextElements","root_1","elementUtils_1","testNode","markFragmentElements","umarkFragmentElements","isPartOfFragment","canHaveChildren","moveSelectionToMarker","parentEditableFalseElm","nextRng","getContentEditableFalseParent","findNextCaretRng","insertHtmlAtCaret","bookmarkHtml","paste","caretElement","processValue","insertAtCaret$1","InsertContent","nativeCommand","deleteCommand","forwardDeleteCommand","DeleteCommands","getSpecifiedFontProp","getProperty","round$1","precision","factor","pow","toPt","normalizeFontFamily","getComputedFontProp","getFontProp","FontInfo","getFontSize","getFontFamily","findFirstCaretElement","isRangeAtStartOfNode","getCaretElement","fromFontSizeNumber","fontSizeNumber","fontClasses","normalizeFontNames","font","fonts","fontNameAction","fontNameQuery","fontSizeAction","fontSizeQuery","each$g","map$3","inArray$2","EditorCommands","commands","setupCommands","customCommand","skip_focus","queryCommandValue","addCommands","commandList","addCommand","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","toggleFormat","storeSelection","selectionBookmark","queryCommandEnabled","align","listParent","hasVisual","anchor","editingHost","selectNodeContents","alignStates","Undo","Redo","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","beforeFire","wrappedCallback","bindingName","hi","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","bubble","dispatcherArgs","DOM$7","customEventRootDelegates","getEventTarget","eventName","event_root","eventRoot","isListening","fireEvent","bindEventDelegate","eventRootElm","delegate","delegates","editors","EditorObservable","_pendingNativeEvents","each$h","explode$3","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","shortcut","matchShortcut","subpatterns","executeShortcutAction","desc","cmdFunc","createShortcut","parseShortcut","charCode","access","alt","ctrl","meta","each$i","trim$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","URI","baseUri","base_uri","source","isProtocolRelative","protocol","toAbsPath","urlMatch","part","userInfo","port","uriComponents","pathname","setPath","pathMatch","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","isSameOrigin","defaultPort","breakPoint","normalizedBase","nb","outPath","normalizedPath","noProtoHost","create$5","buttons","menuItems","popups","contextMenus","contextToolbars","sidebars","addButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","bridge","DOM$8","extend$3","each$j","resolve$3","ie$1","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","referrer_policy","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","setProgressState","initialContent","oldState","urlconverter_callback","visual_table_class","visual_anchor_class","_scanForImages","DOM$9","explode$4","each$k","extend$4","instanceCounter","boundGlobalEvents","beforeUnloadDelegate","legacyEditors","isValidLegacyKey","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","purgeDestroyedEditor","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","preInit","tinymce","tinyMCEPreInit","srcScript","currentScript","pluginBaseUrls","plugin_base_urls","invalidInlineTargets","isInvalidInlineTarget","createId","findTargets","targets","types","forms","editor_deselector","editor_selector","provideResults","initEditors","initCount","createEditor","existingEditor","addI18n","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","RangeUtils$1","awaiter","resolveCb","rejectCb","complete","completer","create$6","tasks","resultFns","loadErrMsg","runErrMsg","task","waiter","Resource","round$2","relativePosition","targetW","targetH","create$7","findBestRelativePosition","constrainRect","rels","inflate","intersect","cropRect","x1","y1","clamp$1","clampRect","fixedSize","underflowX1","underflowY1","overflowX2","overflowY2","cx2","cy2","fromClientRect","Rect","each$l","extend$5","extendClass","initializing","Class","_super","member","mixins","mixin","Mixins","dummy","createMethod","name_1","Methods","Properties","fieldName","Statics","Defaults","min$1","max$1","round$3","Color","rgb2hsv","minRGB","maxRGB","hsvToRgb","hue","saturation","brightness","side","chroma","toRgb","toHsv","stringify","hexCode","JSONUtils","JSONP","XHR","ready","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","extend$6","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","method","create$8","storage","getItem","setItem","removeItem","defineProperty","configurable","enumerable","localStorage","LocalStorage","publicApi","geom","util","isMac","exportToModuleLoaders","exportToWindowGlobal","tinyMCE"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.5 (2019-12-19)\n */\n(function (domGlobals) {\n    'use strict';\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNull = isType('null');\n    var isBoolean = isType('boolean');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Option.none() : Option.some(r);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(i);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      var output = map(xs, f);\n      return flatten(output);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter(a1, function (x) {\n        return !contains(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var head = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n    };\n    var last = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var lowercasedNames = names.map(function (s) {\n        return s.toLowerCase();\n      });\n      return function (node) {\n        if (node && node.nodeName) {\n          var nodeName = node.nodeName.toLowerCase();\n          return contains(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        var i, cssValue;\n        if (isElement(node)) {\n          for (i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasPropValue = function (propName, propValue) {\n      return function (node) {\n        return isElement(node) && node[propName] === propValue;\n      };\n    };\n    var hasAttribute = function (attrName, attrValue) {\n      return function (node) {\n        return isElement(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus = function (node) {\n      return isElement(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll = function (node) {\n      return isElement(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable = function (node) {\n      return isElement(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    var isText = isNodeType(3);\n    var isComment = isNodeType(8);\n    var isDocument = isNodeType(9);\n    var isDocumentFragment = isNodeType(11);\n    var isBr = matchNodeNames(['br']);\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var NodeType = {\n      isText: isText,\n      isElement: isElement,\n      isComment: isComment,\n      isDocument: isDocument,\n      isDocumentFragment: isDocumentFragment,\n      isBr: isBr,\n      isContentEditableTrue: isContentEditableTrue,\n      isContentEditableFalse: isContentEditableFalse,\n      isRestrictedNode: isRestrictedNode,\n      matchNodeNames: matchNodeNames,\n      hasPropValue: hasPropValue,\n      hasAttribute: hasAttribute,\n      hasAttributeValue: hasAttributeValue,\n      matchStyleValues: matchStyleValues,\n      isBogus: isBogus,\n      isBogusAll: isBogusAll,\n      isTable: isTable,\n      isTextareaOrInput: isTextareaOrInput\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$1 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var checkRange = function (str, substr, start) {\n      if (substr === '') {\n        return true;\n      }\n      if (str.length < substr.length) {\n        return false;\n      }\n      var x = str.substr(start, start + substr.length);\n      return x === substr;\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var trim = function (str) {\n      return str.replace(/^\\s+|\\s+$/g, '');\n    };\n    var lTrim = function (str) {\n      return str.replace(/^\\s+/g, '');\n    };\n    var rTrim = function (str) {\n      return str.replace(/\\s+$/g, '');\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return domGlobals.window.matchMedia(query).matches;\n    };\n    var platform = Cell(PlatformDetection.detect(domGlobals.navigator.userAgent, mediaMatch));\n    var detect$3 = function () {\n      return platform.get();\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$1 = isType$1(ELEMENT);\n    var isText$1 = isType$1(TEXT);\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      each$1(obj, function (x, i) {\n        var branch = pred(x, i) ? t : f;\n        branch[i] = x;\n      });\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var get = function (obj, key) {\n      return has(obj, key) ? Option.from(obj[key]) : Option.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom(), key, value);\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom();\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$1 = function (element, key) {\n      var v = element.dom().getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom();\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove = function (element, key) {\n      element.dom().removeAttribute(key);\n    };\n\n    var get$2 = function (element, property) {\n      var dom = element.dom();\n      var styles = domGlobals.window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n      return v === null ? undefined : v;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom();\n      var raw = getUnsafeProperty(dom, property);\n      return Option.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var reflow = function (e) {\n      return e.dom().offsetWidth;\n    };\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var toArray = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n    var Recurse = { toArray: toArray };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var ELEMENT$1 = ELEMENT;\n    var DOCUMENT$1 = DOCUMENT;\n    var is = function (element, selector) {\n      var dom = element.dom();\n      if (dom.nodeType !== ELEMENT$1) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = detect$3().browser;\n    var contains$2 = browser.isIE() ? ieContains : regularContains;\n\n    var owner = function (element) {\n      return Element.fromDom(element.dom().ownerDocument);\n    };\n    var documentElement = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.documentElement);\n    };\n    var defaultView = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.defaultView);\n    };\n    var parent = function (element) {\n      return Option.from(element.dom().parentNode).map(Element.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom();\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = Element.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var prevSibling = function (element) {\n      return Option.from(element.dom().previousSibling).map(Element.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Option.from(element.dom().nextSibling).map(Element.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(Recurse.toArray(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return Recurse.toArray(element, nextSibling);\n    };\n    var children = function (element) {\n      return map(element.dom().childNodes, Element.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom().childNodes;\n      return Option.from(cs[index]).map(Element.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom().childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom().childNodes.length;\n    };\n    var spot = Immutable('element', 'offset');\n\n    var browser$1 = detect$3().browser;\n    var firstElement = function (nodes) {\n      return find(nodes, isElement$1);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$1.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom().offsetTop;\n            var captionTop = caption.dom().offsetTop;\n            var captionHeight = caption.dom().offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var hasChild = function (elm, child) {\n      return elm.children && contains(elm.children, child);\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0, offsetParent;\n      var doc = body.ownerDocument;\n      var pos;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$2(Element.fromDom(body), 'position') === 'static') {\n          pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x += offsetParent.offsetLeft || 0;\n          y += offsetParent.offsetTop || 0;\n          offsetParent = offsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(Element.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var Position = { getPos: getPos };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module$1, undefined));\n    var Promise = module$1.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$4 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$4,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n\n    var value = function (o) {\n      var is = function (v) {\n        return o === v;\n      };\n      var or = function (opt) {\n        return value(o);\n      };\n      var orThunk = function (f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOption = function () {\n        return Option.some(o);\n      };\n      return {\n        is: is,\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOption: toOption\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = function (opt) {\n        return opt;\n      };\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        is: never,\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOption: Option.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var promise = function () {\n      function bind(fn, thisArg) {\n        return function () {\n          fn.apply(thisArg, arguments);\n        };\n      }\n      var isArray = Array.isArray || function (value) {\n        return Object.prototype.toString.call(value) === '[object Array]';\n      };\n      var Promise = function (fn) {\n        if (typeof this !== 'object') {\n          throw new TypeError('Promises must be constructed via new');\n        }\n        if (typeof fn !== 'function') {\n          throw new TypeError('not a function');\n        }\n        this._state = null;\n        this._value = null;\n        this._deferreds = [];\n        doResolve(fn, bind(resolve, this), bind(reject, this));\n      };\n      var asap = Promise.immediateFn || typeof domGlobals.setImmediate === 'function' && domGlobals.setImmediate || function (fn) {\n        domGlobals.setTimeout(fn, 1);\n      };\n      function handle(deferred) {\n        var me = this;\n        if (this._state === null) {\n          this._deferreds.push(deferred);\n          return;\n        }\n        asap(function () {\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n          if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n          }\n          var ret;\n          try {\n            ret = cb(me._value);\n          } catch (e) {\n            deferred.reject(e);\n            return;\n          }\n          deferred.resolve(ret);\n        });\n      }\n      function resolve(newValue) {\n        try {\n          if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n          }\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n              return;\n            }\n          }\n          this._state = true;\n          this._value = newValue;\n          finale.call(this);\n        } catch (e) {\n          reject.call(this, e);\n        }\n      }\n      function reject(newValue) {\n        this._state = false;\n        this._value = newValue;\n        finale.call(this);\n      }\n      function finale() {\n        for (var i = 0, len = this._deferreds.length; i < len; i++) {\n          handle.call(this, this._deferreds[i]);\n        }\n        this._deferreds = null;\n      }\n      function Handler(onFulfilled, onRejected, resolve, reject) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n      }\n      function doResolve(fn, onFulfilled, onRejected) {\n        var done = false;\n        try {\n          fn(function (value) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onFulfilled(value);\n          }, function (reason) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onRejected(reason);\n          });\n        } catch (ex) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(ex);\n        }\n      }\n      Promise.prototype.catch = function (onRejected) {\n        return this.then(null, onRejected);\n      };\n      Promise.prototype.then = function (onFulfilled, onRejected) {\n        var me = this;\n        return new Promise(function (resolve, reject) {\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n      };\n      Promise.all = function () {\n        var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n        return new Promise(function (resolve, reject) {\n          if (args.length === 0) {\n            return resolve([]);\n          }\n          var remaining = args.length;\n          function res(i, val) {\n            try {\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\n                var then = val.then;\n                if (typeof then === 'function') {\n                  then.call(val, function (val) {\n                    res(i, val);\n                  }, reject);\n                  return;\n                }\n              }\n              args[i] = val;\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            } catch (ex) {\n              reject(ex);\n            }\n          }\n          for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n          }\n        });\n      };\n      Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n          return value;\n        }\n        return new Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n      Promise.reject = function (value) {\n        return new Promise(function (resolve, reject) {\n          reject(value);\n        });\n      };\n      Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            values[i].then(resolve, reject);\n          }\n        });\n      };\n      return Promise;\n    };\n    var promiseObj = window.Promise ? window.Promise : promise();\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var i, requestAnimationFrameFunc = domGlobals.window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (callback) {\n        domGlobals.window.setTimeout(callback, 0);\n      };\n      for (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = domGlobals.window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return domGlobals.setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return domGlobals.setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return domGlobals.clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return domGlobals.clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer, func;\n      func = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        domGlobals.clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        domGlobals.clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = domGlobals.document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer;\n        timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            domGlobals.clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var userAgent = domGlobals.navigator.userAgent;\n    var platform$1 = detect$3();\n    var browser$2 = platform$1.browser;\n    var os = platform$1.os;\n    var deviceType = platform$1.deviceType;\n    var webkit = /WebKit/.test(userAgent) && !browser$2.isEdge();\n    var fileApi = 'FormData' in domGlobals.window && 'FileReader' in domGlobals.window && 'URL' in domGlobals.window && !!domGlobals.URL.createObjectURL;\n    var windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    var Env = {\n      opera: browser$2.isOpera(),\n      webkit: webkit,\n      ie: browser$2.isIE() || browser$2.isEdge() ? browser$2.version.major : false,\n      gecko: browser$2.isFirefox(),\n      mac: os.isOSX() || os.isiOS(),\n      iOS: deviceType.isiPad() || deviceType.isiPhone(),\n      android: os.isAndroid(),\n      contentEditable: true,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: true,\n      range: domGlobals.window.getSelection && 'Range' in domGlobals.window,\n      documentMode: browser$2.isIE() ? domGlobals.document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: true,\n      cacheSuffix: null,\n      container: null,\n      experimentalShadowDom: false,\n      canHaveCSP: !browser$2.isIE(),\n      desktop: deviceType.isDesktop(),\n      windowsPhone: windowsPhone,\n      browser: {\n        current: browser$2.current,\n        version: browser$2.version,\n        isChrome: browser$2.isChrome,\n        isEdge: browser$2.isEdge,\n        isFirefox: browser$2.isFirefox,\n        isIE: browser$2.isIE,\n        isOpera: browser$2.isOpera,\n        isSafari: browser$2.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isOSX: os.isOSX,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    var isArray$1 = Array.isArray;\n    var toArray$1 = function (obj) {\n      var array = obj, i, l;\n      if (!isArray$1(obj)) {\n        array = [];\n        for (i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n      }\n      return array;\n    };\n    var each$2 = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return 0;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return 0;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (o.hasOwnProperty(n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return 0;\n            }\n          }\n        }\n      }\n      return 1;\n    };\n    var map$2 = function (array, callback) {\n      var out = [];\n      each$2(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$1 = function (a, f) {\n      var o = [];\n      each$2(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$1 = function (a, v) {\n      var i, l;\n      if (a) {\n        for (i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var i = 0;\n      if (arguments.length < 3) {\n        accumulator = collection[0];\n      }\n      for (; i < collection.length; i++) {\n        accumulator = iteratee.call(thisArg, accumulator, collection[i], i);\n      }\n      return accumulator;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var find$2 = function (array, predicate, thisArg) {\n      var idx = findIndex$1(array, predicate, thisArg);\n      if (idx !== -1) {\n        return array[idx];\n      }\n      return undefined;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n    var ArrUtils = {\n      isArray: isArray$1,\n      toArray: toArray$1,\n      each: each$2,\n      map: map$2,\n      filter: filter$1,\n      indexOf: indexOf$1,\n      reduce: reduce,\n      findIndex: findIndex$1,\n      find: find$2,\n      last: last$1\n    };\n\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim$1 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var is$1 = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && ArrUtils.isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty$1 = function (obj, prop) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    };\n    var create = function (s, p, root) {\n      var self = this;\n      var sp, ns, cn, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend = function (obj, ext) {\n      var x = [];\n      for (var _i = 2; _i < arguments.length; _i++) {\n        x[_i - 2] = arguments[_i];\n      }\n      var i, l, name;\n      var args = arguments;\n      var value;\n      for (i = 1, l = args.length; i < l; i++) {\n        ext = args[i];\n        for (name in ext) {\n          if (ext.hasOwnProperty(name)) {\n            value = ext[name];\n            if (value !== undefined) {\n              obj[name] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        ArrUtils.each(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || domGlobals.window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve = function (n, o) {\n      var i, l;\n      o = o || domGlobals.window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode = function (s, d) {\n      if (!s || is$1(s, 'array')) {\n        return s;\n      }\n      return ArrUtils.map(s.split(d || ','), trim$1);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim$1,\n      isArray: ArrUtils.isArray,\n      is: is$1,\n      toArray: ArrUtils.toArray,\n      makeMap: makeMap,\n      each: ArrUtils.each,\n      map: ArrUtils.map,\n      grep: ArrUtils.filter,\n      inArray: ArrUtils.indexOf,\n      hasOwn: hasOwnProperty$1,\n      extend: extend,\n      create: create,\n      walk: walk,\n      createNS: createNS,\n      resolve: resolve,\n      explode: explode,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    function StyleSheetLoader(document, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var maxLoadTime;\n      maxLoadTime = settings.maxLoadTime || 5000;\n      var _setReferrerPolicy = function (referrerPolicy) {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      var appendToHead = function (node) {\n        document.getElementsByTagName('head')[0].appendChild(node);\n      };\n      var load = function (url, loadedCallback, errorCallback) {\n        var link, style, startTime, state;\n        var resolve = function (status) {\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        var passed = function () {\n          var callbacks = state.passed;\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          resolve(2);\n        };\n        var failed = function () {\n          var callbacks = state.failed;\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          resolve(3);\n        };\n        var isOldWebKit = function () {\n          var webKitChunks = domGlobals.navigator.userAgent.match(/WebKit\\/(\\d*)/);\n          return !!(webKitChunks && parseInt(webKitChunks[1], 10) < 536);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (new Date().getTime() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = document.styleSheets;\n            var styleSheet, i = styleSheets.length, owner;\n            while (i--) {\n              styleSheet = styleSheets[i];\n              owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n          }, waitForWebKitLinkLoaded);\n        };\n        var waitForGeckoLinkLoaded = function () {\n          wait(function () {\n            try {\n              var cssRules = style.sheet.cssRules;\n              passed();\n              return !!cssRules;\n            } catch (ex) {\n            }\n          }, waitForGeckoLinkLoaded);\n        };\n        url = Tools._addCacheSuffix(url);\n        if (!loadedStates[url]) {\n          state = {\n            passed: [],\n            failed: []\n          };\n          loadedStates[url] = state;\n        } else {\n          state = loadedStates[url];\n        }\n        if (loadedCallback) {\n          state.passed.push(loadedCallback);\n        }\n        if (errorCallback) {\n          state.failed.push(errorCallback);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.type = 'text/css';\n        link.id = 'u' + idCount++;\n        link.async = false;\n        link.defer = false;\n        startTime = new Date().getTime();\n        if (settings.contentCssCors) {\n          link.crossOrigin = 'anonymous';\n        }\n        if (settings.referrerPolicy) {\n          set(Element.fromDom(link), 'referrerpolicy', settings.referrerPolicy);\n        }\n        if ('onload' in link && !isOldWebKit()) {\n          link.onload = waitForWebKitLinkLoaded;\n          link.onerror = failed;\n        } else {\n          if (domGlobals.navigator.userAgent.indexOf('Firefox') > 0) {\n            style = document.createElement('style');\n            style.textContent = '@import \"' + url + '\"';\n            waitForGeckoLinkLoaded();\n            appendToHead(style);\n            return;\n          }\n          waitForWebKitLinkLoaded();\n        }\n        appendToHead(link);\n        link.href = url;\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var unbox = function (result) {\n        return result.fold(identity, identity);\n      };\n      var loadAll = function (urls, success, failure) {\n        par$1(map(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unbox));\n          } else {\n            success(parts.pass.map(unbox));\n          }\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll,\n        _setReferrerPolicy: _setReferrerPolicy\n      };\n    }\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var voids = [\n      'area',\n      'base',\n      'basefont',\n      'br',\n      'col',\n      'frame',\n      'hr',\n      'img',\n      'input',\n      'isindex',\n      'link',\n      'meta',\n      'param',\n      'embed',\n      'source',\n      'wbr',\n      'track'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, constant(true));\n        return lookup.hasOwnProperty(name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock = lazyLookup(blocks);\n    var isTable$1 = function (node) {\n      return name(node) === 'table';\n    };\n    var isInline = function (node) {\n      return isElement$1(node) && !isBlock(node);\n    };\n    var isBr$1 = function (node) {\n      return isElement$1(node) && name(node) === 'br';\n    };\n    var isTextBlock = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems);\n    var isVoid = lazyLookup(voids);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var surroundedBySpans = function (node) {\n      var previousIsSpan = node.previousSibling && node.previousSibling.nodeName === 'SPAN';\n      var nextIsSpan = node.nextSibling && node.nextSibling.nodeName === 'SPAN';\n      return previousIsSpan && nextIsSpan;\n    };\n    var isBookmarkNode = function (node) {\n      return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var trimNode = function (dom, node) {\n      var i, children = node.childNodes;\n      if (NodeType.isElement(node) && isBookmarkNode(node)) {\n        return;\n      }\n      for (i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i]);\n      }\n      if (NodeType.isDocument(node) === false) {\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\n          var trimmedLength = Tools.trim(node.nodeValue).length;\n          if (dom.isBlock(node.parentNode) || trimmedLength > 0) {\n            return;\n          }\n          if (trimmedLength === 0 && surroundedBySpans(node)) {\n            return;\n          }\n        } else if (NodeType.isElement(node)) {\n          children = node.childNodes;\n          if (children.length === 1 && isBookmarkNode(children[0])) {\n            node.parentNode.insertBefore(children[0], node);\n          }\n          if (children.length || isVoid(Element.fromDom(node))) {\n            return;\n          }\n        }\n        dom.remove(node);\n      }\n      return node;\n    };\n    var TrimNode = { trimNode: trimNode };\n\n    var makeMap$1 = Tools.makeMap;\n    var namedEntities, baseEntities, reverseEntities;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm;\n      elm = Element.fromTag('div').dom();\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$1(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$3 = Tools.each, extend$1 = Tools.extend, explode$1 = Tools.explode, inArray = Tools.inArray;\n    var split = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split(children);\n        }\n        name = split(name);\n        ni = name.length;\n        while (ni--) {\n          attributesOrder = split([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[name[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        name = split(name);\n        ni = name.length;\n        attributes = split(attributes);\n        while (ni--) {\n          schemaItem = schema[name[ni]];\n          for (i = 0, l = attributes.length; i < l; i++) {\n            schemaItem.attributes[attributes[i]] = {};\n            schemaItem.attributesOrder.push(attributes[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$3(split(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$3(split(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select', 'onchange');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen');\n      }\n      each$3(split('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$3(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    function Schema(settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var validStyles;\n      var invalidStyles;\n      var schemaItems;\n      var whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\n      var blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n            value = extend$1(value, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      validStyles = compileElementMap(settings.valid_styles);\n      invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      validClasses = compileElementMap(settings.valid_classes, 'map');\n      whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      nonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' + 'script pre code', shortEndedElementsMap);\n      moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\n      textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$3((settings.special || 'script noscript noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, key, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          validElements = split(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElements.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElements[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                for (key in globalAttributes) {\n                  attributes[key] = globalAttributes[key];\n                }\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$3(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$3(split(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$1({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$3(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$1({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$3(split(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$3(split(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$3(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$3(split('strong/b em/i'), function (item) {\n            item = split(item, '/');\n            elements[item[1]].outputName = item[0];\n          });\n        }\n        each$3(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$3(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$3(split('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$3({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$3(explode$1(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = function () {\n        return validStyles;\n      };\n      var getInvalidStyles = function () {\n        return invalidStyles;\n      };\n      var getValidClasses = function () {\n        return validClasses;\n      };\n      var getBoolAttrs = function () {\n        return boolAttrMap;\n      };\n      var getBlockElements = function () {\n        return blockElementsMap;\n      };\n      var getTextBlockElements = function () {\n        return textBlockElementsMap;\n      };\n      var getTextInlineElements = function () {\n        return textInlineElementsMap;\n      };\n      var getShortEndedElements = function () {\n        return shortEndedElementsMap;\n      };\n      var getSelfClosingElements = function () {\n        return selfClosingElementsMap;\n      };\n      var getNonEmptyElements = function () {\n        return nonEmptyElementsMap;\n      };\n      var getMoveCaretBeforeOnEnterElements = function () {\n        return moveCaretBeforeOnEnterElementsMap;\n      };\n      var getWhiteSpaceElements = function () {\n        return whiteSpaceElementsMap;\n      };\n      var getSpecialElements = function () {\n        return specialElements;\n      };\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = function () {\n        return customElementsMap;\n      };\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    }\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var Styles = function (settings, schema) {\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var encodingItems;\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = '\\uFEFF';\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top, right, bottom, left;\n            top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '', name, value;\n          var serializeStyles = function (name) {\n            var styleList, i, l, value;\n            styleList = validStyles[name];\n            if (styleList) {\n              for (i = 0, l = styleList.length; i < l; i++) {\n                name = styleList[i];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap;\n            styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            return true;\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            for (name in styles) {\n              value = styles[name];\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            }\n          }\n          return css;\n        }\n      };\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var deprecated = {\n      keyLocation: 1,\n      layerX: 1,\n      layerY: 1,\n      returnValue: 1,\n      webkitMovementX: 1,\n      webkitMovementY: 1,\n      keyIdentifier: 1,\n      mozPressure: 1\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === returnTrue || event.isDefaultPrevented === returnFalse;\n    };\n    var returnFalse = function () {\n      return false;\n    };\n    var returnTrue = function () {\n      return true;\n    };\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var getTargetFromShadowDom = function (event, defaultTarget) {\n      if (event.composedPath) {\n        var composedPath = event.composedPath();\n        if (composedPath && composedPath.length > 0) {\n          return composedPath[0];\n        }\n      }\n      return defaultTarget;\n    };\n    var fix = function (originalEvent, data) {\n      var name;\n      var event = data || {};\n      for (name in originalEvent) {\n        if (!deprecated[name]) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (!event.target) {\n        event.target = event.srcElement || domGlobals.document;\n      }\n      if (Env.experimentalShadowDom) {\n        event.target = getTargetFromShadowDom(originalEvent, event.target);\n      }\n      if (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\n        var eventDoc = event.target.ownerDocument || domGlobals.document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        event.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      event.preventDefault = function () {\n        event.isDefaultPrevented = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.preventDefault) {\n            originalEvent.preventDefault();\n          } else {\n            originalEvent.returnValue = false;\n          }\n        }\n      };\n      event.stopPropagation = function () {\n        event.isPropagationStopped = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.stopPropagation) {\n            originalEvent.stopPropagation();\n          } else {\n            originalEvent.cancelBubble = true;\n          }\n        }\n      };\n      event.stopImmediatePropagation = function () {\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n      if (hasIsDefaultPrevented(event) === false) {\n        event.isDefaultPrevented = returnFalse;\n        event.isPropagationStopped = returnFalse;\n        event.isImmediatePropagationStopped = returnFalse;\n      }\n      if (typeof event.metaKey === 'undefined') {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      addEvent(win, 'load', readyHandler);\n    };\n    var EventUtils = function () {\n      function EventUtils() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in domGlobals.document.documentElement;\n        this.hasFocusIn = 'onfocusin' in domGlobals.document.documentElement;\n        this.count = 1;\n      }\n      EventUtils.prototype.bind = function (target, names, callback, scope) {\n        var self = this;\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = domGlobals.window;\n        var defaultNativeHandler = function (evt) {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        var namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current, related;\n                current = evt.currentTarget;\n                related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = 0;\n        return callback;\n      };\n      EventUtils.prototype.unbind = function (target, names, callback) {\n        var id, callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            var namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            for (name in eventMap) {\n              callbackList = eventMap[name];\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            }\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            return this;\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var event = fix(null, args);\n        event.type = name;\n        event.target = target;\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      };\n      EventUtils.prototype.clean = function (target) {\n        var i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.destroy = function () {\n        this.events = {};\n      };\n      EventUtils.prototype.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n      EventUtils.prototype.executeHandlers = function (evt, id) {\n        var callbackList, i, l, callback;\n        var container = this.events[id];\n        callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (i = 0, l = callbackList.length; i < l; i++) {\n            callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      EventUtils.Event = new EventUtils();\n      return EventUtils;\n    }();\n\n    var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains$3, expando = 'sizzle' + -new Date(), preferredDoc = domGlobals.window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, indexOf$2 = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n        setDocument(context);\n      }\n      context = context || document;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$3(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n        return document;\n      }\n      document = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains$3 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains$3(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains$3(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf$2.call(sortInput, a) - indexOf$2.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$2.call(sortInput, a) - indexOf$2.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document) {\n        setDocument(context);\n      }\n      return contains$3(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf$2.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = domGlobals.window.location && domGlobals.window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    for (i in {\n        radio: true,\n        checkbox: true,\n        file: true,\n        password: true,\n        image: true\n      }) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    }\n    for (i in {\n        submit: true,\n        reset: true\n      }) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    }\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if (!Expr.filter.hasOwnProperty(type))\n            continue;\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$2.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf$2.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var doc = domGlobals.document, push$1 = Array.prototype.push, slice$1 = Array.prototype.slice;\n    var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString$1 = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment = function (html, fragDoc) {\n      var frag, node, container;\n      fragDoc = fragDoc || doc;\n      container = fragDoc.createElement('div');\n      frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString$1(sourceItem)) {\n        sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQueryConstructor = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray$1 = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n    var trim$2 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n    };\n    var each$4 = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep = function (array, callback) {\n      var out = [];\n      each$4(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n      constructor: DomQueryConstructor,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = domGlobals.document;\n        }\n        if (isString$1(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr$1.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push$1.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString$1(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push$1.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$4(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var existingClassName, classState;\n            classState = hasClass(node, className);\n            if (classState !== state) {\n              existingClassName = node.className;\n              if (classState) {\n                node.className = trim$2((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$4(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event.fire(this, name.type, name);\n          } else {\n            Event.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return new DomQuery(slice$1.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push$1,\n      sort: Array.prototype.sort,\n      splice: Array.prototype.splice\n    };\n    Tools.extend(DomQueryConstructor, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray$1,\n      isArray: Tools.isArray,\n      each: each$4,\n      trim: trim$2,\n      grep: grep,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$4({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (selector) {\n          return wrappedResult.filter(selector);\n        }\n        return wrappedResult;\n      };\n    });\n    each$4({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (filter) {\n          return wrappedResult.filter(filter);\n        }\n        return wrappedResult;\n      };\n    });\n    DomQueryConstructor.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n    DomQueryConstructor.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    DomQueryConstructor.attrHooks = attrHooks;\n    DomQueryConstructor.cssHooks = cssHooks;\n    var DomQuery = DomQueryConstructor;\n\n    var TreeWalker = function () {\n      function TreeWalker(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      TreeWalker.prototype.current = function () {\n        return this.node;\n      };\n      TreeWalker.prototype.next = function (shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      };\n      TreeWalker.prototype.prev = function (shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      TreeWalker.prototype.prev2 = function (shallow) {\n        this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      TreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      TreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      };\n      return TreeWalker;\n    }();\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom().insertBefore(element.dom(), marker.dom());\n      });\n    };\n    var after = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append(v, element);\n        });\n      }, function (v) {\n        before(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append(parent, element);\n      }, function (v) {\n        parent.dom().insertBefore(element.dom(), v.dom());\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom().appendChild(element.dom());\n    };\n    var wrap$1 = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom().textContent = '';\n      each(children(element), function (rogue) {\n        remove$1(rogue);\n      });\n    };\n    var remove$1 = function (element) {\n      var dom = element.dom();\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$1(wrapper);\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: constant(left),\n        top: constant(top),\n        translate: translate\n      };\n    };\n    var Position$1 = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return Position$1(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      return a !== undefined ? a : b !== undefined ? b : 0;\n    };\n    var absolute = function (element) {\n      var doc = element.dom().ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom()) {\n        return Position$1(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom();\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return Position$1(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return Position$1(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var isSafari = detect$3().browser.isSafari();\n    var get$3 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return Position$1(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n      var win = doc.defaultView;\n      win.scrollTo(x, y);\n    };\n    var intoView = function (element, alignToTop) {\n      if (isSafari && isFunction(element.dom().scrollIntoViewIfNeeded)) {\n        element.dom().scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom().scrollIntoView(alignToTop);\n      }\n    };\n\n    var bounds = function (x, y, width, height) {\n      return {\n        x: constant(x),\n        y: constant(y),\n        width: constant(width),\n        height: constant(height),\n        right: constant(x + width),\n        bottom: constant(y + height)\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? domGlobals.window : _win;\n      var doc = win.document;\n      var scroll = get$3(Element.fromDom(doc));\n      var visualViewport = win['visualViewport'];\n      if (visualViewport !== undefined) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left()), Math.max(visualViewport.pageTop, scroll.top()), visualViewport.width, visualViewport.height);\n      } else {\n        var html = doc.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left(), scroll.top(), width, height);\n      }\n    };\n\n    var each$5 = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var whiteSpaceRegExp$2 = /^[ \\t\\r\\n]*$/;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      var attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            $elm.attr('style', value);\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    function DOMUtils(doc, settings) {\n      var _this = this;\n      if (settings === void 0) {\n        settings = {};\n      }\n      var attrHooks;\n      var addedStyles = {};\n      var win = domGlobals.window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = StyleSheetLoader(doc, {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        if (elm && doc && typeof elm === 'string') {\n          var node = doc.getElementById(elm);\n          if (node && node.id !== elm) {\n            return doc.getElementsByName(elm)[1];\n          } else {\n            return node;\n          }\n        }\n        return elm;\n      };\n      var $$ = function (elm) {\n        if (typeof elm === 'string') {\n          elm = get(elm);\n        }\n        return $(elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        var originalValue, hook;\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        }\n        if (!deep) {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$5(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n        return null;\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var vp = getBounds(argWin);\n        return {\n          x: vp.x(),\n          y: vp.y(),\n          w: vp.width(),\n          h: vp.height()\n        };\n      };\n      var getPos = function (elm, rootElm) {\n        return Position.getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = isString(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.browser.isIE() ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        var pos, size;\n        elm = get(elm);\n        pos = getPos(elm);\n        size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || !node.nodeType || node.nodeType === 9) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$5(node, function (elm, i) {\n            if (elm) {\n              if (typeof elm === 'string') {\n                elm = get(elm);\n              }\n              result.push(func.call(scope, elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : _this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$5(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (url) {\n        var head;\n        if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n          DOMUtils.DOM.loadCSS(url);\n          return;\n        }\n        if (!url) {\n          url = '';\n        }\n        head = doc.getElementsByTagName('head')[0];\n        each$5(url.split(','), function (url) {\n          var link;\n          url = Tools._addCacheSuffix(url);\n          if (files[url]) {\n            return;\n          }\n          files[url] = true;\n          link = create('link', __assign(__assign({\n            rel: 'stylesheet',\n            type: 'text/css',\n            href: url\n          }, settings.contentCssCors ? { crossOrigin: 'anonymous' } : {}), settings.referrerPolicy ? { referrerPolicy: settings.referrerPolicy } : {}));\n          head.appendChild(link);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return NodeType.isElement(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent, nextSibling;\n          parent = referenceNode.parentNode;\n          nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$5(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$5(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isEmpty = function (node, elements) {\n        var i, attributes, type, name, brCount = 0;\n        node = node.firstChild;\n        if (node) {\n          var walker = new TreeWalker(node, node.parentNode);\n          var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (NodeType.isElement(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              attributes = getAttribs(node);\n              i = attributes.length;\n              while (i--) {\n                name = attributes[i].nodeName;\n                if (name === 'name' || name === 'data-mce-bookmark') {\n                  return false;\n                }\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !whiteSpaceRegExp$2.test(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp$2.test(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var r = createRng(), bef, aft, pa;\n        if (parentElm && splitElm) {\n          r.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          r.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          bef = r.extractContents();\n          r = createRng();\n          r.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          r.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          aft = r.extractContents();\n          pa = parentElm.parentNode;\n          pa.insertBefore(TrimNode.trimNode(self, bef), parentElm);\n          if (replacementElm) {\n            pa.insertBefore(replacementElm, parentElm);\n          } else {\n            pa.insertBefore(splitElm, parentElm);\n          }\n          pa.insertBefore(TrimNode.trimNode(self, aft), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        return events.bind(target, name, func, scope || self);\n      };\n      var unbind = function (target, name, func) {\n        var i;\n        if (Tools.isArray(target)) {\n          i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        }\n        if (boundEvents && (target === doc || target === win)) {\n          i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n              events.unbind(item[0], item[1], item[2]);\n            }\n          }\n        }\n        return events.unbind(target, name, func);\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && NodeType.isElement(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        while (node) {\n          if (parent === node) {\n            return true;\n          }\n          node = node.parentNode;\n        }\n        return false;\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      attrHooks = setupAttrHooks(styles, settings, function () {\n        return self;\n      });\n      return self;\n    }\n    (function (DOMUtils) {\n      DOMUtils.DOM = DOMUtils(domGlobals.document);\n      DOMUtils.nodeIndex = findNodeIndex;\n    }(DOMUtils || (DOMUtils = {})));\n    var DOMUtils$1 = DOMUtils;\n\n    var DOM = DOMUtils$1.DOM;\n    var each$6 = Tools.each, grep$2 = Tools.grep;\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var ScriptLoader = function () {\n      function ScriptLoader(settings) {\n        if (settings === void 0) {\n          settings = {};\n        }\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = 0;\n        this.settings = settings;\n      }\n      ScriptLoader.prototype._setReferrerPolicy = function (referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      };\n      ScriptLoader.prototype.loadScript = function (url, success, failure) {\n        var dom = DOM;\n        var elm, id;\n        var done = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onreadystatechange = elm.onload = elm = null;\n          }\n          success();\n        };\n        var error = function () {\n          if (isFunction(failure)) {\n            failure();\n          } else {\n            if (typeof domGlobals.console !== 'undefined' && domGlobals.console.log) {\n              domGlobals.console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        id = dom.uniqueId();\n        elm = domGlobals.document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        if (this.settings.referrerPolicy) {\n          dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n        }\n        elm.onload = done;\n        elm.onerror = error;\n        (domGlobals.document.getElementsByTagName('head')[0] || domGlobals.document.body).appendChild(elm);\n      };\n      ScriptLoader.prototype.isDone = function (url) {\n        return this.states[url] === LOADED;\n      };\n      ScriptLoader.prototype.markDone = function (url) {\n        this.states[url] = LOADED;\n      };\n      ScriptLoader.prototype.add = function (url, success, scope, failure) {\n        var state = this.states[url];\n        if (state === undefined) {\n          this.queue.push(url);\n          this.states[url] = QUEUED;\n        }\n        if (success) {\n          if (!this.scriptLoadedCallbacks[url]) {\n            this.scriptLoadedCallbacks[url] = [];\n          }\n          this.scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      ScriptLoader.prototype.load = function (url, success, scope, failure) {\n        return this.add(url, success, scope, failure);\n      };\n      ScriptLoader.prototype.remove = function (url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      };\n      ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n        this.loadScripts(this.queue, success, scope, failure);\n      };\n      ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n        var self = this;\n        var loadScripts;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$6(self.scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          self.scriptLoadedCallbacks[url] = undefined;\n        };\n        self.queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        loadScripts = function () {\n          var loadingScripts = grep$2(scripts);\n          scripts.length = 0;\n          each$6(loadingScripts, function (url) {\n            if (self.states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (self.states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (self.states[url] !== LOADING) {\n              self.states[url] = LOADING;\n              self.loading++;\n              self.loadScript(url, function () {\n                self.states[url] = LOADED;\n                self.loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                self.states[url] = FAILED;\n                self.loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!self.loading) {\n            var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n            self.queueLoadedCallbacks.length = 0;\n            each$6(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n      ScriptLoader.ScriptLoader = new ScriptLoader();\n      return ScriptLoader;\n    }();\n\n    var isRaw = function (str) {\n      return isObject(str) && has(str, 'raw');\n    };\n    var isTokenised = function (str) {\n      return isArray(str) && str.length > 1;\n    };\n    var data = {};\n    var currentCode = Cell('en');\n    var getData = function () {\n      return map$1(data, function (value) {\n        return __assign({}, value);\n      });\n    };\n    var setCode = function (newCode) {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    var getCode = function () {\n      return currentCode.get();\n    };\n    var add = function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      for (var name in items) {\n        langData[name.toLowerCase()] = items[name];\n      }\n    };\n    var translate = function (text) {\n      var langData = data[currentCode.get()] || {};\n      var toString = function (obj) {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || text === undefined;\n      };\n      var getLangData = function (text) {\n        var textstr = toString(text);\n        var lowercaseTextstr = textstr.toLowerCase();\n        return has(langData, lowercaseTextstr) ? toString(langData[lowercaseTextstr]) : textstr;\n      };\n      var removeContext = function (str) {\n        return str.replace(/{context:\\w+}$/, '');\n      };\n      var translated = function (text) {\n        return text;\n      };\n      if (isEmpty(text)) {\n        return translated('');\n      }\n      if (isRaw(text)) {\n        return translated(toString(text.raw));\n      }\n      if (isTokenised(text)) {\n        var values_1 = text.slice(1);\n        var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return has(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n        return translated(removeContext(substitued));\n      }\n      return translated(removeContext(getLangData(text)));\n    };\n    var isRtl = function () {\n      return get(data, currentCode.get()).bind(function (items) {\n        return get(items, '_dir');\n      }).exists(function (dir) {\n        return dir === 'rtl';\n      });\n    };\n    var hasCode = function (code) {\n      return has(data, code);\n    };\n    var I18n = {\n      getData: getData,\n      setCode: setCode,\n      getCode: getCode,\n      add: add,\n      translate: translate,\n      isRtl: isRtl,\n      hasCode: hasCode\n    };\n\n    var each$7 = Tools.each;\n    function AddOnManager() {\n      var _this = this;\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        var language = I18n.getCode();\n        if (language && AddOnManager.languageLoad !== false) {\n          if (languages) {\n            languages = ',' + languages + ',';\n            if (languages.indexOf(',' + language.substr(0, 2) + ',') !== -1) {\n              language = language.substr(0, 2);\n            } else if (languages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n          }\n          ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        items.push(addOn);\n        lookup[id] = {\n          instance: addOn,\n          dependencies: dependencies\n        };\n        var result = partition(_listeners, function (listener) {\n          return listener.name === id;\n        });\n        _listeners = result.fail;\n        each$7(result.pass, function (listener) {\n          listener.callback();\n        });\n        return addOn;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = _this.urls[pluginName];\n        each$7(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each$7(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        if (lookup[name]) {\n          loadDependencies(name, addOnUrl, success, scope);\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, function () {\n            return loadDependencies(name, addOnUrl, success, scope);\n          }, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback) {\n        if (lookup.hasOwnProperty(name)) {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    }\n    (function (AddOnManager) {\n      AddOnManager.PluginManager = AddOnManager();\n      AddOnManager.ThemeManager = AddOnManager();\n    }(AddOnManager || (AddOnManager = {})));\n    var AddOnManager$1 = AddOnManager;\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer === null) {\n          timer = domGlobals.setTimeout(function () {\n            fn.apply(null, args);\n            timer = null;\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last$2 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n        }\n        timer = domGlobals.setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var read = function (element, attr) {\n      var value = get$1(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$1 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom().classList !== undefined;\n    };\n    var get$4 = function (element) {\n      return read(element, 'class');\n    };\n    var add$2 = function (element, clazz) {\n      return add$1(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add$3 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom().classList.add(clazz);\n      } else {\n        add$2(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom().classList : get$4(element);\n      if (classList.length === 0) {\n        remove(element, 'class');\n      }\n    };\n    var remove$4 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom().classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has$2 = function (element, clazz) {\n      return supports(element) && element.dom().classList.contains(clazz);\n    };\n\n    var descendants = function (scope, predicate) {\n      var result = [];\n      each(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants$1 = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n    }\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element.fromDom(element);\n        if (predicate(el)) {\n          return Option.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = Element.fromDom(rng.startContainer);\n      var root = Element.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child(start, rng.startOffset).getOr(start);\n      var closest = closest$1(newStart, selector, function (n) {\n        return eq(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Option.some(get$1(c, property));\n        } else {\n          return Option.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement$1(elem) && has$2(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = Element.fromDom(editor.getBody());\n      return descendants$1(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = Element.fromDom(editor.getBody());\n      var markers = descendants$1(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each(markers, function (m) {\n        var uid = get$1(m, dataAnnotationId());\n        var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup = function (editor, registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: Cell(Option.none())\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map(elements, function (elem) {\n                return elem.dom();\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last$2(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort(keys(callbackMap));\n        each(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Option.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.set(Option.none());\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!prev.is(uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(Option.some(uid));\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$1 = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        return Option.from(span.attr(dataAnnotation())).bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$1 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return annotations.hasOwnProperty(name) ? Option.from(annotations[name]).map(function (a) {\n          return a.settings;\n        }) : Option.none();\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add$4 = function (element, classes) {\n      each(classes, function (x) {\n        add$3(element, x);\n      });\n    };\n\n    var clone = function (original, isDeep) {\n      return Element.fromDom(original.dom().cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone(original, false);\n    };\n    var deep = function (original) {\n      return clone(original, true);\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(Element.fromDom(div));\n    };\n\n    var get$5 = function (element) {\n      return element.dom().innerHTML;\n    };\n    var set$1 = function (element, content) {\n      var owner$1 = owner(element);\n      var docDom = owner$1.dom();\n      var fragment = Element.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append(element, fragment);\n    };\n\n    var ZWSP = '\\uFEFF';\n    var isZwsp = function (chr) {\n      return chr === ZWSP;\n    };\n    var trim$3 = function (text) {\n      return text.replace(new RegExp(ZWSP, 'g'), '');\n    };\n    var Zwsp = {\n      isZwsp: isZwsp,\n      ZWSP: ZWSP,\n      trim: trim$3\n    };\n\n    var isElement$2 = NodeType.isElement;\n    var isText$2 = NodeType.isText;\n    var isCaretContainerBlock = function (node) {\n      if (isText$2(node)) {\n        node = node.parentNode;\n      }\n      return isElement$2(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$2(node) && Zwsp.isZwsp(node.data);\n    };\n    var isCaretContainer = function (node) {\n      return isCaretContainerBlock(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !NodeType.isBr(node.firstChild);\n    };\n    var insertInline = function (node, before) {\n      var doc, sibling, textNode, parentNode;\n      doc = node.ownerDocument;\n      textNode = doc.createTextNode(Zwsp.ZWSP);\n      parentNode = node.parentNode;\n      if (!before) {\n        sibling = node.nextSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        sibling = node.previousSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!pos || !NodeType.isText(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === Zwsp.ZWSP || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!pos || !NodeType.isText(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === Zwsp.ZWSP || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = domGlobals.document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock = function (blockName, node, before) {\n      var doc, blockNode, parentNode;\n      doc = node.ownerDocument;\n      blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[0] === Zwsp.ZWSP;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (NodeType.isBogus(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock(range.startContainer);\n    };\n\n    var isContentEditableTrue$1 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$1 = NodeType.isContentEditableFalse;\n    var isBr$2 = NodeType.isBr;\n    var isText$3 = NodeType.isText;\n    var isInvalidTextElement = NodeType.matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    var isAtomicInline = NodeType.matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object'\n    ]);\n    var isTable$2 = NodeType.matchNodeNames(['table']);\n    var isCaretContainer$1 = isCaretContainer;\n    var isCaretCandidate = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$3(node)) {\n        if (isInvalidTextElement(node.parentNode)) {\n          return false;\n        }\n        return true;\n      }\n      return isAtomicInline(node) || isBr$2(node) || isTable$2(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return NodeType.isElement(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$1(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$1(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from$1(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$1(elm);\n      }, false) !== true;\n    };\n    var isAtomic = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate = function (node, root) {\n      return isCaretCandidate(node) && isInEditable(node, root);\n    };\n\n    var round = Math.round;\n    var clone$1 = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round(rect.left),\n        top: round(rect.top),\n        bottom: round(rect.bottom),\n        right: round(rect.right),\n        width: round(rect.width),\n        height: round(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone$1(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove = function (rect1, rect2) {\n      if (rect1.bottom - rect1.height / 2 < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode = function (container, offset) {\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        if (offset >= container.childNodes.length) {\n          offset = container.childNodes.length - 1;\n        }\n        container = container.childNodes[offset];\n      }\n      return container;\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie())) : Option.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Option.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Option.some(a) : Option.none();\n    };\n\n    var slice$2 = [].slice;\n    var or = function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var args = slice$2.call(arguments);\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var args = slice$2.call(arguments);\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n    var Predicate = {\n      and: and,\n      or: or\n    };\n\n    var isElement$3 = NodeType.isElement;\n    var isCaretCandidate$1 = isCaretCandidate;\n    var isBlock$1 = NodeType.matchStyleValues('display', 'block table');\n    var isFloated = NodeType.matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = Predicate.and(isElement$3, isCaretCandidate$1, not(isFloated));\n    var isNotPre = not(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = NodeType.isText;\n    var isBr$3 = NodeType.isBr;\n    var nodeIndex = DOMUtils$1.nodeIndex;\n    var resolveIndex = getNode;\n    var createRange = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils$1.DOM.createRng();\n    };\n    var isWhiteSpace = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      var text;\n      if (isWhiteSpace(range.toString()) && isNotPre(container.parentNode) && NodeType.isText(container)) {\n        text = container.data;\n        if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange(doc);\n      var nbsp = doc.createTextNode('\\xA0');\n      var parentNode = brNode.parentNode;\n      var clientRect;\n      parentNode.insertBefore(nbsp, brNode);\n      rng.setStart(nbsp, 0);\n      rng.setEnd(nbsp, 1);\n      clientRect = clone$1(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && NodeType.isText(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect = function (item) {\n      var clientRect, clientRects;\n      clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$1(clientRects[0]);\n      } else {\n        clientRect = clone$1(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var beforeNode, node;\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));\n          }\n        }\n      };\n      if (isText$4(caretPosition.container())) {\n        addCharacterOffset(caretPosition.container(), caretPosition.offset());\n        return clientRects;\n      }\n      if (isElement$3(caretPosition.container())) {\n        if (caretPosition.isAtEnd()) {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n          }\n        } else {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n            return clientRects;\n          }\n          beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    function CaretPosition(container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range;\n        range = createRange(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    }\n    (function (CaretPosition) {\n      CaretPosition.fromRangeStart = function (range) {\n        return CaretPosition(range.startContainer, range.startOffset);\n      };\n      CaretPosition.fromRangeEnd = function (range) {\n        return CaretPosition(range.endContainer, range.endOffset);\n      };\n      CaretPosition.after = function (node) {\n        return CaretPosition(node.parentNode, nodeIndex(node) + 1);\n      };\n      CaretPosition.before = function (node) {\n        return CaretPosition(node.parentNode, nodeIndex(node));\n      };\n      CaretPosition.isAbove = function (pos1, pos2) {\n        return lift2(head(pos2.getClientRects()), last(pos1.getClientRects()), isAbove).getOr(false);\n      };\n      CaretPosition.isBelow = function (pos1, pos2) {\n        return lift2(last(pos2.getClientRects()), head(pos1.getClientRects()), isBelow).getOr(false);\n      };\n      CaretPosition.isAtStart = function (pos) {\n        return pos ? pos.isAtStart() : false;\n      };\n      CaretPosition.isAtEnd = function (pos) {\n        return pos ? pos.isAtEnd() : false;\n      };\n      CaretPosition.isTextPosition = function (pos) {\n        return pos ? NodeType.isText(pos.container()) : false;\n      };\n      CaretPosition.isElementPosition = function (pos) {\n        return CaretPosition.isTextPosition(pos) === false;\n      };\n    }(CaretPosition || (CaretPosition = {})));\n    var CaretPosition$1 = CaretPosition;\n\n    var isText$5 = NodeType.isText;\n    var isBogus$1 = NodeType.isBogus;\n    var nodeIndex$1 = DOMUtils$1.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus$1(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return ArrUtils.reduce(node.childNodes, function (result, node) {\n        if (isBogus$1(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$5(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index, numTextFragments;\n      nodes = getChildNodes(normalizedParent(node));\n      index = ArrUtils.findIndex(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      numTextFragments = ArrUtils.reduce(nodes, function (result, node, i) {\n        if (isText$5(node) && isText$5(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames([node.nodeName]));\n      index = ArrUtils.findIndex(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$5(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$2 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$5(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil(root, container);\n      parents = ArrUtils.filter(parents, not(NodeType.isBogus));\n      path = path.concat(ArrUtils.map(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = ArrUtils.filter(nodes, function (node, index) {\n        return !isText$5(node) || !isText$5(nodes[index - 1]);\n      });\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames([name]));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$5(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$5(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$5(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition$1(container, offset);\n    };\n    var resolve$1 = function (root, path) {\n      var parts, container, offset;\n      if (!path) {\n        return null;\n      }\n      parts = path.split(',');\n      path = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      container = ArrUtils.reduce(path, function (result, value) {\n        value = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!value) {\n          return null;\n        }\n        if (value[1] === 'text()') {\n          value[1] = '#text';\n        }\n        return resolvePathItem(result, value[1], parseInt(value[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$5(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex$1(container) + 1;\n        } else {\n          offset = nodeIndex$1(container);\n        }\n        return CaretPosition$1(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var trimEmptyTextNode = function (dom, node) {\n      if (NodeType.isText(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode(dom, node.previousSibling);\n      trimEmptyTextNode(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Option.from(frag.firstChild);\n      var lastChild = Option.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (NodeType.isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isContentEditableFalse$2 = NodeType.isContentEditableFalse;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && NodeType.isText(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (NodeType.isText(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      return bookmark;\n    };\n    var findIndex$2 = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (NodeType.isElement(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint(rng, true);\n      moveEndPoint(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (NodeType.isElement(node)) {\n        node = getNode(node, offset);\n        if (isContentEditableFalse$2(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer(node)) {\n        if (NodeType.isText(node) && isCaretContainerBlock(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$2(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeStart(rng)),\n        end: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        'id': id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: 1\n      });\n      return { id: id };\n    };\n    var getBookmark = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(Zwsp.trim, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var GetBookmark = {\n      getBookmark: getBookmark,\n      getUndoBookmark: curry(getOffsetBookmark, identity, true),\n      getPersistentBookmark: getPersistentBookmark\n    };\n\n    var CARET_ID = '_mce_caret';\n    var isCaretNode = function (node) {\n      return NodeType.isElement(node) && node.id === CARET_ID;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isElement$4 = NodeType.isElement;\n    var isText$6 = NodeType.isText;\n    var removeNode = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var getNodeValue = function (node) {\n      try {\n        return node.nodeValue;\n      } catch (ex) {\n        return '';\n      }\n    };\n    var setNodeValue = function (node, text) {\n      if (text.length === 0) {\n        removeNode(node);\n      } else {\n        node.nodeValue = text;\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = Zwsp.trim(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$5(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        setNodeValue(caretContainer, text);\n        return CaretPosition$1(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition$1(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$5(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition$1.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$5 = function (caretContainerNode) {\n      if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode(caretContainerNode);\n        }\n      }\n      if (isText$6(caretContainerNode)) {\n        var text = Zwsp.trim(getNodeValue(caretContainerNode));\n        setNodeValue(caretContainerNode, text);\n      }\n    };\n    var CaretContainerRemove = {\n      removeAndReposition: removeAndReposition,\n      remove: remove$5\n    };\n\n    var browser$3 = detect$3().browser;\n    var isContentEditableFalse$3 = NodeType.isContentEditableFalse;\n    var isTableCell$1 = function (node) {\n      return NodeType.isElement(node) && /^(TD|TH)$/i.test(node.tagName);\n    };\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var docElm, scrollX, scrollY, margin, rootRect;\n      if (root.tagName === 'BODY') {\n        docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var contentEditableFalseNodes, node, sibling, i, data;\n      contentEditableFalseNodes = DomQuery('*[contentEditable=false]', root);\n      for (i = 0; i < contentEditableFalseNodes.length; i++) {\n        node = contentEditableFalseNodes[i];\n        sibling = node.previousSibling;\n        if (endsWithCaretContainer(sibling)) {\n          data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer(sibling)) {\n          data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (root, isBlock, hasFocus) {\n      var lastVisualCaret = Cell(Option.none());\n      var cursorInterval, caretContainerNode;\n      var show = function (before, element) {\n        var clientRect, rng;\n        hide();\n        if (isTableCell$1(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock('p', element, before);\n          clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\n          lastVisualCaret.set(Option.some({\n            caret: caret,\n            element: element,\n            before: before\n          }));\n          lastVisualCaret.get().each(function (caretState) {\n            if (before) {\n              DomQuery(caretState.caret).addClass('mce-visual-caret-before');\n            }\n          });\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isContentEditableFalse$3(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          CaretContainerRemove.remove(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.get().each(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.set(Option.none());\n        });\n        Delay.clearInterval(cursorInterval);\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.get().each(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(__assign({}, clientRect));\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$3.isIE() || browser$3.isEdge() || browser$3.isFirefox();\n    };\n    var isFakeCaretTarget = function (node) {\n      return isContentEditableFalse$3(node) || NodeType.isTable(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$4 = NodeType.isContentEditableFalse;\n    var isBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer$2 = isCaretContainer;\n    var isCaretContainerBlock$1 = isCaretContainerBlock;\n    var isElement$5 = NodeType.isElement;\n    var isCaretCandidate$2 = isCaretCandidate;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock$1(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new TreeWalker(node, rootNode);\n      if (isBackwards(direction)) {\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n          node = skipCaretContainers(walker.prev, true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev, shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n          node = skipCaretContainers(walker.next, true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next, shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      var container, offset;\n      if (!caretPosition) {\n        return null;\n      }\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (!isElement$5(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock(node1, root) === getParentBlock(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var sibling, siblingName;\n      if (left) {\n        siblingName = 'previousSibling';\n      } else {\n        siblingName = 'nextSibling';\n      }\n      while (node && node !== root) {\n        sibling = node[siblingName];\n        if (isCaretContainer$2(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$4(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$2(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$1 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node, container, offset, location;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      container = range.startContainer;\n      offset = range.startOffset;\n      if (isCaretContainerBlock(container)) {\n        if (!isElement$5(container)) {\n          container = container.parentNode;\n        }\n        location = container.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$1(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (NodeType.isText(container)) {\n        if (isCaretContainer$2(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$1(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$4);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Option.from(pos.getNode()).map(Element.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Option.from(pos.getNode(true)).map(Element.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && NodeType.isBr(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$5 = NodeType.isContentEditableFalse;\n    var isText$7 = NodeType.isText;\n    var isElement$6 = NodeType.isElement;\n    var isBr$4 = NodeType.isBr;\n    var isCaretCandidate$3 = isCaretCandidate;\n    var isAtomic$1 = isAtomic;\n    var isEditableCaretCandidate$1 = isEditableCaretCandidate;\n    var getParents = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate$3(node.previousSibling) && !isText$7(node.previousSibling)) {\n          return CaretPosition$1.before(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition$1(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate$3(node.nextSibling) && !isText$7(node.nextSibling)) {\n          return CaretPosition$1.after(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition$1(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$4(node)) {\n          return CaretPosition$1.before(node);\n        }\n        return CaretPosition$1.after(node);\n      }\n      return CaretPosition$1.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate$3(nextSibling)) {\n        if (isText$7(nextSibling)) {\n          return CaretPosition$1(nextSibling, 0);\n        } else {\n          return CaretPosition$1.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition(HDirection.Forwards, CaretPosition$1.after(nextNode), root);\n      }\n    };\n    var findCaretPosition = function (direction, startPos, root) {\n      var node, nextNode, innerNode;\n      var rootContentEditableFalseElm, caretPosition;\n      if (!isElement$6(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition$1.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition$1.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate$3(root.lastChild) && isElement$6(root.lastChild)) {\n          return isBr$4(root.lastChild) ? CaretPosition$1.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$7(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition$1(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition$1(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate$3(nextNode)) {\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition$1(innerNode, innerNode.data.length);\n                }\n                return CaretPosition$1.after(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition$1(nextNode, nextNode.data.length);\n            }\n            return CaretPosition$1.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate$3(nextNode)) {\n            if (isBr$4(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition$1(innerNode, 0);\n                }\n                return CaretPosition$1.before(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition$1(nextNode, 0);\n            }\n            return CaretPosition$1.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode(node, direction, constant(true), root, true);\n        if (isEditableCaretCandidate$1(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\n      rootContentEditableFalseElm = ArrUtils.last(filter(getParents(container, root), isContentEditableFalse$5));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition$1.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition$1.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition$1.before(start) : CaretPosition$1.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return NodeType.isBr(node) ? CaretPosition$1.before(node) : CaretPosition$1.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition$1.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition$1.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition$1.isTextPosition(from) && !CaretPosition$1.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition$1.isTextPosition(position) && NodeType.isBr(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Option.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Option.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Option.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (NodeType.isText(startNode)) {\n        return Option.some(CaretPosition$1(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate(startNode)) {\n          return Option.some(forward ? CaretPosition$1.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Option.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var CaretFinder = {\n      fromPosition: fromPosition,\n      nextPosition: nextPosition,\n      prevPosition: prevPosition,\n      navigate: navigate,\n      navigateIgnore: navigateIgnore,\n      positionIn: positionIn,\n      firstPositionIn: curry(positionIn, true),\n      lastPositionIn: curry(positionIn, false)\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return typeof bookmark.start === 'string';\n    };\n    var isRangeBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (NodeType.isElement(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var rng, pos;\n      rng = dom.createRng();\n      pos = resolve$1(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$1(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(Zwsp.ZWSP);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return CaretFinder.lastPositionIn(node).fold(function () {\n        return false;\n      }, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return NodeType.isText(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (NodeType.isText(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && NodeType.isText(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            if (suffix === 'start') {\n              container = prev;\n              offset = idx;\n            } else {\n              container = prev;\n              offset = idx;\n            }\n          }\n        }\n        return Option.some(CaretPosition$1(container, offset));\n      } else {\n        return Option.none();\n      }\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Option.some(rng);\n      } else {\n        return Option.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex$1 = function (dom, bookmark) {\n      return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$2 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Option.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex$1(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Option.some(bookmark.rng);\n        }\n      }\n      return Option.none();\n    };\n    var ResolveBookmark = { resolve: resolve$2 };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return GetBookmark.getBookmark(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      ResolveBookmark.resolve(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return NodeType.isElement(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var Bookmarks = {\n      getBookmark: getBookmark$1,\n      moveToBookmark: moveToBookmark,\n      isBookmarkNode: isBookmarkNode$1\n    };\n\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer, walker, node, nodes;\n      if (rng.startContainer === rng.endContainer) {\n        if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\n          return;\n        }\n      }\n      if (container.nodeType === 1) {\n        nodes = container.childNodes;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (node = walker.current(); node; node = walker.next()) {\n          if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        next = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[next]; node; node = node[next]) {\n          if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (name.nodeType) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode = function (node) {\n      return node && node.nodeType === 3 && /^([\\t \\r\\n]+|)$/.test(node.nodeValue);\n    };\n    var replaceVars = function (value, vars) {\n      if (typeof value !== 'string') {\n        value = value(vars);\n      } else if (vars) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$1 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var FormatUtils = {\n      isInlineBlock: isInlineBlock,\n      moveStart: moveStart,\n      getNonWhiteSpaceSibling: getNonWhiteSpaceSibling,\n      isTextBlock: isTextBlock$1,\n      isValid: isValid,\n      isWhiteSpaceNode: isWhiteSpaceNode,\n      replaceVars: replaceVars,\n      isEq: isEq,\n      normalizeStyleValue: normalizeStyleValue,\n      getStyle: getStyle,\n      getTextDecoration: getTextDecoration,\n      getParents: getParents$1\n    };\n\n    var isBookmarkNode$2 = Bookmarks.isBookmarkNode;\n    var getParents$2 = FormatUtils.getParents, isWhiteSpaceNode$1 = FormatUtils.isWhiteSpaceNode, isTextBlock$2 = FormatUtils.isTextBlock;\n    var findLeaf = function (node, offset) {\n      if (typeof offset === 'undefined') {\n        offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n      }\n      while (node && node.hasChildNodes()) {\n        node = node.childNodes[offset];\n        if (node) {\n          offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n        }\n      }\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n    var excludeTrailingWhitespace = function (endContainer, endOffset) {\n      var leaf = findLeaf(endContainer, endOffset);\n      if (leaf.node) {\n        while (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\n          leaf = findLeaf(leaf.node.previousSibling);\n        }\n        if (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 && leaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\n          if (leaf.offset > 1) {\n            endContainer = leaf.node;\n            endContainer.splitText(leaf.offset - 1);\n          }\n        }\n      }\n      return endContainer;\n    };\n    var isBogusBr = function (node) {\n      return node.nodeName === 'BR' && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (parent.nodeType === 1 && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var findSpace = function (start, remove, node, offset) {\n      var pos, pos2;\n      var str = node.nodeValue;\n      if (typeof offset === 'undefined') {\n        offset = start ? str.length : 0;\n      }\n      if (start) {\n        pos = str.lastIndexOf(' ', offset);\n        pos2 = str.lastIndexOf('\\xA0', offset);\n        pos = pos > pos2 ? pos : pos2;\n        if (pos !== -1 && !remove && (pos < offset || !start) && pos <= str.length) {\n          pos++;\n        }\n      } else {\n        pos = str.indexOf(' ', offset);\n        pos2 = str.indexOf('\\xA0', offset);\n        pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\n      }\n      return pos;\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, remove) {\n      var node, pos, lastTextNode;\n      if (container.nodeType === 3) {\n        pos = findSpace(start, remove, container, offset);\n        if (pos !== -1) {\n          return {\n            container: container,\n            offset: pos\n          };\n        }\n        lastTextNode = container;\n      }\n      var walker = new TreeWalker(container, dom.getParent(container, dom.isBlock) || body);\n      while (node = walker[start ? 'prev' : 'next']()) {\n        if (node.nodeType === 3 && !isBookmarkNode$2(node.parentNode)) {\n          lastTextNode = node;\n          pos = findSpace(start, remove, node);\n          if (pos !== -1) {\n            return {\n              container: node,\n              offset: pos\n            };\n          }\n        } else if (dom.isBlock(node) || FormatUtils.isEq(node, 'BR')) {\n          break;\n        }\n      }\n      if (lastTextNode) {\n        if (start) {\n          offset = 0;\n        } else {\n          offset = lastTextNode.length;\n        }\n        return {\n          container: lastTextNode,\n          offset: offset\n        };\n      }\n    };\n    var findSelectorEndPoint = function (dom, format, rng, container, siblingName) {\n      var parents, i, y, curFormat;\n      if (container.nodeType === 3 && container.nodeValue.length === 0 && container[siblingName]) {\n        container = container[siblingName];\n      }\n      parents = getParents$2(dom, container);\n      for (i = 0; i < parents.length; i++) {\n        for (y = 0; y < format.length; y++) {\n          curFormat = format[y];\n          if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, format, container, siblingName) {\n      var node;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      if (!format[0].wrapper) {\n        node = dom.getParent(container, format[0].block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(container.nodeType === 3 ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock$2(editor, node);\n        }, scopeRoot);\n      }\n      if (node && format[0].wrapper) {\n        node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (FormatUtils.isEq(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var findParentContainer = function (dom, format, startContainer, startOffset, endContainer, endOffset, start) {\n      var container, parent, sibling, siblingName, root;\n      container = parent = start ? startContainer : endContainer;\n      siblingName = start ? 'previousSibling' : 'nextSibling';\n      root = dom.getRoot();\n      if (container.nodeType === 3 && !isWhiteSpaceNode$1(container)) {\n        if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!format[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          if (!isBookmarkNode$2(sibling) && !isWhiteSpaceNode$1(sibling) && !isBogusBr(sibling)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var expandRng = function (editor, rng, format, remove) {\n      var endPoint, startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n        startContainer = getNode(startContainer, startOffset);\n        if (startContainer.nodeType === 3) {\n          startOffset = 0;\n        }\n      }\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n        endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (endContainer.nodeType === 3) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isBookmarkNode$2(startContainer.parentNode) || isBookmarkNode$2(startContainer)) {\n        startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (startContainer.nodeType === 3) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isBookmarkNode$2(endContainer.parentNode) || isBookmarkNode$2(endContainer)) {\n        endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (endContainer.nodeType === 3) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        endPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, remove);\n        if (endPoint) {\n          startContainer = endPoint.container;\n          startOffset = endPoint.offset;\n        }\n        endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, remove);\n        if (endPoint) {\n          endContainer = endPoint.container;\n          endOffset = endPoint.offset;\n        }\n      }\n      if (format[0].inline) {\n        endContainer = remove ? endContainer : excludeTrailingWhitespace(endContainer, endOffset);\n      }\n      if (format[0].inline || format[0].block_expand) {\n        if (!format[0].inline || (startContainer.nodeType !== 3 || startOffset === 0)) {\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n        }\n        if (!format[0].inline || (endContainer.nodeType !== 3 || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n        }\n      }\n      if (format[0].selector && format[0].expand !== false && !format[0].inline) {\n        startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\n      }\n      if (format[0].block || format[0].selector) {\n        startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\n        if (format[0].block) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (startContainer.nodeType === 1) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (endContainer.nodeType === 1) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n    var ExpandRange = { expandRng: expandRng };\n\n    var each$8 = Tools.each;\n    var getEndChild = function (container, index) {\n      var childNodes = container.childNodes;\n      index--;\n      if (index > childNodes.length - 1) {\n        index = childNodes.length - 1;\n      } else if (index < 0) {\n        index = 0;\n      }\n      return childNodes[index] || container;\n    };\n    var walk$1 = function (dom, rng, callback) {\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var ancestor;\n      var startPoint;\n      var endPoint;\n      var node;\n      var parent;\n      var siblings;\n      var nodes;\n      nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n      if (nodes.length > 0) {\n        each$8(nodes, function (node) {\n          callback([node]);\n        });\n        return;\n      }\n      var exclude = function (nodes) {\n        var node;\n        node = nodes[0];\n        if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\n          nodes.splice(0, 1);\n        }\n        node = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        do {\n          if (node.parentNode === root) {\n            return node;\n          }\n          node = node.parentNode;\n        } while (node);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n          parent = node.parentNode;\n          siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings.length) {\n            if (!next) {\n              siblings.reverse();\n            }\n            callback(exclude(siblings));\n          }\n        }\n      };\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n        startContainer = startContainer.childNodes[startOffset];\n      }\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n        endContainer = getEndChild(endContainer, endOffset);\n      }\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      for (node = startContainer; node; node = node.parentNode) {\n        if (node === endContainer) {\n          return walkBoundary(startContainer, ancestor, true);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      for (node = endContainer; node; node = node.parentNode) {\n        if (node === startContainer) {\n          return walkBoundary(endContainer, ancestor);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n    var RangeWalk = { walk: walk$1 };\n\n    var zeroWidth = function () {\n      return '\\uFEFF';\n    };\n\n    function NodeValue (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom().nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    }\n\n    var api = NodeValue(isText$1, 'text');\n    var get$6 = function (element) {\n      return api.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText$1(elem) && get$6(elem) === zeroWidth();\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem)) {\n          return 'caret';\n        } else if (!FormatUtils.isValid(editor, wrapName, nodeName) || !FormatUtils.isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var shouldApplyToTrailingSpaces = function (rng) {\n      return rng.startContainer.nodeType === 3 && rng.startContainer.nodeValue.length >= rng.startOffset && rng.startContainer.nodeValue[rng.startOffset] === '\\xA0';\n    };\n    var applyWordGrab = function (editor, rng) {\n      var r = ExpandRange.expandRng(editor, rng, [{ inline: true }], shouldApplyToTrailingSpaces(rng));\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = Element.fromTag('span', eDoc);\n      add$3(master, annotation());\n      set(master, '' + dataAnnotationId(), uid);\n      set(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll(master, attributes);\n      add$4(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = Cell(Option.none());\n      var finishWrapper = function () {\n        wrapper.set(Option.none());\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(Option.some(nu));\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap$1(elem, w);\n            break;\n          }\n        case 'skipping':\n        case 'existing':\n        case 'caret':\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map(nodes, Element.fromDom);\n        processElements(elems);\n      };\n      RangeWalk.walk(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var initialRng = editor.selection.getRng();\n        if (initialRng.collapsed) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (editor.selection.getRng().collapsed) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set$1(wrapper, '\\xA0');\n          editor.selection.getRng().insertNode(wrapper.dom());\n          editor.selection.select(wrapper.dom());\n        } else {\n          var bookmark = GetBookmark.getPersistentBookmark(editor.selection, false);\n          var rng = editor.selection.getRng();\n          annotate(editor, rng, name, settings.decorate, data);\n          editor.selection.moveToBookmark(bookmark);\n        }\n      });\n    };\n\n    var Annotator = function (editor) {\n      var registry = create$1();\n      setup$1(editor, registry);\n      var changes = setup(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Option.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$1(directory, function (elems) {\n            return map(elems, function (elem) {\n              return elem.dom();\n            });\n          });\n        }\n      };\n    };\n\n    var whiteSpaceRegExp$3 = /^[ \\t\\r\\n]*$/;\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$2 = function (node, root, prev) {\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        var sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (var parent = node.parent; parent && parent !== root; parent = parent.parent) {\n          sibling = parent[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var Node$1 = function () {\n      function Node(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      Node.create = function (name, attrs) {\n        var node = new Node(name, typeLookup[name] || 1);\n        if (attrs) {\n          for (var attrName in attrs) {\n            node.attr(attrName, attrs[attrName]);\n          }\n        }\n        return node;\n      };\n      Node.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      Node.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs;\n        if (typeof name !== 'string') {\n          for (var key in name) {\n            self.attr(key, name[key]);\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                var i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              var i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      Node.prototype.clone = function () {\n        var self = this;\n        var clone = new Node(self.name, self.type);\n        var selfAttrs;\n        if (selfAttrs = self.attributes) {\n          var cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (var i = 0, l = selfAttrs.length; i < l; i++) {\n            var selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      Node.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      Node.prototype.unwrap = function () {\n        var self = this;\n        for (var node = self.firstChild; node;) {\n          var next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      Node.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      Node.prototype.append = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        var last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      Node.prototype.insert = function (node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        var parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      Node.prototype.getAll = function (name) {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      Node.prototype.empty = function () {\n        var self = this;\n        if (self.firstChild) {\n          var nodes = [];\n          for (var node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      Node.prototype.isEmpty = function (elements, whitespace, predicate) {\n        if (whitespace === void 0) {\n          whitespace = {};\n        }\n        var self = this;\n        var node = self.firstChild;\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              var i = node.attributes.length;\n              while (i--) {\n                var name = node.attributes[i].name;\n                if (name === 'name' || name.indexOf('data-mce-bookmark') === 0) {\n                  return false;\n                }\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !whiteSpaceRegExp$3.test(node.value)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp$3.test(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      };\n      Node.prototype.walk = function (prev) {\n        return walk$2(this, null, prev);\n      };\n      return Node;\n    }();\n\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var trimComments = function (text) {\n      return text.replace(/<!--|-->/g, '');\n    };\n    var isInvalidUri = function (settings, uri) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return settings.allow_svg_data_urls === false && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var findEndTagIndex = function (schema, html, startIndex) {\n      var count = 1, index, matches, tokenRegExp, shortEndedElements;\n      shortEndedElements = schema.getShortEndedElements();\n      tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;\n      tokenRegExp.lastIndex = index = startIndex;\n      while (matches = tokenRegExp.exec(html)) {\n        index = tokenRegExp.lastIndex;\n        if (matches[1] === '/') {\n          count--;\n        } else if (!matches[1]) {\n          if (matches[2] in shortEndedElements) {\n            continue;\n          }\n          count++;\n        }\n        if (count === 0) {\n          break;\n        }\n      }\n      return index;\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name = matches[1];\n        var value = matches[2];\n        return typeof name === 'string' && name.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    function SaxParser(settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var noop = function () {\n      };\n      settings = settings || {};\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parse = function (html) {\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\n        var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced, processHtml;\n        var anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var fixSelfClosing;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster,xlink:href');\n        var scriptUriRegExp = /((java|vb)script|mhtml):/i;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var parseAttribute = function (match, name, value, val2, val3) {\n          var attrRule, i;\n          var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\n          name = name.toLowerCase();\n          value = name in fillAttrsMap ? name : decode(value || val2 || val3 || '');\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              i = validAttributePatterns.length;\n              while (i--) {\n                attrRule = validAttributePatterns[i];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\n            var uri = value.replace(trimRegExp, '');\n            try {\n              uri = decodeURIComponent(uri);\n            } catch (ex) {\n              uri = unescape(uri);\n            }\n            if (scriptUriRegExp.test(uri)) {\n              return;\n            }\n            if (isInvalidUri(settings, uri)) {\n              return;\n            }\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)' + ')', 'g');\n        attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        shortEndedElements = schema.getShortEndedElements();\n        selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        fillAttrsMap = schema.getBoolAttrs();\n        validate = settings.validate;\n        removeInternalElements = settings.remove_internals;\n        fixSelfClosing = settings.fix_self_closing;\n        specialElements = schema.getSpecialElements();\n        processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          if (index < matches.index) {\n            text(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[6]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[7]) {\n            if (matches.index + matches[0].length > html.length) {\n              text(decode(html.substr(matches.index)));\n              index = matches.index + matches[0].length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[8]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[8]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, parseAttribute);\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matches[0].length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  text(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            if (value.charAt(0) === '>') {\n              value = ' ' + value;\n            }\n            if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n              value = ' ' + value;\n            }\n            comment(value);\n          } else if (value = matches[2]) {\n            cdata(trimComments(value));\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if (value = matches[4]) {\n            pi(value, matches[5]);\n          }\n          index = matches.index + matches[0].length;\n        }\n        if (index < html.length) {\n          text(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      return { parse: parse };\n    }\n    (function (SaxParser) {\n      SaxParser.findEndTag = findEndTagIndex;\n    }(SaxParser || (SaxParser = {})));\n    var SaxParser$1 = SaxParser;\n\n    var trimHtml = function (tempAttrs, html) {\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    var trimInternal = function (serializer, html) {\n      var content = html;\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      var endTagIndex, index, matchLength, matches, shortEndedElements;\n      var schema = serializer.schema;\n      content = trimHtml(serializer.getTempAttrs(), content);\n      shortEndedElements = schema.getShortEndedElements();\n      while (matches = bogusAllRegExp.exec(content)) {\n        index = bogusAllRegExp.lastIndex;\n        matchLength = matches[0].length;\n        if (shortEndedElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = SaxParser$1.findEndTag(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return Zwsp.trim(content);\n    };\n    var trimExternal = trimInternal;\n    var TrimHtml = {\n      trimExternal: trimExternal,\n      trimInternal: trimInternal\n    };\n\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', constant(true), 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getIconPackName = function (editor) {\n      return editor.getParam('icons', '', 'string');\n    };\n    var getIconsUrl = function (editor) {\n      return editor.getParam('icons_url', '', 'string');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getReferrerPolicy = function (editor) {\n      return editor.getParam('referrer_policy', '', 'string');\n    };\n    var getLanguageCode = function (editor) {\n      return editor.getParam('language', 'en', 'string');\n    };\n    var getLanguageUrl = function (editor) {\n      return editor.getParam('language_url', '', 'string');\n    };\n    var shouldIndentUseMargin = function (editor) {\n      return editor.getParam('indent_use_margin', false);\n    };\n    var getIndentation = function (editor) {\n      return editor.getParam('indentation', '40px', 'string');\n    };\n    var getContentCss = function (editor) {\n      var contentCss = editor.settings.content_css;\n      if (isString(contentCss)) {\n        return map(contentCss.split(','), trim);\n      } else if (isArray(contentCss)) {\n        return contentCss;\n      } else if (contentCss === false || editor.inline) {\n        return [];\n      } else {\n        return ['default'];\n      }\n    };\n    var getDirectionality = function (editor) {\n      return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var Settings = {\n      getIframeAttrs: getIframeAttrs,\n      getDocType: getDocType,\n      getDocumentBaseUrl: getDocumentBaseUrl,\n      getBodyId: getBodyId,\n      getBodyClass: getBodyClass,\n      getContentSecurityPolicy: getContentSecurityPolicy,\n      shouldPutBrInPre: shouldPutBrInPre,\n      getForcedRootBlock: getForcedRootBlock,\n      getForcedRootBlockAttrs: getForcedRootBlockAttrs,\n      getBrNewLineSelector: getBrNewLineSelector,\n      getNoNewLineSelector: getNoNewLineSelector,\n      shouldKeepStyles: shouldKeepStyles,\n      shouldEndContainerOnEmptyBlock: shouldEndContainerOnEmptyBlock,\n      getFontStyleValues: getFontStyleValues,\n      getFontSizeClasses: getFontSizeClasses,\n      getIconPackName: getIconPackName,\n      getIconsUrl: getIconsUrl,\n      getImagesDataImgFilter: getImagesDataImgFilter,\n      isAutomaticUploadsEnabled: isAutomaticUploadsEnabled,\n      shouldReuseFileName: shouldReuseFileName,\n      shouldReplaceBlobUris: shouldReplaceBlobUris,\n      getImageUploadUrl: getImageUploadUrl,\n      getImageUploadBasePath: getImageUploadBasePath,\n      getImagesUploadCredentials: getImagesUploadCredentials,\n      getImagesUploadHandler: getImagesUploadHandler,\n      shouldUseContentCssCors: shouldUseContentCssCors,\n      getReferrerPolicy: getReferrerPolicy,\n      getLanguageCode: getLanguageCode,\n      getLanguageUrl: getLanguageUrl,\n      shouldIndentUseMargin: shouldIndentUseMargin,\n      getIndentation: getIndentation,\n      getContentCss: getContentCss,\n      getDirectionality: getDirectionality,\n      getInlineBoundarySelector: getInlineBoundarySelector\n    };\n\n    var defaultFormat = 'html';\n    var trimEmptyContents = function (editor, html) {\n      var blockName = Settings.getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var getContentFromBody = function (editor, args, body) {\n      var content;\n      args.format = args.format ? args.format : defaultFormat;\n      args.get = true;\n      args.getInner = true;\n      if (!args.no_events) {\n        editor.fire('BeforeGetContent', args);\n      }\n      if (args.format === 'raw') {\n        content = Tools.trim(TrimHtml.trimExternal(editor.serializer, body.innerHTML));\n      } else if (args.format === 'text') {\n        content = Zwsp.trim(body.innerText || body.textContent);\n      } else if (args.format === 'tree') {\n        return editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      if (args.format !== 'text' && !isWsPreserveElement(Element.fromDom(body))) {\n        args.content = Tools.trim(content);\n      } else {\n        args.content = content;\n      }\n      if (!args.no_events) {\n        editor.fire('GetContent', args);\n      }\n      return args.content;\n    };\n    var getContent = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return Option.from(editor.getBody()).fold(constant(args.format === 'tree' ? new Node$1('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, body);\n      });\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    var Writer = function (settings) {\n      var html = [];\n      var indent, indentBefore, indentAfter, encode, htmlOutput;\n      settings = settings || {};\n      indent = settings.indent;\n      indentBefore = makeMap$3(settings.indent_before || '');\n      indentAfter = makeMap$3(settings.indent_after || '');\n      encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    var Serializer = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var handlers, validate;\n        validate = settings.validate;\n        handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n          if (!handler) {\n            name = node.name;\n            isEmpty = node.shortEnded;\n            attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              sortedAttrs = [];\n              sortedAttrs.map = {};\n              elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (i = 0, l = attrs.length; i < l; i++) {\n                  attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name in nodeMatches) {\n        if (nodeMatches.hasOwnProperty(name)) {\n          matches.push(nodeMatches[name]);\n        }\n      }\n      for (var name in attrMatches) {\n        if (attrMatches.hasOwnProperty(name)) {\n          matches.push(attrMatches[name]);\n        }\n      }\n      return matches;\n    };\n    var filter$2 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each(matches, function (match) {\n        each(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var hasFocus = function (element) {\n      var doc = owner(element).dom();\n      return element.dom() === doc.activeElement;\n    };\n    var active = function (_doc) {\n      var doc = _doc !== undefined ? _doc.dom() : domGlobals.document;\n      return Option.from(doc.activeElement).map(Element.fromDom);\n    };\n    var search = function (element) {\n      return active(owner(element)).filter(function (e) {\n        return element.dom().contains(e.dom());\n      });\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var argLength = arguments.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var args = new Array(argLength);\n          for (var i = 0; i < args.length; i++) {\n            args[i] = arguments[i];\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              if (arguments.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n              }\n              var target = arguments[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              domGlobals.console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    var create$3 = Immutable('start', 'soffset', 'finish', 'foffset');\n    var SimRange = { create: create$3 };\n\n    var adt = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$3 = adt.before;\n    var on = adt.on;\n    var after$2 = adt.after;\n    var Situ = {\n      before: before$3,\n      on: on,\n      after: after$2,\n      cata: cata,\n      getStart: getStart\n    };\n\n    var adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$1.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return Element.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$1.domRange;\n    var relative = adt$1.relative;\n    var exact = adt$1.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var Selection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$4 = detect$3().browser;\n    var clamp = function (offset, element) {\n      var max = isText$1(element) ? get$6(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return Selection.range(rng.start(), clamp(rng.soffset(), rng.start()), rng.finish(), clamp(rng.foffset(), rng.finish()));\n    };\n    var isOrContains = function (root, elm) {\n      return !NodeType.isRestrictedNode(elm.dom()) && (contains$2(root, elm) || eq(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start()) && isOrContains(root, rng.finish());\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$4.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return Selection.range(Element.fromDom(r.startContainer), r.startOffset, Element.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Option.none() : Option.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark$2 = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom()).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = domGlobals.document.createRange();\n      try {\n        rng.setStart(bookmark.start().dom(), bookmark.soffset());\n        rng.setEnd(bookmark.finish().dom(), bookmark.foffset());\n        return Option.some(rng);\n      } catch (_) {\n        return Option.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark$2(Element.fromDom(editor.getBody())) : Option.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = Element.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Option.from(rng) : Option.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Option.none();\n      return bookmark.bind(function (x) {\n        return validate(Element.fromDom(editor.getBody()), x);\n      }).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        editor.selection.setRng(rng);\n      });\n    };\n    var SelectionBookmark = {\n      store: store,\n      storeNative: storeNative,\n      readRange: readRange,\n      restore: restore,\n      getRng: getRng,\n      getBookmark: getBookmark$2,\n      validate: validate\n    };\n\n    var isEditorUIElement = function (elm) {\n      var className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils$1.DOM.bind(domGlobals.document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils$1.DOM.unbind(domGlobals.document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        SelectionBookmark.store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = detect$3().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup NodeChange', function (e) {\n        if (!isManualNodeChange(e)) {\n          SelectionBookmark.store(editor);\n        }\n      });\n    };\n    var register = function (editor) {\n      var throttledStore = first(function () {\n        SelectionBookmark.store(editor);\n      }, 0);\n      editor.on('init', function () {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n    var SelectionRestore = { register: register };\n\n    var documentFocusInHandler;\n    var DOM$1 = DOMUtils$1.DOM;\n    var isEditorUIElement$1 = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isEditorContentAreaElement = function (elm) {\n      var classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = editor ? editor.settings.custom_ui_selector : '';\n      var parent = DOM$1.getParent(elm, function (elm) {\n        return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function () {\n      try {\n        return domGlobals.document.activeElement;\n      } catch (ex) {\n        return domGlobals.document.body;\n      }\n    };\n    var registerEvents = function (editorManager, e) {\n      var editor = e.editor;\n      SelectionRestore.register(editor);\n      editor.on('focusin', function () {\n        var self = this;\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== self) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: self });\n          }\n          editorManager.setActive(self);\n          editorManager.focusedEditor = self;\n          self.fire('focus', { blurredEditor: focusedEditor });\n          self.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        var self = this;\n        Delay.setEditorTimeout(self, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(self, getActiveElement()) && focusedEditor === self) {\n            self.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          var target;\n          target = e.target;\n          if (activeEditor && target.ownerDocument === domGlobals.document) {\n            if (target !== domGlobals.document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n              activeEditor.fire('blur', { focusedEditor: null });\n              editorManager.focusedEditor = null;\n            }\n          }\n        };\n        DOM$1.bind(domGlobals.document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$1.unbind(domGlobals.document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$2 = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n    var FocusController = {\n      setup: setup$2,\n      isEditorUIElement: isEditorUIElement$1,\n      isEditorContentAreaElement: isEditorContentAreaElement,\n      isUIElement: isUIElement\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Option.from(getNode(rng.startContainer, rng.startOffset)).map(Element.fromDom) : Option.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Option.some(node);\n        } else if (contains$2(root, node) === false) {\n          return Option.some(root);\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var normalizeSelection = function (editor, rng) {\n      getFocusInElement(Element.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return CaretFinder.firstPositionIn(elm.dom());\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus(Element.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(Element.fromDom(rawBody));\n    };\n    var hasUiFocus = function (editor) {\n      return active().filter(function (elem) {\n        return !FocusController.isEditorContentAreaElement(elem.dom()) && FocusController.isUIElement(editor, elem.dom());\n      }).isSome();\n    };\n    var hasFocus$1 = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var hasEditorOrUiFocus = function (editor) {\n      return hasFocus$1(editor) || hasUiFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n        SelectionBookmark.getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || editor.inline) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      skipFocus ? activateEditor(editor) : focusEditor(editor);\n    };\n    var EditorFocus = {\n      focus: focus,\n      hasFocus: hasFocus$1,\n      hasEditorOrUiFocus: hasEditorOrUiFocus\n    };\n\n    var defaultFormat$1 = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof Node$1;\n    };\n    var moveSelection = function (editor) {\n      if (EditorFocus.hasFocus(editor)) {\n        CaretFinder.firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = NodeType.isTable(node) ? CaretFinder.firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html) {\n      editor.dom.setHTML(editor.getBody(), html);\n      moveSelection(editor);\n    };\n    var setContentString = function (editor, body, content, args) {\n      var forcedRootBlockName, padd;\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        forcedRootBlockName = Settings.getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs, content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = Serializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(Element.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$2(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = Serializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = isWsPreserveElement(Element.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, args.content);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setContent = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      args.format = args.format ? args.format : defaultFormat$1;\n      args.set = true;\n      args.content = isTreeNode(content) ? '' : content;\n      if (!isTreeNode(content) && !args.no_events) {\n        editor.fire('BeforeSetContent', args);\n        content = args.content;\n      }\n      return Option.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\n      });\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n    var Events = {\n      firePreProcess: firePreProcess,\n      firePostProcess: firePostProcess,\n      fireRemove: fireRemove,\n      fireDetach: fireDetach,\n      fireSwitchMode: fireSwitchMode,\n      fireObjectResizeStart: fireObjectResizeStart,\n      fireObjectResized: fireObjectResized\n    };\n\n    var DOM$2 = DOMUtils$1.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$2.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Option.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$2.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove$6 = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$2.remove(element.nextSibling);\n        }\n        Events.fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        Events.fireDetach(editor);\n        DOM$2.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep$1 = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty$2.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep$1);\n    var merge = baseMerge(shallow$1);\n\n    var sectionResult = Immutable('sections', 'settings');\n    var deviceDetection = detect$3().deviceType;\n    var isTouch = deviceDetection.isTouch();\n    var isPhone = deviceDetection.isPhone();\n    var isTablet = deviceDetection.isTablet();\n    var legacyMobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultTouchSettings = {\n      table_grid: false,\n      object_resizing: false,\n      resize: false\n    };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim);\n      return filter(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterLegacyMobilePlugins = function (plugins) {\n      return filter(plugins, curry(contains, legacyMobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      if (defaults === void 0) {\n        defaults = {};\n      }\n      var sections = sectionResult.sections();\n      var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return sectionResult.sections().hasOwnProperty(name);\n    };\n    var isSectionTheme = function (sectionResult, name, theme) {\n      var section = sectionResult.sections();\n      return hasSection(sectionResult, name) && section[name].theme === theme;\n    };\n    var getSectionConfig = function (sectionResult, name) {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    var getDefaultSettings = function (id, documentBaseUrl, isTouch, editor) {\n      var baseDefaults = {\n        id: id,\n        theme: 'silver',\n        toolbar_drawer: 'floating',\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: true,\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor\n      };\n      return __assign(__assign({}, baseDefaults), isTouch ? defaultTouchSettings : {});\n    };\n    var getDefaultMobileSettings = function (isPhone) {\n      var defaultMobileSettings = {\n        resize: false,\n        toolbar_drawer: 'scrolling',\n        toolbar_sticky: false\n      };\n      var defaultPhoneSettings = { menubar: false };\n      return __assign(__assign(__assign({}, defaultTouchSettings), defaultMobileSettings), isPhone ? defaultPhoneSettings : {});\n    };\n    var getExternalPlugins = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var processPlugins = function (isMobileDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var desktopPlugins = normalizePlugins(settings.plugins);\n      var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      var platformPlugins = isMobileDevice && isSectionTheme(sectionResult, 'mobile', 'mobile') ? filterLegacyMobilePlugins(mobilePlugins) : isMobileDevice && hasSection(sectionResult, 'mobile') ? mobilePlugins : desktopPlugins;\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isMobileDevice, sectionResult) {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    var combineSettings = function (isMobileDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n      var defaultDeviceSettings = isMobileDevice ? { mobile: getDefaultMobileSettings(isPhone) } : {};\n      var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n        validate: true,\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(id, documentBaseUrl, isTouch, editor);\n      return combineSettings(isPhone || isTablet, isPhone, defaultSettings, defaultOverrideSettings, settings);\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Option.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom();\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$2(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect$1 = function (elm) {\n      return elm.dom().getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect$1(elm);\n      var deltaX = inline ? clientRect.left + elm.dom().clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom().clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = Element.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Option.from(node).map(Element.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(function (container) {\n        return contains$2(owner(container), container);\n      }).getOr(false);\n    };\n    var EditorView = {\n      isXYInContentArea: isXYInContentArea,\n      isEditorAttachedToDom: isEditorAttachedToDom\n    };\n\n    function NotificationManagerImpl() {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    }\n\n    function NotificationManager(editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Option.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (spec) {\n        if (editor.removed || !EditorView.isEditorAttachedToDom(editor)) {\n          return;\n        }\n        return find(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(spec, function () {\n            closeNotification(notification);\n            reposition();\n          });\n          addNotification(notification);\n          reposition();\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = function () {\n        return notifications;\n      };\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = editor.settings.service_message;\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            });\n          }\n        });\n        editor.on('ResizeEditor ResizeWindow NodeChange', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    }\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    var WindowManager = function (editor) {\n      var dialogs = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          return f ? f.apply(scope, arguments) : undefined;\n        };\n      };\n      var fireOpenEvent = function (dialog) {\n        editor.fire('OpenWindow', { dialog: dialog });\n      };\n      var fireCloseEvent = function (dialog) {\n        editor.fire('CloseWindow', { dialog: dialog });\n      };\n      var addDialog = function (dialog) {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      var closeDialog = function (dialog) {\n        fireCloseEvent(dialog);\n        dialogs = filter(dialogs, function (otherDialog) {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      var getTopDialog = function () {\n        return Option.from(dialogs[dialogs.length - 1]);\n      };\n      var storeSelectionAndOpenDialog = function (openDialog) {\n        editor.editorManager.setActive(editor);\n        SelectionBookmark.store(editor);\n        var dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      var open = function (args, params) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().open(args, params, closeDialog);\n        });\n      };\n      var openUrl = function (args) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().openUrl(args, closeDialog);\n        });\n      };\n      var alert = function (message, callback, scope) {\n        getImplementation().alert(message, funcBind(scope ? scope : this, callback));\n      };\n      var confirm = function (message, callback, scope) {\n        getImplementation().confirm(message, funcBind(scope ? scope : this, callback));\n      };\n      var close = function () {\n        getTopDialog().each(function (dialog) {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', function () {\n        each(dialogs, function (dialog) {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        confirm: confirm,\n        close: close\n      };\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var logError = function (msg) {\n      domGlobals.console.error(msg);\n    };\n    var createLoadError = function (type, url, name) {\n      return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n    };\n    var pluginLoadError = function (url, name) {\n      logError(createLoadError('plugin', url, name));\n    };\n    var iconsLoadError = function (url, name) {\n      logError(createLoadError('icons', url, name));\n    };\n    var languageLoadError = function (url, name) {\n      logError(createLoadError('language', url, name));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = domGlobals.window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, arguments);\n        } else {\n          console.log.apply(console, arguments);\n        }\n      }\n    };\n    var ErrorReporter = {\n      pluginLoadError: pluginLoadError,\n      iconsLoadError: iconsLoadError,\n      languageLoadError: languageLoadError,\n      pluginInitError: pluginInitError,\n      uploadError: uploadError,\n      displayError: displayError,\n      initError: initError\n    };\n\n    var getAll = function () {\n      return {\n        'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n        'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n        'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n        'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n        'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z\" fill-rule=\"evenodd\"/></svg>',\n        'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z\" fill-rule=\"evenodd\"/></svg>',\n        'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n        'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z\" fill-rule=\"nonzero\"/></svg>',\n        'border-width': '<svg width=\"24\" height=\"24\"><path d=\"M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z\" fill-rule=\"evenodd\"/></svg>',\n        'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n        'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n        'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n        'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n        'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n        'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n        'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n        'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n        'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n        'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n        'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n        'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n        'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n        'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n        'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n        'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fill-rule=\"nonzero\"/></svg>',\n        'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n        'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n        'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z\"/></g></svg>',\n        'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z\"/></svg>',\n        'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z\" fill-rule=\"evenodd\"/></svg>',\n        'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n        'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n        'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n        'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n        'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n        'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z\"/></g></svg>',\n        'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n        'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n        'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n        'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z\" fill-rule=\"nonzero\"/></svg>',\n        'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z\" fill-rule=\"nonzero\"/></svg>',\n        'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n        'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n        'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n        'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n        'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n        'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z\"/></svg>',\n        'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n        'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n        'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n        'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n        'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n        'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/></svg>',\n        'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\" fill-rule=\"nonzero\"/></svg>',\n        'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n        'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n        'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n        'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n        'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n        'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n        'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n        'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n        'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n        'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n        'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n        'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n        'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n        'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n        'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n        'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n        'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n        'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n        'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n        'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n        'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/></svg>',\n        'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n        'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n        'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n        'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n        'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n        'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n        'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n        'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n        'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n        'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n        'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n        'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n        'plus': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke=\"#000\" stroke-width=\"2\"><path d=\"M12 5v14M5 12h14\"/></g></svg>',\n        'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" fill-rule=\"evenodd\"/></svg>',\n        'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n        'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n        'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n        'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n        'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z\"/></g></svg>',\n        'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z\" fill-rule=\"evenodd\"/></svg>',\n        'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n        'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z\"/></g></svg>',\n        'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z\" fill-rule=\"evenodd\"/></svg>',\n        'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n        'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n        'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n        'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n        'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n        'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\" fill-rule=\"nonzero\"/></svg>',\n        'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n        'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z\"/></svg>',\n        'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n        'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n        'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n        'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n        'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z\" fill-rule=\"nonzero\"/></g></svg>',\n        'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n        'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n        'table-cell-properties': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n        'table-cell-select-all': '<svg width=\"24\" height=\"24\"><path d=\"M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z\" fill-rule=\"nonzero\"/></svg>',\n        'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z\" opacity=\".2\"/><path d=\"M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z\"/></g></svg>',\n        'table-delete-column': '<svg width=\"24\" height=\"24\"><path d=\"M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z\" fill-rule=\"evenodd\"/></svg>',\n        'table-delete-row': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z\" fill-rule=\"evenodd\"/></svg>',\n        'table-delete-table': '<svg width=\"24\" height=\"26\"><path d=\"M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n        'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path d=\"M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z\" fill-rule=\"evenodd\"/></svg>',\n        'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path d=\"M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n        'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path d=\"M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z\" fill-rule=\"evenodd\"/></svg>',\n        'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path d=\"M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n        'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n        'table-merge-cells': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z\" fill-rule=\"evenodd\"/></svg>',\n        'table-row-properties': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n        'table-split-cells': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z\" fill-rule=\"evenodd\"/></svg>',\n        'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z\" fill-rule=\"evenodd\"/></svg>',\n        'table': '<svg width=\"24\" height=\"24\"><path d=\"M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z\" fill-rule=\"evenodd\"/></svg>',\n        'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n        'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n        'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n        'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n        'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z\" fill-rule=\"evenodd\"/></svg>',\n        'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n        'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n        'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n        'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n        'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n        'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n        'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n        'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n        'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n        'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n        'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z\" fill-rule=\"nonzero\"/></svg>',\n        'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z\" fill-rule=\"nonzero\"/></svg>'\n      };\n    };\n\n    var CreateIconManager = function () {\n      var lookup = {};\n      var add = function (id, iconPack) {\n        lookup[id] = iconPack;\n      };\n      var get = function (id) {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      var has$1 = function (id) {\n        return has(lookup, id);\n      };\n      return {\n        add: add,\n        get: get,\n        has: has$1\n      };\n    };\n    var IconManager = CreateIconManager();\n\n    var PluginManager = AddOnManager$1.PluginManager;\n\n    var ThemeManager = AddOnManager$1.ThemeManager;\n\n    function Uploader(uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr, formData;\n        xhr = new domGlobals.XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          var json;\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        formData = new domGlobals.FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, error) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: error\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          var noop = function () {\n          };\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error) {\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n              resolve(handlerFailure(blobInfo, error));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              if (!notification) {\n                notification = openNotification();\n              }\n              notification.progressBar.value(percent);\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    }\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr = new domGlobals.XMLHttpRequest();\n          xhr.open('GET', url, true);\n          xhr.responseType = 'blob';\n          xhr.onload = function () {\n            if (this.status === 200) {\n              resolve(this.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr.onerror = rejectWithError;\n          xhr.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri = function (uri) {\n      var type, matches;\n      var uriParts = decodeURIComponent(uri).split(',');\n      matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var str, arr, i;\n        var uriParts = parseDataUri(uri);\n        try {\n          str = domGlobals.atob(uriParts.data);\n        } catch (e) {\n          resolve(new domGlobals.Blob([]));\n          return;\n        }\n        arr = new Uint8Array(str.length);\n        for (i = 0; i < arr.length; i++) {\n          arr[i] = str.charCodeAt(i);\n        }\n        resolve(new domGlobals.Blob([arr], { type: uriParts.type }));\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = new domGlobals.FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var Conversions = {\n      uriToBlob: uriToBlob,\n      blobToDataUri: blobToDataUri,\n      parseDataUri: parseDataUri\n    };\n\n    var count = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          Conversions.uriToBlob(img.src).then(function (blob) {\n            Conversions.blobToDataUri(blob).then(function (dataUri) {\n              base64 = Conversions.parseDataUri(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      base64 = Conversions.parseDataUri(img.src).data;\n      blobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.base64() === base64;\n      });\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        Conversions.uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from$1(elm.getElementsByTagName('img')) : [];\n    };\n    function ImageScanner(uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        var images;\n        if (!predicate) {\n          predicate = constant(true);\n        }\n        images = filter(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map(images, function (img) {\n          if (cachedPromises[img.src]) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    }\n\n    var count$1 = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count$1++ + seed();\n    };\n    var Uuid = { uuid: uuid };\n\n    var BlobCache = function () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, filename) {\n        if (isString(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        var id, name;\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        id = o.id || Uuid.uuid('blobid');\n        name = o.name || id;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(name + '.' + mimeToExt(o.blob.type)),\n          blob: constant(o.blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || domGlobals.URL.createObjectURL(o.blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var findFirst = function (predicate) {\n        return filter(cache, predicate)[0];\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            domGlobals.URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each(cache, function (cachedBlobInfo) {\n          domGlobals.URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    };\n\n    function UploadStatus () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    }\n\n    var EditorUpload = function (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function () {\n        return '?' + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', 'src=\"' + replacementUrl + '\"');\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var openNotification = function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n      var replaceImageUri = function (image, resultUri) {\n        blobCache.removeByUri(image.src);\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': Settings.shouldReuseFileName(editor) ? resultUri + cacheInvalidator() : resultUri,\n          'data-mce-src': editor.convertURL(resultUri, 'src')\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = Uploader(uploadStatus, {\n            url: Settings.getImageUploadUrl(editor),\n            basePath: Settings.getImageUploadBasePath(editor),\n            credentials: Settings.getImagesUploadCredentials(editor),\n            handler: Settings.getImagesUploadHandler(editor)\n          });\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos;\n          blobInfos = map(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification).then(aliveGuard(function (result) {\n            var filteredResult = map(result, function (uploadInfo, index) {\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && Settings.shouldReplaceBlobUris(editor)) {\n                replaceImageUri(image, uploadInfo.url);\n              } else if (uploadInfo.error) {\n                ErrorReporter.uploadError(editor, uploadInfo.error);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status\n              };\n            });\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = Settings.getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              ErrorReporter.displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          each(result, function (resultItem) {\n            replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n            resultItem.image.src = resultItem.blobInfo.blobUri();\n            resultItem.image.removeAttribute('data-mce-src');\n          });\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', function () {\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', function (e) {\n        if (e.source_view || e.format === 'raw') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil$1 = function (start, root, predicate) {\n      if (contains$2(root, start)) {\n        return dropLast(parents(start, function (elm) {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents$1 = function (start, root) {\n      return parentsUntil$1(start, root, constant(false));\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents$1(start, root));\n    };\n    var Parents = {\n      parentsUntil: parentsUntil$1,\n      parents: parents$1,\n      parentsAndSelf: parentsAndSelf\n    };\n\n    var isBlockElement = function (blockElements, node) {\n      return blockElements.hasOwnProperty(node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (NodeType.isText(node)) {\n        return true;\n      } else if (NodeType.isElement(node)) {\n        return !isBlockElement(blockElements, node) && !Bookmarks.isBookmarkNode(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(Parents.parents(Element.fromDom(node), Element.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom());\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (NodeType.isText(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rng;\n      var startContainer, startOffset, endContainer, endOffset, rootBlockNode;\n      var tempNode, wrapped, restoreSelection;\n      var rootNodeName;\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      if (!node || !NodeType.isElement(node) || !forcedRootBlock) {\n        return;\n      }\n      rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      rng = selection.getRng();\n      startContainer = rng.startContainer;\n      startOffset = rng.startOffset;\n      endContainer = rng.endContainer;\n      endOffset = rng.endOffset;\n      restoreSelection = EditorFocus.hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, Settings.getForcedRootBlockAttrs(editor));\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$3 = function (editor) {\n      if (Settings.getForcedRootBlock(editor)) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n    var ForceBlocks = { setup: setup$3 };\n\n    var isEq$1 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n    var RangeCompare = { isEq: isEq$1 };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (NodeType.isText(sc)) {\n        return so === 0 ? Option.some(Element.fromDom(sc)) : Option.none();\n      } else {\n        return Option.from(sc.childNodes[so]).map(Element.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (NodeType.isText(ec)) {\n        return eo === ec.data.length ? Option.some(Element.fromDom(ec)) : Option.none();\n      } else {\n        return Option.from(ec.childNodes[eo - 1]).map(Element.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find(getFirstChildren(elm), curry(eq, startNode));\n        var end = find(getLastChildren(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint$1 = function (dom, rng, node, start) {\n      var root = node, walker = new TreeWalker(node, root);\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      do {\n        if (node.nodeType === 3 && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n\n    var NodeChange = function () {\n      function NodeChange(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        var lastRng;\n        var self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', function (e) {\n            var nativeRng, fakeRng;\n            nativeRng = editor.selection.getRng();\n            fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !RangeCompare.isEq(fakeRng, lastRng)) {\n              editor.fire('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', function () {\n          editor.fire('SelectionChange');\n        });\n        editor.on('SelectionChange', function () {\n          var startElm = editor.selection.getStart(true);\n          if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', function (e) {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, function () {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      NodeChange.prototype.nodeChanged = function (args) {\n        var selection = this.editor.selection;\n        var node, parents, root;\n        if (this.editor.initialized && selection && !this.editor.settings.disable_nodechange && !this.editor.readonly) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.fire('NodeChange', args);\n        }\n      };\n      NodeChange.prototype.isSameElementPath = function (startElm) {\n        var i, currentPath;\n        currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      };\n      return NodeChange;\n    }();\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var is$2 = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is$2('\\xA0');\n    var isWhiteSpace$1 = function (chr) {\n      return /^[\\r\\n\\t ]$/.test(chr);\n    };\n    var isContent = function (chr) {\n      return !isWhiteSpace$1(chr) && !isNbsp(chr);\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Option.from(pos.container()).filter(NodeType.isText).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace$1);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace$1);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return NodeType.isText(container) && container.data.length === 0;\n    };\n    var matchesElementPosition = function (before, predicate) {\n      return function (pos) {\n        return Option.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n      };\n    };\n    var isImageBlock = function (node) {\n      return node.nodeName === 'IMG' && get$2(Element.fromDom(node), 'display') === 'block';\n    };\n    var isCefNode = function (node) {\n      return NodeType.isContentEditableFalse(node) && !NodeType.isBogusAll(node);\n    };\n    var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    var isBeforeTable = matchesElementPosition(true, NodeType.isTable);\n    var isAfterTable = matchesElementPosition(false, NodeType.isTable);\n    var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map(clientRects, function (clientRect) {\n          clientRect = clone$1(clientRect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (NodeType.isElement(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (NodeType.isText(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (node) {\n      return foldl(node, function (result, node) {\n        return result.concat(getNodeClientRects(node));\n      }, []);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil = function (direction, root, predicateFn, node) {\n      while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0, node;\n      var result = [];\n      var targetClientRect;\n      var add = function (node) {\n        var i, clientRect, clientRects;\n        clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (i = 0; i < clientRects.length; i++) {\n          clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, ArrUtils.last(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      targetClientRect = ArrUtils.last(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\n    var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn, isBelowFn, isAboveFn, caretPosition;\n      var result = [];\n      var line = 0, clientRect, targetClientRect;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return ArrUtils.last(caretPosition.getClientRects());\n        }\n        return ArrUtils.last(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow;\n        isAboveFn = isAbove;\n        caretPosition = CaretPosition$1.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove;\n        isAboveFn = isBelow;\n        caretPosition = CaretPosition$1.before(node);\n      }\n      targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        clientRect = getClientRect(caretPosition);\n        if (isAboveFn(clientRect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(clientRect, ArrUtils.last(result))) {\n          line++;\n        }\n        clientRect = clone$1(clientRect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$6 = NodeType.isContentEditableFalse;\n    var findNode$1 = findNode;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInside = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var findClosestClientRect = function (clientRects, clientX) {\n      return ArrUtils.reduce(clientRects, function (oldClientRect, clientRect) {\n        var oldDistance, newDistance;\n        oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (isInside(clientX, clientRect)) {\n          return clientRect;\n        }\n        if (isInside(clientX, oldClientRect)) {\n          return oldClientRect;\n        }\n        if (newDistance === oldDistance && isContentEditableFalse$6(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil$1 = function (direction, root, predicateFn, node) {\n      while (node = findNode$1(node, direction, isEditableCaretCandidate, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var findLineNodeRects = function (root, targetNodeRect) {\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects;\n        lineRects = filter(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node);\n      walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter(from$1(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestCaret = function (root, clientX, clientY) {\n      var closestNodeRect;\n      var contentEditableFalseNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter(contentEditableFalseNodeRects, function (rect) {\n        return clientY >= rect.top && clientY <= rect.bottom;\n      });\n      closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\n      if (closestNodeRect) {\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect), clientX);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.browser.isIE() && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (NodeType.isElement(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n    var RangePoint = { isXYWithinRange: isXYWithinRange };\n\n    var getAbsolutePosition = function (elm) {\n      var doc, docElem, win, clientRect;\n      clientRect = elm.getBoundingClientRect();\n      doc = elm.ownerDocument;\n      docElem = doc.documentElement;\n      win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n    var MousePosition = { calc: calc };\n\n    var isContentEditableFalse$7 = NodeType.isContentEditableFalse, isContentEditableTrue$2 = NodeType.isContentEditableTrue;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$7(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$7(targetElement);\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var clonedElm = elm.cloneNode(true);\n      editor.dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = editor.dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      editor.dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      editor.dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var hasDraggableElement = function (state) {\n      return state.element;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find(editor.dom.getParents(e.target), Predicate.or(isContentEditableFalse$7, isContentEditableTrue$2)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.element = ceElm;\n            state.screenX = e.screenX;\n            state.screenY = e.screenY;\n            state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\n            state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\n            state.relX = e.pageX - elmPos.x;\n            state.relY = e.pageY - elmPos.y;\n            state.width = ceElm.offsetWidth;\n            state.height = ceElm.offsetHeight;\n            state.ghost = createGhost(editor, ceElm, state.width, state.height);\n          }\n        }\n      };\n    };\n    var move = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      return function (e) {\n        var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n        if (hasDraggableElement(state) && !state.dragging && movement > 10) {\n          var args = editor.fire('dragstart', { target: state.element });\n          if (args.isDefaultPrevented()) {\n            return;\n          }\n          state.dragging = true;\n          editor.focus();\n        }\n        if (state.dragging) {\n          var targetPos = applyRelPos(state, MousePosition.calc(editor, e));\n          appendGhostToBody(state.ghost, editor.getBody());\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n          throttledPlaceCaretAt(e.clientX, e.clientY);\n        }\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        if (state.dragging) {\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n            var targetClone_1 = cloneElement(state.element);\n            var args = editor.fire('drop', {\n              targetClone: targetClone_1,\n              clientX: e.clientX,\n              clientY: e.clientY\n            });\n            if (!args.isDefaultPrevented()) {\n              targetClone_1 = args.targetClone;\n              editor.undoManager.transact(function () {\n                removeElement(state.element);\n                editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                editor._selectionOverrides.hideFakeCaret();\n              });\n            }\n          }\n        }\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        if (state.dragging) {\n          editor.fire('dragend');\n        }\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.dragging = false;\n      state.element = null;\n      removeElement(state.ghost);\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = {};\n      var pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\n      pageDom = DOMUtils$1.DOM;\n      rootDocument = domGlobals.document;\n      dragStartHandler = start(state, editor);\n      dragHandler = move(state, editor);\n      dropHandler = drop(state, editor);\n      dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$7(realTarget) || isContentEditableFalse$7(editor.dom.getContentEditableParent(realTarget))) {\n          e.preventDefault();\n        }\n      });\n    };\n    var init = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n    };\n    var DragDropOverrides = { init: init };\n\n    var isContentEditableTrue$3 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$8 = NodeType.isContentEditableFalse;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView);\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n      return getNodeRange(node);\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition$1.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isContentEditableFalse$8(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isContentEditableFalse$8(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$8(node) || isContentEditableTrue$3(node);\n      });\n      if (isContentEditableFalse$8(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return null;\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      if (!range || !range.collapsed) {\n        return range;\n      }\n      var caretRange = renderCaretAtRange(editor, range, scrollIntoView);\n      if (caretRange) {\n        return caretRange;\n      }\n      return range;\n    };\n\n    var setup$4 = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed && editor.getBody().contains(domGlobals.document.activeElement)) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, editor.selection.getRng(), false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n    var CefFocus = { setup: setup$4 };\n\n    var isContentEditableTrue$4 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$9 = NodeType.isContentEditableFalse;\n    var getContentEditableRoot = function (editor, node) {\n      var root = editor.getBody();\n      while (node && node !== root) {\n        if (isContentEditableTrue$4(node) || isContentEditableFalse$9(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var SelectionOverrides = function (editor) {\n      var isBlock = function (node) {\n        return editor.dom.isBlock(node);\n      };\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor.getBody(), isBlock, function () {\n        return EditorFocus.hasFocus(editor);\n      });\n      var realSelectionId = 'sel-' + editor.dom.uniqueId();\n      var selectedContentEditableNode;\n      var isFakeSelectionElement = function (elm) {\n        return editor.dom.hasClass(elm, 'mce-offscreen-selection');\n      };\n      var getRealSelectionElement = function () {\n        var container = editor.dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          editor.selection.setRng(range);\n        }\n      };\n      var getRange = function () {\n        return editor.selection.getRng();\n      };\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e;\n        e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          editor.selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          editor.selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && EditorView.isXYInContentArea(editor, e.clientX, e.clientY)) {\n            setRange(renderCaretAtRange(editor, range, false));\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot;\n          contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$9(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue$4(contentEditableRoot)) {\n              if (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\n                removeContentEditableSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', function () {\n          removeContentEditableSelection();\n        });\n        editor.on('ResizeWindow FullscreenStateChanged', function () {\n          return fakeCaret.reposition();\n        });\n        var handleTouchSelect = function (editor) {\n          var moved = false;\n          editor.on('touchstart', function () {\n            moved = false;\n          });\n          editor.on('touchmove', function () {\n            moved = true;\n          });\n          editor.on('touchend', function (e) {\n            if (!moved) {\n              var contentEditableRoot = getContentEditableRoot(editor, e.target);\n              if (isContentEditableFalse$9(contentEditableRoot)) {\n                e.preventDefault();\n                setContentEditableSelection(selectNode(editor, contentEditableRoot));\n              }\n            }\n          }, true);\n        };\n        var hasNormalCaretPosition = function (elm) {\n          var caretWalker = CaretWalker(elm);\n          if (!elm.firstChild) {\n            return false;\n          }\n          var startPos = CaretPosition$1.before(elm.firstChild);\n          var newPos = caretWalker.next(startPos);\n          return newPos && !isBeforeContentEditableFalse(newPos) && !isAfterContentEditableFalse(newPos);\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = editor.dom.getParent(node1, editor.dom.isBlock);\n          var block2 = editor.dom.getParent(node2, editor.dom.isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\n          var caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\n          if (targetBlock && editor.dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$9(getContentEditableRoot(editor, targetBlock)) === false) {\n            return true;\n          }\n          return targetBlock && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        handleTouchSelect(editor);\n        editor.on('mousedown', function (e) {\n          var contentEditableRoot;\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !editor.dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (EditorView.isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$9(contentEditableRoot)) {\n              e.preventDefault();\n              setContentEditableSelection(selectNode(editor, contentEditableRoot));\n            } else {\n              removeContentEditableSelection();\n              if (!(isContentEditableTrue$4(contentEditableRoot) && e.shiftKey) && !RangePoint.isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\n                hideFakeCaret();\n                editor.selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeContentEditableSelection();\n            hideFakeCaret();\n            var caretInfo = closestCaret(rootNode, e.clientX, e.clientY);\n            if (caretInfo) {\n              if (!hasBetterMouseTarget(e.target, caretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, caretInfo.node, caretInfo.before, false);\n                editor.getBody().focus();\n                setRange(range);\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          switch (e.keyCode) {\n          default:\n            if (isContentEditableFalse$9(editor.selection.getNode())) {\n              e.preventDefault();\n            }\n            break;\n          }\n        });\n        editor.on('GetSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedContentEditableNode) {\n            if (!selectedContentEditableNode.parentNode) {\n              selectedContentEditableNode = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedContentEditableNode);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setContentEditableSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(rng.startContainer.parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(rng.startContainer.parentNode)) {\n            removeContentEditableSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText);\n            }\n          }\n        });\n        DragDropOverrides.init(editor);\n        CefFocus.setup(editor);\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = editor.dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setContentEditableSelection = function (range, forward) {\n        var node;\n        var $ = editor.$;\n        var dom = editor.dom;\n        var $realSelectionContainer, sel, startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            if (forward === false) {\n              caretPosition = getNormalizedRangeEndPoint(-1, rootNode, range);\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\n                return showCaret(-1, caretPosition.getNode(true), false, false);\n              }\n              if (isFakeCaretTarget(caretPosition.getNode())) {\n                return showCaret(-1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n              }\n            } else {\n              caretPosition = getNormalizedRangeEndPoint(1, rootNode, range);\n              if (isFakeCaretTarget(caretPosition.getNode())) {\n                return showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n              }\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\n                return showCaret(1, caretPosition.getNode(true), false, false);\n              }\n            }\n          }\n          return null;\n        }\n        startContainer = range.startContainer;\n        startOffset = range.startOffset;\n        endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$9(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          node = startContainer.childNodes[startOffset];\n        }\n        if (!isContentEditableFalse$9(node)) {\n          return null;\n        }\n        targetClone = origTargetClone = node.cloneNode(true);\n        e = editor.fire('ObjectSelected', {\n          target: node,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        $realSelectionContainer = descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom()]);\n        });\n        targetClone = e.targetClone;\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        range = editor.dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          range.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          range.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');\n          range.setStart($realSelectionContainer[0].firstChild, 1);\n          range.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        sel = editor.selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(range);\n        var nodeElm = Element.fromDom(node);\n        each(descendants$1(Element.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          if (!eq(nodeElm, elm)) {\n            remove(elm, 'data-mce-selected');\n          }\n        });\n        if (!editor.dom.getAttrib(node, 'data-mce-selected')) {\n          node.setAttribute('data-mce-selected', '1');\n        }\n        selectedContentEditableNode = node;\n        hideFakeCaret();\n        return range;\n      };\n      var removeContentEditableSelection = function () {\n        if (selectedContentEditableNode) {\n          selectedContentEditableNode.removeAttribute('data-mce-selected');\n          descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n          selectedContentEditableNode = null;\n        }\n        descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n        selectedContentEditableNode = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedContentEditableNode = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse) {\n        registerEvents();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n    var Diff = {\n      KEEP: KEEP,\n      DELETE: DELETE,\n      INSERT: INSERT,\n      diff: diff\n    };\n\n    var getOuterHtml = function (elm) {\n      if (NodeType.isElement(elm)) {\n        return elm.outerHTML;\n      } else if (NodeType.isText(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (NodeType.isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment$1 = function (html) {\n      var frag, node, container;\n      container = domGlobals.document.createElement('div');\n      frag = domGlobals.document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment$1(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each(diff, function (action) {\n        if (action[0] === Diff.KEEP) {\n          index++;\n        } else if (action[0] === Diff.INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === Diff.DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$1 = function (elm) {\n      return filter(map(from$1(elm.childNodes), getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map(from$1(elm.childNodes), getOuterHtml);\n      applyDiff(Diff.diff(currentFragments, fragments), elm);\n      return elm;\n    };\n    var Fragments = {\n      read: read$1,\n      write: write\n    };\n\n    var undoLevelDocument = Cell(Option.none());\n    var lazyTempDocument = function () {\n      return undoLevelDocument.get().getOrThunk(function () {\n        var doc = domGlobals.document.implementation.createHTMLDocument('undo');\n        undoLevelDocument.set(Option.some(doc));\n        return doc;\n      });\n    };\n    var hasIframes = function (html) {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var fragments, content, trimmedFragments;\n      fragments = Fragments.read(editor.getBody());\n      trimmedFragments = bind(fragments, function (html) {\n        var trimmed = TrimHtml.trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    var applyToEditor = function (editor, level, before) {\n      if (level.type === 'fragmented') {\n        Fragments.write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, { format: 'raw' });\n      }\n      editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = Element.fromTag('body', lazyTempDocument());\n      set$1(elm, getLevelContent(level));\n      each(descendants$1(elm, '*[data-mce-bogus]'), unwrap);\n      return get$5(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$2 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n    var Levels = {\n      createFragmentedLevel: createFragmentedLevel,\n      createCompleteLevel: createCompleteLevel,\n      createFromEditor: createFromEditor,\n      applyToEditor: applyToEditor,\n      isEq: isEq$2\n    };\n\n    var isUnlocked = function (locks) {\n      return locks.get() === 0;\n    };\n\n    var setTyping = function (undoManager, typing, locks) {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    var endTyping = function (undoManager, locks) {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    var endTypingLevelIgnoreLocks = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    var beforeChange = function (editor, locks, beforeBookmark) {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(Option.some(GetBookmark.getUndoBookmark(editor.selection)));\n      }\n    };\n    var addUndoLevel = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      var settings = editor.settings;\n      var currentLevel = Levels.createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      var lastLevel = undoManager.data[index.get()];\n      if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && Levels.isEq(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(function (bm) {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      if (settings.custom_undo_redo_levels) {\n        if (undoManager.data.length > settings.custom_undo_redo_levels) {\n          for (var i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = GetBookmark.getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      var args = {\n        level: level,\n        lastLevel: lastLevel,\n        originalEvent: event\n      };\n      editor.fire('AddUndo', args);\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.fire('change', args);\n      }\n      return level;\n    };\n    var clear = function (editor, undoManager, index) {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.fire('ClearUndos');\n    };\n    var extra = function (editor, undoManager, index, callback1, callback2) {\n      if (undoManager.transact(callback1)) {\n        var bookmark = undoManager.data[index.get()].bookmark;\n        var lastLevel = undoManager.data[index.get() - 1];\n        Levels.applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    var redo = function (editor, index, data) {\n      var level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        Levels.applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.fire('Redo', { level: level });\n      }\n      return level;\n    };\n    var undo = function (editor, undoManager, locks, index) {\n      var level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        Levels.applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.fire('Undo', { level: level });\n      }\n      return level;\n    };\n    var reset = function (undoManager) {\n      undoManager.clear();\n      undoManager.add();\n    };\n    var hasUndo = function (editor, undoManager, index) {\n      return index.get() > 0 || undoManager.typing && undoManager.data[0] && !Levels.isEq(Levels.createFromEditor(editor), undoManager.data[0]);\n    };\n    var hasRedo = function (undoManager, index) {\n      return index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    };\n    var transact = function (undoManager, locks, callback) {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    var ignore = function (locks, callback) {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    var registerEvents$1 = function (editor, undoManager, locks) {\n      var isFirstTypedCharacter = Cell(false);\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', function () {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command;\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command;\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', function () {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && Levels.isEq(Levels.createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n            editor.fire('change', {\n              level: undoManager.data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', function (e) {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    var addKeyboardShortcuts = function (editor) {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    var UndoManager = function (editor) {\n      var beforeBookmark = Cell(Option.none());\n      var locks = Cell(0);\n      var index = Cell(0);\n      var undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: function () {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: function (level, event) {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        undo: function () {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: function () {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: function () {\n          clear(editor, undoManager, index);\n        },\n        reset: function () {\n          reset(undoManager);\n        },\n        hasUndo: function () {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: function () {\n          return hasRedo(undoManager, index);\n        },\n        transact: function (callback) {\n          return transact(undoManager, locks, callback);\n        },\n        ignore: function (callback) {\n          ignore(locks, callback);\n        },\n        extra: function (callback1, callback2) {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      registerEvents$1(editor, undoManager, locks);\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    var getLastChildren$1 = function (elm) {\n      var children = [];\n      var rawNode = elm.dom();\n      while (rawNode) {\n        children.push(Element.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants$1(elm, 'br');\n      var brs = filter(getLastChildren$1(elm).slice(-1), isBr$1);\n      if (allBrs.length === brs.length) {\n        each(brs, remove$1);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append(elm, Element.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var isPaddingContents = function (elm) {\n      return isText$1(elm) ? get$6(elm) === '\\xA0' : isBr$1(elm);\n    };\n    var isPaddedElement = function (elm) {\n      return filter(children(elm), isPaddingContents).length === 1;\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock(elm) && isBr$1(lastChild) && isBlock(lastChildPrevSibling)) {\n            remove$1(lastChild);\n          }\n        });\n      });\n    };\n    var PaddingBr = {\n      removeTrailingBr: removeTrailingBr,\n      fillWithPaddingBr: fillWithPaddingBr,\n      isPaddedElement: isPaddedElement,\n      trimBlockTrailingBr: trimBlockTrailingBr\n    };\n\n    var isEq$3 = FormatUtils.isEq;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return matchNode(editor, node, name, vars);\n    };\n    var matchName = function (dom, node, format) {\n      if (isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isEq$3(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var key, value;\n      var items = format[itemName];\n      var i;\n      if (format.onmatch) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (typeof items.length === 'undefined') {\n          for (key in items) {\n            if (items.hasOwnProperty(key)) {\n              if (itemName === 'attributes') {\n                value = dom.getAttrib(node, key);\n              } else {\n                value = FormatUtils.getStyle(dom, node, key);\n              }\n              if (similar && !value && !format.exact) {\n                return;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(items[key], vars), key))) {\n                return;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : FormatUtils.getStyle(dom, node, items[i])) {\n              return format;\n            }\n          }\n        }\n      }\n      return format;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var format, i, x, classes;\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (i = 0; i < formatList.length; i++) {\n          format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            if (classes = format.classes) {\n              for (x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, classes[x])) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match = function (editor, name, vars, node) {\n      var startNode;\n      if (node) {\n        return matchParents(editor, node, name, vars);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars)) {\n        return true;\n      }\n      startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var startElement;\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        var i, name;\n        for (i = 0; i < names.length; i++) {\n          name = names[i];\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n            checkedMap[name] = true;\n            matchedFormatNames.push(name);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var startNode, parents, i, x, selector;\n      var dom = editor.dom;\n      if (formatList) {\n        startNode = editor.selection.getStart();\n        parents = FormatUtils.getParents(dom, startNode);\n        for (x = formatList.length - 1; x >= 0; x--) {\n          selector = formatList[x].selector;\n          if (!selector || formatList[x].defaultBlock) {\n            return true;\n          }\n          for (i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var MatchFormat = {\n      matchNode: matchNode,\n      matchName: matchName,\n      match: match,\n      matchAll: matchAll,\n      canApply: canApply,\n      matchesUnInheritedFormatSelector: matchesUnInheritedFormatSelector\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split$1 = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && NodeType.isText(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (NodeType.isText(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (NodeType.isText(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\n\\r\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content, function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === '\\xA0') {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + '\\xA0'\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length;\n      var isStartOfContent = offset === 0;\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      return normalize(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      return normalize(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace) {\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      prevNode.appendData(nextNode.data);\n      remove$1(Element.fromDom(nextNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(prevNode, whitespaceOffset);\n      }\n      return prevNode;\n    };\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$1(scope, selector, isRoot).isSome();\n    };\n\n    var hasWhitespacePreserveParent = function (rootNode, node) {\n      var rootElement = Element.fromDom(rootNode);\n      var startNode = Element.fromDom(node);\n      return ancestor$2(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    var isWhitespace = function (rootNode, node) {\n      return NodeType.isText(node) && /^[ \\t\\r\\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return NodeType.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');\n    };\n    var isContent$1 = function (rootNode, node) {\n      return isCaretCandidate(node) && isWhitespace(rootNode, node) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = NodeType.hasAttribute('data-mce-bookmark');\n    var isBogus$2 = NodeType.hasAttribute('data-mce-bogus');\n    var isBogusAll$1 = NodeType.hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode) {\n      var node, brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        var walker = new TreeWalker(node, targetNode);\n        do {\n          if (isBogusAll$1(node)) {\n            node = walker.next(true);\n            continue;\n          }\n          if (isBogus$2(node)) {\n            node = walker.next();\n            continue;\n          }\n          if (NodeType.isBr(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(targetNode, node)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty$1 = function (elm) {\n      return isEmptyNode(elm.dom());\n    };\n    var Empty = { isEmpty: isEmpty$1 };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition$1.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition$1.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition$1(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return NodeType.isText(node) ? CaretPosition$1(node, 0) : CaretPosition$1.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return NodeType.isText(node) ? CaretPosition$1(node, node.data.length) : CaretPosition$1.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.previousSibling)) {\n        return Option.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? CaretFinder.lastPositionIn(elm.previousSibling) : Option.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.nextSibling)) {\n        return Option.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? CaretFinder.firstPositionIn(elm.nextSibling) : Option.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition$1.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return CaretFinder.prevPosition(rootElement, startPosition).fold(function () {\n        return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm));\n      }, Option.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm)).fold(function () {\n        return CaretFinder.prevPosition(rootElement, CaretPosition$1.before(elm));\n      }, Option.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition$1 = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom() === rawNode;\n      };\n    };\n    var isBlock$2 = function (editor, elm) {\n      return elm && editor.schema.getBlockElements().hasOwnProperty(name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (Empty.isEmpty(elm)) {\n        var br = Element.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append(elm, br);\n        return Option.some(CaretPosition$1.before(br.dom()));\n      } else {\n        return Option.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText$1);\n      var nextTextOpt = nextSibling(elm).filter(isText$1);\n      remove$1(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom(), nextNode = next.dom();\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition$1(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom(), elm.dom().length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom(), 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());\n      var parentBlock = ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection(editor, forward, Option.some(paddPos));\n          }\n        });\n      }\n    };\n    var DeleteElement = { deleteElement: deleteElement };\n\n    var ZWSP$1 = Zwsp.ZWSP, CARET_ID$1 = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      if (node) {\n        var walker = new TreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (node.nodeType === 3) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = Element.fromTag('span');\n      setAll(caretContainer, {\n        'id': CARET_ID$1,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append(caretContainer, Element.fromText(ZWSP$1));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        DeleteElement.deleteElement(editor, false, Element.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var textNode = trimZwspFromCaretContainer(node);\n        if (rng.startContainer === textNode && rng.startOffset > 0) {\n          rng.setStart(textNode, rng.startOffset - 1);\n        }\n        if (rng.endContainer === textNode && rng.endOffset > 0) {\n          rng.setEnd(textNode, rng.endOffset - 1);\n        }\n        dom.remove(node, true);\n        if (block && dom.isEmpty(block)) {\n          PaddingBr.fillWithPaddingBr(Element.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID$1)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(FormatUtils.isTextBlock, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        PaddingBr.removeTrailingBr(Element.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var rng, caretContainer, textNode, offset, bookmark, container, text;\n      var selection = editor.selection;\n      rng = selection.getRng();\n      offset = rng.startOffset;\n      container = rng.startContainer;\n      text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        bookmark = selection.getBookmark();\n        rng.collapse(true);\n        rng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name));\n        rng = split$1(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom());\n          textNode = caretContainer.firstChild;\n          rng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom, selection = editor.selection;\n      var container, offset, bookmark;\n      var hasContentAfter, node, formatNode;\n      var parents = [], rng = selection.getRng();\n      var caretContainer;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (MatchFormat.matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split$1(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom();\n        var caretNode = insertFormatNodesIntoCaretContainer(parents, newCaretContainer);\n        if (caretContainer) {\n          insertCaretContainerNode(editor, newCaretContainer, caretContainer);\n        } else {\n          insertCaretContainerNode(editor, newCaretContainer, formatNode);\n        }\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$5 = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom());\n      before(Element.fromDom(targetNode), caretContainer);\n      remove$1(Element.fromDom(targetNode));\n      return CaretPosition$1(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return inlineElements.hasOwnProperty(name(element)) && !isCaretNode(element.dom()) && !NodeType.isBogus(element.dom());\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom()) && isCaretContainerEmpty(element.dom());\n    };\n\n    var postProcessHooks = {}, filter$3 = ArrUtils.filter, each$9 = ArrUtils.each;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = hooks = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess = function (name, editor) {\n      each$9(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var isPre, blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && ArrUtils.indexOf(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      isPre = NodeType.matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$9(filter$3(filter$3(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n    var Hooks = { postProcess: postProcess };\n\n    var each$a = Tools.each;\n    var ElementUtils = function (dom) {\n      this.compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$a(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (obj1.hasOwnProperty(name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (obj2.hasOwnProperty(name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !Bookmarks.isBookmarkNode(node1) && !Bookmarks.isBookmarkNode(node2);\n      };\n    };\n\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$b = Tools.each;\n    var isEq$4 = FormatUtils.isEq;\n    var isTableCell$2 = function (node) {\n      return /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container, offset, lastIdx;\n      container = rng[start ? 'startContainer' : 'endContainer'];\n      offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (NodeType.isElement(container)) {\n        lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (NodeType.isText(container) && start && offset >= container.nodeValue.length) {\n        container = new TreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (NodeType.isText(container) && !start && offset === 0) {\n        container = new TreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var wrap$2 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = Element.fromDom(node);\n      var wrapper = Element.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append$1(wrapper, siblings);\n      if (next) {\n        before(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after(start, wrapper);\n        append(wrapper, start);\n      }\n      return wrapper.dom();\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$4(node, format.inline)) {\n        return true;\n      }\n      if (isEq$4(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return NodeType.isElement(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.tagName === 'A';\n    };\n    var find$3 = function (dom, node, next, inc) {\n      node = FormatUtils.getNonWhiteSpaceSibling(node, next, inc);\n      return !node || (node.nodeName === 'BR' || dom.isBlock(node));\n    };\n    var removeNode$1 = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = Settings.getForcedRootBlock(ed);\n      if (format.block) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find$3(dom, node, false) && !find$3(dom, node.firstChild, true, 1)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find$3(dom, node, true) && !find$3(dom, node.lastChild, false, 1)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$4(node, format.list_block)) {\n              each$b(Tools.grep(node.childNodes), function (node) {\n                if (FormatUtils.isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$2(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = 0;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (format.selector && format.inline && !isEq$4(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, 1);\n    };\n    var removeFormat = function (ed, format, vars, node, compareNode) {\n      var i, attrs, stylesModified;\n      var dom = ed.dom;\n      if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return false;\n      }\n      if (format.remove !== 'all') {\n        each$b(format.styles, function (value, name) {\n          value = FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(value, vars), name);\n          if (typeof name === 'number') {\n            name = value;\n            compareNode = 0;\n          }\n          if (format.remove_similar || (!compareNode || isEq$4(FormatUtils.getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(node, name, '');\n          }\n          stylesModified = 1;\n        });\n        if (stylesModified && dom.getAttrib(node, 'style') === '') {\n          node.removeAttribute('style');\n          node.removeAttribute('data-mce-style');\n        }\n        each$b(format.attributes, function (value, name) {\n          var valueOut;\n          value = FormatUtils.replaceVars(value, vars);\n          if (typeof name === 'number') {\n            name = value;\n            compareNode = 0;\n          }\n          if (format.remove_similar || (!compareNode || isEq$4(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(node, name);\n              if (value) {\n                valueOut = '';\n                each$b(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(node, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (name === 'class') {\n              node.removeAttribute('className');\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              node.removeAttribute('data-mce-' + name);\n            }\n            node.removeAttribute(name);\n          }\n        });\n        each$b(format.classes, function (value) {\n          value = FormatUtils.replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(node, value);\n          }\n        });\n        attrs = dom.getAttribs(node);\n        for (i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return false;\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode$1(ed, node, format);\n        return true;\n      }\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each$b(FormatUtils.getParents(editor.dom, container.parentNode).reverse(), function (parent) {\n        var format;\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          format = MatchFormat.matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var parent, clone, lastClone, firstClone, i, formatRootParent;\n      var dom = editor.dom;\n      if (formatRoot) {\n        formatRootParent = formatRoot.parentNode;\n        for (parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n          clone = dom.clone(parent, false);\n          for (i = 0; i < formatList.length; i++) {\n            if (removeFormat(editor, formatList[i], vars, clone, clone)) {\n              clone = 0;\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n        }\n      }\n      return container;\n    };\n    var remove$7 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name), format = formatList[0];\n      var bookmark, rng, contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return Bookmarks.isBookmarkNode(node) && NodeType.isElement(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var process = function (node) {\n        var children, i, l, lastContentEditable, hasContentEditableState;\n        if (NodeType.isElement(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        children = Tools.grep(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          for (i = 0, l = formatList.length; i < l; i++) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (i = 0, l = children.length; i < l; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (NodeType.isText(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var commonAncestorContainer = rng.commonAncestorContainer;\n        rng = ExpandRange.expandRng(ed, rng, formatList, true);\n        if (format.split) {\n          rng = split$1(rng);\n          startContainer = getContainer(ed, rng, true);\n          endContainer = getContainer(ed, rng);\n          if (startContainer !== endContainer) {\n            if (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\n              if (startContainer.nodeName === 'TR') {\n                startContainer = startContainer.firstChild.firstChild || startContainer;\n              } else {\n                startContainer = startContainer.firstChild || startContainer;\n              }\n            }\n            if (commonAncestorContainer && /^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) && isTableCell$2(endContainer) && endContainer.firstChild) {\n              endContainer = endContainer.firstChild || endContainer;\n            }\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Option.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Option.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$2(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$2(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          rng.startOffset = dom.nodeIndex(startContainer);\n          rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          rng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        RangeWalk.walk(dom, rng, function (nodes) {\n          each$b(nodes, function (node) {\n            process(node);\n            if (NodeType.isElement(node) && ed.dom.getStyle(node, 'text-decoration') === 'underline' && node.parentNode && FormatUtils.getTextDecoration(dom, node.parentNode) === 'underline') {\n              removeFormat(ed, {\n                deep: false,\n                exact: true,\n                inline: 'span',\n                styles: { textDecoration: 'underline' }\n              }, null, node);\n            }\n          });\n        });\n      };\n      if (node) {\n        if (node.nodeType) {\n          rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        return;\n      }\n      if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n        bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n        removeRngStyle(selection.getRng());\n        selection.moveToBookmark(bookmark);\n        if (format.inline && MatchFormat.match(ed, name, vars, selection.getStart())) {\n          FormatUtils.moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n    };\n    var RemoveFormat = {\n      removeFormat: removeFormat,\n      remove: remove$7\n    };\n\n    var each$c = Tools.each;\n    var isElementNode = function (node) {\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      var sibling;\n      for (sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (sibling.nodeType === 3 && sibling.nodeValue.length !== 0) {\n          return node;\n        }\n        if (sibling.nodeType === 1 && !Bookmarks.isBookmarkNode(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var sibling, tmpSibling;\n      var elementUtils = new ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (sibling = prev.nextSibling; sibling && sibling !== next;) {\n            tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var processChildElements = function (node, filter, process) {\n      each$c(node.childNodes, function (node) {\n        if (isElementNode(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var hasStyle = function (dom, name) {\n      return curry(function (name, node) {\n        return !!(node && FormatUtils.getStyle(dom, node, name));\n      }, name);\n    };\n    var applyStyle = function (dom, name, value) {\n      return curry(function (name, value, node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      }, name, value);\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var processUnderlineAndColor = function (dom, node) {\n      var textDecoration;\n      if (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\n        textDecoration = FormatUtils.getTextDecoration(dom, node.parentNode);\n        if (dom.getStyle(node, 'color') && textDecoration) {\n          dom.setStyle(node, 'text-decoration', textDecoration);\n        } else if (dom.getStyle(node, 'text-decoration') === textDecoration) {\n          dom.setStyle(node, 'text-decoration', null);\n        }\n      }\n    };\n    var mergeUnderlineAndColor = function (dom, format, vars, node) {\n      if (format.styles.color || format.styles.textDecoration) {\n        Tools.walk(node, curry(processUnderlineAndColor, dom), 'childNodes');\n        processUnderlineAndColor(dom, node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', FormatUtils.replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (format.inline === 'sub' || format.inline === 'sup') {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        node = mergeSiblingsNodes(dom, FormatUtils.getNonWhiteSpaceSibling(node), node);\n        node = mergeSiblingsNodes(dom, node, FormatUtils.getNonWhiteSpaceSibling(node, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$c(dom.select(selector, node), function (node) {\n          if (isElementNode(node)) {\n            each$c(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$c(formatList, function (format) {\n        each$c(editor.dom.select(format.inline, node), function (child) {\n          if (!isElementNode(child)) {\n            return;\n          }\n          RemoveFormat.removeFormat(editor, format, vars, child, format.exact ? child : null);\n        });\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (MatchFormat.matchNode(editor, node.parentNode, name, vars)) {\n        if (RemoveFormat.removeFormat(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (MatchFormat.matchNode(editor, parent, name, vars)) {\n            RemoveFormat.removeFormat(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n    var MergeFormats = {\n      mergeWithChildren: mergeWithChildren,\n      mergeUnderlineAndColor: mergeUnderlineAndColor,\n      mergeBackgroundColorAndFontSize: mergeBackgroundColorAndFontSize,\n      mergeSubSup: mergeSubSup,\n      mergeSiblings: mergeSiblings,\n      mergeWithParents: mergeWithParents\n    };\n\n    var createRange$1 = function (sc, so, ec, eo) {\n      var rng = domGlobals.document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition$1.fromRangeStart(rng);\n      var endPos = CaretPosition$1.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return CaretFinder.fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize$1 = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n    var RangeNormalizer = { normalize: normalize$1 };\n\n    var each$d = Tools.each;\n    var isElementNode$1 = function (node) {\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n    };\n    var applyFormat = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var bookmark, rng;\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom, selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        fmt = fmt || format;\n        if (elm) {\n          if (fmt.onformat) {\n            fmt.onformat(elm, fmt, vars, node);\n          }\n          each$d(fmt.styles, function (value, name) {\n            dom.setStyle(elm, name, FormatUtils.replaceVars(value, vars));\n          });\n          if (fmt.styles) {\n            var styleVal = dom.getAttrib(elm, 'style');\n            if (styleVal) {\n              elm.setAttribute('data-mce-style', styleVal);\n            }\n          }\n          each$d(fmt.attributes, function (value, name) {\n            dom.setAttrib(elm, name, FormatUtils.replaceVars(value, vars));\n          });\n          each$d(fmt.classes, function (value) {\n            value = FormatUtils.replaceVars(value, vars);\n            if (!dom.hasClass(elm, value)) {\n              dom.addClass(elm, value);\n            }\n          });\n        }\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        if (!format.selector) {\n          return false;\n        }\n        each$d(formatList, function (format) {\n          if ('collapsed' in format && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var applyRngStyle = function (dom, rng, bookmark, nodeSpecific) {\n        var newWrappers = [];\n        var wrapName, wrapElm, contentEditable = true;\n        wrapName = format.inline || format.block;\n        wrapElm = dom.create(wrapName);\n        setElementFormat(wrapElm);\n        RangeWalk.walk(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var nodeName, parentName, hasContentEditableState, lastContentEditable;\n            lastContentEditable = contentEditable;\n            nodeName = node.nodeName.toLowerCase();\n            parentName = node.parentNode.nodeName.toLowerCase();\n            if (node.nodeType === 1 && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (FormatUtils.isEq(nodeName, 'br')) {\n              currentWrapElm = 0;\n              if (format.block) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (format.wrapper && MatchFormat.matchNode(ed, node, name, vars)) {\n              currentWrapElm = 0;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && format.block && !format.wrapper && FormatUtils.isTextBlock(ed, nodeName) && FormatUtils.isValid(ed, parentName, wrapName)) {\n              node = dom.rename(node, wrapName);\n              setElementFormat(node);\n              newWrappers.push(node);\n              currentWrapElm = 0;\n              return;\n            }\n            if (format.selector) {\n              var found = applyNodeStyle(formatList, node);\n              if (!format.inline || found) {\n                currentWrapElm = 0;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && FormatUtils.isValid(ed, wrapName, nodeName) && FormatUtils.isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!format.inline || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = 0;\n              each$d(Tools.grep(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = 0;\n            }\n          };\n          each$d(nodes, process);\n        });\n        if (format.links === true) {\n          each$d(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$d(Tools.grep(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$d(newWrappers, function (node) {\n          var childCount;\n          var getChildCount = function (node) {\n            var count = 0;\n            each$d(node.childNodes, function (node) {\n              if (!FormatUtils.isWhiteSpaceNode(node) && !Bookmarks.isBookmarkNode(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var getChildElementNode = function (root) {\n            var child = false;\n            each$d(root.childNodes, function (node) {\n              if (isElementNode$1(node)) {\n                child = node;\n                return false;\n              }\n            });\n            return child;\n          };\n          var mergeStyles = function (node) {\n            var child, clone;\n            child = getChildElementNode(node);\n            if (child && !Bookmarks.isBookmarkNode(child) && MatchFormat.matchName(dom, child, format)) {\n              clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, 1);\n            }\n            return clone || node;\n          };\n          childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, 1);\n            return;\n          }\n          if (format.inline || format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            MergeFormats.mergeWithChildren(ed, formatList, vars, node);\n            MergeFormats.mergeWithParents(ed, format, name, vars, node);\n            MergeFormats.mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            MergeFormats.mergeSubSup(dom, format, vars, node);\n            MergeFormats.mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          if (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\n            setElementFormat(node, formatList[i]);\n            return;\n          }\n        }\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (node.nodeType) {\n            if (!applyNodeStyle(formatList, node)) {\n              rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, ExpandRange.expandRng(ed, rng, formatList), null, true);\n            }\n          } else {\n            applyRngStyle(dom, node, null, true);\n          }\n        } else {\n          if (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n            var curSelNode = ed.selection.getNode();\n            if (!ed.settings.forced_root_block && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat(ed, formatList[0].defaultBlock);\n            }\n            ed.selection.setRng(RangeNormalizer.normalize(ed.selection.getRng()));\n            bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n            applyRngStyle(dom, ExpandRange.expandRng(ed, selection.getRng(), formatList));\n            if (format.styles) {\n              MergeFormats.mergeUnderlineAndColor(dom, format, vars, curSelNode);\n            }\n            selection.moveToBookmark(bookmark);\n            FormatUtils.moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        Hooks.postProcess(name, ed);\n      }\n    };\n    var ApplyFormat = { applyFormat: applyFormat };\n\n    var setup$6 = function (registeredFormatListeners, editor) {\n      var currentFormats = Cell({});\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', function (e) {\n        updateAndFireChangeCallbacks(editor, e.element, currentFormats, registeredFormatListeners.get());\n      });\n    };\n    var updateAndFireChangeCallbacks = function (editor, elm, currentFormats, formatChangeData) {\n      var formatsList = keys(currentFormats.get());\n      var newFormats = {};\n      var matchedFormats = {};\n      var parents = filter(FormatUtils.getParents(editor.dom, elm), function (node) {\n        return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\n      });\n      each$1(formatChangeData, function (data, format) {\n        Tools.each(parents, function (node) {\n          if (editor.formatter.matchNode(node, format, {}, data.similar)) {\n            if (formatsList.indexOf(format) === -1) {\n              each(data.callbacks, function (callback) {\n                callback(true, {\n                  node: node,\n                  format: format,\n                  parents: parents\n                });\n              });\n              newFormats[format] = data.callbacks;\n            }\n            matchedFormats[format] = data.callbacks;\n            return false;\n          }\n          if (MatchFormat.matchesUnInheritedFormatSelector(editor, node, format)) {\n            return false;\n          }\n        });\n      });\n      var remainingFormats = filterRemainingFormats(currentFormats.get(), matchedFormats, elm, parents);\n      currentFormats.set(__assign(__assign({}, newFormats), remainingFormats));\n    };\n    var filterRemainingFormats = function (currentFormats, matchedFormats, elm, parents) {\n      return bifilter(currentFormats, function (callbacks, format) {\n        if (!has(matchedFormats, format)) {\n          each(callbacks, function (callback) {\n            callback(false, {\n              node: elm,\n              format: format,\n              parents: parents\n            });\n          });\n          return false;\n        } else {\n          return true;\n        }\n      }).t;\n    };\n    var addListeners = function (registeredFormatListeners, formats, callback, similar) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each(formats.split(','), function (format) {\n        if (!formatChangeItems[format]) {\n          formatChangeItems[format] = {\n            similar: similar,\n            callbacks: []\n          };\n        }\n        formatChangeItems[format].callbacks.push(callback);\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var removeListeners = function (registeredFormatListeners, formats, callback) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each(formats.split(','), function (format) {\n        formatChangeItems[format].callbacks = filter(formatChangeItems[format].callbacks, function (c) {\n          return c !== callback;\n        });\n        if (formatChangeItems[format].callbacks.length === 0) {\n          delete formatChangeItems[format];\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var formatChanged = function (editor, registeredFormatListeners, formats, callback, similar) {\n      if (registeredFormatListeners.get() === null) {\n        setup$6(registeredFormatListeners, editor);\n      }\n      addListeners(registeredFormatListeners, formats, callback, similar);\n      return {\n        unbind: function () {\n          return removeListeners(registeredFormatListeners, formats, callback);\n        }\n      };\n    };\n\n    var get$7 = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all'\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all'\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all'\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all'\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function () {\n            return true;\n          },\n          onformat: function (elm, fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n    var DefaultFormats = { get: get$7 };\n\n    function FormatRegistry(editor) {\n      var formats = {};\n      var get = function (name) {\n        return name ? formats[name] : formats;\n      };\n      var has$1 = function (name) {\n        return has(formats, name);\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (typeof name !== 'string') {\n            Tools.each(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            if (!isArray(format)) {\n              format = [format];\n            }\n            Tools.each(format, function (format) {\n              if (typeof format.deep === 'undefined') {\n                format.deep = !format.selector;\n              }\n              if (typeof format.split === 'undefined') {\n                format.split = !format.selector || format.inline;\n              }\n              if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\n                format.remove = 'none';\n              }\n              if (format.selector && format.inline) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (typeof format.classes === 'string') {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(DefaultFormats.get(editor.dom));\n      register(editor.settings.formats);\n      return {\n        get: get,\n        has: has$1,\n        register: register,\n        unregister: unregister\n      };\n    }\n\n    var each$e = Tools.each;\n    var dom = DOMUtils$1.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        var elm;\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate, parentRequired;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var selectorToHtml = function (selector, editor) {\n      return parsedSelectorToHtml(parseSelector(selector), editor);\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag, previewElm, items;\n      var previewCss = '', parentFontSize, previewStyles;\n      previewStyles = editor.settings.preview_styles;\n      if (previewStyles === false) {\n        return '';\n      }\n      if (typeof previewStyles !== 'string') {\n        previewStyles = 'font-family font-size font-weight font-style text-decoration ' + 'text-transform color background-color border border-radius outline text-shadow';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        previewStyles = format.preview;\n        if (previewStyles === false) {\n          return '';\n        }\n      }\n      name = format.block || format.inline || 'span';\n      items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$e(format.styles, function (value, name) {\n        value = removeVars(value);\n        if (value) {\n          dom.setStyle(previewElm, name, value);\n        }\n      });\n      each$e(format.attributes, function (value, name) {\n        value = removeVars(value);\n        if (value) {\n          dom.setAttrib(previewElm, name, value);\n        }\n      });\n      each$e(format.classes, function (value) {\n        value = removeVars(value);\n        if (!dom.hasClass(previewElm, value)) {\n          dom.addClass(previewElm, value);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$e(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n    var Preview = {\n      getCssText: getCssText,\n      parseSelector: parseSelector,\n      selectorToHtml: selectorToHtml\n    };\n\n    var toggle = function (editor, formats, name, vars, node) {\n      var fmt = formats.get(name);\n      if (MatchFormat.match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        RemoveFormat.remove(editor, name, vars, node);\n      } else {\n        ApplyFormat.applyFormat(editor, name, vars, node);\n      }\n    };\n    var ToggleFormat = { toggle: toggle };\n\n    var setup$7 = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n    var FormatShortcuts = { setup: setup$7 };\n\n    var Formatter = function (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      FormatShortcuts.setup(editor);\n      setup$5(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: curry(ApplyFormat.applyFormat, editor),\n        remove: curry(RemoveFormat.remove, editor),\n        toggle: curry(ToggleFormat.toggle, editor, formats),\n        match: curry(MatchFormat.match, editor),\n        matchAll: curry(MatchFormat.matchAll, editor),\n        matchNode: curry(MatchFormat.matchNode, editor),\n        canApply: curry(MatchFormat.canApply, editor),\n        formatChanged: curry(formatChanged, editor, formatChangeState),\n        getCssText: curry(Preview.getCssText, editor)\n      };\n    };\n\n    var register$1 = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, value;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            var hasChildren = Option.from(node.firstChild).exists(function (firstChild) {\n              return !Zwsp.isZwsp(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var i = nodes.length, node, value, type;\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        while (i--) {\n          node = nodes[i];\n          value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, '');\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var brNode1, brNode2;\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n    var DomSerializerFilters = {\n      register: register$1,\n      trimTrailingBr: trimTrailingBr\n    };\n\n    var preProcess = function (editor, node, args) {\n      var impl, doc, oldDoc;\n      var dom = editor.dom;\n      node = node.cloneNode(true);\n      impl = domGlobals.document.implementation;\n      if (impl.createHTMLDocument) {\n        doc = impl.createHTMLDocument('');\n        Tools.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (node.nodeName !== 'BODY') {\n          node = doc.body.firstChild;\n        } else {\n          node = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      Events.firePreProcess(editor, merge(args, { node: node }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return node;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n    var DomSerializerPreProcess = { process: process };\n\n    var removeAttrs = function (node, names) {\n      each(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$2 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n    var LegacyFilter = { register: register$2 };\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new Node$1('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new Node$1('#text', 3)).value = '\\xA0';\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === '\\xA0';\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty$2 = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (blockElements[node.name] || node.name === 'br');\n    };\n\n    var register$3 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getNonEmptyElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName !== 'br') {\n                    break;\n                  }\n                  if (prevName === 'br') {\n                    node = null;\n                    break;\n                  }\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new Node$1('#text', 3);\n                textNode.value = '\\xA0';\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length, node;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new Node$1('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node, classList, ci, className, classValue;\n          var validClasses = schema.getValidClasses();\n          var validClassesMap, valid;\n          while (i--) {\n            node = nodes[i];\n            classList = node.attr('class').split(' ');\n            classValue = '';\n            for (ci = 0; ci < classList.length; ci++) {\n              className = classList[ci];\n              valid = false;\n              validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n    };\n\n    var makeMap$4 = Tools.makeMap, each$f = Tools.each, explode$2 = Tools.explode, extend$2 = Tools.extend;\n    var DomParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\n        var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\n        nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\n        nonEmptyElements = schema.getNonEmptyElements();\n        whitespaceElements = schema.getWhiteSpaceElements();\n        textBlockElements = schema.getTextBlockElements();\n        specialElements = schema.getSpecialElements();\n        for (ni = 0; ni < nodes.length; ni++) {\n          node = nodes[ni];\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap(node);\n            continue;\n          }\n          parents = [node];\n          for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\n            parents.push(parent);\n          }\n          if (parent && parents.length > 1) {\n            parents.reverse();\n            newParent = currentNode = filterNode(parents[0].clone());\n            for (i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                tempNode = filterNode(parents[i].clone());\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new Node$1('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new Node$1('div', 1)));\n            } else {\n              if (specialElements[node.name]) {\n                node.empty().remove();\n              } else {\n                node.unwrap();\n              }\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var i, name, list;\n        name = node.name;\n        if (name in nodeFilters) {\n          list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        i = attributeFilters.length;\n        while (i--) {\n          name = attributeFilters[i].name;\n          if (name in node.attributes.map) {\n            list = matchedAttributes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[name] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$f(explode$2(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name in nodeFilters) {\n          if (nodeFilters.hasOwnProperty(name)) {\n            out.push({\n              name: name,\n              callbacks: nodeFilters[name]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$f(explode$2(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var parser, nodes, i, l, fi, fl, list, name;\n        var blockElements;\n        var invalidChildren = [];\n        var isInWhiteSpacePreservedElement;\n        var node;\n        var getRootBlockName = function (name) {\n          if (name === false) {\n            return '';\n          } else if (name === true) {\n            return 'p';\n          } else {\n            return name;\n          }\n        };\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        blockElements = extend$2(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var rootBlockName = getRootBlockName(forcedRootBlockName);\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, next, rootBlockNode;\n          var trim = function (rootBlockNode) {\n            if (rootBlockNode) {\n              node = rootBlockNode.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlockNode.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new Node$1(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var textNode, textNodeNext, textVal, sibling;\n          var blockElements = schema.getBlockElements();\n          for (textNode = node.prev; textNode && textNode.type === 3;) {\n            textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var name;\n          var output = {};\n          for (name in input) {\n            if (name !== 'li' && name !== 'p') {\n              output[name] = input[name];\n            }\n          }\n          return output;\n        };\n        parser = SaxParser$1({\n          validate: validate,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode;\n            newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var newNode, attrFiltersLen, elementRule, attrName, parent;\n            elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              parent = children[node.name];\n              if (parent && children[newNode.name] && !parent[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, elementRule, text, sibling, tempNode;\n            elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\n                if (!node.attr('name') && !node.attr('id')) {\n                  tempNode = node.parent;\n                  if (blockElements[node.name]) {\n                    node.empty().remove();\n                  } else {\n                    node.unwrap();\n                  }\n                  node = tempNode;\n                  return;\n                }\n              }\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = node.parent;\n            }\n          }\n        }, schema);\n        var rootNode = node = new Node$1(args.context || settings.root_name, 11);\n        parser.parse(html);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            if (!matchedNodes.hasOwnProperty(name)) {\n              continue;\n            }\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$3(exports, settings);\n      LegacyFilter.register(exports, settings);\n      return exports;\n    };\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess$1 = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = Events.firePostProcess(editor, merge(args, { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = Zwsp.trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(Element.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? merge({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      DomSerializerFilters.trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = Serializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess$1(editor, args, content);\n    };\n    var DomSerializer = function (settings, editor) {\n      var dom, schema, htmlParser;\n      var tempAttrs = ['data-mce-selected'];\n      dom = editor && editor.dom ? editor.dom : DOMUtils$1.DOM;\n      schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      htmlParser = DomParser(settings, schema);\n      DomSerializerFilters.register(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        var args = merge({ format: 'html' }, parserArgs ? parserArgs : {});\n        var targetNode = DomSerializerPreProcess.process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: function (rules) {\n          schema.addValidElements(rules);\n        },\n        setRules: function (rules) {\n          schema.setValidElements(rules);\n        },\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: function () {\n          return tempAttrs;\n        }\n      };\n    };\n\n    var Serializer$1 = function (settings, editor) {\n      var domSerializer = DomSerializer(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs\n      };\n    };\n\n    function BookmarkManager(selection) {\n      return {\n        getBookmark: curry(Bookmarks.getBookmark, selection),\n        moveToBookmark: curry(Bookmarks.moveToBookmark, selection)\n      };\n    }\n    (function (BookmarkManager) {\n      BookmarkManager.isBookmarkNode = Bookmarks.isBookmarkNode;\n    }(BookmarkManager || (BookmarkManager = {})));\n    var BookmarkManager$1 = BookmarkManager;\n\n    var isContentEditableFalse$a = NodeType.isContentEditableFalse;\n    var isContentEditableTrue$5 = NodeType.isContentEditableTrue;\n    var getContentEditableRoot$1 = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue$5(node) || isContentEditableFalse$a(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var ControlSelection = function (selection, editor) {\n      var dom = editor.dom, each = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = domGlobals.document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        if (evt.type === 'longpress' || evt.type.indexOf('touch') === 0) {\n          var touch = evt.touches[0];\n          return isImage(evt.target) && !RangePoint.isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !RangePoint.isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTarget = function (elm) {\n        return editor.dom.is(elm, 'figure.image') ? elm.querySelector('img') : elm;\n      };\n      var isResizable = function (elm) {\n        var selector = editor.settings.object_resizing;\n        if (selector === false || Env.iOS) {\n          return false;\n        }\n        if (typeof selector !== 'string') {\n          selector = 'table,img,figure.image,div';\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        return is(Element.fromDom(elm), selector);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if (isImage(selectedElm) && editor.settings.resize_img_proportional !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e) || isImage(selectedElm) && selectedHandle[2] * selectedHandle[3] !== 0;\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        dom.setStyles(getResizeTarget(selectedElmGhost), {\n          width: width,\n          height: height\n        });\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          Events.fireObjectResizeStart(editor, selectedElm, startW, startH);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        resizeStarted = false;\n        var setSizeProp = function (name, value) {\n          if (value) {\n            if (selectedElm.style[name] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name)) {\n              dom.setStyle(getResizeTarget(selectedElm), name, value);\n            } else {\n              dom.setAttrib(getResizeTarget(selectedElm), name, value);\n            }\n          }\n        };\n        setSizeProp('width', width);\n        setSizeProp('height', height);\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        showResizeRect(selectedElm);\n        Events.fireObjectResized(editor, selectedElm, width, height);\n        dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        var position, targetWidth, targetHeight, e, rect;\n        hideResizeRect();\n        unbindResizeHandleEvents();\n        position = dom.getPos(targetElm, rootElement);\n        selectedElmX = position.x;\n        selectedElmY = position.y;\n        rect = targetElm.getBoundingClientRect();\n        targetWidth = rect.width || rect.right - rect.left;\n        targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        e = editor.fire('ObjectSelected', { target: targetElm });\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = getResizeTarget(selectedElm).clientWidth;\n              startH = getResizeTarget(selectedElm).clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              handle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              selectedElmGhost = selectedElm.cloneNode(true);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = false;\n              selectedElmGhost.unSelectabe = true;\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              selectedElmGhost.removeAttribute('data-mce-selected');\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        selectedElm.setAttribute('data-mce-selected', '1');\n      };\n      var hideResizeRect = function () {\n        var name, handleElm;\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute('data-mce-selected');\n        }\n        for (name in resizeHandles) {\n          handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        }\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute('data-mce-selected');\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$a(getContentEditableRoot$1(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        for (var name in resizeHandles) {\n          var handle = resizeHandles[name];\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        }\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, false);\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.browser.isIE() || Env.browser.isEdge()) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          editor.dom.bind(rootElement, 'mscontrolselect', function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    function Dimension (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom();\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$2(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$2(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    }\n\n    var api$1 = Dimension('height', function (element) {\n      var dom = element.dom();\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$8 = function (element) {\n      return api$1.get(element);\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    var view = function (doc) {\n      var element = doc.dom() === domGlobals.document ? Option.none() : Option.from(doc.dom().defaultView.frameElement);\n      return element.map(Element.fromDom);\n    };\n    var owner$1 = function (element) {\n      return owner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        view: view,\n        owner: owner$1\n    });\n\n    var find$4 = function (element) {\n      var doc = Element.fromDom(domGlobals.document);\n      var scroll = get$3(doc);\n      var frames = pathTo(element, Navigation);\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left(),\n          top: b.top + loc.top()\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return Position$1(r.left + offset.left() + scroll.left(), r.top + offset.top() + scroll.top());\n    };\n\n    var excludeFromDescend = function (element) {\n      return name(element) === 'textarea';\n    };\n    var descend = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        var last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element: element,\n            offset: offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$1(last)) {\n            return {\n              element: last,\n              offset: get$6(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    var markerInfo = function (element, cleanupFun) {\n      var pos = absolute(element);\n      var height = get$8(element);\n      return {\n        element: element,\n        bottom: pos.top() + height,\n        pos: pos,\n        cleanup: cleanupFun\n      };\n    };\n    var createMarker = function (element, offset) {\n      var startPoint = descend(element, offset);\n      var span = Element.fromHtml('<span data-mce-bogus=\"all\">' + Zwsp.ZWSP + '</span>');\n      before(startPoint.element, span);\n      return markerInfo(span, function () {\n        return remove$1(span);\n      });\n    };\n    var elementMarker = function (element) {\n      return markerInfo(Element.fromDom(element), noop);\n    };\n    var withMarker = function (editor, f, rng, alignToTop) {\n      preserveWith(editor, function (_s, _e) {\n        return applyWithMarker(editor, f, rng, alignToTop);\n      }, rng);\n    };\n    var applyWithMarker = function (editor, f, rng, alignToTop) {\n      var body = Element.fromDom(editor.getBody());\n      var doc = Element.fromDom(editor.getDoc());\n      reflow(body);\n      var scrollTop = get$3(doc).top();\n      var marker = createMarker(Element.fromDom(rng.startContainer), rng.startOffset);\n      f(doc, scrollTop, marker, alignToTop);\n      marker.cleanup();\n    };\n    var withElement = function (editor, element, f, alignToTop) {\n      var doc = Element.fromDom(editor.getDoc());\n      var scrollTop = get$3(doc).top();\n      f(doc, scrollTop, element, alignToTop);\n    };\n    var preserveWith = function (editor, f, rng) {\n      var startElement = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endElement = rng.endContainer;\n      var endOffset = rng.endOffset;\n      f(Element.fromDom(startElement), Element.fromDom(endElement));\n      var newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    var fireScrollIntoViewEvent = function (editor, elm, alignToTop) {\n      var scrollEvent = editor.fire('ScrollIntoView', {\n        elm: elm,\n        alignToTop: alignToTop\n      });\n      return scrollEvent.isDefaultPrevented();\n    };\n    var scrollTo = function (marker, viewHeight, alignToTop, doc) {\n      var pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left(), pos.top(), doc);\n      } else {\n        var y = pos.top() - viewHeight + (marker.bottom - pos.top());\n        to(pos.left(), y, doc);\n      }\n    };\n    var intoWindowIfNeeded = function (doc, scrollTop, viewHeight, marker, alignToTop) {\n      if (marker.pos.top() < scrollTop) {\n        scrollTo(marker, viewHeight, alignToTop !== false, doc);\n      } else if (marker.bottom > viewHeight + scrollTop) {\n        scrollTo(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    var intoWindow = function (doc, scrollTop, marker, alignToTop) {\n      var viewHeight = doc.dom().defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    var intoFrame = function (editor, doc, scrollTop, marker, alignToTop) {\n      var frameViewHeight = doc.dom().defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      var op = find$4(marker.element);\n      var viewportBounds = getBounds(domGlobals.window);\n      if (op.top() < viewportBounds.y()) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top() > viewportBounds.bottom()) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    var rangeIntoWindow = function (editor, rng, alignToTop) {\n      return withMarker(editor, curry(intoWindow), rng, alignToTop);\n    };\n    var elementIntoWindow = function (editor, element, alignToTop) {\n      return withElement(editor, elementMarker(element), curry(intoWindow), alignToTop);\n    };\n    var rangeIntoFrame = function (editor, rng, alignToTop) {\n      return withMarker(editor, curry(intoFrame, editor), rng, alignToTop);\n    };\n    var elementIntoFrame = function (editor, element, alignToTop) {\n      return withElement(editor, elementMarker(element), curry(intoFrame, editor), alignToTop);\n    };\n    var elementIntoView = function (editor, element, alignToTop) {\n      if (fireScrollIntoViewEvent(editor, element, alignToTop)) {\n        return;\n      }\n      var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    var rangeIntoView = function (editor, rng, alignToTop) {\n      var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n    var ScrollIntoView = {\n      scrollElementIntoView: elementIntoView,\n      scrollRangeIntoView: rangeIntoView\n    };\n\n    var hasCeProperty = function (node) {\n      return NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node);\n    };\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var element, rng, rects;\n      element = doc.elementFromPoint(clientX, clientY);\n      rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return NodeType.isContentEditableFalse(findParent(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint$1 = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (doc.caretRangeFromPoint) {\n        rng = doc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n    var CaretRangeFromPoint = { fromPoint: fromPoint$1 };\n\n    var processRanges = function (editor, ranges) {\n      return map(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n    var EventProcessRanges = { processRanges: processRanges };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || domGlobals.document;\n      var fragment = doc.createDocumentFragment();\n      each(elements, function (element) {\n        fragment.appendChild(element.dom());\n      });\n      return Element.fromDom(fragment);\n    };\n\n    var tableModel = Immutable('element', 'width', 'rows');\n    var tableRow = Immutable('element', 'cells');\n    var cellPosition = Immutable('x', 'y');\n    var getSpan = function (td, key) {\n      var value = parseInt(get$1(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows();\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells();\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows();\n      var cells = rows[y] ? rows[y].cells() : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells().length > acc ? row.cells().length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows();\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells();\n        for (var x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Option.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Option.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows();\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells();\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element(), slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x(), sy = startPos.y();\n      var ex = endPos.x(), ey = endPos.y();\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element(), getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element());\n      var tableBody = Element.fromTag('tbody');\n      append$1(tableBody, rows);\n      append(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map(table.rows(), function (row) {\n        var cells = map(row.cells(), function (cell) {\n          var td = deep(cell);\n          remove(td, 'colspan');\n          remove(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element());\n        append$1(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom$1 = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each(descendants$1(tableElm, 'tr'), function (tr, y) {\n        each(descendants$1(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element(), getWidth(table.rows()), table.rows());\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n    var SimpleTableModel = {\n      fromDom: fromDom$1,\n      toDom: toDom,\n      subsection: subsection\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [Element.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n    var MultiRange = {\n      getRanges: getRanges,\n      getSelectedNodes: getSelectedNodes,\n      hasMultipleRanges: hasMultipleRanges\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter(MultiRange.getSelectedNodes(ranges), isTableCell);\n    };\n    var getCellsFromElement = function (elm) {\n      return descendants$1(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      var rangeCells = getCellsFromRanges(ranges);\n      return selectedCells.length > 0 ? selectedCells : rangeCells;\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(MultiRange.getRanges(editor.selection.getSel()), Element.fromDom(editor.getBody()));\n    };\n    var TableCellSelection = {\n      getCellsFromRanges: getCellsFromRanges,\n      getCellsFromElement: getCellsFromElement,\n      getCellsFromElementOrRanges: getCellsFromElementOrRanges,\n      getCellsFromEditor: getCellsFromEditor\n    };\n\n    var findParentListContainer = function (parents) {\n      return find(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          return [\n            Element.fromTag('li'),\n            Element.fromTag(name(listCont))\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap$3 = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = Element.fromDom(rng.commonAncestorContainer);\n      var parents = Parents.parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter(parents, function (elm) {\n        return isInline(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap$3(Element.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$1(cell, 'table', curry(eq, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = SimpleTableModel.fromDom(tableElm);\n        return SimpleTableModel.subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([SimpleTableModel.toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$2 = function (rootNode, ranges) {\n      var selectedCells = TableCellSelection.getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n    var FragmentReader = { read: read$2 };\n\n    var getTextContent = function (editor) {\n      return Option.from(editor.selection.getRng()).map(function (rng) {\n        var bin = editor.dom.add(editor.getBody(), 'div', {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = Zwsp.trim(bin.innerText);\n        editor.dom.remove(bin);\n        return text;\n      }).getOr('');\n    };\n    var getHtmlContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var fragment;\n      var ranges = EventProcessRanges.processRanges(editor, MultiRange.getRanges(sel));\n      fragment = args.contextual ? FragmentReader.read(Element.fromDom(editor.getBody()), ranges).dom() : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      args.get = true;\n      args.format = args.format || 'html';\n      args.selection = true;\n      args = editor.fire('BeforeGetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('GetContent', args);\n        return args.content;\n      }\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        args.getInner = true;\n        var content = getHtmlContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          args.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', args);\n          return args.content;\n        }\n      }\n    };\n    var GetSelectionContent = { getContent: getContent$1 };\n\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent = function (node, rootNode, predicate) {\n      return findParent$1(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable$3 = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$3 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (NodeType.isBr(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (NodeType.isContentEditableFalse(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var lastInlineElement;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && NodeType.isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Option.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      var walker = new TreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Option.none();\n        }\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Option.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Option.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Option.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Option.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Option.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset;\n      var body = dom.getRoot();\n      var node, nonEmptyElementsMap;\n      var directionLeft, isAfterNode, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      isAfterNode = NodeType.isElement(container) && offset === container.childNodes.length;\n      nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer(container)) {\n        return Option.none();\n      }\n      if (NodeType.isElement(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (NodeType.isDocument(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer(node)) {\n              return Option.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable$3(node)) {\n              return Option.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = NodeType.isText(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable$3(container)) {\n            return Option.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\n            return Option.none();\n          }\n          if (container.hasChildNodes() && isTable$3(container) === false) {\n            node = container;\n            var walker = new TreeWalker(container, body);\n            do {\n              if (NodeType.isContentEditableFalse(node) || isCaretContainer(node)) {\n                normalized = false;\n                break;\n              }\n              if (NodeType.isText(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (NodeType.isText(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (NodeType.isElement(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && NodeType.isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && NodeType.isText(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Option.some(CaretPosition(container, offset)) : Option.none();\n    };\n    var normalize$2 = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return RangeCompare.isEq(rng, normRng) ? Option.none() : Option.some(normRng);\n    };\n    var NormalizeRange = { normalize: normalize$2 };\n\n    var prependData = function (target, data) {\n      target.insertData(0, data);\n    };\n    var removeEmpty = function (text) {\n      if (text.dom().length === 0) {\n        remove$1(text);\n        return Option.none();\n      }\n      return Option.some(text);\n    };\n    var rngSetContent = function (rng, fragment) {\n      var firstChild = Option.from(fragment.firstChild).map(Element.fromDom);\n      var lastChild = Option.from(fragment.lastChild).map(Element.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      var prevText = firstChild.bind(prevSibling).filter(isText$1).bind(removeEmpty);\n      var nextText = lastChild.bind(nextSibling).filter(isText$1).bind(removeEmpty);\n      lift2(prevText, firstChild.filter(isText$1), function (prev, start) {\n        prependData(start.dom(), prev.dom().data);\n        remove$1(prev);\n      });\n      lift2(nextText, lastChild.filter(isText$1), function (next, end) {\n        var oldLength = end.dom().length;\n        end.dom().appendData(next.dom().data);\n        rng.setEnd(end.dom(), oldLength);\n        remove$1(next);\n      });\n      rng.collapse(false);\n    };\n    var setupArgs = function (args, content) {\n      args = args || { format: 'html' };\n      args.set = true;\n      args.selection = true;\n      args.content = content;\n      return args;\n    };\n    var setContent$1 = function (editor, content, args) {\n      args = setupArgs(args, content);\n      if (!args.no_events) {\n        args = editor.fire('BeforeSetContent', args);\n        if (args.isDefaultPrevented()) {\n          editor.fire('SetContent', args);\n          return;\n        }\n      }\n      var rng = editor.selection.getRng();\n      rngSetContent(rng, rng.createContextualFragment(args.content));\n      editor.selection.setRng(rng);\n      ScrollIntoView.scrollRangeIntoView(editor, rng);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n    };\n    var SetSelectionContent = { setContent: setContent$1 };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Option.from(container).map(Element.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement$1(elm) ? Option.some(elm) : parent(elm);\n      }).map(function (elm) {\n        return elm.dom();\n      }).getOr(root);\n    };\n    var getStart$2 = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && NodeType.isText(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode$1 = function (root, rng) {\n      var elm, startContainer, endContainer, startOffset, endOffset;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      startOffset = rng.startOffset;\n      endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node, root;\n      var selectedBlocks = [];\n      root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new TreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select$1 = function (dom, node, content) {\n      return Option.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint$1(dom, rng, node, true);\n          moveEndPoint$1(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var deleteFromCallbackMap = function (callbackMap, selector, callback) {\n      if (callbackMap && callbackMap.hasOwnProperty(selector)) {\n        var newCallbacks = filter(callbackMap[selector], function (cb) {\n          return cb !== callback;\n        });\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    function SelectorChanged (dom, editor) {\n      var selectorChangedData;\n      var currentSelectors;\n      return {\n        selectorChangedWithUnbind: function (selector, callback) {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', function (e) {\n              var node = e.element, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\n              Tools.each(selectorChangedData, function (callbacks, selector) {\n                Tools.each(parents, function (node) {\n                  if (dom.is(node, selector)) {\n                    if (!currentSelectors[selector]) {\n                      Tools.each(callbacks, function (callback) {\n                        callback(true, {\n                          node: node,\n                          selector: selector,\n                          parents: parents\n                        });\n                      });\n                      currentSelectors[selector] = callbacks;\n                    }\n                    matchedSelectors[selector] = callbacks;\n                    return false;\n                  }\n                });\n              });\n              Tools.each(currentSelectors, function (callbacks, selector) {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, function (callback) {\n                    callback(false, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          return {\n            unbind: function () {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    }\n\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$2(Element.fromDom(node.ownerDocument), Element.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var Selection$1 = function (dom, win, serializer, editor) {\n      var bookmarkManager;\n      var controlSelection;\n      var selectedRange;\n      var explicitRange;\n      var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (!node) {\n          moveEndPoint$1(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        } else {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        }\n      };\n      var getContent = function (args) {\n        return GetSelectionContent.getContent(editor, args);\n      };\n      var setContent = function (content, args) {\n        return SetSelectionContent.setContent(editor, content, args);\n      };\n      var getStart = function (real) {\n        return getStart$2(editor.getBody(), getRng(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select = function (node, content) {\n        select$1(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng = function () {\n        var selection, rng, elm, doc;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        if (!win) {\n          return null;\n        }\n        doc = win.document;\n        if (typeof doc === 'undefined' || doc === null) {\n          return null;\n        }\n        if (editor.bookmark !== undefined && EditorFocus.hasFocus(editor) === false) {\n          var bookmark = SelectionBookmark.getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return EventProcessRanges.processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !NodeType.isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n          }\n        } catch (ex) {\n        }\n        rng = EventProcessRanges.processRanges(editor, [rng])[0];\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var sel, node, evt;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        sel = getSel();\n        evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode = function () {\n        return getNode$1(editor.getBody(), getRng());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorRange, focusRange;\n        if (!sel || !sel.anchorNode || !sel.focusNode) {\n          return true;\n        }\n        anchorRange = dom.createRng();\n        anchorRange.setStart(sel.anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        focusRange = dom.createRng();\n        focusRange.setStart(sel.focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize = function () {\n        var rng = getRng();\n        var sel = getSel();\n        if (!MultiRange.hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = NormalizeRange.normalize(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        return ScrollIntoView.scrollElementIntoView(editor, elm, alignToTop);\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(CaretRangeFromPoint.fromPoint(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng();\n        return rng.collapsed ? CaretPosition$1.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng,\n        getStart: getStart,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize,\n        selectorChanged: selectorChanged,\n        selectorChangedWithUnbind: selectorChangedWithUnbind,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      bookmarkManager = BookmarkManager$1(exports);\n      controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var isText$8 = NodeType.isText;\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[0] === Zwsp.ZWSP;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(Zwsp.ZWSP);\n    };\n    var insertBefore = function (node) {\n      if (isText$8(node.previousSibling)) {\n        if (endsWithCaretContainer$1(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(Zwsp.ZWSP);\n          return node.previousSibling;\n        }\n      } else if (isText$8(node)) {\n        if (startsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.insertData(0, Zwsp.ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter = function (node) {\n      if (isText$8(node.nextSibling)) {\n        if (startsWithCaretContainer$1(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, Zwsp.ZWSP);\n          return node.nextSibling;\n        }\n      } else if (isText$8(node)) {\n        if (endsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.appendData(Zwsp.ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline$1 = function (before, node) {\n      return before ? insertBefore(node) : insertAfter(node);\n    };\n    var insertInlineBefore = curry(insertInline$1, true);\n    var insertInlineAfter = curry(insertInline$1, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (NodeType.isText(pos.container())) {\n        return insertInline$1(before, pos.container());\n      } else {\n        return insertInline$1(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        CaretContainerRemove.remove(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Option.some(CaretPosition$1(text, text.length - 1));\n      }, function (element) {\n        return CaretFinder.firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            CaretContainerRemove.remove(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition$1(text, 1);\n          } else {\n            return CaretPosition$1(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return CaretFinder.lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            CaretContainerRemove.remove(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition$1(text, text.length - 1);\n          } else {\n            return CaretPosition$1(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        CaretContainerRemove.remove(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Option.some(CaretPosition$1(text, 1));\n      });\n    };\n    var BoundaryCaret = { renderCaret: renderCaret };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is(Element.fromDom(elm), Settings.getInlineBoundarySelector(editor));\n    };\n    var isRtl$1 = function (element) {\n      return DOMUtils$1.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter(DOMUtils$1.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Option.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock(node1, rootNode);\n      var block2 = getParentBlock(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (NodeType.isText(container.nextSibling)) {\n            return CaretPosition$1(container.nextSibling, 0);\n          } else {\n            return CaretPosition$1.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition$1(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (NodeType.isText(container.previousSibling)) {\n            return CaretPosition$1(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition$1.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition$1(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n    var InlineUtils = {\n      isInlineTarget: isInlineTarget,\n      findRootInline: findRootInline,\n      isRtl: isRtl$1,\n      isAtZwsp: isAtZwsp,\n      normalizePosition: normalizePosition,\n      normalizeForwards: normalizeForwards,\n      normalizeBackwards: normalizeBackwards,\n      hasSameParentBlock: hasSameParentBlock\n    };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Option.none();\n    };\n    var LazyEvaluator = { evaluateUntil: evaluateUntil };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before$4 = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeForwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return CaretFinder.nextPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Option.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return InlineUtils.findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start$1 = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = CaretFinder.prevPosition(inline, nPos);\n        return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = CaretFinder.nextPosition(inline, nPos);\n        return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();\n      });\n    };\n    var after$3 = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeBackwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return CaretFinder.prevPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Option.none);\n    };\n    var isValidLocation = function (location) {\n      return InlineUtils.isRtl(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = LazyEvaluator.evaluateUntil([\n        before$4,\n        start$1,\n        end,\n        after$3\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq$5 = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(InlineUtils.findRootInline(isInlineTarget, rootNode, from), InlineUtils.findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && InlineUtils.hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(constant(true), function (fromLocation) {\n        return !isEq$5(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = InlineUtils.normalizePosition(forward, pos);\n      var to = CaretFinder.fromPosition(forward, rootNode, from).map(curry(InlineUtils.normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Option.some, Location.start), Option.none, compose(Option.some, Location.after), Option.none);\n      } else {\n        return location.fold(Option.none, compose(Option.some, Location.before), Option.none, compose(Option.some, Location.end));\n      }\n    };\n    var findLocation = function (forward, isInlineTarget, rootNode, pos) {\n      var from = InlineUtils.normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    var BoundaryLocation = {\n      readLocation: readLocation,\n      findLocation: findLocation,\n      prevLocation: curry(findLocation, false),\n      nextLocation: curry(findLocation, true),\n      getElement: getElement,\n      outside: outside,\n      inside: inside\n    };\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition$1(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition$1.fromRangeEnd(rng) : CaretPosition$1.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n    var WordSelection = {\n      hasSelectionModifyApi: hasSelectionModifyApi,\n      moveByWord: moveByWord\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var isFeatureEnabled = function (editor) {\n      return editor.settings.inline_boundaries !== false;\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation$1 = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var location = BoundaryLocation.findLocation(forward, isInlineTarget, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var selectedInlines = filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'), isInlineTarget);\n      var targetInlines = filter(elms, isInlineTarget);\n      each(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition$1.isTextPosition(pos) && InlineUtils.isAtZwsp(pos) === false) {\n          setCaretPosition(editor, CaretContainerRemove.removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter(elms, isInlineTarget);\n        each(inlines, function (inline) {\n          var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n          BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move$1 = function (editor, caret, forward) {\n      return function () {\n        return isFeatureEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\n      };\n    };\n    var moveWord = function (forward, editor, caret) {\n      return function () {\n        return isFeatureEnabled(editor) ? WordSelection.moveByWord(forward, editor) : false;\n      };\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isFeatureEnabled(editor)) {\n          toggleInlines(isInlineTarget, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var BoundarySelection = {\n      move: move$1,\n      moveNextWord: moveNextWord,\n      movePrevWord: movePrevWord,\n      setupSelectedState: setupSelectedState,\n      setCaretPosition: setCaretPosition\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? positions.reverse() : positions;\n    };\n    var walk$3 = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (NodeType.isBr(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start, nextPos;\n      var positions = [];\n      while (currentPos) {\n        nextPos = walk$3(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (NodeType.isBr(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Option.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Option.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Option.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Option.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Option.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Option.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var getFirstLinePositions = function (scope) {\n      return CaretFinder.firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return CaretFinder.lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var isContentEditableFalse$b = NodeType.isContentEditableFalse;\n    var getSelectedNode$1 = getSelectedNode;\n    var moveToCeFalseHorizontally = function (direction, editor, getNextPosFn, range) {\n      var forwards = direction === HDirection.Forwards;\n      var isBeforeContentEditableFalseFn = forwards ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n      if (!range.collapsed) {\n        var node = getSelectedNode$1(range);\n        if (isContentEditableFalse$b(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, true);\n        }\n      }\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeContentEditableFalseFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = InlineUtils.normalizePosition(forwards, getNextPosFn(caretPosition));\n      if (!nextCaretPosition) {\n        if (rangeIsInContainerBlock) {\n          return range;\n        }\n        return null;\n      }\n      if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, true);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, true);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaret(editor, nextCaretPosition.toRange(), true);\n      }\n      return null;\n    };\n    var moveToCeFalseVertically = function (direction, editor, walkerFn, range) {\n      var caretPosition, linePositions, nextLinePositions;\n      var closestNextLineRect, caretClientRect, clientX;\n      var dist1, dist2, contentEditableFalseNode;\n      contentEditableFalseNode = getSelectedNode$1(range);\n      caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      nextLinePositions = filter(linePositions, isLine(1));\n      caretClientRect = ArrUtils.last(caretPosition.getClientRects());\n      if (isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition)) {\n        contentEditableFalseNode = caretPosition.getNode();\n      }\n      if (isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition)) {\n        contentEditableFalseNode = caretPosition.getNode(true);\n      }\n      if (!caretClientRect) {\n        return null;\n      }\n      clientX = caretClientRect.left;\n      closestNextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (closestNextLineRect) {\n        if (isContentEditableFalse$b(closestNextLineRect.node)) {\n          dist1 = Math.abs(clientX - closestNextLineRect.left);\n          dist2 = Math.abs(clientX - closestNextLineRect.right);\n          return showCaret(direction, editor, closestNextLineRect.node, dist1 < dist2, true);\n        }\n      }\n      if (contentEditableFalseNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), contentEditableFalseNode);\n        closestNextLineRect = findClosestClientRect(filter(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n        }\n        closestNextLineRect = ArrUtils.last(filter(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n        }\n      }\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(Settings.getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var pre, caretPos, newBlock;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      if (range.collapsed && editor.settings.forced_root_block) {\n        pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        if (direction === 1) {\n          caretPos = getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n        } else {\n          caretPos = getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n        }\n        if (!caretPos) {\n          newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      var newRange;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n      var range = editor.selection.getRng();\n      newRange = moveToCeFalseHorizontally(direction, editor, getNextPosFn, range);\n      if (newRange) {\n        return newRange;\n      }\n      newRange = exitPreBlock(editor, direction, range);\n      if (newRange) {\n        return newRange;\n      }\n      return null;\n    };\n    var getVerticalRange = function (editor, down) {\n      var newRange;\n      var direction = down ? 1 : -1;\n      var walkerFn = down ? downUntil : upUntil;\n      var range = editor.selection.getRng();\n      newRange = moveToCeFalseVertically(direction, editor, walkerFn, range);\n      if (newRange) {\n        return newRange;\n      }\n      newRange = exitPreBlock(editor, direction, range);\n      if (newRange) {\n        return newRange;\n      }\n      return null;\n    };\n    var moveH = function (editor, forward) {\n      return function () {\n        var newRng = getHorizontalRange(editor, forward);\n        if (newRng) {\n          editor.selection.setRng(newRng);\n          return true;\n        } else {\n          return false;\n        }\n      };\n    };\n    var moveV = function (editor, down) {\n      return function () {\n        var newRng = getVerticalRange(editor, down);\n        if (newRng) {\n          editor.selection.setRng(newRng);\n          return true;\n        } else {\n          return false;\n        }\n      };\n    };\n    var isCefPosition = function (forward) {\n      return function (pos) {\n        return forward ? isAfterContentEditableFalse(pos) : isBeforeContentEditableFalse(pos);\n      };\n    };\n    var moveToLineEndPoint = function (editor, forward) {\n      return function () {\n        var from = forward ? CaretPosition$1.fromRangeEnd(editor.selection.getRng()) : CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        var result = forward ? getPositionsUntilNextLine(editor.getBody(), from) : getPositionsUntilPreviousLine(editor.getBody(), from);\n        var to = forward ? last(result.positions) : head(result.positions);\n        return to.filter(isCefPosition(forward)).fold(constant(false), function (pos) {\n          editor.selection.setRng(pos.toRange());\n          return true;\n        });\n      };\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Option.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Option.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Option.none());\n    };\n    var getClosestCell = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants$1(Element.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom();\n      });\n      var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove$1 = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow$1 = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove$1);\n    var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow$1);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      ScrollIntoView.scrollRangeIntoView(editor, rng);\n    };\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.map(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      }).getOr(false);\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !NodeType.isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      return CaretFinder.positionIn(!forward, table).map(function (pos) {\n        return pos.isEqual(caretPos);\n      }).getOr(false);\n    };\n    var navigateHorizontally = function (editor, forward, table, td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        var newRng = showCaret(direction, editor, table, !forward, true);\n        moveToRange(editor, newRng);\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition$1.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition$1.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition$1.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition$1.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return NodeType.isElement(node) && node.nodeName === 'TABLE' ? Option.some(node) : Option.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = Element.fromTag(forcedRootBlock);\n          setAll(element, Settings.getForcedRootBlockAttrs(editor));\n          append(element, Element.fromTag('br'));\n          if (down) {\n            after(Element.fromDom(table), element);\n          } else {\n            before(Element.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom(), 0);\n          rng.setEnd(element.dom(), 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return CaretFinder.positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition$1.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var moveH$1 = function (editor, forward) {\n      return function () {\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n            return navigateHorizontally(editor, forward, table);\n          });\n        }).getOr(false);\n      };\n    };\n    var moveV$1 = function (editor, forward) {\n      return function () {\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n            return navigateVertically(editor, forward, table, td);\n          });\n        }).getOr(false);\n      };\n    };\n\n    var isTarget = function (node) {\n      return contains(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = domGlobals.document.createRange();\n      rng.setStartBefore(target.dom());\n      rng.setEndBefore(target.dom());\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = Element.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock$1 = function (root, forward, blockName, attrs) {\n      var block = Element.fromTag(blockName);\n      var br = Element.fromTag('br');\n      setAll(block, attrs);\n      append(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock$1(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq, root);\n      return closest(Element.fromDom(pos.container()), isBlock, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom(), pos) : isAtFirstLine(root.dom(), pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = Element.fromDom(editor.getBody());\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var rootBlock = Settings.getForcedRootBlock(editor);\n      var rootBlockAttrs = Settings.getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$2 = function (editor, forward) {\n      return function () {\n        if (editor.selection.isCollapsed()) {\n          return moveCaretToNewEmptyLine(editor, forward);\n        } else {\n          return false;\n        }\n      };\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map(patterns, function (pattern) {\n        return merge({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      return function () {\n        return f.apply(null, args);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n    var MatchKeys = {\n      match: match$1,\n      action: action,\n      execute: execute\n    };\n\n    var executeKeydownOverride = function (editor, caret, evt) {\n      var os = detect$3().os;\n      MatchKeys.execute([\n        {\n          keyCode: VK.RIGHT,\n          action: moveH(editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: moveH(editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV(editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: moveH$1(editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: moveH$1(editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV$1(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV$1(editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: BoundarySelection.move(editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: BoundarySelection.move(editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: BoundarySelection.moveNextWord(editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: BoundarySelection.movePrevWord(editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV$2(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV$2(editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$8 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, caret, evt);\n        }\n      });\n    };\n    var ArrowKeys = { setup: setup$8 };\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq(rootNode, Element.fromDom(elm.dom().parentNode));\n      };\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      return contains$2(rootNode, elm) ? closest(elm, function (element) {\n        return isTextBlock(element) || isListItem(element);\n      }, isBeforeRoot(rootNode)) : Option.none();\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n        var normalizedFromPos = InlineUtils.normalizePosition(false, fromPos);\n        if (forward) {\n          return CaretFinder.nextPosition(elm, normalizedFromPos).map(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          }).getOr(false);\n        } else {\n          return CaretFinder.prevPosition(elm, normalizedFromPos).map(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          }).getOr(false);\n        }\n      }).getOr(true);\n    };\n    var DeleteUtils = {\n      getParentBlock: getParentBlock$1,\n      paddEmptyBody: paddEmptyBody,\n      willDeleteLastPositionInElement: willDeleteLastPositionInElement\n    };\n\n    var blockPosition = function (block, position) {\n      return {\n        block: constant(block),\n        position: constant(position)\n      };\n    };\n    var blockBoundary = function (from, to) {\n      return {\n        from: constant(from),\n        to: constant(to)\n      };\n    };\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = Element.fromDom(rootNode);\n      var containerElm = Element.fromDom(pos.container());\n      return DeleteUtils.getParentBlock(rootElm, containerElm).map(function (block) {\n        return blockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from().block()).bind(function (parent1) {\n        return parent(blockBoundary.to().block()).filter(function (parent2) {\n          return eq(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable = function (blockBoundary) {\n      return NodeType.isContentEditableFalse(blockBoundary.from().block().dom()) === false && NodeType.isContentEditableFalse(blockBoundary.to().block().dom()) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (NodeType.isBr(blockPosition.position().getNode()) && Empty.isEmpty(blockPosition.block()) === false) {\n        return CaretFinder.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position())) {\n            return CaretFinder.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Option.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition$1.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return CaretFinder.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\n      });\n    };\n    var read$3 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();\n    };\n    var BlockMergeBoundary = { read: read$3 };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex(children$1, isBlock).fold(function () {\n        return children$1;\n      }, function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each(children, remove$1);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = Parents.parentsAndSelf(block, rootNode);\n      return find(parents.reverse(), Empty.isEmpty).each(remove$1);\n    };\n    var isEmptyBefore = function (el) {\n      return filter(prevSiblings(el), function (el) {\n        return !Empty.isEmpty(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (Empty.isEmpty(toBlock)) {\n        PaddingBr.fillWithPaddingBr(toBlock);\n        return CaretFinder.firstPositionIn(toBlock.dom());\n      }\n      if (isEmptyBefore(insertionPoint) && Empty.isEmpty(fromBlock)) {\n        before(insertionPoint, Element.fromTag('br'));\n      }\n      var position = CaretFinder.prevPosition(toBlock.dom(), CaretPosition$1.before(insertionPoint.dom()));\n      each(extractChildren(fromBlock), function (child) {\n        before(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (Empty.isEmpty(toBlock)) {\n        remove$1(toBlock);\n        if (Empty.isEmpty(fromBlock)) {\n          PaddingBr.fillWithPaddingBr(fromBlock);\n        }\n        return CaretFinder.firstPositionIn(fromBlock.dom());\n      }\n      var position = CaretFinder.lastPositionIn(toBlock.dom());\n      each(extractChildren(fromBlock), function (child) {\n        append(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf = Parents.parentsAndSelf(block, toBlock);\n      return Option.from(parentsAndSelf[parentsAndSelf.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$2(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Option.none();\n    };\n    var trimBr = function (first, block) {\n      CaretFinder.positionIn(first, block.dom()).map(function (position) {\n        return position.getNode();\n      }).map(Element.fromDom).filter(isBr$1).each(remove$1);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n    var MergeBlocks = { mergeBlocks: mergeBlocks };\n\n    var backspaceDelete = function (editor, forward) {\n      var rootNode = Element.fromDom(editor.getBody());\n      var position = BlockMergeBoundary.read(rootNode.dom(), forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return MergeBlocks.mergeBlocks(rootNode, forward, blockBoundary.from().block(), blockBoundary.to().block());\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n    var BlockBoundaryDelete = { backspaceDelete: backspaceDelete };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.startContainer)), DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq(block1, block2) === false) {\n          rng.deleteContents();\n          MergeBlocks.mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = Element.fromDom(rawNode);\n      var isRoot = curry(eq, root);\n      return ancestor(node, isTableCell, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = CaretFinder.prevPosition(root.dom(), CaretPosition$1.fromRangeStart(rng)).isNone();\n      var noNext = CaretFinder.nextPosition(root.dom(), CaretPosition$1.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange = function (editor) {\n      var rootNode = Element.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$1 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange(editor);\n    };\n    var BlockRangeDelete = { backspaceDelete: backspaceDelete$1 };\n\n    var isBr$5 = function (pos) {\n      return getElementFromPosition(pos).exists(isBr$1);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n      var scope = head(parentBlocks).getOr(root);\n      return CaretFinder.fromPosition(forward, scope.dom(), pos).filter(isBr$5);\n    };\n    var isBeforeBr = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr$1) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr$1) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var isCompoundElement = function (node) {\n      return isTableCell(Element.fromDom(node)) || isListItem(Element.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return NodeType.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline(Element.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(constant(false), inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return DeleteUtils.getParentBlock(Element.fromDom(root), Element.fromDom(from.getNode())).map(function (blockElm) {\n        return Empty.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Option.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return CaretFinder.fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Option.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Option.none();\n        } else if (forward && NodeType.isContentEditableFalse(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && NodeType.isContentEditableFalse(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Option.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Option.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && NodeType.isContentEditableFalse(elm.nextSibling)) {\n        return Option.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && NodeType.isContentEditableFalse(elm.previousSibling)) {\n        return Option.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Option.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Option.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Option.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Option.none();\n        } else {\n          return Option.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Option.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read$4 = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition$1.fromRangeStart(normalizedRange);\n      var rootElement = Element.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Option.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Option.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        DeleteElement.deleteElement(editor, forward, Element.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition$1.before(element) : CaretPosition$1.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var getAncestorCe = function (editor, node) {\n      return Option.from(getContentEditableRoot$2(editor.getBody(), node));\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(NodeType.isContentEditableFalse).fold(function () {\n        var result = read$4(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {\n          return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n        });\n        return result.getOr(false);\n      }, function () {\n        return true;\n      });\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each(descendants$1(rootElement, '.mce-offscreen-selection'), remove$1);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      if (NodeType.isContentEditableFalse(selectedNode)) {\n        var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(NodeType.isContentEditableFalse);\n        return hasCefAncestor.fold(function () {\n          deleteOffscreenSelection(Element.fromDom(editor.getBody()));\n          DeleteElement.deleteElement(editor, forward, Element.fromDom(editor.selection.getNode()));\n          DeleteUtils.paddEmptyBody(editor);\n          return true;\n        }, function () {\n          return true;\n        });\n      }\n      return false;\n    };\n    var getContentEditableRoot$2 = function (root, node) {\n      while (node && node !== root) {\n        if (NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var paddEmptyElement = function (editor) {\n      var br;\n      var ceRoot = getContentEditableRoot$2(editor.getBody(), editor.selection.getNode());\n      if (NodeType.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\n        br = editor.dom.create('br', { 'data-mce-bogus': '1' });\n        editor.dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        editor.selection.setRng(CaretPosition$1.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$2 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n    var CefDelete = {\n      backspaceDelete: backspaceDelete$2,\n      paddEmptyElement: paddEmptyElement\n    };\n\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (NodeType.isText(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      var caretRange = showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true);\n      if (range.collapsed) {\n        var deleteRange = range.cloneRange();\n        if (forward) {\n          deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n        } else {\n          deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n        }\n        deleteRange.deleteContents();\n      } else {\n        range.deleteContents();\n      }\n      editor.selection.setRng(caretRange);\n      trimEmptyTextNode$1(editor.dom, node);\n      return true;\n    };\n    var deleteCefBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!NodeType.isText(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n      var isBeforeContentEditableFalseFn = forward ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = InlineUtils.normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return false;\n      } else if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$3 = function (editor, forward) {\n      return deleteCefBoundaryText(editor, forward);\n    };\n    var CefBoundaryDelete = { backspaceDelete: backspaceDelete$3 };\n\n    var isFeatureEnabled$1 = function (editor) {\n      return editor.settings.inline_boundaries !== false;\n    };\n    var rangeFromPositions = function (from, to) {\n      var range = domGlobals.document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n        return CaretFinder.nextPosition(elm, normalizedFirstPos).map(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        }).getOr(true);\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n          BoundarySelection.setCaretPosition(editor, pos);\n          return true;\n        }).getOr(false);\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        BoundaryLocation.readLocation(isInlineTarget, rootNode, CaretPosition$1.fromRangeStart(editor.selection.getRng())).map(BoundaryLocation.inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope$1(editor.getBody(), from.container());\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var fromLocation = BoundaryLocation.readLocation(isInlineTarget, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Option.some(BoundaryLocation.inside(location))), Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none);\n        } else {\n          return location.fold(Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none, constant(Option.some(BoundaryLocation.inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = CaretFinder.navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return BoundaryLocation.readLocation(isInlineTarget, rootNode, pos);\n        });\n        if (fromLocation.isSome() && toLocation.isSome()) {\n          return InlineUtils.findRootInline(isInlineTarget, rootNode, from).map(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              DeleteElement.deleteElement(editor, forward, Element.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          }).getOr(false);\n        } else {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          }).getOr(false);\n        }\n      });\n    };\n    var backspaceDelete$4 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isFeatureEnabled$1(editor)) {\n        var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n    var BoundaryDelete = { backspaceDelete: backspaceDelete$4 };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = Parents.parentsAndSelf(startElm, rootElm);\n      return findIndex(parents, isBlock).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild = function (elm) {\n      return children(elm).length === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map(filter(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom();\n      });\n      if (formatNodes.length === 0) {\n        DeleteElement.deleteElement(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom(), formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret = function (editor, forward) {\n      var rootElm = Element.fromDom(editor.getBody());\n      var startElm = Element.fromDom(editor.selection.getStart());\n      var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last(parentInlines).map(function (target) {\n        var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        if (DeleteUtils.willDeleteLastPositionInElement(forward, fromPos, target.dom()) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret(editor, forward) : false;\n    };\n    var InlineFormatDelete = { backspaceDelete: backspaceDelete$5 };\n\n    var tableCellRng = function (start, end) {\n      return {\n        start: constant(start),\n        end: constant(end)\n      };\n    };\n    var tableSelection = function (rng, table, cells) {\n      return {\n        rng: constant(rng),\n        table: constant(table),\n        cells: constant(cells)\n      };\n    };\n    var deleteAction = Adt.generate([\n      { removeTable: ['element'] },\n      { emptyCells: ['cells'] }\n    ]);\n    var isRootFromElement = function (root) {\n      return function (cur) {\n        return eq(root, cur);\n      };\n    };\n    var getClosestCell$1 = function (container, isRoot) {\n      return closest$1(Element.fromDom(container), 'td,th', isRoot);\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$1(cell, 'table', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return eq(cellRng.start(), cellRng.end()) === false;\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start(), isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end(), isRoot).bind(function (endParentTable) {\n          return someIf(eq(startParentTable, endParentTable), startParentTable);\n        });\n      });\n    };\n    var getTableCells = function (table) {\n      return descendants$1(table, 'td,th');\n    };\n    var getCellRangeFromStartTable = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start(), isRoot).bind(function (table) {\n        return last(getTableCells(table)).map(function (endCell) {\n          return tableCellRng(cellRng.start(), endCell);\n        });\n      });\n    };\n    var partialSelection = function (isRoot, rng) {\n      var startCell = getClosestCell$1(rng.startContainer, isRoot);\n      var endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return rng.collapsed ? Option.none() : lift2(startCell, endCell, tableCellRng).fold(function () {\n        return startCell.fold(function () {\n          return endCell.bind(function (endCell) {\n            return getClosestTable(endCell, isRoot).bind(function (table) {\n              return head(getTableCells(table)).map(function (startCell) {\n                return tableCellRng(startCell, endCell);\n              });\n            });\n          });\n        }, function (startCell) {\n          return getClosestTable(startCell, isRoot).bind(function (table) {\n            return last(getTableCells(table)).map(function (endCell) {\n              return tableCellRng(startCell, endCell);\n            });\n          });\n        });\n      }, function (cellRng) {\n        return isWithinSameTable(isRoot, cellRng) ? Option.none() : getCellRangeFromStartTable(cellRng, isRoot);\n      });\n    };\n    var isWithinSameTable = function (isRoot, cellRng) {\n      return getTableFromCellRng(cellRng, isRoot).isSome();\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell$1(rng.startContainer, isRoot);\n      var endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng).filter(isExpandedCellRng).filter(function (cellRng) {\n        return isWithinSameTable(isRoot, cellRng);\n      }).orThunk(function () {\n        return partialSelection(isRoot, rng);\n      });\n    };\n    var getTableSelectionFromCellRng = function (cellRng, isRoot) {\n      return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n        return tableSelection(cellRng, table, getTableCells(table));\n      });\n    };\n    var getTableSelectionFromRng = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      return getCellRng(rng, isRoot).bind(function (cellRng) {\n        return getTableSelectionFromCellRng(cellRng, isRoot);\n      });\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex(cells, function (x) {\n        return eq(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells(), tableSelection.rng().start()), getCellIndex(tableSelection.cells(), tableSelection.rng().end()), function (startIndex, endIndex) {\n        return tableSelection.cells().slice(startIndex, endIndex + 1);\n      });\n    };\n    var getAction = function (tableSelection) {\n      return getSelectedCells(tableSelection).map(function (selected) {\n        var cells = tableSelection.cells();\n        return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table()) : deleteAction.emptyCells(selected);\n      });\n    };\n    var getActionFromRange = function (root, rng) {\n      return getTableSelectionFromRng(root, rng).bind(getAction);\n    };\n\n    var emptyCells = function (editor, cells) {\n      each(cells, PaddingBr.fillWithPaddingBr);\n      editor.selection.setCursorLocation(cells[0].dom(), 0);\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      DeleteElement.deleteElement(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange$1 = function (editor, startElm) {\n      var rootNode = Element.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      var selectedCells = TableCellSelection.getCellsFromEditor(editor);\n      return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find(Parents.parentsAndSelf(elm, rootElm), isTableCell);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find(Parents.parentsAndSelf(elm, rootElm), function (elm) {\n        return name(elm) === 'caption';\n      });\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, Element.fromDom(to.getNode())).map(function (toCell) {\n          return eq(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      PaddingBr.fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom(), 0);\n      return Option.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return CaretFinder.firstPositionIn(fromCaption.dom()).bind(function (first) {\n        return CaretFinder.lastPositionIn(fromCaption.dom()).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, Element.fromDom(to.getNode())).map(function (toCaption) {\n        return eq(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Option.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return Empty.isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      }).getOr(false);\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return Empty.isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var isNearTable = function (forward, pos) {\n      return forward ? isBeforeTable(pos) : isAfterTable(pos);\n    };\n    var isBeforeOrAfterTable = function (editor, forward) {\n      var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || CaretFinder.fromPosition(forward, editor.getBody(), fromPos).map(function (pos) {\n        return isNearTable(forward, pos);\n      }).getOr(false);\n    };\n    var deleteCaret$1 = function (editor, forward, startElm) {\n      var rootElm = Element.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n      });\n    };\n    var backspaceDelete$6 = function (editor, forward) {\n      var startElm = Element.fromDom(editor.selection.getStart(true));\n      var cells = TableCellSelection.getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$1(editor, forward, startElm) : deleteRange$1(editor, startElm);\n    };\n    var TableDelete = { backspaceDelete: backspaceDelete$6 };\n\n    var deleteCaret$2 = function (editor, forward) {\n      var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return CaretFinder.fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n        return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n      }).bind(function (pos) {\n        return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n      }).map(function (elm) {\n        editor.selection.select(elm);\n        return true;\n      }).getOr(false);\n    };\n    var backspaceDelete$7 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n    };\n    var PageBreakDelete = { backspaceDelete: backspaceDelete$7 };\n\n    var isEditable$1 = function (target) {\n      return closest(target, function (elm) {\n        return NodeType.isContentEditableTrue(elm.dom()) || NodeType.isContentEditableFalse(elm.dom());\n      }).exists(function (elm) {\n        return NodeType.isContentEditableTrue(elm.dom());\n      });\n    };\n    var parseIndentValue = function (value) {\n      var number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    var getIndentStyleName = function (useMargin, element) {\n      var indentStyleName = useMargin || isTable$1(element) ? 'margin' : 'padding';\n      var suffix = get$2(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      var indentStyleName = getIndentStyleName(useMargin, Element.fromDom(element));\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var validateBlocks = function (editor, blocks) {\n      return forall(blocks, function (block) {\n        var indentStyleName = getIndentStyleName(Settings.shouldIndentUseMargin(editor), block);\n        var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n        var contentEditable = editor.dom.getContentEditable(block.dom());\n        return contentEditable !== 'false' && intentValue > 0;\n      });\n    };\n    var canOutdent = function (editor) {\n      var blocks = getBlocksToIndent(editor);\n      return editor.readonly !== true && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).map(isListComponent).getOr(false);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter(map(editor.selection.getSelectedBlocks(), Element.fromDom), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el) && isEditable$1(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentation = Settings.getIndentation(editor);\n      var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      var indentValue = parseInt(indentation, 10);\n      var useMargin = Settings.shouldIndentUseMargin(editor);\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom());\n      });\n    };\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return CaretFinder.navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock = function (root, pos) {\n      return find(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n        return getClosestBlock(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom()) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom()) === false && contains$2(fromBlock, Element.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary = function (forward, root, pos) {\n      return getClosestBlock(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom()) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom(), pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var backspaceDelete$8 = function (editor, _caret, _forward) {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        var dom = editor.dom;\n        var rng = editor.selection.getRng();\n        var pos = CaretPosition$1.fromRangeStart(rng);\n        var block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(Element.fromDom(block), pos)) {\n          handle(editor, 'outdent');\n          return true;\n        }\n      }\n      return false;\n    };\n    var Outdent = { backspaceDelete: backspaceDelete$8 };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(Outdent.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(BoundaryDelete.backspaceDelete, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(BoundaryDelete.backspaceDelete, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(PageBreakDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(PageBreakDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$9 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n    var DeleteBackspaceKeys = { setup: setup$9 };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var node, rng, lastNode = root;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode('\\xA0'), root.firstChild);\n        }\n      }\n      rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        var walker = new TreeWalker(root, root);\n        while (node = walker.current()) {\n          if (NodeType.isText(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (NodeType.isBr(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      editor.selection.scrollIntoView(root);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock$2 = function (editor) {\n      return Option.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock$2(editor).filter(function (elm) {\n        return isListItem(Element.fromDom(elm));\n      }).isSome();\n    };\n    var NewLineUtils = {\n      moveToCaretPosition: moveToCaretPosition,\n      getEditableRoot: getEditableRoot,\n      getParentBlock: getParentBlock$2,\n      getParentBlockName: getParentBlockName,\n      isListItemParentBlock: isListItemParentBlock\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var hasParent$1 = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (NodeType.isElement(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n      }\n      dom.remove(parentBlock);\n      NewLineUtils.moveToCaretPosition(editor, newBlock);\n    };\n    var InsertLi = { insert: insert };\n\n    var trimZwsp = function (fragment) {\n      each(descendants(Element.fromDom(fragment), isText$1), function (text) {\n        var rawNode = text.dom();\n        rawNode.nodeValue = Zwsp.trim(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell$4 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (NodeType.isElement(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (NodeType.isText(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === Zwsp.ZWSP ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === Zwsp.ZWSP ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (NodeType.isText(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = Settings.getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        editor.dom.setAttribs(node, Settings.getForcedRootBlockAttrs(editor));\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot$1(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell$4(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      var lastChild;\n      block.normalize();\n      lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$1 = function (editor, evt) {\n      var tmpRng, editableRoot, container, offset, parentBlock, shiftKey;\n      var newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n          setForcedBlockAttrs(editor, block);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (Settings.shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || Bookmarks.isBookmarkNode(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var node, name;\n        var normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (NodeType.isText(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && NodeType.isElement(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        var walker = new TreeWalker(container, parentBlock);\n        if (NodeType.isText(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (NodeType.isElement(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (NodeType.isText(node) && !/^[ \\t\\r\\n]*$/.test(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (Settings.shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\n      };\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = Settings.getForcedRootBlock(editor);\n      shiftKey = !!(evt && evt.shiftKey);\n      var ctrlKey = !!(evt && evt.ctrlKey);\n      if (NodeType.isElement(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && NodeType.isText(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      editableRoot = getEditableRoot$1(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          InsertLi.insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        NewLineUtils.moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          NewLineUtils.moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n    var InsertBlock = { insert: insert$1 };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new TreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var scrollToBr = function (dom, selection, brElm) {\n      var marker = dom.create('span', {}, '&nbsp;');\n      brElm.parentNode.insertBefore(marker, brElm);\n      selection.scrollIntoView(marker);\n      dom.remove(marker);\n    };\n    var moveSelectionToBr = function (dom, selection, brElm, extraBr) {\n      var rng = dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      selection.setRng(rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      scrollToBr(dom, selection, brElm);\n      moveSelectionToBr(dom, selection, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = Element.fromTag('br');\n      before(Element.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after(Element.fromDom(inline), Element.fromTag('br'));\n      }\n      var br = Element.fromTag('br');\n      after(Element.fromDom(inline), br);\n      scrollToBr(editor.dom, editor.selection, br.dom());\n      moveSelectionToBr(editor.dom, editor.selection, br.dom(), false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr$1 = function (pos) {\n      return NodeType.isBr(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr$1(CaretPosition$1.after(startNode))) {\n        return true;\n      } else {\n        return CaretFinder.nextPosition(rootNode, CaretPosition$1.after(startNode)).map(function (pos) {\n          return NodeType.isBr(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(constant(false), isAnchorLink, isAnchorLink, constant(false));\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var position = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert$2 = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n    var InsertBr = { insert: insert$2 };\n\n    var matchesSelector = function (editor, selector) {\n      return NewLineUtils.getParentBlock(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is(Element.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, Settings.getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine = function (editor) {\n      return matchesSelector(editor, Settings.getNoNewLineSelector(editor));\n    };\n    var ContextSelectors = {\n      shouldInsertBr: shouldInsertBr,\n      shouldBlockNewLine: shouldBlockNewLine\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine$1 = function (editor, shiftKey) {\n      return ContextSelectors.shouldBlockNewLine(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, shiftKey) {\n        var brMode = Settings.getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, shiftKey) {\n        return NewLineUtils.isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, shiftKey) {\n        var state = NewLineUtils.getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre$1 = function (requiredState) {\n      return function (editor, shiftKey) {\n        return Settings.shouldPutBrInPre(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, shiftKey) {\n      return ContextSelectors.shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      var rootEditable = NewLineUtils.getEditableRoot(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match$2 = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Option.some(action) : Option.none();\n      };\n    };\n    var getAction$1 = function (editor, evt) {\n      return LazyEvaluator.evaluateUntil([\n        match$2([shouldBlockNewLine$1], newLineAction.none()),\n        match$2([inSummaryBlock()], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false)\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true)\n        ], newLineAction.br()),\n        match$2([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([inListBlock(true)], newLineAction.block()),\n        match$2([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match$2([isBrMode(true)], newLineAction.br()),\n        match$2([inBrContext], newLineAction.br()),\n        match$2([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n    var NewLineAction = { getAction: getAction$1 };\n\n    var insert$3 = function (editor, evt) {\n      NewLineAction.getAction(editor, evt).fold(function () {\n        InsertBr.insert(editor, evt);\n      }, function () {\n        InsertBlock.insert(editor, evt);\n      }, noop);\n    };\n    var InsertNewLine = { insert: insert$3 };\n\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        InsertNewLine.insert(editor, event);\n      });\n    };\n    var setup$a = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n    var EnterKey = { setup: setup$a };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (NodeType.isText(container)) {\n        container.insertData(offset, text);\n        return Option.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = Element.fromText(text);\n          if (pos.isAtEnd()) {\n            after(elm, textNode);\n          } else {\n            before(elm, textNode);\n          }\n          return CaretPosition(textNode.dom(), text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, '\\xA0');\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var nbsp = '\\xA0';\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || CaretFinder.prevPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || CaretFinder.nextPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest(elm, isElement$1);\n      }).exists(function (elm) {\n        return isPreValue(get$2(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return CaretFinder.prevPosition(root.dom(), pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return CaretFinder.nextPosition(root.dom(), pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (NodeType.isText(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      var afterPos = leanRight(pos);\n      if (isInPre(afterPos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, afterPos) || isAfterBlock(root, afterPos) || isBeforeBr(root, afterPos) || hasSpaceAfter(root, afterPos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, pos);\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return NodeType.isText(container) && contains$1(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Option.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Option.some(pos) : Option.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = Element.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return CaretFinder.prevPosition(root.dom(), CaretPosition$1.before(element));\n        }, function (element) {\n          return CaretFinder.firstPositionIn(element);\n        }, function (element) {\n          return CaretFinder.lastPositionIn(element);\n        }, function (element) {\n          return CaretFinder.nextPosition(root.dom(), CaretPosition$1.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection$1 = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var root = Element.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n        var caretPosition = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection$1(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride$2 = function (editor, evt) {\n      MatchKeys.execute([{\n          keyCode: VK.SPACEBAR,\n          action: MatchKeys.action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$b = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, evt);\n        }\n      });\n    };\n    var SpaceKey = { setup: setup$b };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(Element.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\n        return elm.dom();\n      });\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$c = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n    var CaretContainerInput = { setup: setup$c };\n\n    var browser$5 = detect$3().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser$5.isIE()) {\n        editor.on('keypress', function (e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$d = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var executeKeydownOverride$3 = function (editor, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.END,\n          action: moveToLineEndPoint(editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: moveToLineEndPoint(editor, false)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$e = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, evt);\n        }\n      });\n    };\n    var HomeEndKeys = { setup: setup$e };\n\n    var setup$f = function (editor) {\n      var caret = BoundarySelection.setupSelectedState(editor);\n      CaretContainerInput.setup(editor);\n      ArrowKeys.setup(editor, caret);\n      DeleteBackspaceKeys.setup(editor, caret);\n      EnterKey.setup(editor);\n      SpaceKey.setup(editor);\n      setup$d(editor);\n      HomeEndKeys.setup(editor);\n    };\n    var KeyboardOverrides = { setup: setup$f };\n\n    var Quirks = function (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, settings = editor.settings, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var inputMethodFocus = function () {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!domGlobals.Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, container, offset, root, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          container = rng.startContainer;\n          offset = rng.startOffset;\n          root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!settings.object_resizing) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!settings.readonly) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (settings.forced_root_block) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', Settings.getForcedRootBlock(editor));\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (domGlobals.document.activeElement === domGlobals.document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              var selection_1 = editor.selection.getSel();\n              selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = CaretRangeFromPoint.fromPoint(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = function () {\n      };\n      var isHidden = function () {\n        var sel;\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      removeBlockQuoteOnBackSpace();\n      emptyEditorWhenDeleting();\n      if (!Env.windowsPhone) {\n        normalizeSelection();\n      }\n      if (isWebKit) {\n        inputMethodFocus();\n        selectControlElements();\n        setDefaultBlockType();\n        blockFormSubmitInsideEditor();\n        disableBackspaceIntoATable();\n        removeAppleInterchangeBrs();\n        if (Env.iOS) {\n          restoreFocusOnKeyDown();\n          bodyHeight();\n          tapLinksAndImages();\n        } else {\n          selectAll();\n        }\n      }\n      if (Env.ie >= 11) {\n        bodyHeight();\n        disableBackspaceIntoATable();\n      }\n      if (Env.ie) {\n        selectAll();\n        disableAutoUrlDetect();\n        ieInternalDragAndDrop();\n      }\n      if (isGecko) {\n        removeHrOnBackspace();\n        focusBody();\n        removeStylesWhenDeletingAcrossBlockElements();\n        setGeckoEditingOptions();\n        addBrAfterLastLinks();\n        showBrokenImageIcon();\n        blockCmdArrowNavigation();\n        disableBackspaceIntoATable();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    };\n\n    var isTextBlockNode = function (node) {\n      return NodeType.isElement(node) && isTextBlock(Element.fromDom(node));\n    };\n    var normalizeSelection$1 = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          CaretFinder.firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          CaretFinder.lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(RangeNormalizer.normalize(rng));\n    };\n    var setup$g = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection$1(editor);\n        }\n      });\n    };\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$h = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var DOM$3 = DOMUtils$1.DOM;\n    var appendStyle = function (editor, text) {\n      var head = Element.fromDom(editor.getDoc().head);\n      var tag = Element.fromTag('style');\n      set(tag, 'type', 'text/css');\n      append(tag, Element.fromText(text));\n      append(head, tag);\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(editor.settings, editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node;\n        var dom = editor.dom;\n        var value, internalName;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          internalName = 'data-mce-' + name;\n          if (!node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length, node, type;\n        while (i--) {\n          node = nodes[i];\n          type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      parser.addNodeFilter('#cdata', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.type = 8;\n          node.name = '#comment';\n          node.value = '[CDATA[' + node.value + ']]';\n        }\n      });\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length, node;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new Node$1('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      editor.fire('init');\n      editor.focus(true);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader = function (editor) {\n      return editor.inline ? DOM$3.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc(), body, contentCssText;\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (editor.inline) {\n        editor.on('remove', function () {\n          var bodyEl = this.getBody();\n          DOM$3.removeClass(bodyEl, 'mce-content-body');\n          DOM$3.removeClass(bodyEl, 'mce-edit-focus');\n          DOM$3.setAttrib(bodyEl, 'contentEditable', null);\n        });\n        DOM$3.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = domGlobals.document;\n        editor.contentWindow = domGlobals.window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n        settings.root_name = targetElm.nodeName.toLowerCase();\n      }\n      body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$3.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(settings);\n      editor.dom = DOMUtils$1(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: function () {\n          return editor.inline;\n        },\n        schema: editor.schema,\n        contentCssCors: Settings.shouldUseContentCssCors(editor),\n        referrerPolicy: Settings.getReferrerPolicy(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = Serializer$1(settings, editor);\n      editor.selection = Selection$1(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$h(editor);\n      setup$g(editor);\n      KeyboardOverrides.setup(editor);\n      ForceBlocks.setup(editor);\n      editor.fire('PreInit');\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$3.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      editor.fire('PostRender');\n      var directionality = Settings.getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      editor.load({\n        initial: true,\n        format: 'html'\n      });\n      editor.startContent = editor.getContent({ format: 'raw' });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n      if (editor.contentStyles.length > 0) {\n        contentCssText = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText);\n      }\n      getStyleSheetLoader(editor).loadAll(editor.contentCSS, function (_) {\n        initEditor(editor);\n      }, function (urls) {\n        initEditor(editor);\n      });\n      if (settings.content_style) {\n        appendStyle(editor, settings.content_style);\n      }\n    };\n    var InitContentBody = { initContentBody: initContentBody };\n\n    var DOM$4 = DOMUtils$1.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (domGlobals.document.domain !== domGlobals.window.location.hostname && Env.browser.isIE()) {\n        var bodyUuid = Uuid.uuid('mce');\n        editor[bodyUuid] = function () {\n          InitContentBody.initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + domGlobals.document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$4.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = Element.fromTag('iframe');\n      setAll(iframe, customAttrs);\n      setAll(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      add$3(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var bodyId, bodyClass, iframeHTML;\n      iframeHTML = Settings.getDocType(editor) + '<html><head>';\n      if (Settings.getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      bodyId = Settings.getBodyId(editor);\n      bodyClass = Settings.getBodyClass(editor);\n      if (Settings.getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + Settings.getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var title = editor.editorManager.translate('Rich Text Area. Press ALT-0 for help.');\n      var ifr = createIframeElement(editor.id, title, o.height, Settings.getIframeAttrs(editor)).dom();\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$4.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$4.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$4.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$4.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        InitContentBody.initContentBody(editor);\n      }\n    };\n    var InitIframe = { init: init$1 };\n\n    var isContentCssSkinName = function (url) {\n      return /^[a-z0-9\\-]+$/i.test(url);\n    };\n    var getContentCssUrls = function (editor) {\n      var contentCss = Settings.getContentCss(editor);\n      var skinUrl = editor.editorManager.baseURL + '/skins/content';\n      var suffix = editor.editorManager.suffix;\n      var contentCssFile = 'content' + suffix + '.css';\n      var inline = editor.inline === true;\n      return map(contentCss, function (url) {\n        if (isContentCssSkinName(url) && !inline) {\n          return skinUrl + '/' + url + '/' + contentCssFile;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    var appendContentCssFromSettings = function (editor) {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor));\n    };\n\n    var DOM$5 = DOMUtils$1.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager.get(plugin);\n      var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          ErrorReporter.pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(editor.settings.plugins.split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initIcons = function (editor) {\n      var iconPackName = Tools.trim(editor.settings.icons);\n      var currentIcons = editor.ui.registry.getAll().icons;\n      var defaultIcons = getAll();\n      var loadIcons = __assign(__assign({}, defaultIcons), IconManager.get(iconPackName).icons);\n      each$1(loadIcons, function (svgData, icon) {\n        if (!has(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    var initTheme = function (editor) {\n      var theme = editor.settings.theme;\n      if (isString(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        var Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      return editor.theme.renderUI();\n    };\n    var renderFromThemeFunc = function (editor) {\n      var elm = editor.getElement();\n      var theme = editor.settings.theme;\n      var info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$5.create('div');\n      DOM$5.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(editor.settings.theme)) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(editor.settings.theme)) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var init$2 = function (editor) {\n      editor.fire('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initPlugins(editor);\n      var boxInfo = renderThemeUi(editor);\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return InitContentBody.initContentBody(editor);\n      } else {\n        return InitIframe.init(editor, boxInfo);\n      }\n    };\n    var Init = { init: init$2 };\n\n    var DOM$6 = DOMUtils$1.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var languageCode = Settings.getLanguageCode(editor);\n      var languageUrl = Settings.getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n        scriptLoader.add(url_1, noop, undefined, function () {\n          ErrorReporter.languageLoadError(url_1, languageCode);\n        });\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var settings = editor.settings, theme = settings.theme;\n      if (isString(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\n          var themeUrl = settings.theme_url;\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var getIconsUrlMetaFromUrl = function (editor) {\n      return Option.from(Settings.getIconsUrl(editor)).filter(function (url) {\n        return url.length > 0;\n      }).map(function (url) {\n        return {\n          url: url,\n          name: Option.none()\n        };\n      });\n    };\n    var getIconsUrlMetaFromName = function (editor) {\n      return Option.from(Settings.getIconPackName(editor)).filter(function (name) {\n        return name.length > 0 && !IconManager.has(name);\n      }).map(function (name) {\n        return {\n          url: editor.editorManager.baseURL + '/icons/' + name + '/icons.js',\n          name: Option.some(name)\n        };\n      });\n    };\n    var loadIcons = function (scriptLoader, editor) {\n      getIconsUrlMetaFromUrl(editor).orThunk(function () {\n        return getIconsUrlMetaFromName(editor);\n      }).each(function (urlMeta) {\n        scriptLoader.add(urlMeta.url, noop, undefined, function () {\n          ErrorReporter.iconsLoadError(urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    var loadPlugins = function (settings, suffix) {\n      if (isArray(settings.plugins)) {\n        settings.plugins = settings.plugins.join(' ');\n      }\n      Tools.each(settings.external_plugins, function (url, name) {\n        PluginManager.load(name, url, noop, undefined, function () {\n          ErrorReporter.pluginLoadError(name, url);\n        });\n        settings.plugins += ' ' + name;\n      });\n      Tools.each(settings.plugins.split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager.dependencies(plugin);\n            Tools.each(dependencies, function (dep) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: dep,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              dep = PluginManager.createUrl(defaultSettings, dep);\n              PluginManager.load(dep.resource, dep, noop, undefined, function () {\n                ErrorReporter.pluginLoadError(dep.prefix + dep.resource + dep.suffix, dep.resource);\n              });\n            });\n          } else {\n            var url_2 = {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            PluginManager.load(plugin, url_2, noop, undefined, function () {\n              ErrorReporter.pluginLoadError(url_2.prefix + url_2.resource + url_2.suffix, plugin);\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadIcons(scriptLoader, editor);\n        loadPlugins(editor.settings, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            Init.init(editor);\n          }\n        }, editor, function () {\n          if (!editor.removed) {\n            Init.init(editor);\n          }\n        });\n      });\n    };\n    var render = function (editor) {\n      var settings = editor.settings, id = editor.id;\n      I18n.setCode(Settings.getLanguageCode(editor));\n      var readyHandler = function () {\n        DOM$6.unbind(domGlobals.window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$6.bind(domGlobals.window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      if (!settings.inline) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$6.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (settings.hidden_input && !NodeType.isTextareaOrInput(editor.getElement())) {\n          DOM$6.insertAfter(DOM$6.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$6.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.resetContent();\n        });\n        if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (settings.encoding === 'xml') {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$6.encode(e.content);\n          }\n        });\n      }\n      if (settings.add_form_submit_trigger) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (settings.add_unload_trigger) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n    var Render = { render: render };\n\n    var internalContentEditableAttr = 'data-mce-contenteditable';\n    var toggleClass = function (elm, cls, state) {\n      if (has$2(elm, cls) && state === false) {\n        remove$4(elm, cls);\n      } else if (state) {\n        add$3(elm, cls);\n      }\n    };\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, state);\n      } catch (ex) {\n      }\n    };\n    var setContentEditable = function (elm, state) {\n      elm.dom().contentEditable = state ? 'true' : 'false';\n    };\n    var switchOffContentEditableTrue = function (elm) {\n      each(descendants$1(elm, '*[contenteditable=\"true\"]'), function (elm) {\n        set(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    var switchOnContentEditableTrue = function (elm) {\n      each(descendants$1(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n        remove(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    var removeFakeSelection = function (editor) {\n      Option.from(editor.selection.getNode()).each(function (elm) {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    var restoreFakeSelection = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var toggleReadOnly = function (editor, state) {\n      var body = Element.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (EditorFocus.hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    var isReadOnly = function (editor) {\n      return editor.readonly === true;\n    };\n    var registerFilters = function (editor) {\n      editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n        if (isReadOnly(editor)) {\n          each(nodes, function (node) {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n        if (isReadOnly(editor)) {\n          each(nodes, function (node) {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    var registerReadOnlyContentFilters = function (editor) {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', function () {\n          registerFilters(editor);\n        });\n      }\n    };\n    var isClickEvent = function (e) {\n      return e.type === 'click';\n    };\n    var preventReadOnlyEvents = function (e) {\n      var target = e.target;\n      if (isClickEvent(e) && target.tagName === 'A' && !VK.metaKeyPressed(e)) {\n        e.preventDefault();\n      }\n    };\n    var registerReadOnlySelectionBlockers = function (editor) {\n      editor.on('ShowCaret', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    var defaultModes = [\n      'design',\n      'readonly'\n    ];\n    var switchToMode = function (editor, activeMode, availableModes, mode) {\n      var oldMode = availableModes[activeMode.get()];\n      var newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        domGlobals.console.error('problem while activating editor mode ' + mode + ':', e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      Events.fireSwitchMode(editor, mode);\n    };\n    var setMode = function (editor, availableModes, activeMode, mode) {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has(availableModes, mode)) {\n        throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', function () {\n          return switchToMode(editor, activeMode, availableModes, mode);\n        });\n      }\n    };\n    var registerMode = function (availableModes, mode, api) {\n      var _a;\n      if (contains(defaultModes, mode)) {\n        throw new Error('Cannot override default mode ' + mode);\n      }\n      return __assign(__assign({}, availableModes), (_a = {}, _a[mode] = __assign(__assign({}, api), {\n        deactivate: function () {\n          try {\n            api.deactivate();\n          } catch (e) {\n            domGlobals.console.error('problem while deactivating editor mode ' + mode + ':', e);\n          }\n        }\n      }), _a));\n    };\n\n    var create$4 = function (editor) {\n      var activeMode = Cell('design');\n      var availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: function () {\n          return isReadOnly(editor);\n        },\n        set: function (mode) {\n          return setMode(editor, availableModes.get(), activeMode, mode);\n        },\n        get: function () {\n          return activeMode.get();\n        },\n        register: function (mode, api) {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    var hasOnlyOneChild$1 = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === '\\xA0';\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems$1 = function (elm) {\n      return Tools.grep(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === '\\xA0' || NodeType.isBr(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition$1.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition$1.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore$1 = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter$1 = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems$1(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n    var InsertList = {\n      isListFragment: isListFragment,\n      insertAtCaret: insertAtCaret,\n      isParentBlockLi: isParentBlockLi,\n      trimListItems: trimListItems,\n      listItems: listItems$1\n    };\n\n    var isAfterNbsp = function (container, offset) {\n      return NodeType.isText(container) && container.nodeValue[offset - 1] === '\\xA0';\n    };\n    var trimOrPadLeftRight = function (rng, html) {\n      var container, offset;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      var hasSiblingText = function (siblingName) {\n        return container[siblingName] && container[siblingName].nodeType === 3;\n      };\n      if (container.nodeType === 3) {\n        if (offset > 0) {\n          html = html.replace(/^&nbsp;/, ' ');\n        } else if (!hasSiblingText('previousSibling')) {\n          html = html.replace(/^ /, '&nbsp;');\n        }\n        if (offset < container.length) {\n          html = html.replace(/&nbsp;(<br>|)$/, ' ');\n        } else if (!hasSiblingText('nextSibling')) {\n          html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\n        }\n      }\n      return html;\n    };\n    var trimNbspAfterDeleteAndPadValue = function (rng, value) {\n      var container, offset;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      if (container.nodeType === 3 && rng.collapsed) {\n        if (container.data[offset] === '\\xA0') {\n          container.deleteData(offset, 1);\n          if (!/[\\u00a0| ]$/.test(value)) {\n            value += ' ';\n          }\n        } else if (container.data[offset - 1] === '\\xA0') {\n          container.deleteData(offset - 1, 1);\n          if (!/[\\u00a0| ]$/.test(value)) {\n            value = ' ' + value;\n          }\n        }\n      }\n      return value;\n    };\n\n    var isTableCell$5 = NodeType.matchNodeNames([\n      'td',\n      'th'\n    ]);\n    var selectionSetContent = function (editor, content) {\n      var rng = editor.selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      if (rng.collapsed && isAfterNbsp(container, offset) && NodeType.isText(container)) {\n        container.insertData(offset - 1, ' ');\n        container.deleteData(offset, 1);\n        rng.setStart(container, offset);\n        rng.setEnd(container, offset);\n        editor.selection.setRng(rng);\n      }\n      editor.selection.setContent(content);\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          selectionSetContent(editor, value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Option.from(dom.getParent(elm, 'td,th')).map(Element.fromDom).each(PaddingBr.trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody(), elementUtils_1 = new ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          for (var testNode = node.parentNode; testNode && testNode !== root_1; testNode = testNode.parentNode) {\n            if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils_1.compare(testNode, node)) {\n              dom.remove(node, true);\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var umarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var parentEditableFalseElm, parentBlock, nextRng;\n      var dom = editor.dom, selection = editor.selection;\n      var node, node2;\n      var getContentEditableFalseParent = function (node) {\n        var root = editor.getBody();\n        for (; node && node !== root; node = node.parentNode) {\n          if (editor.dom.getContentEditable(node) === 'false') {\n            return node;\n          }\n        }\n        return null;\n      };\n      if (!marker) {\n        return;\n      }\n      editor.selection.scrollIntoView(marker);\n      parentEditableFalseElm = getContentEditableFalseParent(marker);\n      if (parentEditableFalseElm) {\n        dom.remove(marker);\n        selection.select(parentEditableFalseElm);\n        return;\n      }\n      var rng = dom.createRng();\n      node = marker.previousSibling;\n      if (node && node.nodeType === 3) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          node2 = marker.nextSibling;\n          if (node2 && node2.nodeType === 3) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$5(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parser, serializer, parentNode, rootNode, fragment, args;\n      var marker, rng, node, bookmarkHtml, merge;\n      var selection = editor.selection, dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(selection.getRng(), value);\n      }\n      parser = editor.parser;\n      merge = details.merge;\n      serializer = Serializer({ validate: editor.settings.validate }, editor.schema);\n      bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';\n      args = {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      };\n      args = editor.fire('BeforeSetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        editor.selection.setRng(RangeNormalizer.normalize(editor.selection.getRng()));\n        editor.getDoc().execCommand('Delete', false, null);\n        value = trimNbspAfterDeleteAndPadValue(editor.selection.getRng(), value);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && InsertList.isListFragment(editor.schema, fragment) && InsertList.isParentBlockLi(dom, parentNode)) {\n        rng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(), fragment);\n        editor.selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        selectionSetContent(editor, bookmarkHtml);\n        parentNode = selection.getNode();\n        rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      umarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(editor.dom, editor.selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n    var processValue = function (value) {\n      var details;\n      if (typeof value !== 'string') {\n        details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret$1 = function (editor, value) {\n      var result = processValue(value);\n      insertHtmlAtCaret(editor, result.content, result.details);\n    };\n    var InsertContent = { insertAtCaret: insertAtCaret$1 };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor) {\n      if (Outdent.backspaceDelete(editor, false)) {\n        return;\n      } else if (CefDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (CefBoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (BoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (TableDelete.backspaceDelete(editor)) {\n        return;\n      } else if (BlockRangeDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (InlineFormatDelete.backspaceDelete(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        DeleteUtils.paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor) {\n      if (CefDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (CefBoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (BoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (TableDelete.backspaceDelete(editor)) {\n        return;\n      } else if (BlockRangeDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (InlineFormatDelete.backspaceDelete(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var DeleteCommands = {\n      deleteCommand: deleteCommand,\n      forwardDeleteCommand: forwardDeleteCommand\n    };\n\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName);\n      };\n      var isRoot = function (elm) {\n        return eq(Element.fromDom(rootElm), elm);\n      };\n      return closest(Element.fromDom(elm), function (elm) {\n        return getProperty(elm).isSome();\n      }, isRoot).bind(getProperty);\n    };\n    var round$1 = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      }\n      return fontSize;\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Option.from(DOMUtils$1.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Option.from(elm).map(Element.fromDom).filter(isElement$1).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom()).or(getComputedFontProp(propName, element.dom()));\n        }).getOr('');\n      };\n    };\n    var FontInfo = {\n      getFontSize: getFontProp('font-size'),\n      getFontFamily: compose(normalizeFontFamily, getFontProp('font-family')),\n      toPt: toPt\n    };\n\n    var findFirstCaretElement = function (editor) {\n      return CaretFinder.firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return NodeType.isText(container) ? container.parentNode : container;\n      });\n    };\n    var isRangeAtStartOfNode = function (rng, root) {\n      return rng.startContainer === root && rng.startOffset === 0;\n    };\n    var getCaretElement = function (editor) {\n      return Option.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        return isRangeAtStartOfNode(rng, root) ? Option.none() : Option.from(editor.selection.getStart(true));\n      });\n    };\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9\\.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = Settings.getFontStyleValues(editor);\n          var fontClasses = Settings.getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var normalizeFontNames = function (font) {\n      var fonts = font.split(/\\s*,\\s*/);\n      return map(fonts, function (font) {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n          return '\\'' + font + '\\'';\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    var fontNameAction = function (editor, value) {\n      var font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return getCaretElement(editor).fold(function () {\n        return findFirstCaretElement(editor).map(function (caretElement) {\n          return FontInfo.getFontFamily(editor.getBody(), caretElement);\n        }).getOr('');\n      }, function (caretElement) {\n        return FontInfo.getFontFamily(editor.getBody(), caretElement);\n      });\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return getCaretElement(editor).fold(function () {\n        return findFirstCaretElement(editor).map(function (caretElement) {\n          return FontInfo.getFontSize(editor.getBody(), caretElement);\n        }).getOr('');\n      }, function (caretElement) {\n        return FontInfo.getFontSize(editor.getBody(), caretElement);\n      });\n    };\n\n    var each$g = Tools.each;\n    var map$3 = Tools.map, inArray$2 = Tools.inArray;\n    var EditorCommands = function () {\n      function EditorCommands(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n        this.setupCommands(editor);\n      }\n      EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n        var func, customCommand, state = false;\n        var self = this;\n        if (self.editor.removed) {\n          return;\n        }\n        if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n          self.editor.focus();\n        } else {\n          SelectionBookmark.restore(self.editor);\n        }\n        args = self.editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        customCommand = command.toLowerCase();\n        if (func = self.commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$g(this.editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            self.editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = self.editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandState = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandValue = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      EditorCommands.prototype.addCommands = function (commandList, type) {\n        var self = this;\n        type = type || 'exec';\n        each$g(commandList, function (callback, command) {\n          each$g(command.toLowerCase().split(','), function (command) {\n            self.commands[type][command] = callback;\n          });\n        });\n      };\n      EditorCommands.prototype.addCommand = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || _this.editor, ui, value, args);\n        };\n      };\n      EditorCommands.prototype.queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (this.commands.exec[command]) {\n          return true;\n        }\n        try {\n          return this.editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.state[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.value[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!this.commands.exec[command];\n      };\n      EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return this.editor.getDoc().execCommand(command, ui, value);\n      };\n      EditorCommands.prototype.isFormatMatch = function (name) {\n        return this.editor.formatter.match(name);\n      };\n      EditorCommands.prototype.toggleFormat = function (name, value) {\n        this.editor.formatter.toggle(name, value ? { value: value } : undefined);\n        this.editor.nodeChanged();\n      };\n      EditorCommands.prototype.storeSelection = function (type) {\n        this.selectionBookmark = this.editor.selection.getBookmark(type);\n      };\n      EditorCommands.prototype.restoreSelection = function () {\n        this.editor.selection.moveToBookmark(this.selectionBookmark);\n      };\n      EditorCommands.prototype.setupCommands = function (editor) {\n        var self = this;\n        this.addCommands({\n          'mceResetDesignMode,mceBeginUndoLevel': function () {\n          },\n          'mceEndUndoLevel,mceAddUndoLevel': function () {\n            editor.undoManager.add();\n          },\n          'Cut,Copy,Paste': function (command) {\n            var doc = editor.getDoc();\n            var failed;\n            try {\n              self.execNativeCommand(command);\n            } catch (ex) {\n              failed = true;\n            }\n            if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n              failed = true;\n            }\n            if (failed || !doc.queryCommandSupported(command)) {\n              var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n              if (Env.mac) {\n                msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n              }\n              editor.notificationManager.open({\n                text: msg,\n                type: 'error'\n              });\n            }\n          },\n          'unlink': function () {\n            if (editor.selection.isCollapsed()) {\n              var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          },\n          'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n            var align = command.substring(7);\n            if (align === 'full') {\n              align = 'justify';\n            }\n            each$g('left,center,right,justify'.split(','), function (name) {\n              if (align !== name) {\n                editor.formatter.remove('align' + name);\n              }\n            });\n            if (align !== 'none') {\n              self.toggleFormat('align' + align);\n            }\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var listElm, listParent;\n            self.execNativeCommand(command);\n            listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n            if (listElm) {\n              listParent = listElm.parentNode;\n              if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n                self.storeSelection();\n                editor.dom.split(listParent, listElm);\n                self.restoreSelection();\n              }\n            }\n          },\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            self.toggleFormat(command);\n          },\n          'ForeColor,HiliteColor': function (command, ui, value) {\n            self.toggleFormat(command, value);\n          },\n          'FontName': function (command, ui, value) {\n            fontNameAction(editor, value);\n          },\n          'FontSize': function (command, ui, value) {\n            fontSizeAction(editor, value);\n          },\n          'RemoveFormat': function (command) {\n            editor.formatter.remove(command);\n          },\n          'mceBlockQuote': function () {\n            self.toggleFormat('blockquote');\n          },\n          'FormatBlock': function (command, ui, value) {\n            return self.toggleFormat(value || 'p');\n          },\n          'mceCleanup': function () {\n            var bookmark = editor.selection.getBookmark();\n            editor.setContent(editor.getContent());\n            editor.selection.moveToBookmark(bookmark);\n          },\n          'mceRemoveNode': function (command, ui, value) {\n            var node = value || editor.selection.getNode();\n            if (node !== editor.getBody()) {\n              self.storeSelection();\n              editor.dom.remove(node, true);\n              self.restoreSelection();\n            }\n          },\n          'mceSelectNodeDepth': function (command, ui, value) {\n            var counter = 0;\n            editor.dom.getParent(editor.selection.getNode(), function (node) {\n              if (node.nodeType === 1 && counter++ === value) {\n                editor.selection.select(node);\n                return false;\n              }\n            }, editor.getBody());\n          },\n          'mceSelectNode': function (command, ui, value) {\n            editor.selection.select(value);\n          },\n          'mceInsertContent': function (command, ui, value) {\n            InsertContent.insertAtCaret(editor, value);\n          },\n          'mceInsertRawHTML': function (command, ui, value) {\n            editor.selection.setContent('tiny_mce_marker');\n            var content = editor.getContent();\n            editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n              return value;\n            }));\n          },\n          'mceInsertNewLine': function (command, ui, value) {\n            InsertNewLine.insert(editor, value);\n          },\n          'mceToggleFormat': function (command, ui, value) {\n            self.toggleFormat(value);\n          },\n          'mceSetContent': function (command, ui, value) {\n            editor.setContent(value);\n          },\n          'Indent,Outdent': function (command) {\n            handle(editor, command);\n          },\n          'mceRepaint': function () {\n          },\n          'InsertHorizontalRule': function () {\n            editor.execCommand('mceInsertContent', false, '<hr />');\n          },\n          'mceToggleVisualAid': function () {\n            editor.hasVisual = !editor.hasVisual;\n            editor.addVisual();\n          },\n          'mceReplaceContent': function (command, ui, value) {\n            editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n          },\n          'mceInsertLink': function (command, ui, value) {\n            var anchor;\n            if (typeof value === 'string') {\n              value = { href: value };\n            }\n            anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n            value.href = value.href.replace(/ /g, '%20');\n            if (!anchor || !value.href) {\n              editor.formatter.remove('link');\n            }\n            if (value.href) {\n              editor.formatter.apply('link', value, anchor);\n            }\n          },\n          'selectAll': function () {\n            var editingHost = editor.dom.getParent(editor.selection.getStart(), NodeType.isContentEditableTrue);\n            if (editingHost) {\n              var rng = editor.dom.createRng();\n              rng.selectNodeContents(editingHost);\n              editor.selection.setRng(rng);\n            }\n          },\n          'delete': function () {\n            DeleteCommands.deleteCommand(editor);\n          },\n          'forwardDelete': function () {\n            DeleteCommands.forwardDeleteCommand(editor);\n          },\n          'mceNewDocument': function () {\n            editor.setContent('');\n          },\n          'InsertLineBreak': function (command, ui, value) {\n            InsertBr.insert(editor, value);\n            return true;\n          }\n        });\n        var alignStates = function (name) {\n          return function () {\n            var nodes = editor.selection.isCollapsed() ? [editor.dom.getParent(editor.selection.getNode(), editor.dom.isBlock)] : editor.selection.getSelectedBlocks();\n            var matches = map$3(nodes, function (node) {\n              return !!editor.formatter.matchNode(node, name);\n            });\n            return inArray$2(matches, true) !== -1;\n          };\n        };\n        self.addCommands({\n          'JustifyLeft': alignStates('alignleft'),\n          'JustifyCenter': alignStates('aligncenter'),\n          'JustifyRight': alignStates('alignright'),\n          'JustifyFull': alignStates('alignjustify'),\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            return self.isFormatMatch(command);\n          },\n          'mceBlockQuote': function () {\n            return self.isFormatMatch('blockquote');\n          },\n          'Outdent': function () {\n            return canOutdent(editor);\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n            return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n          }\n        }, 'state');\n        self.addCommands({\n          Undo: function () {\n            editor.undoManager.undo();\n          },\n          Redo: function () {\n            editor.undoManager.redo();\n          }\n        });\n        self.addQueryValueHandler('FontName', function () {\n          return fontNameQuery(editor);\n        }, this);\n        self.addQueryValueHandler('FontSize', function () {\n          return fontSizeQuery(editor);\n        }, this);\n      };\n      return EditorCommands;\n    }();\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    var EventDispatcher = function () {\n      function EventDispatcher(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      EventDispatcher.isNative = function (name) {\n        return !!nativeEvents[name.toLowerCase()];\n      };\n      EventDispatcher.prototype.fire = function (name, args) {\n        var handlers, i, l, callback;\n        name = name.toLowerCase();\n        args = args || {};\n        args.type = name;\n        if (!args.target) {\n          args.target = this.scope;\n        }\n        if (!args.preventDefault) {\n          args.preventDefault = function () {\n            args.isDefaultPrevented = always;\n          };\n          args.stopPropagation = function () {\n            args.isPropagationStopped = always;\n          };\n          args.stopImmediatePropagation = function () {\n            args.isImmediatePropagationStopped = always;\n          };\n          args.isDefaultPrevented = never;\n          args.isPropagationStopped = never;\n          args.isImmediatePropagationStopped = never;\n        }\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(args);\n        }\n        handlers = this.bindings[name];\n        if (handlers) {\n          for (i = 0, l = handlers.length; i < l; i++) {\n            callback = handlers[i];\n            if (callback.once) {\n              this.off(name, callback.func);\n            }\n            if (args.isImmediatePropagationStopped()) {\n              args.stopPropagation();\n              return args;\n            }\n            if (callback.func.call(this.scope, args) === false) {\n              args.preventDefault();\n              return args;\n            }\n          }\n        }\n        return args;\n      };\n      EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n        var handlers, names, i;\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          var wrappedCallback = { func: callback };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          names = name.toLowerCase().split(' ');\n          i = names.length;\n          while (i--) {\n            name = names[i];\n            handlers = this.bindings[name];\n            if (!handlers) {\n              handlers = this.bindings[name] = [];\n              this.toggleEvent(name, true);\n            }\n            if (prepend) {\n              handlers.unshift(wrappedCallback);\n            } else {\n              handlers.push(wrappedCallback);\n            }\n          }\n        }\n        return this;\n      };\n      EventDispatcher.prototype.off = function (name, callback) {\n        var i, handlers, bindingName, names, hi;\n        if (name) {\n          names = name.toLowerCase().split(' ');\n          i = names.length;\n          while (i--) {\n            name = names[i];\n            handlers = this.bindings[name];\n            if (!name) {\n              for (bindingName in this.bindings) {\n                this.toggleEvent(bindingName, false);\n                delete this.bindings[bindingName];\n              }\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                hi = handlers.length;\n                while (hi--) {\n                  if (handlers[hi].func === callback) {\n                    handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\n                    this.bindings[name] = handlers;\n                  }\n                }\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[name];\n              }\n            }\n          }\n        } else {\n          for (name in this.bindings) {\n            this.toggleEvent(name, false);\n          }\n          this.bindings = {};\n        }\n        return this;\n      };\n      EventDispatcher.prototype.once = function (name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      };\n      EventDispatcher.prototype.has = function (name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      };\n      return EventDispatcher;\n    }();\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent = self.parent();\n          while (parent && !dispatcherArgs.isPropagationStopped()) {\n            parent.fire(name, dispatcherArgs, false);\n            parent = parent.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var DOM$7 = DOMUtils$1.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      if (editor.settings.event_root) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$7.select(editor.settings.event_root)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !isReadOnly(editor);\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly(editor)) {\n        preventReadOnlyEvents(e);\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var eventRootElm, delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      eventRootElm = getEventTarget(editor, eventName);\n      if (editor.settings.event_root) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            var name;\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                for (name in customEventRootDelegates) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                }\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$7.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$7.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$7.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = __assign(__assign({}, Observable), {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        var name;\n        if (self.delegates) {\n          for (name in self.delegates) {\n            self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          }\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    });\n\n    var each$h = Tools.each, explode$3 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    var Shortcuts = function () {\n      function Shortcuts(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        var self = this;\n        editor.on('keyup keypress keydown', function (e) {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$h(self.shortcuts, function (shortcut) {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n        var self = this;\n        var cmd;\n        cmd = cmdFunc;\n        if (typeof cmdFunc === 'string') {\n          cmdFunc = function () {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          cmdFunc = function () {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        }\n        each$h(explode$3(Tools.trim(pattern)), function (pattern) {\n          var shortcut = self.createShortcut(pattern, desc, cmdFunc, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      Shortcuts.prototype.remove = function (pattern) {\n        var shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.parseShortcut = function (pattern) {\n        var id, key;\n        var shortcut = {};\n        each$h(explode$3(pattern.toLowerCase(), '+'), function (value) {\n          if (value in modifierNames) {\n            shortcut[value] = true;\n          } else {\n            if (/^[0-9]{2,}$/.test(value)) {\n              shortcut.keyCode = parseInt(value, 10);\n            } else {\n              shortcut.charCode = value.charCodeAt(0);\n              shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n            }\n          }\n        });\n        id = [shortcut.keyCode];\n        for (key in modifierNames) {\n          if (shortcut[key]) {\n            id.push(key);\n          } else {\n            shortcut[key] = false;\n          }\n        }\n        shortcut.id = id.join(',');\n        if (shortcut.access) {\n          shortcut.alt = true;\n          if (Env.mac) {\n            shortcut.ctrl = true;\n          } else {\n            shortcut.shift = true;\n          }\n        }\n        if (shortcut.meta) {\n          if (Env.mac) {\n            shortcut.meta = true;\n          } else {\n            shortcut.ctrl = true;\n            shortcut.meta = false;\n          }\n        }\n        return shortcut;\n      };\n      Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts;\n        shortcuts = Tools.map(explode$3(pattern, '>'), this.parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      Shortcuts.prototype.hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      Shortcuts.prototype.isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      return Shortcuts;\n    }();\n\n    var each$i = Tools.each, trim$4 = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var URI = function () {\n      function URI(url, settings) {\n        url = trim$4(url);\n        this.settings = settings || {};\n        var baseUri = this.settings.base_uri;\n        var self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        var isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(domGlobals.document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            var match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$i(queryParts, function (v, i) {\n          var part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      URI.parseDataUri = function (uri) {\n        var type;\n        var uriComponents = decodeURIComponent(uri).split(',');\n        var matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type: type,\n          data: uriComponents[1]\n        };\n      };\n      URI.getDocumentBaseUrl = function (loc) {\n        var baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      };\n      URI.prototype.setPath = function (path) {\n        var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      };\n      URI.prototype.toRelative = function (uri) {\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        var relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        var tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      };\n      URI.prototype.toAbsolute = function (uri, noHost) {\n        var absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      };\n      URI.prototype.isSameOrigin = function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      };\n      URI.prototype.toRelPath = function (base, path) {\n        var items, breakPoint = 0, out = '', i, l;\n        var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      };\n      URI.prototype.toAbsPath = function (base, path) {\n        var i, nb = 0, o = [], tr, outPath;\n        tr = /\\/$/.test(path) ? '/' : '';\n        var normalizedBase = base.split('/');\n        var normalizedPath = path.split('/');\n        each$i(normalizedBase, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = o.reverse().join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + o.reverse().join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      };\n      URI.prototype.getURI = function (noProtoHost) {\n        if (noProtoHost === void 0) {\n          noProtoHost = false;\n        }\n        var s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      };\n      return URI;\n    }();\n\n    var create$5 = function () {\n      var buttons = {};\n      var menuItems = {};\n      var popups = {};\n      var icons = {};\n      var contextMenus = {};\n      var contextToolbars = {};\n      var sidebars = {};\n      var add = function (collection, type) {\n        return function (name, spec) {\n          return collection[name.toLowerCase()] = __assign(__assign({}, spec), { type: type });\n        };\n      };\n      var addIcon = function (name, svgData) {\n        return icons[name.toLowerCase()] = svgData;\n      };\n      return {\n        addButton: add(buttons, 'button'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon: addIcon,\n        getAll: function () {\n          return {\n            buttons: buttons,\n            menuItems: menuItems,\n            icons: icons,\n            popups: popups,\n            contextMenus: contextMenus,\n            contextToolbars: contextToolbars,\n            sidebars: sidebars\n          };\n        }\n      };\n    };\n\n    var registry = function () {\n      var bridge = create$5();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    var DOM$8 = DOMUtils$1.DOM;\n    var extend$3 = Tools.extend, each$j = Tools.each;\n    var resolve$3 = Tools.resolve;\n    var ie$1 = Env.ie;\n    var Editor = function () {\n      function Editor(id, settings, editorManager) {\n        var _this = this;\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend$3(this, EditorObservable);\n        this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n        if (this.settings.suffix) {\n          editorManager.suffix = this.settings.suffix;\n        }\n        this.suffix = editorManager.suffix;\n        if (this.settings.base_url) {\n          editorManager._setBaseUrl(this.settings.base_url);\n        }\n        this.baseUri = editorManager.baseURI;\n        if (this.settings.referrer_policy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);\n          DOMUtils$1.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy);\n        }\n        AddOnManager$1.languageLoad = this.settings.language_load;\n        AddOnManager$1.baseURL = editorManager.baseURL;\n        this.id = id;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(this.settings.document_base_url, { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = !!this.settings.inline;\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        if (this.settings.cache_suffix) {\n          Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = { registry: registry() };\n        var self = this;\n        var modeInstance = create$4(self);\n        this.mode = modeInstance;\n        this.setMode = modeInstance.set;\n        editorManager.fire('SetupEditor', { editor: this });\n        this.execCallback('setup', this);\n        this.$ = DomQuery.overrideDefaults(function () {\n          return {\n            context: _this.inline ? _this.getBody() : _this.getDoc(),\n            element: _this.getBody()\n          };\n        });\n      }\n      Editor.prototype.render = function () {\n        Render.render(this);\n      };\n      Editor.prototype.focus = function (skipFocus) {\n        EditorFocus.focus(this, skipFocus);\n      };\n      Editor.prototype.hasFocus = function () {\n        return EditorFocus.hasFocus(this);\n      };\n      Editor.prototype.execCallback = function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve$3(scope) : 0;\n          callback = resolve$3(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\n      };\n      Editor.prototype.translate = function (text) {\n        return I18n.translate(text);\n      };\n      Editor.prototype.getParam = function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      };\n      Editor.prototype.nodeChanged = function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      };\n      Editor.prototype.addCommand = function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      };\n      Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      };\n      Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      };\n      Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      };\n      Editor.prototype.execCommand = function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      };\n      Editor.prototype.queryCommandState = function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      };\n      Editor.prototype.queryCommandValue = function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      };\n      Editor.prototype.queryCommandSupported = function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      };\n      Editor.prototype.show = function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$8.show(self.getContainer());\n            DOM$8.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      };\n      Editor.prototype.hide = function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie$1 && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$8.hide(self.getContainer());\n            DOM$8.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      };\n      Editor.prototype.isHidden = function () {\n        return !!this.hidden;\n      };\n      Editor.prototype.setProgressState = function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      };\n      Editor.prototype.load = function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          var value = NodeType.isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      };\n      Editor.prototype.save = function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!NodeType.isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$8.getParent(self.id, 'form')) {\n            each$j(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      };\n      Editor.prototype.setContent = function (content, args) {\n        return setContent(this, content, args);\n      };\n      Editor.prototype.getContent = function (args) {\n        return getContent(this, args);\n      };\n      Editor.prototype.insertContent = function (content, args) {\n        if (args) {\n          content = extend$3({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      };\n      Editor.prototype.resetContent = function (initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      };\n      Editor.prototype.isDirty = function () {\n        return !this.isNotDirty;\n      };\n      Editor.prototype.setDirty = function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      };\n      Editor.prototype.getContainer = function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$8.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      };\n      Editor.prototype.getContentAreaContainer = function () {\n        return this.contentAreaContainer;\n      };\n      Editor.prototype.getElement = function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$8.get(this.id);\n        }\n        return this.targetElm;\n      };\n      Editor.prototype.getWin = function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      };\n      Editor.prototype.getDoc = function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      };\n      Editor.prototype.getBody = function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      };\n      Editor.prototype.convertURL = function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      };\n      Editor.prototype.addVisual = function (elm) {\n        var self = this;\n        var settings = self.settings;\n        var dom = self.dom;\n        var cls;\n        elm = elm || self.getBody();\n        if (self.hasVisual === undefined) {\n          self.hasVisual = settings.visual;\n        }\n        each$j(dom.select('table,a', elm), function (elm) {\n          var value;\n          switch (elm.nodeName) {\n          case 'TABLE':\n            cls = settings.visual_table_class || 'mce-item-table';\n            value = dom.getAttrib(elm, 'border');\n            if ((!value || value === '0') && self.hasVisual) {\n              dom.addClass(elm, cls);\n            } else {\n              dom.removeClass(elm, cls);\n            }\n            return;\n          case 'A':\n            if (!dom.getAttrib(elm, 'href')) {\n              value = dom.getAttrib(elm, 'name') || elm.id;\n              cls = settings.visual_anchor_class || 'mce-item-anchor';\n              if (value && self.hasVisual) {\n                dom.addClass(elm, cls);\n              } else {\n                dom.removeClass(elm, cls);\n              }\n            }\n            return;\n          }\n        });\n        self.fire('VisualAid', {\n          element: elm,\n          hasVisual: self.hasVisual\n        });\n      };\n      Editor.prototype.remove = function () {\n        remove$6(this);\n      };\n      Editor.prototype.destroy = function (automatic) {\n        destroy(this, automatic);\n      };\n      Editor.prototype.uploadImages = function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      };\n      Editor.prototype._scanForImages = function () {\n        return this.editorUpload.scanForImages();\n      };\n      Editor.prototype.addButton = function () {\n        throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n      };\n      Editor.prototype.addSidebar = function () {\n        throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n      };\n      Editor.prototype.addMenuItem = function () {\n        throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n      };\n      Editor.prototype.addContextToolbar = function () {\n        throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n      };\n      return Editor;\n    }();\n\n    var DOM$9 = DOMUtils$1.DOM;\n    var explode$4 = Tools.explode, each$k = Tools.each, extend$4 = Tools.extend;\n    var instanceCounter = 0, boundGlobalEvents = false;\n    var beforeUnloadDelegate;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$k(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    var isQuirksMode = domGlobals.document.compatMode !== 'CSS1Compat';\n    var EditorManager = __assign(__assign({}, Observable), {\n      baseURI: null,\n      baseURL: null,\n      defaultSettings: {},\n      documentBaseURL: null,\n      suffix: null,\n      $: DomQuery,\n      majorVersion: '5',\n      minorVersion: '1.5',\n      releaseDate: '2019-12-19',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(domGlobals.document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = domGlobals.document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && domGlobals.document.currentScript) {\n            var src = domGlobals.document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        FocusController.setup(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl, suffix;\n        baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        for (var name in pluginBaseUrls) {\n          AddOnManager$1.PluginManager.urls[name] = pluginBaseUrls[name];\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result, invalidInlineTargets;\n        invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = elm.name;\n            if (id && !DOM$9.get(id)) {\n              id = elm.name;\n            } else {\n              id = DOM$9.uniqueId();\n            }\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, Array.prototype.slice.call(arguments, 2));\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM$9.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var l, targets = [];\n          if (Env.browser.isIE() && Env.browser.version.major < 11) {\n            ErrorReporter.initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          } else if (isQuirksMode) {\n            ErrorReporter.initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          }\n          if (settings.types) {\n            each$k(settings.types, function (type) {\n              targets = targets.concat(DOM$9.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM$9.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            l = settings.elements || '';\n            if (l.length > 0) {\n              each$k(explode$4(l), function (id) {\n                var elm;\n                if (elm = DOM$9.get(id)) {\n                  targets.push(elm);\n                } else {\n                  each$k(domGlobals.document.forms, function (f) {\n                    each$k(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM$9.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$k(DOM$9.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM$9.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$k(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM$9.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$4({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$k(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                ErrorReporter.initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM$9.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor;\n        existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function (e) {\n            var event = self.fire('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each$k(DOM$9.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', 0, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$k(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl: function (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    });\n    EditorManager.setup();\n\n    function RangeUtils(dom) {\n      var walk = function (rng, callback) {\n        return RangeWalk.walk(dom, rng, callback);\n      };\n      var split = split$1;\n      var normalize = function (rng) {\n        return NormalizeRange.normalize(dom, rng).fold(constant(false), function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split,\n        normalize: normalize\n      };\n    }\n    (function (RangeUtils) {\n      RangeUtils.compareRanges = RangeCompare.isEq;\n      RangeUtils.getCaretRangeFromPoint = CaretRangeFromPoint.fromPoint;\n      RangeUtils.getSelectedNode = getSelectedNode;\n      RangeUtils.getNode = getNode;\n    }(RangeUtils || (RangeUtils = {})));\n    var RangeUtils$1 = RangeUtils;\n\n    var awaiter = function (resolveCb, rejectCb, timeout) {\n      if (timeout === void 0) {\n        timeout = 1000;\n      }\n      var done = false;\n      var timer = null;\n      var complete = function (completer) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (!done) {\n            done = true;\n            if (timer !== null) {\n              domGlobals.clearTimeout(timer);\n              timer = null;\n            }\n            completer.apply(null, args);\n          }\n        };\n      };\n      var resolve = complete(resolveCb);\n      var reject = complete(rejectCb);\n      var start = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!done && timer === null) {\n          timer = domGlobals.setTimeout(function () {\n            return reject.apply(null, args);\n          }, timeout);\n        }\n      };\n      return {\n        start: start,\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var create$6 = function () {\n      var tasks = {};\n      var resultFns = {};\n      var load = function (id, url) {\n        var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n        var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          var task = new promiseObj(function (resolve, reject) {\n            var waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url, function () {\n              return waiter.start(runErrMsg);\n            }, function () {\n              return waiter.reject(loadErrMsg);\n            });\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      var add = function (id, data) {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = promiseObj.resolve(data);\n      };\n      return {\n        load: load,\n        add: add\n      };\n    };\n    var Resource = create$6();\n\n    var min = Math.min, max = Math.max, round$2 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x, y, w, h, targetW, targetH;\n      x = targetRect.x;\n      y = targetRect.y;\n      w = rect.w;\n      h = rect.h;\n      targetW = targetRect.w;\n      targetH = targetRect.h;\n      rel = (rel || '').split('');\n      if (rel[0] === 'b') {\n        y += targetH;\n      }\n      if (rel[1] === 'r') {\n        x += targetW;\n      }\n      if (rel[0] === 'c') {\n        y += round$2(targetH / 2);\n      }\n      if (rel[1] === 'c') {\n        x += round$2(targetW / 2);\n      }\n      if (rel[3] === 'b') {\n        y -= h;\n      }\n      if (rel[4] === 'r') {\n        x -= w;\n      }\n      if (rel[3] === 'c') {\n        y -= round$2(h / 2);\n      }\n      if (rel[4] === 'c') {\n        x -= round$2(w / 2);\n      }\n      return create$7(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$7(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1, y1, x2, y2;\n      x1 = max(rect.x, cropRect.x);\n      y1 = max(rect.y, cropRect.y);\n      x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$7(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp$1 = function (rect, clampRect, fixedSize) {\n      var underflowX1, underflowY1, overflowX2, overflowY2, x1, y1, x2, y2, cx2, cy2;\n      x1 = rect.x;\n      y1 = rect.y;\n      x2 = rect.x + rect.w;\n      y2 = rect.y + rect.h;\n      cx2 = clampRect.x + clampRect.w;\n      cy2 = clampRect.y + clampRect.h;\n      underflowX1 = max(0, clampRect.x - x1);\n      underflowY1 = max(0, clampRect.y - y1);\n      overflowX2 = max(0, x2 - cx2);\n      overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$7(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$7 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$7(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp$1,\n      create: create$7,\n      fromClientRect: fromClientRect\n    };\n\n    var each$l = Tools.each, extend$5 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (prop) {\n      var self = this;\n      var _super = self.prototype;\n      var prototype, name, member;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          var ret;\n          self._super = _super[name];\n          ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      prototype = new self();\n      initializing = false;\n      if (prop.Mixins) {\n        each$l(prop.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              prop[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          prop.Mixins = _super.Mixins.concat(prop.Mixins);\n        }\n      }\n      if (prop.Methods) {\n        each$l(prop.Methods.split(','), function (name) {\n          prop[name] = dummy;\n        });\n      }\n      if (prop.Properties) {\n        each$l(prop.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          prop[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (prop.Statics) {\n        each$l(prop.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (prop.Defaults && _super.Defaults) {\n        prop.Defaults = extend$5({}, _super.Defaults, prop.Defaults);\n      }\n      for (name in prop) {\n        member = prop[name];\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      }\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min$1 = Math.min, max$1 = Math.max, round$3 = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v, d, minRGB, maxRGB;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        minRGB = min$1(r, min$1(g, b));\n        maxRGB = max$1(r, max$1(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round$3(h),\n          s: round$3(s * 100),\n          v: round$3(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        var side, chroma, x, match;\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max$1(0, min$1(saturation, 1));\n        brightness = max$1(0, min$1(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round$3(255 * brightness);\n          return;\n        }\n        side = hue / 60;\n        chroma = brightness * saturation;\n        x = chroma * (1 - Math.abs(side % 2 - 1));\n        match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round$3(255 * (r + match));\n        g = round$3(255 * (g + match));\n        b = round$3(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (obj) {\n      var data = JSON.stringify(obj);\n      if (!isString(data)) {\n        return data;\n      }\n      return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n        var hexCode = match.charCodeAt(0).toString(16);\n        return '\\\\u' + '0000'.substring(hexCode.length) + hexCode;\n      });\n    };\n    var JSONUtils = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils$1.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = __assign(__assign({}, Observable), {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            Delay.setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async !== false;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = new domGlobals.XMLHttpRequest();\n        if (xhr) {\n          if (xhr.overrideMimeType) {\n            xhr.overrideMimeType(settings.content_type);\n          }\n          xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n          if (settings.crossDomain) {\n            xhr.withCredentials = true;\n          }\n          if (settings.content_type) {\n            xhr.setRequestHeader('Content-Type', settings.content_type);\n          }\n          if (settings.requestheaders) {\n            Tools.each(settings.requestheaders, function (header) {\n              xhr.setRequestHeader(header.key, header.value);\n            });\n          }\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n          xhr = XHR.fire('beforeSend', {\n            xhr: xhr,\n            settings: settings\n          }).xhr;\n          xhr.send(settings.data);\n          if (!settings.async) {\n            return ready();\n          }\n          Delay.setTimeout(ready, 10);\n        }\n      }\n    });\n\n    var extend$6 = Tools.extend;\n    var JSONRequest = function () {\n      function JSONRequest(settings) {\n        this.settings = extend$6({}, settings);\n        this.count = 0;\n      }\n      JSONRequest.sendRPC = function (o) {\n        return new JSONRequest().send(o);\n      };\n      JSONRequest.prototype.send = function (args) {\n        var ecb = args.error, scb = args.success;\n        var xhrArgs = extend$6(this.settings, args);\n        xhrArgs.success = function (c, x) {\n          c = JSONUtils.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n          } else {\n            scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n          }\n        };\n        xhrArgs.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n          }\n        };\n        xhrArgs.data = JSONUtils.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        xhrArgs.content_type = 'application/json';\n        XHR.send(xhrArgs);\n      };\n      return JSONRequest;\n    }();\n\n    var create$8 = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      localStorage = domGlobals.window.localStorage;\n    } catch (e) {\n      localStorage = create$8();\n    }\n    var LocalStorage = localStorage;\n\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: EventDispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSONUtils,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: TreeWalker,\n        DOMUtils: DOMUtils$1,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils$1,\n        Serializer: Serializer$1,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager$1,\n        Selection: Selection$1,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: Node$1,\n        Schema: Schema,\n        SaxParser: SaxParser$1,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: Serializer\n      },\n      Env: Env,\n      AddOnManager: AddOnManager$1,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager,\n      DOM: DOMUtils$1.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: AddOnManager$1.PluginManager,\n      ThemeManager: AddOnManager$1.ThemeManager,\n      IconManager: IconManager,\n      Resource: Resource,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    var tinymce = Tools.extend(EditorManager, publicApi);\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n}(window));\n"]}]}